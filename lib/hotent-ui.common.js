module.exports =
/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "fb15");
/******/ })
/************************************************************************/
/******/ ({

/***/ "00e0":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin

/***/ }),

/***/ "00f7":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin

/***/ }),

/***/ "0132":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Map_vue_vue_type_style_index_0_id_ca432a28_prod_lang_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("d68f");
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Map_vue_vue_type_style_index_0_id_ca432a28_prod_lang_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Map_vue_vue_type_style_index_0_id_ca432a28_prod_lang_scss__WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */


/***/ }),

/***/ "025e":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("8bbf");
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(vue__WEBPACK_IMPORTED_MODULE_0__);

var utils = {
  // 判断是否移动端设备
  isMobile() {
    const info = navigator.userAgent;
    const agents = ['Android', 'iPhone', 'SymbianOS', 'Windows Phone', 'iPod', 'iPad'];
    for (let i = 0; i < agents.length; i++) {
      if (info.indexOf(agents[i]) >= 0) return true;
    }
    return false;
  },
  isEmpty: value => {
    if (value === null || value === undefined || value === '') {
      return true;
    }
    return false;
  },
  /**
   *
   *是否无效值
   * @param {*} value
   */
  isVoid: value => {
    return value === undefined || value === null || value === '';
  },
  /**
   *
   *去除对象中的无效值
   * @param {*} object
   * @return {*}
   */
  validObject: object => {
    if (!object) {
      return {};
    }
    const result = {
      ...object
    };
    Object.keys(result).forEach(key => {
      const value = result[key];
      if (utils.isVoid(value)) {
        delete result[key];
      }
    });
    return result;
  },
  /**
   *数组对象去重
   *
   * @export
   * @param {any[]} array 要去重的数组
   * @param {string} key 要去重的对象属性值
   * @return {*}  {any[]}
   */
  uniqueArrayObject(array, key) {
    return array.reduce((pre, cur) => {
      const keys = pre.map(item => item[key]);
      return keys.includes(cur[key]) ? pre : [...pre, cur];
    }, []);
  },
  // 获取随机的名称
  getName: () => {
    return Math.random().toString(36).substr(2, 10);
  },
  // 获取控件是否可编辑
  getWriteable: permission => {
    if (permission === 'n' || permission === 'r') {
      return false;
    }
    return true;
  },
  // 合并验证规则(如果rules和appendRules均为字符串格式，合并后仍为字符串格式；如果其中一个为Object格式，合并后为Object格式。)
  mergeValidate: (rules, appendRules) => {
    if (!appendRules || appendRules.constructor !== Object && appendRules.constructor !== String) {
      return rules;
    }
    let rulesTypeIsString = true,
      appendTypeIsString = appendRules.constructor === String,
      finalTypeIsString = true;
    if (rules === undefined || rules === null) {
      rulesTypeIsString = appendTypeIsString;
      rules = appendTypeIsString ? '' : {};
    } else if (rules.constructor === Object || rules.constructor === String) {
      rulesTypeIsString = rules.constructor === String;
    } else {
      throw `rules的类型为${typeof rules}，只能为Object类型或String类型。`;
    }
    finalTypeIsString = rulesTypeIsString && appendTypeIsString;
    // 仍然以String格式
    if (finalTypeIsString) {
      const ruleAry = utils.stringSplit(rules, '|');
      const appendAry = utils.stringSplit(appendRules, '|');
      let ruleObj = {},
        appendObj = {};
      ruleAry.forEach(r => {
        const k = utils.stringSplit(r, ':')[0];
        ruleObj[k] = r;
      });
      appendAry.forEach(a => {
        const k = utils.stringSplit(a, ':')[0];
        appendObj[k] = a;
      });
      // 如果旧规则中存在与追加规则中的同名规则，则使用追加规则覆盖旧规则。
      const mergeObj = Object.assign(ruleObj, appendObj);
      return Object.values(mergeObj).join('|');
    }
    // 转换为Object格式
    else {
      let ruleObj = {},
        appendObj = {};
      if (rulesTypeIsString) {
        ruleObj = utils.validateString2Object(rules);
      } else {
        ruleObj = {
          ...rules
        };
      }
      if (appendTypeIsString) {
        appendObj = utils.validateString2Object(appendRules);
      } else {
        appendObj = {
          ...appendRules
        };
      }
      return Object.assign(ruleObj, appendObj);
    }
  },
  // 减少校验规则
  reduceValidate: (rules, reduceRules) => {
    if (!rules || !reduceRules || reduceRules.constructor !== Object && reduceRules.constructor !== String) {
      return rules;
    }
    // 要减少的校验规则的名称集合
    let reduceRuleNames = [];
    if (reduceRules.constructor === String) {
      const reduceRuleObj = utils.validateString2Object(reduceRules);
      reduceRuleNames = Object.keys(reduceRuleObj);
    } else {
      reduceRuleNames = Object.keys(reduceRules);
    }
    if (rules.constructor === Object) {
      Object.keys(rules).forEach(k => {
        if (reduceRuleNames.some(n => n == k)) {
          delete rules[k];
        }
      });
      return rules;
    } else if (rules.constructor === String) {
      const ruleAry = utils.stringSplit(rules, '|');
      const nRuleAry = ruleAry.reduce((ary, r) => {
        const name = utils.stringSplit(r, ':')[0];
        if (reduceRuleNames.every(m => m != name)) {
          ary.push(r);
        }
        return ary;
      }, []);
      return nRuleAry.join('|');
    } else {
      throw `rules的类型为${typeof rules}，只能为Object类型或String类型。`;
    }
  },
  // 字符串格式的校验规则转为对象格式
  validateString2Object: rule => {
    if (!rule || rule.constructor !== String) {
      return rule;
    }
    let obj = {};
    const ary = utils.stringSplit(rule, '|');
    ary.forEach(m => {
      const regAndArgs = utils.stringSplit(m, ':');
      if (regAndArgs.length == 1) {
        obj[regAndArgs[0]] = true;
      } else if (regAndArgs.length > 1) {
        const args = utils.stringSplit(regAndArgs[1], ',');
        obj[regAndArgs[0]] = args;
      }
    });
    return obj;
  },
  // 判断校验规则中是否至少包含指定规则中的一个
  someRuleInValidate: (validate, rules) => {
    if (!validate || validate.constructor !== Object && validate.constructor !== String || !rules || rules.constructor !== Array || rules.length == 0) {
      return false;
    }
    let objs = validate;
    if (validate.constructor === String) {
      objs = utils.validateString2Object(validate);
    }
    return Object.keys(objs).some(item => rules.indexOf(item) > -1);
  },
  // 字符串str按照sep分割为数组，并清理掉数组结果中的空白项。
  stringSplit: (str, sep) => {
    if (!str || str.constructor !== String || !sep || sep.constructor !== String) {
      return [];
    }
    let ary = str.split(sep);
    ary = ary.map(p => {
      return p.trim();
    });
    ary = ary.trim();
    return ary;
  },
  // 获取控件是否添加必填校验
  addRequiredOrNot: (permission, validate) => {
    let finalValidate = validate;
    if (permission === 'b') {
      finalValidate = utils.mergeValidate('required', validate);
    }
    return finalValidate || '';
  },
  // 格式化日期时间
  formatDate: value => {
    let date = null;
    if (!value) {
      return date;
    }
    if (value.constructor == Date && !isNaN(value.getTime())) {
      date = value;
    } else if (value.constructor == String || value.constructor == Number) {
      date = new Date(value);
    } else {
      throw '格式化日期时，传入的数据格式不正确。';
    }
    let y = date.getFullYear();
    let MM = date.getMonth() + 1;
    MM = MM < 10 ? '0' + MM : MM;
    let d = date.getDate();
    d = d < 10 ? '0' + d : d;
    let h = date.getHours();
    h = h < 10 ? '0' + h : h;
    let m = date.getMinutes();
    m = m < 10 ? '0' + m : m;
    let s = date.getSeconds();
    s = s < 10 ? '0' + s : s;
    return y + '-' + MM + '-' + d + ' ' + h + ':' + m + ':' + s;
  },
  // 格式化日期
  formatDateYear: value => {
    let date = new Date(value);
    let y = date.getFullYear();
    let MM = date.getMonth() + 1;
    MM = MM < 10 ? '0' + MM : MM;
    let d = date.getDate();
    d = d < 10 ? '0' + d : d;
    return y + '-' + MM + '-' + d;
  },
  // 日期1是否早于日期2
  dateIsBefore: (dateOne, dateTwo, canEquals) => {
    if (!dateOne || !dateTwo) {
      return true;
    }
    //兼容苹果浏览器写法 "- 符号替换成/"
    dateOne = dateOne.replace(/-/g, '/');
    dateTwo = dateTwo.replace(/-/g, '/');
    var date1 = new Date(dateOne).getTime() || new Date(new Date().format('yyyy-MM-dd') + ' ' + dateOne).getTime();
    var date2 = new Date(dateTwo).getTime() || new Date(new Date().format('yyyy-MM-dd') + ' ' + dateTwo).getTime();
    if (!canEquals) {
      //大于。v2>v1 。
      if (date2 > date1) {
        return true;
      } else {
        return false;
      }
    } else {
      //大于等于。v2>=v1 。只要v1不大于v2即可
      if (date1 > date2) {
        return false;
      } else {
        return true;
      }
    }
  },
  // 日期计算，不传单位时，默认以'天'为单位计算
  dateCalc: (startDate, endDate, op) => {
    if (!startDate || !endDate || startDate.length == 0 || endDate.length == 0) {
      return 0;
    }
    if (!op || op.constructor != String) {
      op = 'day';
    }
    const opAry = ['year', 'month', 'day', 'hour', 'minute', 'second'];
    if (opAry.indexOf(op) == -1) {
      throw `计算日期的单位只能从${opAry}中选择`;
    }
    let date1 = new Date(Date.parse(startDate.replace(/-/g, '/'))).getTime();
    let date2 = new Date(Date.parse(endDate.replace(/-/g, '/'))).getTime();
    if (!Number.isInteger(date1) || !Number.isInteger(date2)) {
      const now = new Date();
      let nowStr = now.getFullYear() + '/' + (now.getMonth() + 1) + '/' + now.getDate();
      if (!Number.isInteger(date1)) {
        date1 = new Date(`${nowStr} ${startDate}`).getTime();
      }
      if (!Number.isInteger(date1)) {
        date2 = new Date(`${nowStr} ${endDate}`).getTime();
      }
      if (!Number.isInteger(date1) || !Number.isInteger(date2)) {
        return 0;
      }
    }
    let res = 0;
    let days = date2 - date1;
    switch (op) {
      case 'year':
        res = parseInt(days / (1000 * 60 * 60 * 24 * 30 * 12));
        break;
      case 'month':
        res = parseInt(days / (1000 * 60 * 60 * 24 * 30));
        break;
      case 'day':
        res = parseInt(days / (1000 * 60 * 60 * 24));
        break;
      case 'hour':
        res = parseInt(days / (1000 * 60 * 60));
        break;
      case 'minute':
        res = parseInt(days / (1000 * 60));
        break;
      case 'second':
        res = parseInt(days / 1000);
    }
    return res;
  },
  // 计算两个日期的间隔时间，分别返回{ days, hours, minutes, seconds }的时间差
  dateDuration: (startDate, endDate) => {
    const days = utils.dateCalc(startDate, endDate, 'day');
    const hours = utils.dateCalc(startDate, endDate, 'hour');
    const minutes = utils.dateCalc(startDate, endDate, 'minute');
    const seconds = utils.dateCalc(startDate, endDate, 'second');
    return {
      days,
      hours,
      minutes,
      seconds
    };
  },
  // 树形结构数组 转换成平铺数组
  nest2tile: (arr, childrenKey, obtainChildren) => {
    if (!arr || arr.constructor !== Array) return;
    if (!childrenKey) {
      childrenKey = 'children';
    }
    return [].concat(...arr.map(item => {
      let _item = {
        ...item
      };
      if (obtainChildren == undefined || obtainChildren == false) {
        delete _item[childrenKey];
      }
      if (item[childrenKey] && item[childrenKey].length) {
        return [].concat(_item, ...utils.nest2tile(item[childrenKey] || [], childrenKey, obtainChildren));
      } else {
        return [].concat(_item);
      }
    }));
  },
  // 平铺结构转嵌套结构
  tile2nest: (array, key, pKey, childrenKey) => {
    if (!array || array.constructor !== Array) {
      return array;
    }
    // 复制一份，避免修改原始数组
    let ary = [...array];
    key = key || 'id';
    pKey = pKey || 'parentId';
    childrenKey = childrenKey || 'children';
    // 定义一个待移除数组
    let ary2remove = [];
    ary.map(item => {
      // isLeaf 字段 'Y' or 'N' 转换为 true or false
      if (item.isLeaf == 'N') {
        item.isLeaf = false;
      }
      if (item.isLeaf == 'Y') {
        item.isLeaf = true;
      }
      if (item[key] !== item[pKey]) {
        // 找父节点
        let p = ary.filter(c => c[key] === item[pKey]);
        if (p && p.length == 1) {
          p[0][childrenKey] = p[0][childrenKey] || [];
          // 将子节点放到父节点中
          p[0][childrenKey].push(item);
          ary2remove.push(item[key]);
        }
      }
    });
    // 遍历移除待删除对象
    ary2remove.map(item => {
      ary = ary.filter(c => c[key] !== item);
    });
    return ary;
  },
  // 获取控件所在表单对应的实例对象
  getOnlineFormInstance: instance => {
    if (instance == instance.$root) {
      return instance;
    }
    if (!instance) {
      throw 'VueComponent实例为空.';
    }
    if (instance.hasOwnProperty('watchMap')) {
      return instance;
    } else if (instance.$parent) {
      return utils.getOnlineFormInstance(instance.$parent);
    }
  },
  // 获取在线表单的HtRuntimeTemplate实例
  getRuntimeTemplateOnlineForm: instance => {
    if (instance == instance.$root) {
      return instance;
    }
    if (!instance) {
      throw 'VueComponent实例为空.';
    }
    if (instance.$options.componentName == 'HtRuntimeTemplate') {
      return instance;
    } else if (instance.$parent) {
      return utils.getRuntimeTemplateOnlineForm(instance.$parent);
    }
  },
  // 获取子表每一行所在的作用域元素及索引
  getSubScopeElAndIndex: el => {
    if (!el || !(el instanceof HTMLElement)) {
      return {
        subScopeEl: null,
        index: null,
        subname: null
      };
    }
    let subScopeEl = utils.getParentElementByAttribute(el, 'data-subname');
    if (!subScopeEl) {
      subScopeEl = utils.getParentElementByClassNamePrefix(el, 'data-subname__');
    }
    if (!subScopeEl) {
      return {
        subScopeEl: null,
        index: null,
        subname: null
      };
    }
    let index = subScopeEl.dataset['index'];
    if (index === undefined) {
      const dataIndexClass = subScopeEl.className.split(' ').find(c => c.startsWith('data-index__'));
      if (dataIndexClass) {
        index = dataIndexClass.replace('data-index__', 0);
      }
    }
    if (index === undefined) {
      throw '要计算的子表行未获取到index属性.';
    }
    index = Number.parseInt(index);
    let subname = subScopeEl.dataset['subname'];
    if (!subname) {
      const dataSubnameClass = subScopeEl.className.split(' ').find(c => c.startsWith('data-subname__'));
      if (dataSubnameClass) {
        subname = dataSubnameClass.replace('data-subname__', '');
      }
    }
    // 判断是否子表有分页
    if (subname) {
      let subPageMap = utils.getSubtablePageVue(el);
      if (subPageMap && subPageMap.internalCurrentPage > 1 && index < (subPageMap.internalCurrentPage - 1) * subPageMap.internalPageSize) {
        index = (subPageMap.internalCurrentPage - 1) * subPageMap.internalPageSize + index;
        subScopeEl.dataset['index'] = index;
      }
    }
    return {
      subScopeEl,
      index,
      subname
    };
  },
  getSubtablePageVue(el) {
    while (el && el.parentElement.nodeName != 'TABLE') {
      el = el.parentElement;
    }
    if (el && el.parentElement && el.parentElement.getElementsByClassName('el-pagination') && el.parentElement.getElementsByClassName('el-pagination')[0] && el.parentElement.getElementsByClassName('el-pagination')[0].__vue__._data) {
      return el.parentElement.getElementsByClassName('el-pagination')[0].__vue__._data;
    }
    return null;
  },
  // 在子表指定行中通过v-model表达式获取input对应的vue实例
  getSubInputScopeByModelExpression: (subScopeEl, expression) => {
    const inputAry = subScopeEl.getElementsByClassName('inputs');
    let result = null;
    for (var i = 0, c; c = inputAry[i++];) {
      let expressionName = c.__vue__.$vnode.data.model && c.__vue__.$vnode.data.model.expression ? c.__vue__.$vnode.data.model.expression : '';
      // 兼容front端使用
      if (c.__vue__.$vnode && c.__vue__.$vnode.componentOptions && c.__vue__.$vnode.componentOptions.propsData && c.__vue__.$vnode.componentOptions.propsData.modelExpression) {
        expressionName = c.__vue__.$vnode.componentOptions.propsData.modelExpression;
      }
      if (c && c.__vue__ && c.__vue__.$vnode.data.model && expressionName === expression) {
        result = c.__vue__;
      }
    }
    return result;
  },
  // 获取在线表单的json格式字符串的表单数据(validate参数决定是否需要对表单进行验证)
  validateForm: (instance, scopeName) => {
    return new Promise((resolve, reject) => {
      instance.$root.$validator.validateAll(scopeName).then(result => {
        if (result) {
          resolve(result);
        } else {
          reject(instance.$root.$validator.errors.items);
        }
      });
    });
  },
  // 获取指定dom元素的父级中具有指定属性的dom元素
  getParentElementByAttribute: (el, attribute) => {
    if (el === null || el === undefined || !(el instanceof HTMLElement)) {
      return null;
    }
    if (!el.hasAttribute || typeof el.hasAttribute != 'function') {
      throw '传入的元素el不能为空且必须为HTMLHtmlElement类型.';
    }
    if (!attribute || attribute.constructor !== String) {
      throw '传入的属性attribute不能为空且必须为String类型.';
    }
    if (el.hasAttribute(attribute)) {
      return el;
    } else if (el.tagName === 'HTML') {
      return null;
    } else {
      return utils.getParentElementByAttribute(el.parentElement, attribute);
    }
  },
  // 获取指定dom元素的父级中具有指定class前缀的dom元素
  getParentElementByClassNamePrefix: (el, classNamePrefix) => {
    if (el === null || el === undefined) {
      return null;
    }
    if (!el.hasAttribute || typeof el.hasAttribute != 'function') {
      throw '传入的元素el不能为空且必须为HTMLHtmlElement类型.';
    }
    if (!classNamePrefix || classNamePrefix.constructor !== String) {
      throw '传入的classNamePrefix不能为空且必须为String类型.';
    }
    const classNames = el.className.split(' ');
    if (classNames && classNames.some(c => c.startsWith(classNamePrefix))) {
      return el;
    } else if (el.tagName === 'HTML') {
      return null;
    } else {
      return utils.getParentElementByClassNamePrefix(el.parentElement, classNamePrefix);
    }
  },
  // 从父级dom元素中获取指定属性的值
  getSomeAttributeFromParentElement: (el, attribute) => {
    let pEl = utils.getParentElementByAttribute(el, attribute);
    if (pEl && pEl.getAttribute && pEl.getAttribute.constructor === Function) {
      return pEl.getAttribute(attribute);
    }
    return null;
  },
  // 将子表属性路径转换为完整的属性路径，例如：item.name => data.sub[0].name
  getWholePathOfSub: function getWholePathOfSub(subPath, mainPath, index) {
    if (!subPath || !mainPath || index === null || !Number.isInteger(index)) {
      return null;
    }
    var match = subPath.split('.');
    if (match && match.length > 1) {
      return ''.concat(mainPath, '[').concat(index, '].').concat(match[match.length - 1]);
    }
    return null;
  },
  // 通过路径取得对象中的属性
  getValueByPath: (obj, path, subIndex) => {
    if (!obj || !path || path.constructor != String) {
      return null;
    }
    if (!/^\w?.*[\w|\]]$/.test(path)) {
      return null;
    }
    let pathAry = path.split('.');
    if (pathAry.length == 1) {
      return obj[path];
    } else if (pathAry.length > 1) {
      let ret = obj;
      for (var i = 0; i < pathAry.length; i++) {
        if (ret === null || ret === undefined) {
          return null;
        }
        const key = pathAry[i];
        const match = /^(\w+)\[(\d+)\]$/.exec(key);
        if (match) {
          ret = ret[match[1]][match[2]];
        } else if (ret && ret.constructor === Array) {
          let index = 0;
          if (subIndex != null && subIndex != undefined) {
            let preIndex = Number.parseInt(subIndex);
            if (!isNaN(preIndex)) {
              index = preIndex;
            }
          }
          ret = ret[index][key];
        } else {
          ret = ret[key];
        }
      }
      return ret;
    }
    return null;
  },
  // 通过路径设置对象中的属性
  setValueByPath: (obj, path, value, subIndex) => {
    if (!obj || !path || path.constructor != String) {
      return;
    }
    if (!/^\w?.*[\w|\]]$/.test(path)) {
      return;
    }
    let pathAry = path.split('.');
    if (pathAry.length == 1) {
      obj[path] = value;
    } else if (pathAry.length > 1) {
      let ret = obj;
      for (var i = 0; i < pathAry.length; i++) {
        const key = pathAry[i];
        const match = /^(\w+)\[(\d+)\]$/.exec(key);
        if (i == pathAry.length - 1) {
          if (match) {
            ret[match[1]][match[2]] = value;
          } else if (ret && ret.constructor === Array) {
            let index = 0;
            if (subIndex != null && subIndex != undefined) {
              let preIndex = Number.parseInt(subIndex);
              if (!isNaN(preIndex)) {
                index = preIndex;
              }
            }
            if (!ret[index][key]) {
              vue__WEBPACK_IMPORTED_MODULE_0___default.a.prototype.$set(ret[index], key, value);
            } else {
              ret[index][key] = value;
            }
          } else {
            ret[key] = value;
          }
        } else {
          if (match) {
            ret = ret[match[1]][match[2]];
          } else {
            ret = ret[key];
          }
        }
      }
    }
  },
  /**
   * 将字符串转为json对象。
   * @param jsonStr
   * @param type  可不填写parseToJson
   * @returns
   */
  parseToJson: (jsonStr, type) => {
    type = type || 1;
    if (!jsonStr || jsonStr === '') return null;
    try {
      let obj;
      switch (type) {
        case 1:
          obj = JSON.parse(jsonStr);
          break;
        case 2:
          obj = eval(`(${jsonStr})`);
          break;
        default:
          throw '解析json对象错误';
      }
      return obj;
    } catch (e) {
      return utils.parseToJson(jsonStr, type + 1);
    }
  },
  /**
   * 将数字转换成人名币大写。
   *
   * @param currencyDigits
   * @returns
   */
  convertCurrency: currencyDigits => {
    var MAXIMUM_NUMBER = 99999999999.99;
    var CN_ZERO = '零';
    var CN_ONE = '壹';
    var CN_TWO = '贰';
    var CN_THREE = '叁';
    var CN_FOUR = '肆';
    var CN_FIVE = '伍';
    var CN_SIX = '陆';
    var CN_SEVEN = '柒';
    var CN_EIGHT = '捌';
    var CN_NINE = '玖';
    var CN_TEN = '拾';
    var CN_HUNDRED = '佰';
    var CN_THOUSAND = '仟';
    var CN_TEN_THOUSAND = '万';
    var CN_HUNDRED_MILLION = '亿';
    var CN_SYMBOL = '';
    var CN_DOLLAR = '元';
    var CN_TEN_CENT = '角';
    var CN_CENT = '分';
    var CN_INTEGER = '整';
    var integral;
    var decimal;
    var outputCharacters;
    var parts;
    var digits, radices, bigRadices, decimals;
    var zeroCount;
    var i, p, d;
    var quotient, modulus;
    currencyDigits = currencyDigits.toString();
    if (currencyDigits == '') {
      return '';
    }
    if (currencyDigits.match(/[^,.\d]/) != null) {
      return '';
    }
    if (currencyDigits.match(/^((\d{1,3}(,\d{3})*(.((\d{3},)*\d{1,3}))?)|(\d+(.\d+)?))$/) == null) {
      return '';
    }
    currencyDigits = currencyDigits.replace(/,/g, '');
    currencyDigits = currencyDigits.replace(/^0+/, '');
    if (Number(currencyDigits) > MAXIMUM_NUMBER) {
      return '';
    }
    parts = currencyDigits.split('.');
    if (parts.length > 1) {
      integral = parts[0];
      decimal = parts[1];
      decimal = decimal.substr(0, 2);
    } else {
      integral = parts[0];
      decimal = '';
    }
    digits = new Array(CN_ZERO, CN_ONE, CN_TWO, CN_THREE, CN_FOUR, CN_FIVE, CN_SIX, CN_SEVEN, CN_EIGHT, CN_NINE);
    radices = new Array('', CN_TEN, CN_HUNDRED, CN_THOUSAND);
    bigRadices = new Array('', CN_TEN_THOUSAND, CN_HUNDRED_MILLION);
    decimals = new Array(CN_TEN_CENT, CN_CENT);
    outputCharacters = '';
    if (Number(integral) > 0) {
      zeroCount = 0;
      for (i = 0; i < integral.length; i++) {
        p = integral.length - i - 1;
        d = integral.substr(i, 1);
        quotient = p / 4;
        modulus = p % 4;
        if (d == '0') {
          zeroCount++;
        } else {
          if (zeroCount > 0) {
            outputCharacters += digits[0];
          }
          zeroCount = 0;
          outputCharacters += digits[Number(d)] + radices[modulus];
        }
        if (modulus == 0 && zeroCount < 4) {
          outputCharacters += bigRadices[quotient];
        }
      }
      outputCharacters += CN_DOLLAR;
    }
    if (decimal != '') {
      for (i = 0; i < decimal.length; i++) {
        d = decimal.substr(i, 1);
        if (d != '0') {
          outputCharacters += digits[Number(d)] + decimals[i];
        }
      }
    }
    if (outputCharacters == '') {
      outputCharacters = CN_ZERO + CN_DOLLAR;
    }
    if (decimal == '') {
      outputCharacters += CN_INTEGER;
    }
    outputCharacters = CN_SYMBOL + outputCharacters;
    return outputCharacters;
  },
  /**
   * 通过name获取页面url地址参数
   * @param name
   * @returns
   *
   */
  getUrlKey: name => {
    return decodeURIComponent((new RegExp('[?|&]' + name + '=' + '([^&;]+?)(&|#|;|$)').exec(location.href) || ['', ''])[1].replace(/\+/g, '%20')) || null;
  },
  // 返回调整顺序后的数组 part：数组中的一个或多个元素， direct：调整的方向  up：向上  down：向下
  arrayMove: (ary, part, direct) => {
    direct = direct || 'down';
    if (!part || part.constructor !== Object && part.constructor !== Array) {
      return ary;
    }
    if (part.constructor === Object) {
      part = [part];
    }
    if (direct == 'up') {
      part.forEach(m => {
        let index = ary.indexOf(m, 1);
        if (index > 0) {
          let newAry = [...ary];
          newAry[index - 1] = ary[index];
          newAry[index] = ary[index - 1];
          ary = newAry;
        }
      });
    } else if (direct == 'down') {
      for (var i = part.length - 1, m; m = part[i--];) {
        let index = ary.indexOf(m, 0);
        if (index > -1 && index < ary.length - 1) {
          let newAry = [...ary];
          newAry[index + 1] = ary[index];
          newAry[index] = ary[index + 1];
          ary = newAry;
        }
      }
    }
    return ary;
  },
  // 通过配置中指定的key所对应的属性路径在当前表单中获取对应的值，支持通过data.main.name 或者是 item.name来分别获取主表数据及子表数据的情况
  getValueByConfigKey: (inst, config, key) => {
    if (!config.hasOwnProperty(key)) {
      throw `config对象中未找到属性${key}`;
    }
    const keyPath = config[key];
    // 获取当前组件所在的表单
    const formInst = utils.getOnlineFormInstance(inst.$parent);
    // 获取当前组件是否在子表中的某一行
    const {
      subScopeEl,
      index,
      subname
    } = utils.getSubScopeElAndIndex(inst.$el);
    if (subScopeEl) {
      //判断是否有孙表
      let paths = subname;
      if (paths.split('.').length == 4 && paths.indexOf('[') == -1) {
        //孙表回填路径
        paths = paths.split('.')[0] + '.' + paths.split('.')[1] + '.' + paths.split('.')[2] + '[' + index + ']' + '.' + paths.split('.')[3];
      }
      // 将item.name这样的路径替换为data.sub[0].name这样的全路径格式
      let wholeKeyPath = utils.getWholePathOfSub(keyPath, paths, index);
      return utils.getValueByPath(formInst, wholeKeyPath);
    } else {
      return utils.getValueByPath(formInst, keyPath);
    }
  },
  // 通过配置中指定的key来设置值到对应的属性路径上，支持设置主表数据data.main.name 或设置子表数据item.name
  setValueByConfigKey: (inst, config, key, value) => {
    if (!config.hasOwnProperty(key)) {
      return;
    }
    const keyPath = config[key];
    // 获取当前组件所在的表单
    const formInst = utils.getOnlineFormInstance(inst.$parent);
    // 获取当前组件是否在子表中的某一行
    const {
      subScopeEl,
      index,
      subname
    } = utils.getSubScopeElAndIndex(inst.$el);
    if (subScopeEl) {
      //判断是否有孙表
      let paths = subname;
      if (paths.split('.').length == 4 && paths.indexOf('[') == -1) {
        //孙表回填路径
        paths = paths.split('.')[0] + '.' + paths.split('.')[1] + '.' + paths.split('.')[2] + '[' + index + ']' + '.' + paths.split('.')[3];
      }
      // 将item.name这样的路径替换为data.sub[0].name这样的全路径格式
      let wholeKeyPath = utils.getWholePathOfSub(keyPath, paths, index);
      utils.setValueByPath(formInst, wholeKeyPath, value);
    } else {
      utils.setValueByPath(formInst, keyPath, value);
    }
  },
  // 判断两个对象是否相等（props为属性数组，有传入时，只比对传入的属性是否相等）
  objectEquals: (obj1, obj2, props) => {
    if (!props || props.constructor !== Array) {
      props = [];
    }
    if (!obj1 || !obj2) {
      return obj1 === obj2;
    }
    for (let propName in obj1) {
      if (props.length > 0 && props.indexOf(propName) === -1) {
        continue;
      }
      if (obj1.hasOwnProperty(propName) != obj2.hasOwnProperty(propName)) {
        return false;
      } else if (typeof obj1[propName] != typeof obj2[propName]) {
        return false;
      }
    }
    for (let propName in obj2) {
      if (props.length > 0 && props.indexOf(propName) === -1) {
        continue;
      }
      if (obj1.hasOwnProperty(propName) != obj2.hasOwnProperty(propName)) {
        return false;
      } else if (typeof obj1[propName] != typeof obj2[propName]) {
        return false;
      }
      if (!obj1.hasOwnProperty(propName)) {
        continue;
      }
      if (obj1[propName] instanceof Array && obj2[propName] instanceof Array) {
        if (!utils.arrayEquals(obj1[propName], obj2[propName])) {
          return false;
        }
      } else if (obj1[propName] instanceof Object && obj2[propName] instanceof Object) {
        if (!utils.objectEquals(obj1[propName], obj2[propName])) {
          return false;
        }
      } else if (obj1[propName] != obj2[propName]) {
        return false;
      }
    }
    return true;
  },
  // 判断两个数组是否相等，支持数组中元素为对象时的深度对比
  arrayEquals: (ary1, ary2) => {
    if (!ary1 || !ary2) {
      return ary1 === ary2;
    }
    if (ary1.length != ary2.length) {
      return false;
    }
    for (var i = 0, l = ary1.length; i < l; i++) {
      if (ary1[i] instanceof Array && ary2[i] instanceof Array) {
        if (!utils.arrayEquals(ary1[i], ary2[i])) {
          return false;
        }
      } else if (ary1[i] instanceof Object && ary2[i] instanceof Object) {
        if (!utils.objectEquals(ary1[i], ary2[i])) {
          return false;
        }
      } else if (ary1[i] != ary2[i]) {
        return false;
      }
    }
    return true;
  },
  // 以第一行文本的缩进空格数为基准，后续的每一行都去掉这个基准所对应的空格。
  trimEachLine: text => {
    if (!text || text.constructor != String || text.indexOf('\n') == -1) {
      return text;
    }
    let ary = text.split('\n'),
      totem = 0;
    return ary.reduce((prev, cur, index) => {
      if (index == 1) {
        const match = /^(\s+).*$/.exec(cur);
        match && match.length == 2 && (totem = match[1].length);
      }
      return prev + '\n' + cur.slice(totem, cur.length);
    });
  },
  // 获取字符串的哈希编码
  hashCode: text => {
    var hash = 0,
      char;
    if (text.length == 0) return hash;
    for (var i = 0; i < text.length; i++) {
      char = text.charCodeAt(i);
      hash = (hash << 5) - hash + char;
      hash = hash & hash;
    }
    return hash;
  },
  // 使用ctx对象中的值替换掉exp中所有的${key}
  parseExp: (exp, ctx) => {
    if (!exp || exp.constructor != String) return exp;
    ctx = ctx || {};
    var reg = /(\$\{(\w+)\})/,
      match = null,
      count = 0;
    while (match = reg.exec(exp)) {
      count++;
      // 避免死循环
      if (count > 999) {
        break;
      }
      if (match != null) {
        exp = exp.replace(match[1], ctx.hasOwnProperty(match[2]) ? ctx[match[2]] : '');
      }
    }
    return exp;
  },
  /**
   * 数字格式转换成千分位
   *@param{Object}num
   */
  thousandBit: num => {
    if ((num + '').trim() == '') {
      return '';
    }
    if (isNaN(num)) {
      return num;
    }
    num = num + '';
    if (/^.*\..*$/.test(num)) {
      const pointIndex = num.lastIndexOf('.');
      const pointPart = num.substring(pointIndex + 1, num.length);
      let intPart = num.substring(0, pointIndex);
      intPart = intPart + '';
      const re = /(-?\d+)(\d{3})/;
      while (re.test(intPart)) {
        intPart = intPart.replace(re, '$1,$2');
      }
      num = intPart + '.' + pointPart;
    } else {
      num = num + '';
      const re = /(-?\d+)(\d{3})/;
      while (re.test(num)) {
        num = num.replace(re, '$1,$2');
      }
    }
    return num;
  },
  // 解析URL地址，如果url地址包含了${form}这样的占位符，会按照sso.js中配置的对应服务的地址替换。
  parseUrl: url => {
    if (url === '') return;
    var ctx = window.context,
      reg = /^(\$\{(\w+)\})\/.*$/;
    var match = reg.exec(url);
    if (match != null) {
      var name = match[2],
        mc = match[1],
        val = ctx[name];
      if (!val) {
        throw new Error("The '" + name + "' in url:" + url + ' does not defined in context provider.');
      }
      return url.replace(mc, val);
    } else {
      return url;
    }
  }
};

// 在数组上扩展一个删除指定项的方法
Array.prototype.remove = function (item) {
  let index = this.findIndex(v => v === item);
  if (index > -1) {
    this.splice(index, 1);
  }
};

// 在数组上扩展一个去重的方法
Array.prototype.unique = function (arg) {
  const res = new Map();
  return this.filter(m => {
    if (arg) {
      return !res.has(m[arg]) && res.set(m[arg], 1);
    } else {
      return !res.has(m) && res.set(m, 1);
    }
  });
};

// 去除数组中的空字符串选项
Array.prototype.trim = function () {
  return this.filter(m => m !== '');
};

// 按照数组中的指定key将数组进行分组
Array.prototype.groupByKey = function (key) {
  let res = {};
  this.forEach(m => {
    let group = res[m[key]];
    if (!group) {
      group = [];
      res[m[key]] = group;
    }
    group.push(m);
  });
  return res;
};

// 将数组对象中的某一个属性值单独抽取出来成为一个新的数组  [{id:'1',name:'苹果'},{id:'2',name:'香蕉'}].extractByKey("id") ==> ['1','2']
Array.prototype.extractByKey = function (key) {
  let set = new Set();
  this.forEach(m => {
    if (key && m[key]) {
      set.add(m[key]);
    }
  });
  return Array.from(set);
};

/**
 * 日期格式化。
 * 日期格式：
 * yyyy，yy 年份
 * MM 大写表示月份
 * dd 表示日期
 * hh 表示小时
 * mm 表示分钟
 * ss 表示秒
 * q  表示季度
 * 实例如下：
 * var now = new Date();
 * var nowStr = now.format("yyyy-MM-dd hh:mm:ss");
 */
Date.prototype.format = function (format) {
  var o = {
    'M+': this.getMonth() + 1,
    //month
    'd+': this.getDate(),
    //day
    'h+': this.getHours(),
    //hour
    'H+': this.getHours(),
    //hour
    'm+': this.getMinutes(),
    //minute
    's+': this.getSeconds(),
    //second
    'q+': Math.floor((this.getMonth() + 3) / 3),
    //quarter
    S: this.getMilliseconds() //millisecond
  };
  if (/(y+)/.test(format)) {
    format = format.replace(RegExp.$1, (this.getFullYear() + '').substr(4 - RegExp.$1.length));
  }
  for (var k in o) {
    if (new RegExp('(' + k + ')').test(format)) {
      format = format.replace(RegExp.$1, RegExp.$1.length == 1 ? o[k] : ('00' + o[k]).substr(('' + o[k]).length));
    }
  }
  return format;
};
/* harmony default export */ __webpack_exports__["a"] = (utils);

/***/ }),

/***/ "02f3":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin

/***/ }),

/***/ "0355":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_0b89fd9d_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("424b");
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_0b89fd9d_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_0b89fd9d_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */


/***/ }),

/***/ "03d5":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_10b24d42_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("48b0");
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_10b24d42_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_10b24d42_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */


/***/ }),

/***/ "047f":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin

/***/ }),

/***/ "0b00":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_SubImportDialog_vue_vue_type_style_index_0_id_58936a44_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("ac74");
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_SubImportDialog_vue_vue_type_style_index_0_id_58936a44_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_SubImportDialog_vue_vue_type_style_index_0_id_58936a44_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */


/***/ }),

/***/ "0bba":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin

/***/ }),

/***/ "0bd7":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin

/***/ }),

/***/ "0cbd":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_1d7709e8_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("da4f");
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_1d7709e8_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_1d7709e8_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */


/***/ }),

/***/ "0cfa":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_6972e31c_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("d850");
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_6972e31c_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_6972e31c_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */


/***/ }),

/***/ "0f36":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin

/***/ }),

/***/ "0fca":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_f78ff794_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("02f3");
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_f78ff794_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_f78ff794_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */


/***/ }),

/***/ "0fde":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin

/***/ }),

/***/ "1191":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin

/***/ }),

/***/ "11c9":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin

/***/ }),

/***/ "1612":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin

/***/ }),

/***/ "1639":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("8bbf");
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(vue__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("025e");


const SubPagination = {
  // 全局对象，存放不同子表路径对应的数据
  _map: new Map(),
  set: (path, obj) => {
    SubPagination._map.set(path, obj);
    if (obj.rows) {
      // 分页信息变化时需要触发子表调用filter
      SubPagination._digest(obj.rows);
    }
  },
  // 销毁path对象的数据
  clear: path => {
    SubPagination._map.delete(path);
    SubPagination._map.delete(SubPagination._vueComponentKey(path));
  },
  // 消化子表数据变化，触发视图层渲染
  _digest: rows => {
    if (rows && rows.length > 0) {
      const firstItem = rows[0];
      vue__WEBPACK_IMPORTED_MODULE_0___default.a.set(rows, 0, firstItem);
    }
  },
  _vueComponentKey: path => {
    return `${path}:VueComponent`;
  },
  // 导入数据
  importData: (path, importRows, mode, mergeMethod) => {
    return new Promise((resolve, reject) => {
      if (SubPagination._map.has(path)) {
        const instKey = SubPagination._vueComponentKey(path);
        if (!SubPagination._map.has(instKey)) {
          reject(`未找到${path}所对应的数据实例，无法导入数据。`);
        }
        const obj = SubPagination._map.get(path),
          inst = SubPagination._map.get(instKey),
          array = obj.rows;
        switch (mode) {
          case 'override':
            // 覆盖
            _utils_js__WEBPACK_IMPORTED_MODULE_1__[/* default */ "a"].setValueByPath(inst, path, importRows);
            break;
          case 'append':
            {
              // 追加
              const newAry = array.concat(importRows);
              _utils_js__WEBPACK_IMPORTED_MODULE_1__[/* default */ "a"].setValueByPath(inst, path, newAry);
              break;
            }
          case 'merge':
            {
              if (!mergeMethod && mergeMethod.constructor != Function) {
                reject(`合并导入必须提供合并导入的方法：${mergeMethod}`);
              }
              const newRows = mergeMethod(array, importRows);
              _utils_js__WEBPACK_IMPORTED_MODULE_1__[/* default */ "a"].setValueByPath(inst, path, newRows);
              break;
            }
        }
        obj.rows = _utils_js__WEBPACK_IMPORTED_MODULE_1__[/* default */ "a"].getValueByPath(inst, path);
        SubPagination._digest(obj.rows);
        resolve();
      } else {
        reject(`未找到${path}所对应的子表数据`);
      }
    });
  },
  // 导出数据
  exportData: (path, type, pInst, subtablePagination) => {
    return new Promise((resolve, reject) => {
      if (subtablePagination) {
        if (SubPagination._map.has(path)) {
          if (type == 'current') {
            resolve(SubPagination.pagingByPath(path));
          } else if (type == 'all') {
            const obj = SubPagination._map.get(path);
            resolve(obj.rows);
          } else {
            reject(`未知的导出类型：${type}`);
          }
        } else {
          reject(`未找到${path}所对应的子表数据`);
        }
      } else {
        let rows = _utils_js__WEBPACK_IMPORTED_MODULE_1__[/* default */ "a"].getValueByPath(pInst, path);
        resolve(rows);
      }
    });
  },
  pagingByPath: (path, inst) => {
    const instKey = SubPagination._vueComponentKey(path);
    if (!SubPagination._map.has(instKey) && inst) {
      // 将子表数据所属的VueComponent对象实例存储（用于数据导入）
      SubPagination._map.set(instKey, inst);
    }

    // 如果有该子表路径的对象，则进行前端分页
    if (SubPagination._map.has(path)) {
      const obj = SubPagination._map.get(path),
        array = obj.rows,
        pageSize = obj.pageSize,
        offset = (obj.currentPage - 1) * pageSize;
      return offset + pageSize >= array.length ? array.slice(offset, array.length) : array.slice(offset, offset + pageSize);
    } else {
      // 没有子表路径的对象时，直接返回空集合
      return [];
    }
  },
  // 获取分页数据 offset
  getPageOffset: (path, inst) => {
    let pageOffset = 0;
    const instKey = SubPagination._vueComponentKey(path);
    if (!SubPagination._map.has(instKey) && inst) {
      // 将子表数据所属的VueComponent对象实例存储（用于数据导入）
      SubPagination._map.set(instKey, inst);
    }
    // 如果有该子表路径的对象，则进行前端分页
    if (SubPagination._map.has(path)) {
      const {
        pageSize,
        currentPage
      } = SubPagination._map.get(path);
      if (pageSize && currentPage) {
        pageOffset = (currentPage - 1) * pageSize;
      }
    }
    return pageOffset;
  }
};
/* harmony default export */ __webpack_exports__["a"] = (SubPagination);

/***/ }),

/***/ "1693":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_64d5ffcb_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("8fa1");
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_64d5ffcb_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_64d5ffcb_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */


/***/ }),

/***/ "1907":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin

/***/ }),

/***/ "1989":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_332faf92_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("70a4");
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_332faf92_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_332faf92_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */


/***/ }),

/***/ "1aa3":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin

/***/ }),

/***/ "1c94":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Chart_vue_vue_type_style_index_0_id_0e6d18d3_prod_scoped_true_lang_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("f3c1");
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Chart_vue_vue_type_style_index_0_id_0e6d18d3_prod_scoped_true_lang_css__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Chart_vue_vue_type_style_index_0_id_0e6d18d3_prod_scoped_true_lang_css__WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */


/***/ }),

/***/ "1ce6":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin

/***/ }),

/***/ "1fcb":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin

/***/ }),

/***/ "1fd4":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_55fe59d8_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("3dbf");
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_55fe59d8_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_55fe59d8_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */


/***/ }),

/***/ "20cd":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_427ae34c_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("1aa3");
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_427ae34c_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_427ae34c_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */


/***/ }),

/***/ "210e":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin

/***/ }),

/***/ "243d":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin

/***/ }),

/***/ "248e":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _services_SubPagination_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("1639");
/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("025e");
/* harmony import */ var _util_base64_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("c46f");
/* harmony import */ var _locale__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("fe07");
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//





const {
  saveAs
} = __webpack_require__("9588");
/* harmony default export */ __webpack_exports__["a"] = ({
  name: 'HtSubImportDialog',
  props: {
    rows: Array,
    subDesc: {
      type: String,
      default() {
        return Object(_locale__WEBPACK_IMPORTED_MODULE_3__[/* t */ "c"])('ht.subTable.subTableTemplate');
      }
    },
    dataSubname: {
      type: String,
      required: true
    },
    maxRow: {
      type: String,
      default: null
    },
    mergeExpression: {
      type: String,
      default: null
    },
    dataColumns: {
      type: String,
      required: true
    }
  },
  data() {
    return {
      dialogVisible: false,
      importRows: null,
      showRowData: false,
      mergeFunc: null,
      mode: 'append',
      modeOptions: [{
        mode: 'append',
        desc: this.$t('ht.subTable.append')
      }, {
        mode: 'override',
        desc: this.$t('ht.subTable.override')
      }, {
        mode: 'merge',
        desc: this.$t('ht.subTable.merge'),
        disabled: true
      }]
    };
  },
  computed: {
    columns: function () {
      return eval(Object(_util_base64_js__WEBPACK_IMPORTED_MODULE_2__[/* decode */ "a"])(this.dataColumns));
    }
  },
  watch: {
    dialogVisible: {
      handler: function (newVal) {
        // 清空附件
        if (!newVal && this.$refs.selectFile) {
          this.$refs.selectFile.value = '';
          this.importRows = null;
          this.showRowData = false;
        }
      },
      immediate: true
    },
    mergeExpression: {
      handler: function (newVal) {
        if (newVal) {
          // 如果有导入合并的代码，则允许选择合并导入模式
          this.$set(this.modeOptions[2], 'disabled', false);
          // 并设置默认为 合并导入
          this.mode = 'merge';
          // 解码合并的代码
          const funcExp = Object(_util_base64_js__WEBPACK_IMPORTED_MODULE_2__[/* decode */ "a"])(newVal);
          this.mergeFunc = eval(`(${funcExp})`);
        }
      },
      immediate: true
    }
  },
  created() {
    if (!this.$XLSX) {
      console.warn(this.$t('ht.subTable.xlsxWarnMsg'));
    }
  },
  mounted() {
    // 初始化导入时需要的参数
    const pInst = _utils_js__WEBPACK_IMPORTED_MODULE_1__[/* default */ "a"].getOnlineFormInstance(this);
    if (!_services_SubPagination_js__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"]._map.has(this.dataSubname)) {
      _services_SubPagination_js__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"].set(this.dataSubname, {
        rows: this.rows || []
      });
    }
    const instKey = _services_SubPagination_js__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"]._vueComponentKey(this.dataSubname);
    if (!_services_SubPagination_js__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"]._map.has(instKey) && pInst) {
      // 将子表数据所属的VueComponent对象实例存储（用于数据导入）
      _services_SubPagination_js__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"]._map.set(instKey, pInst);
    }
  },
  destroyed() {
    _services_SubPagination_js__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"].clear(this.dataSubname);
  },
  methods: {
    //子表模板导出
    exportFormSub() {
      let columns = this.columns.filter(item => {
        return !(item.ctrlType && (item.ctrlType === 'sunDiv' || item.ctrlType === 'suntable'));
      });
      this.$requestConfig.downloadSubtableTemplate(this.subDesc, columns).then(({
        data
      }) => {
        // 附件下载
        const blob = new Blob([data]);
        saveAs(blob, `${this.subDesc}.xls`);
      }).catch(err => {
        this.$message.error(`${this.$t('ht.subTable.downloadTemplateError')}：${err}`);
      });
    },
    getNameByDesc(desc) {
      var name = '';
      this.columns.forEach(col => {
        if (col.desc == desc) {
          name = col.name;
        }
      });
      return name;
    },
    changeRowKey(rows) {
      var importRows = [];
      rows.forEach(row => {
        var importRow = {};
        for (let key in row) {
          importRow[this.getNameByDesc(key)] = row[key];
        }
        importRows.push(importRow);
      });
      return importRows;
    },
    dialogConfirm() {
      if (this.importRows.length == 0) {
        this.$message.error(this.$t('ht.subTable.selectImportData'));
        return;
      }
      if (this.maxRow) {
        let maxRowInt = parseInt(this.maxRow);
        if (this.mode == 'override') {
          //覆盖导入
          let count = this.importRows.length;
          if (count > maxRowInt && maxRowInt != 0) {
            this.$message.error(this.$t('ht.subTable.exceededMaximumRows') + '【' + maxRowInt + '】');
            return;
          }
        } else if (this.mode == 'append') {
          const formInstance = _utils_js__WEBPACK_IMPORTED_MODULE_1__[/* default */ "a"].getOnlineFormInstance(this.$parent.$parent);
          if (!formInstance || !formInstance.data) {
            this.$message.error(this.$t('ht.subTable.cannotImport'));
          }
          //追加导入/合并导入
          let boData = formInstance.data;
          let pathArr = this.dataSubname.split('.');
          let subInitData = boData[pathArr[1]][pathArr[2]] || []; //子表数据
          let num = this.importRows.length + subInitData.length;
          if (num > maxRowInt && maxRowInt != 0) {
            this.$message.error(this.$t('ht.subTable.exceededMaximumRows') + '【' + maxRowInt + '】');
            return;
          }
        } else if (this.mode == 'merge') {
          const formInstance = _utils_js__WEBPACK_IMPORTED_MODULE_1__[/* default */ "a"].getOnlineFormInstance(this.$parent.$parent);
          if (!formInstance || !formInstance.data) {
            this.$message.error(this.$t('ht.subTable.cannotImport'));
          }
        }
      }
      _services_SubPagination_js__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"].importData(this.dataSubname, this.importRows, this.mode, this.mergeFunc).then(() => {
        this.$message.success(this.$t('ht.subTable.importSuccess'));
        this.dialogVisible = false;
      }).catch(err => {
        this.$message.error(`${this.$t('ht.subTable.importError')}：${err}`);
      });
    },
    fileChange(m) {
      if (!m || !m.target || !m.target.files || m.target.files.length != 1) {
        return;
      }
      this.importRows = [];
      this.readWorkbookFromLocalFile(m.target.files[0], rows => {
        this.importRows = this.changeRowKey(rows);
      });
    },
    // 读取本地excel文件
    readWorkbookFromLocalFile(file, callback) {
      const reader = new FileReader();
      reader.onload = e => {
        const data = e.target.result;
        let workbook = null;
        try {
          // 读取Excel内容
          workbook = this.$XLSX.read(data, {
            type: 'binary'
          });
        } catch (err) {
          this.$message.error(this.$t('ht.subTable.notValidExcelFile'));
          return;
        }
        const sheetNames = workbook.SheetNames,
          // 只读取第一个sheet的数据
          worksheet = workbook.Sheets[sheetNames[0]];
        if (worksheet['!merges'] && worksheet['!merges'].length > 0) {
          const merge = worksheet['!merges'][0],
            rowNum = Number(merge['e']['r']);
          // 合并单元格时会导致转换出来的JSON数据格式错乱
          this.$message.error(this.$t('ht.subTable.cannotHaveMergedCells', {
            rowNum: rowNum + 1
          }));
          return;
        }
        // 放在数字精度问题 以字符串形式读取
        const json = this.$XLSX.utils.sheet_to_json(worksheet, {
          raw: false
        });
        if (!json || json.constructor != Array) {
          this.$message.error(this.$t('ht.subTable.dataWrongFormat'));
          return;
        }
        if (callback) callback(json);
      };
      reader.readAsBinaryString(file);
    }
  }
});

/***/ }),

/***/ "289a":
/***/ (function(module, exports) {

module.exports = require("vuedraggable");

/***/ }),

/***/ "29c2":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin

/***/ }),

/***/ "2b12":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin

/***/ }),

/***/ "2c66":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_9642b776_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("a091");
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_9642b776_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_9642b776_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */


/***/ }),

/***/ "2cf4":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_3ad3cdfc_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("4d09");
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_3ad3cdfc_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_3ad3cdfc_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */


/***/ }),

/***/ "2d16":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin

/***/ }),

/***/ "2ee6":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_9e19fd4e_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("5ff6");
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_9e19fd4e_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_9e19fd4e_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */


/***/ }),

/***/ "307d":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_7ac2d73f_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("b6ba");
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_7ac2d73f_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_7ac2d73f_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */


/***/ }),

/***/ "30a8":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin

/***/ }),

/***/ "3187":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin

/***/ }),

/***/ "3588":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return formula; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Formulas; });
/* harmony import */ var element_ui__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("5f72");
/* harmony import */ var element_ui__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(element_ui__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("025e");


const conformanceJudge = (value, vnode) => {
  if (Number.isNaN(value)) {
    console.error(`在组件：${JSON.stringify(vnode.componentOptions.propsData)}上设置的计算公式计算结果为NaN，请检查公式。`);
    return false;
  }
  return true;
};
const formula = {
  bind(el, binding, vnode) {
    if (!conformanceJudge(binding.value.value, vnode)) {
      return;
    }
    const propsData = vnode.context.$options.propsData;
    //初始化的时候，如果没有值，则用公式的计算结果来赋值给当前字段
    let oldVal = _utils_js__WEBPACK_IMPORTED_MODULE_1__[/* default */ "a"].getValueByPath(propsData, binding.value.bindPath);
    if (oldVal == undefined) {
      let pathAry = binding.value.bindPath.split('.');
      if (pathAry.length == 3) {
        vnode.context.$set(vnode.context.data[pathAry[1]], pathAry[2], '');
      } else if (pathAry.length == 4) {
        let key = /^(\w+)\[(\d+)\]$/.exec(pathAry[2]);
        vnode.context.$set(vnode.context.data[pathAry[1]][key[1]][key[2]], pathAry[3], '');
      }
    }
    if (binding.value.value && binding.value.value !== oldVal && !binding.value.type) {
      el.__vue__.$emit('input', binding.value.value);
    }
    if (propsData && !oldVal) {
      let value = binding.value.value;
      if (binding.value.value instanceof Date) {
        value = binding.value.value.format(binding.value.format);
      }
      el.__vue__.$emit('input', value);
      _utils_js__WEBPACK_IMPORTED_MODULE_1__[/* default */ "a"].setValueByPath(propsData, binding.value.bindPath, value);
      vnode.context.$forceUpdate();
    }
  },
  update(el, binding, vnode) {
    if (!conformanceJudge(binding.value.value, vnode)) {
      return;
    }
    const propsData = vnode.context.$options.propsData;
    if (binding.oldValue.value instanceof Date) {
      if (binding.oldValue.value.getTime() !== binding.value.value.getTime()) {
        const value = binding.value.value.format(binding.value.format);
        el.__vue__.$emit('input', value);
        _utils_js__WEBPACK_IMPORTED_MODULE_1__[/* default */ "a"].setValueByPath(propsData, binding.value.bindPath, value);
        vnode.context.$forceUpdate();
      }
    } else {
      let oldVal = _utils_js__WEBPACK_IMPORTED_MODULE_1__[/* default */ "a"].getValueByPath(propsData, binding.value.bindPath);
      if (oldVal && binding.value.type && binding.value.type === 'default') {
        return;
      }
      if (binding.oldValue.value != binding.value.value || binding.oldValue.bindPath != binding.value.bindPath) {
        // 在组件触发更新时：原始值和当前值不等 或者 原始路径和当前路径不等 才执行赋值和更新view操作
        el.__vue__.$emit('input', binding.value.value);
        _utils_js__WEBPACK_IMPORTED_MODULE_1__[/* default */ "a"].setValueByPath(propsData, binding.value.bindPath, binding.value.value);
        vnode.context.$forceUpdate();
      }
    }
  }
};
const Formulas = {
  d1900: new Date(Date.UTC(1900, 0, 1)),
  WEEK_STARTS: [undefined, 0, 1, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, 1, 2, 3, 4, 5, 6, 0],
  /**
   * 冀中能源业务开发的计算公式
   */
  //根据传入的年月得到上月的月份
  LastMonth: (y, m) => {
    m = parseInt(m);
    y = parseInt(y);
    if (m > 0 && m < 13 && y > 0) {
      if (m === 1) {
        return 12;
      }
      let v = m - 1;
      if (v < 10) {
        v = '0' + v;
      }
      return v;
    }
  },
  //根据传入的年月得到上个月的年份
  LastYear: (y, m) => {
    m = parseInt(m);
    y = parseInt(y);
    if (m > 0 && m < 13 && y > 0) {
      if (m === 1) {
        return y - 1;
      }
      return y;
    }
  },
  /**
   * 数学公式
   */
  ABS: number => {
    number = Formulas.parseNumber(number);
    return Math.abs(number);
  },
  AVERAGE: (...number) => {
    let avg = 0;
    number.forEach(item => {
      avg += Formulas.parseNumber(item);
    });
    if (number.length === 0) return 0;
    return avg / number.length;
  },
  AVERAGESUB: obj => {
    let array = Formulas.getArrayByPath(obj);
    return Formulas.AVERAGE(...array);
  },
  CEILING: (number, significance) => {
    number = Formulas.parseNumber(number);
    significance = Formulas.ABS(significance);
    if (significance === 0) {
      return 0;
    }
    let precision = -Math.floor(Math.log(significance) / Math.log(10));
    if (number > 0) {
      return Formulas.ROUND(Math.ceil(number / significance) * significance, precision);
    } else {
      return Formulas.ROUND(Math.floor(number / significance) * significance, precision);
    }
  },
  COUNT: (...args) => {
    return args.length;
  },
  COUNTSUB: obj => {
    let array = obj.data;
    return array.length;
  },
  COUNTIF: (list, condition) => {
    if (!condition.startsWith('>') && !condition.startsWith('<')) {
      if (isNaN(condition)) {
        condition = "==='" + condition + "'";
      } else {
        condition = '===' + condition;
      }
    }
    let i = 0;
    // eslint-disable-next-line
    list.forEach(item => {
      if (eval('item' + condition)) {
        i++;
      }
    });
    return i;
  },
  COUNTIFSUB: (obj, condition) => {
    let array = Formulas.getArrayByPath(obj);
    return Formulas.COUNTIF(array, condition);
  },
  FIXED: (decimal, digits) => {
    decimal = Formulas.parseNumber(decimal);
    digits = Formulas.parseNumber(digits);
    return Number(decimal).toFixed(digits);
  },
  FLOOR: (number, significance) => {
    number = Formulas.parseNumber(number);
    significance = Formulas.ABS(significance);
    if (significance === 0) {
      return 0;
    }
    let precision = -Math.floor(Math.log(significance) / Math.log(10));
    if (number > 0) {
      return Formulas.ROUND(Math.floor(number / significance) * significance, precision);
    } else {
      return Formulas.ROUND(Math.ceil(number / significance) * significance, precision);
    }
  },
  INT: number => {
    number = Formulas.parseNumber(number);
    return parseInt(number);
  },
  LARGE: (array, index) => {
    index = Formulas.parseNumber(index);
    return array.sort(function (a, b) {
      return b - a;
    })[index - 1];
  },
  LARGESUB: (obj, index) => {
    let array = Formulas.getArrayByPath(obj);
    return Formulas.LARGE(array, index);
  },
  LOG: (number, base) => {
    number = Formulas.parseNumber(number);
    base = Formulas.parseNumber(base);
    if (base === 0) return 0;
    return Math.log(number) / Math.log(base);
  },
  MAX: (...args) => {
    args = Formulas.parseNumberArray(args);
    if (args.length === 0) {
      return 0;
    }
    return Math.max(...args);
  },
  MAXSUB: obj => {
    let array = Formulas.getArrayByPath(obj);
    return Formulas.MAX(...array);
  },
  MIN: (...args) => {
    args = Formulas.parseNumberArray(args);
    if (args.length === 0) {
      return 0;
    }
    return Math.min(...args);
  },
  MINSUB: obj => {
    let array = Formulas.getArrayByPath(obj);
    return Formulas.MIN(...array);
  },
  MOD: (dividend, divisor) => {
    dividend = Formulas.parseNumber(dividend);
    divisor = Formulas.parseNumber(divisor);
    let modules = Math.abs(dividend % divisor);
    return divisor > 0 ? modules : -modules;
  },
  POWER: (number, power) => {
    number = Formulas.parseNumber(number);
    power = Formulas.parseNumber(power);
    return Math.pow(number, power);
  },
  PRODUCT: (...args) => {
    let total = 1;
    args.forEach(item => {
      item = Formulas.parseNumber(item);
      total *= item;
    });
    return args.length === 0 ? 0 : total;
  },
  PRODUCTSUB: obj => {
    let array = Formulas.getArrayByPath(obj);
    return Formulas.PRODUCT(...array);
  },
  RAND: () => {
    return Math.random();
  },
  ROUND: (number, digit) => {
    return Math.round(number * 10 ** digit) / 10 ** digit;
  },
  SMALL: (array, index) => {
    array = Formulas.parseNumberArray(array);
    return array.sort(function (a, b) {
      return a - b;
    })[index - 1];
  },
  SMALLSUB: (obj, index) => {
    let array = Formulas.getArrayByPath(obj);
    return Formulas.SMALL(array, index);
  },
  SQRT: number => {
    number = Formulas.parseNumber(number);
    return Math.sqrt(number);
  },
  SUM: (...args) => {
    let num = 0;
    args.forEach(item => {
      item = Formulas.parseNumber(item);
      num += item;
    });
    return num;
  },
  SUMSUB: obj => {
    let array = Formulas.getArrayByPath(obj);
    return Formulas.SUM(...array);
  },
  SUMPRODUCT: (...arrays) => {
    if (!arrays) return 0;
    let min = Number.MAX_VALUE;
    let total = 0;
    arrays.forEach(array => {
      if (array.length < min) {
        min = array.length;
      }
    });
    for (let i = 0; i < min; i++) {
      let p = 1;
      for (let j = 0; j < arrays.length; j++) {
        p *= Formulas.parseNumber(arrays[j][i]);
      }
      total += p;
    }
    return total;
  },
  SUMPRODUCTSUB: (...arrays) => {
    if (!arrays) return 0;
    let newArrays = [];
    arrays.forEach(obj => {
      newArrays.push(Formulas.getArrayByPath(obj));
    });
    return Formulas.SUMPRODUCT(...newArrays);
  },
  /**
   * 文本函数
   * @param args
   * @returns {string}
   * @constructor
   */
  CONCATENATE: (...args) => {
    let str = '';
    args.forEach(item => {
      if (item) {
        str += item;
      }
    });
    return str;
  },
  CHAR: number => {
    number = Formulas.parseNumber(number);
    return String.fromCharCode(number);
  },
  EXACT: (str1, str2) => {
    return str1 === str2;
  },
  ISEMPTY: str => {
    return str ? true : false;
  },
  LEFT: (str, number) => {
    number = Formulas.parseNumber(number);
    return str.substr(str, number);
  },
  LEN: str => {
    return str.length;
  },
  LOWER: str => {
    return str.toLowerCase();
  },
  MID: (str, start, length) => {
    return str.substr(start - 1, length);
  },
  REPLACE: (str, start, length, newStr) => {
    let replaceStr = Formulas.MID(str, start, length);
    if (!replaceStr) return str + newStr;
    return str.replace(replaceStr, newStr);
  },
  REPT: (str, count) => {
    let result = '';
    for (let i = 0; i < Formulas.parseNumber(count); i++) {
      result += str;
    }
    return result;
  },
  RIGHT: (str, length) => {
    return str.substr(str.length - length, str.length);
  },
  UPPER: str => {
    return str.toUpperCase();
  },
  TEXT: number => {
    return number + '';
  },
  VALUE: str => {
    return Formulas.parseNumber(str);
  },
  TRIM: str => {
    return str.trim();
  },
  COUNTNO: (field, char) => {
    if (field == '') {
      return 0;
    } else if (field.indexOf(char) > -1) {
      return field.split(char).length;
    } else {
      return 1;
    }
  },
  //逻辑函数
  AND: (...args) => {
    let result = true;
    args.forEach(arg => {
      if (!arg) {
        result = false;
      }
    });
    return result;
  },
  FALSE: () => {
    return false;
  },
  IF: (arg, then_value, otherwise_value) => {
    return arg ? then_value : otherwise_value;
  },
  NOT: arg => {
    return !arg;
  },
  OR: (...args) => {
    let result = false;
    args.forEach(arg => {
      if (arg) {
        result = true;
      }
    });
    return result;
  },
  TRUE: () => {
    return true;
  },
  XOR: (...args) => {
    let count = 0;
    args.forEach(arg => {
      if (!arg) {
        count++;
      }
    });
    return count !== args.length && count !== 0;
  },
  //时间函数
  DATE: timestamp => {
    let date = Formulas.parseDate(timestamp);
    if (date == 'Invalid Date') {
      element_ui__WEBPACK_IMPORTED_MODULE_0__["Notification"].error({
        title: '错误',
        message: '无效日期'
      });
      return;
    }
    return date;
  },
  DATEDELTA: (string, days) => {
    let timestamp = new Date(string).getTime();
    timestamp += days * 86400000;
    return Formulas.DATE(timestamp);
  },
  HALFDAY: (startDate, endDate) => {
    let half = 0.5;
    let startDay = Formulas.second(Formulas.parseStringToDate(startDate));
    let endDay = Formulas.second(Formulas.parseStringToDate(endDate));
    if (isNaN(startDay) || isNaN(endDay)) {
      return '';
    }
    let halfDay = Math.ceil((endDay - startDay) / 43200);
    return halfDay * half;
  },
  COUNTHOURS: (startDate, endDate) => {
    let startDay = Formulas.second(Formulas.parseStringToDate(startDate));
    let endDay = Formulas.second(Formulas.parseStringToDate(endDate));
    if (isNaN(startDay) || isNaN(endDay)) {
      return '';
    }
    let hours = Math.ceil((endDay - startDay) / 3600);
    return hours;
  },
  DAY: timestamp => {
    let date = Formulas.DATE(timestamp);
    return date.getDate();
  },
  DAYS: (startDate, endDate) => {
    let startDay = Formulas.serial(Formulas.parseStringToDate(startDate));
    let endDay = Formulas.serial(Formulas.parseStringToDate(endDate));
    if (isNaN(startDay) || isNaN(endDay)) {
      return '';
    }
    return endDay - startDay;
  },
  DAYS360: (startDate, endDate, method) => {
    if (!startDate || !endDate) {
      return 0;
    }
    startDate = Formulas.parseStringToDate(startDate);
    endDate = Formulas.parseStringToDate(endDate);
    let sm = startDate.getMonth();
    let em = endDate.getMonth();
    let sd, ed;
    if (method) {
      sd = startDate.getDate() === 31 ? 30 : startDate.getDate();
      ed = endDate.getDate() === 31 ? 30 : endDate.getDate();
    } else {
      let smd = new Date(startDate.getFullYear(), sm + 1, 0).getDate();
      let emd = new Date(endDate.getFullYear(), em + 1, 0).getDate();
      sd = startDate.getDate() === smd ? 30 : startDate.getDate();
      if (endDate.getDate() === emd) {
        if (sd < 30) {
          em++;
          ed = 1;
        } else {
          ed = 30;
        }
      } else {
        ed = endDate.getDate();
      }
    }
    return 360 * (endDate.getFullYear() - startDate.getFullYear()) + 30 * (em - sm) + (ed - sd);
  },
  HOUR: timestamp => {
    let date = Formulas.DATE(timestamp);
    return date.getHours();
  },
  ISOWEEKNUM: date => {
    date = Formulas.parseStringToDate(date);
    date.setHours(0, 0, 0);
    date.setDate(date.getDate() + 4 - (date.getDay() || 7));
    let yearStart = new Date(date.getFullYear(), 0, 1);
    return Math.ceil(((date - yearStart) / 86400000 + 1) / 7);
  },
  MINUTE: timestamp => {
    let date = Formulas.DATE(timestamp);
    return date.getMinutes();
  },
  MONTH: timestamp => {
    let date = Formulas.DATE(timestamp);
    return date.getMonth() + 1;
  },
  NOW: () => {
    return Formulas.parseDate(new Date().getTime());
  },
  SECOND: timestamp => {
    let date = Formulas.DATE(timestamp);
    return date.getSeconds();
  },
  SYSTIME: () => {
    //todo
  },
  TIME: (hour, minute, second) => {
    hour = Formulas.parseNumber(hour);
    minute = Formulas.parseNumber(minute);
    second = Formulas.parseNumber(second);
    hour = hour < 0 ? 0 : hour;
    minute = minute < 0 ? 0 : minute;
    second = second < 0 ? 0 : second;
    return (3600 * hour + 60 * minute + second) / 86400;
  },
  TIMESTAMP: date => {
    if (date) {
      date = Formulas.parseStringToDate(date);
      return date.getTime();
    }
  },
  TODAY: () => {
    return new Date().format(_utils_js__WEBPACK_IMPORTED_MODULE_1__[/* default */ "a"].isMobile() ? 'yyyy/MM/dd HH:mm:ss' : 'yyyy-MM-dd HH:mm:ss');
  },
  WEEKNUM: (date, returnType) => {
    if (!date) {
      return;
    }
    date = Formulas.parseStringToDate(date);
    if (returnType === undefined) {
      returnType = 1;
    }
    if (returnType === 21) return Formulas.ISOWEEKNUM(date);
    let week_start = Formulas.WEEK_STARTS[returnType];
    let jan = new Date(date.getFullYear(), 0, 1);
    let inc = jan.getDay() < week_start ? 1 : 0;
    jan -= Math.abs(jan.getDay() - week_start) * 24 * 60 * 60 * 1000;
    return Math.floor((date - jan) / (1000 * 60 * 60 * 24) / 7 + 1) + inc;
  },
  YEAR: timestamp => {
    let date = new Date(timestamp);
    return date.getFullYear();
  },
  UUID: () => {
    function u4() {
      return ((1 + Math.random()) * 0x10000 | 0).toString(16).substring(1);
    }
    return u4() + u4() + '-' + u4() + '-' + u4() + '-' + u4() + '-' + u4() + u4() + u4();
  },
  WEEKDAY: (date, returnNum) => {
    if (!date) {
      return;
    }
    date = Formulas.parseStringToDate(date);
    const weekDayDic = ['日', '一', '二', '三', '四', '五', '六'];
    const weekDay = date.getDay();
    return returnNum ? weekDay : `星期${weekDayDic[weekDay]}`;
  },
  //高级函数:
  CURRENCY: x => {
    let tmp = Formulas.parseNumber(x);
    //TODO 转换为人民币大写
    return _utils_js__WEBPACK_IMPORTED_MODULE_1__[/* default */ "a"].convertCurrency(tmp);
  },
  THOUSAND: x => {
    if (x || x === 0) {
      x = x + '';
    }
    //let tmp = Formulas.parseNumber(x);
    let reg = /(\d)(?=(?:\d{3})+\b)/g;
    return x && x.replace(reg, '$1,');
  },
  /**
   * 异常统一处理
   * @param {*} err
   * @param {*} typeName
   */
  throwErr(err, typeName) {
    element_ui__WEBPACK_IMPORTED_MODULE_0__["Notification"].error({
      title: typeName + '公式运算错误',
      message: err
    });
    throw err;
  },
  /**
   * 类型判断
   * @param {*} value
   * @param {*} type
   */
  typeofType(value, type) {
    if (value !== '' && typeof value != type) {
      throw '传入参数必须是' + type + '类型';
    }
  },
  parseNumber(number) {
    number = parseFloat(number);
    if (isNaN(number)) return 0;
    return number;
  },
  parseNumberArray(array) {
    return array.map(item => {
      return Formulas.parseNumber(item);
    });
  },
  parseDate(timestamp) {
    timestamp = Formulas.parseNumber(timestamp);
    return new Date(timestamp);
  },
  parseStringToDate(str) {
    if (!str) {
      return new Date('');
    }
    return new Date(Date.parse(str.replace(/-/g, '/')));
  },
  getArrayByPath(obj) {
    let array = [];
    if (!obj.data) return array;
    obj.data.forEach(item => {
      array.push(Formulas.parseNumber(item[obj.path]));
    });
    return array;
  },
  serial(date) {
    let addOn = date > -2203891200000 ? 2 : 1;
    return Math.ceil((date - Formulas.d1900) / 86400000) + addOn;
  },
  second(date) {
    let addOn = date > -2203891200000 ? 2 : 1;
    return Math.ceil((date - Formulas.d1900) / 1000) + addOn;
  }
};
Formulas.install = Vue => {
  Vue.prototype.$Formulas = Formulas;
};


/***/ }),

/***/ "35a8":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin

/***/ }),

/***/ "3a16":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_767cf4d8_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("1191");
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_767cf4d8_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_767cf4d8_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */


/***/ }),

/***/ "3b02":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin

/***/ }),

/***/ "3b5c":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin

/***/ }),

/***/ "3c76":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("8bbf");
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(vue__WEBPACK_IMPORTED_MODULE_0__);
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//


/* harmony default export */ __webpack_exports__["a"] = ({
  name: 'HtCustomComponent',
  componentName: 'HtCustomComponent',
  props: ['data', 'permission', 'ccAlias'],
  data() {
    return {
      loadOver: false,
      vueObj: {},
      component: {},
      componentName: ''
    };
  },
  methods: {
    init() {
      //解析jscode;
      this.component = {};
      if (this.vueObj.jsCode) {
        let jsCode = Base64.decode(this.vueObj.jsCode, 'utf-8');
        let parseJsCode = function () {
          return eval('(function(){return {' + jsCode + '} })()');
        };
        this.component = parseJsCode();
      }
      this.component.props = ['data', 'permission', 'vueObj', 'component'];
      if (this.vueObj.template) {
        this.component.template = Base64.decode(this.vueObj.template, 'utf-8');
      } else {
        this.component.template = '<div></div>';
      }
      if (this.vueObj.dataCode) {
        let dataCodeStr = Base64.decode(this.vueObj.dataCode);
        let parseDataCode = function () {
          return eval('(function(){return ' + dataCodeStr + ' })()');
        };
        let data = parseDataCode();
        this.component.data = function () {
          return data;
        };
      }
      this.componentName = this.ccAlias + '-component';
      //加载动态组件
      vue__WEBPACK_IMPORTED_MODULE_0___default.a.component(this.componentName, this.component);
      //加载完成后显示
      this.loadOver = true;
    }
  },
  mounted() {
    // this.init();
  },
  created() {
    //根据自定义组件id查询组件对象
    // this.$http
    //   .get('${form}/formCustomComponent/v1/getByAlias?alias=' + this.ccAlias)
    //   .then((resp) => {
    //     this.vueObj = resp.data
    //     this.init()
    //   })

    this.$requestConfig.getFormCustomComponentByAlias(this.ccAlias).then(resp => {
      this.vueObj = resp;
      this.init();
    });
  }
});

/***/ }),

/***/ "3dbf":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin

/***/ }),

/***/ "3e58":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Organization_vue_vue_type_style_index_0_id_9a5df3b6_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("3187");
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Organization_vue_vue_type_style_index_0_id_9a5df3b6_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Organization_vue_vue_type_style_index_0_id_9a5df3b6_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */


/***/ }),

/***/ "3f39":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_FileTable_vue_vue_type_style_index_0_id_5b18c246_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("687f");
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_FileTable_vue_vue_type_style_index_0_id_5b18c246_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_FileTable_vue_vue_type_style_index_0_id_5b18c246_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */


/***/ }),

/***/ "4092":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin

/***/ }),

/***/ "4154":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_PostSelectorMobileDialog_vue_vue_type_style_index_0_id_657e096e_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("0bba");
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_PostSelectorMobileDialog_vue_vue_type_style_index_0_id_657e096e_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_PostSelectorMobileDialog_vue_vue_type_style_index_0_id_657e096e_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */


/***/ }),

/***/ "424b":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin

/***/ }),

/***/ "42de":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Table_vue_vue_type_style_index_0_id_0d10ce15_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("94df");
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Table_vue_vue_type_style_index_0_id_0d10ce15_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Table_vue_vue_type_style_index_0_id_0d10ce15_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */


/***/ }),

/***/ "4538":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_RoleSelectorDialog_vue_vue_type_style_index_0_id_35f02c57_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("d678");
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_RoleSelectorDialog_vue_vue_type_style_index_0_id_35f02c57_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_RoleSelectorDialog_vue_vue_type_style_index_0_id_35f02c57_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */


/***/ }),

/***/ "45b3":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_591a5978_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("79e1");
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_591a5978_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_591a5978_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */


/***/ }),

/***/ "45fd":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return createObjectURL; });
/**
 * 通过Object创建链接地址
 * @param {Object} content
 * @returns
 */
function createObjectURL(content) {
  if (window.navigator.userAgent.indexOf('Chrome') >= 1 || window.navigator.userAgent.indexOf('Safari') >= 1) {
    return window.webkitURL.createObjectURL(content);
  } else {
    return window.URL.createObjectURL(content);
  }
}

/***/ }),

/***/ "4767":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_StepLayout_vue_vue_type_style_index_0_id_b42c85d4_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("54ed");
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_StepLayout_vue_vue_type_style_index_0_id_b42c85d4_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_StepLayout_vue_vue_type_style_index_0_id_b42c85d4_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */


/***/ }),

/***/ "48b0":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin

/***/ }),

/***/ "49a8":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin

/***/ }),

/***/ "4afe":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_customMobileDialog_vue_vue_type_style_index_0_id_38b1b8ca_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("5f7b");
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_customMobileDialog_vue_vue_type_style_index_0_id_38b1b8ca_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_customMobileDialog_vue_vue_type_style_index_0_id_38b1b8ca_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */


/***/ }),

/***/ "4b76":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin

/***/ }),

/***/ "4c6c":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_7360a368_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("1907");
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_7360a368_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_7360a368_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */


/***/ }),

/***/ "4d09":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin

/***/ }),

/***/ "4e5d":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin

/***/ }),

/***/ "4ebe":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("025e");
/* harmony import */ var _util_base64__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("c46f");
/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("c5e1");
/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_2__);
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//



// eslint-disable-next-line no-unused-vars

/* harmony default export */ __webpack_exports__["a"] = ({
  name: 'HtTemplateForm',
  props: {
    templateKey: {
      type: String
    },
    action: {
      type: String
    },
    isShare: {
      type: Boolean
    },
    openType: {
      type: String
    },
    dataParam: String,
    inDialog: {
      type: Boolean,
      default: false
    },
    dialogParam: {
      type: Object
    },
    isCustomHandleClose: {
      type: Boolean,
      default: false
    },
    quitAfterSaving: {
      type: Boolean,
      default: false
    },
    // 是否显示底部操作按钮
    showOperation: {
      type: Boolean,
      default: true
    },
    // 是否为移动端
    isMobile: {
      type: Boolean,
      default: false
    }
  },
  data() {
    return {
      alias_new: 'statement',
      html: null,
      data: null,
      permission: null,
      reloadOnlineForm: false,
      isView: false,
      disabled: false,
      boAlias: '',
      id: '',
      startFlow: false,
      recordId: '',
      defKey: '',
      formKey: '',
      fillField: '',
      fillValue: '',
      bindList: [],
      print: false,
      isShow: true,
      tempAlias: '',
      startLable: '发起流程',
      printLable: '打印'
    };
  },
  computed: {
    closeSave() {
      if (this.$route.query.quitAfterSaving && this.$route.query.quitAfterSaving == 'true') {
        return true;
      }
      return this.quitAfterSaving;
    }
  },
  watch: {
    templateKey: function (n, o) {
      if (n && o && n != o) {
        this.init();
      }
    },
    //控件的联动会导致表单的permission发生变化，联动显示会变成'w'，需要改回原来的权限
    permission: {
      handler(newVal) {
        if (this.formKey && this.action == 'get') {
          for (let key in newVal.fields[this.formKey]) {
            if (newVal.fields[this.formKey][key] == 'w') {
              newVal.fields[this.formKey][key] = 'r';
            }
          }
        }
      },
      deep: true
    }
  },
  updated() {
    let result = window.location.href.split('?')[0].split('/');
    if (this.action == 'get' || result[result.length - 1] == 'get' || result[result.length - 2] == 'get') {
      this.isShow = false;
    }
    //判断是否显示发起流程按钮
    if (window.location.href.split('?')[1] && window.location.href.split('?')[1].split('&')) {
      if (window.location.href.split('?')[1].split('&')[1] && window.location.href.split('?')[1].split('&')[1] == 'startFlow=false') {
        this.startFlow = false;
      }
    }
    if (this.dialogParam && this.dialogParam.isStartFlow) {
      this.startFlow = false;
    }
  },
  created() {
    this.init();
  },
  methods: {
    loadSuccess() {
      if (this.$route.query.isPrint) {
        this.printDetail();
      }
    },
    printDetail() {
      this.$refs.btnRegion.style.display = 'none';
      setTimeout(() => {
        //解决input输入框没有值的问题
        const input = jquery__WEBPACK_IMPORTED_MODULE_2___default()('input');
        input.each(function () {
          jquery__WEBPACK_IMPORTED_MODULE_2___default()(this).attr('value', jquery__WEBPACK_IMPORTED_MODULE_2___default()(this).val());
        });
        const textarea = jquery__WEBPACK_IMPORTED_MODULE_2___default()('textarea');
        if (textarea) {
          for (var i = 0; i < textarea.length; i++) {
            jquery__WEBPACK_IMPORTED_MODULE_2___default()(textarea[i]).html(textarea[i].value);
          }
        }
        document.body.innerHTML = document.getElementsByClassName('custom-form')[0].innerHTML;
        window.print();
        this.$refs.btnRegion.style.display = 'block';
        location.reload();
      }, 500);
    },
    //获取表单数据
    getFormData(verify) {
      return this.$refs.onlineForm.getData(verify);
    },
    //启动
    start() {
      this.getFormData(true).then(formData => this.processStart(formData)).catch(() => {});
    },
    processStart(formDataStr) {
      // utils.closeAllNotification()
      let data = {
        flowKey: this.defKey
      };
      if (formDataStr) {
        data.data = Object(_util_base64__WEBPACK_IMPORTED_MODULE_1__[/* encode */ "b"])(JSON.stringify(formDataStr));
      }
      this.disabled = true;
      this.$requestConfig.start(data).then(() => {
        this.close(true);
      }).catch(() => {
        this.disabled = false;
      });
    },
    //保存
    boSave(delDraftId) {
      this.getFormData(true).then(formData => {
        // utils.closeAllNotification()
        let data = {
          boAlias: this.boAlias,
          boData: formData
        };
        this.disabled = true;
        if (delDraftId) {
          data.delDraftId = delDraftId;
        }
        data.formKey = this.formKey;
        data.templateKey = this.templateKey;
        this.$requestConfig.boSave(data).then(result => {
          if (result.state) {
            if (this.closeSave) {
              this.close();
              return;
            }
            //当操作为编辑是，点击保存成功后提示继续编辑还是返回
            if (this.action === 'edit' || this.action === 'add') {
              this.$message.success(result.message);
              if (this.isMobile) {
                this.$dialog.confirm({
                  title: '提示',
                  message: '保存成功，是否退出？',
                  confirmButtonText: '立即退出',
                  cancelButtonText: '继续操作'
                }).then(() => {
                  // on confirm
                  this.close(false);
                }).catch(() => {
                  // on cancel
                  this.$refs.onlineForm.init();
                  this.disabled = false;
                  if (this.action === 'editDraft') {
                    this.editDraftHandler();
                  } else {
                    this.handler();
                  }
                });
              } else {
                this.$confirm('保存成功，是否退出？', '提示', {
                  confirmButtonText: '立即退出',
                  cancelButtonText: '继续操作',
                  type: 'warning'
                }).then(() => {
                  this.close(false);
                }).catch(() => {
                  this.$refs.onlineForm.init();
                  this.disabled = false;
                  if (this.action === 'editDraft') {
                    this.editDraftHandler();
                  } else {
                    this.handler();
                  }
                });
              }
            } else {
              this.close(true);
            }
          } else {
            this.disabled = false;
          }
        }).catch(() => {
          this.disabled = false;
        });
      }).catch(() => {});
    },
    boSaveAndDelDraft() {
      this.boSave(this.draftId);
    },
    //保存
    boSaveDraft() {
      this.getFormData(false).then(formData => {
        let data = {
          tempAlias: this.tempAlias,
          dataJson: JSON.stringify(formData)
        };
        if (this.draft) {
          data.id = this.draft.id;
          data.title = this.draft.title;
          data.createBy = this.draft.createBy;
          data.createTime = this.draft.createTime;
        }
        this.disabled = true;
        this.$requestConfig.boSaveDraft(data).then(result => {
          if (result.state) {
            this.$message.success(result.message);
            if (this.inDialog || this.isCustomHandleClose) {
              this.$emit('close');
            } else {
              this.$router.go(-1);
            }
          } else {
            this.disabled = false;
            this.$message.error(result.message);
          }
        });
      }).catch(() => {});
    },
    //关闭窗口
    close() {
      if (this.inDialog || this.isCustomHandleClose) {
        this.$emit('close');
        return;
      }
      //外链表单不返回问题
      debugger;
      if (sessionStorage.getItem('replaceHome')) {
        this.$router.push('/');
        sessionStorage.setItem('replaceHome', false);
      } else if (this.$requestConfig.goBack) {
        this.$requestConfig.goBack();
      } else {
        this.$router.go(-1);
      }
    },
    handler() {
      let _me = this;
      this.$requestConfig.getDataTemplateForm(this.formKey, this.boAlias, this.id || '', this.action, this.recordId || '', this.templateKey || '').then(rep => {
        if (rep.result) {
          _me.data = rep.data;
          //数据视图控件
          if (_me.bindList && _me.bindList.length > 0) {
            for (var i = 0; i < _me.bindList.length; i++) {
              //不区分字段大小写，判断数据中是否存在字段名
              let key = _me.bindList[i].key;
              if (_me.data[_me.boAlias][key] == undefined) {
                key = key.toUpperCase();
              }
              if (_me.data[_me.boAlias][key] == '') {
                // 回填数据
                _me.data[_me.boAlias][key] = _me.bindList[i].value;
              }
            }
          }
          //是否是数据报表明细
          if (rep.permission && _me.action == 'get') {
            const permissionObj = rep.permission;
            let commonRight = '';
            //如果是管理端进入，则将页面字段的权限修改为可编辑
            if (_me.type == 'manage') {
              commonRight = 'w';
              //如果是查看实例，也是获取发起流程的表单和权限。只不过所有可见的权限要变成编辑
            } else {
              commonRight = 'r';
            }
            if (permissionObj.fields && commonRight) {
              for (let key in permissionObj.fields) {
                const bodef = permissionObj.fields[key];
                if (bodef) {
                  for (var fname in bodef) {
                    if (commonRight == 'w' || commonRight == 'r' && bodef[fname] != 'n') {
                      bodef[fname] = commonRight;
                    }
                  }
                }
                permissionObj.fields[key] = bodef;
              }
            }
            if (permissionObj.table && commonRight) {
              for (let key in permissionObj.table) {
                const table = permissionObj.table[key];
                if (table) {
                  if (commonRight == 'w') {
                    table['hidden'] = false;
                    table['add'] = true;
                    table['del'] = true;
                  } else if (commonRight == 'r') {
                    table['add'] = false;
                    table['del'] = false;
                    table['required'] = false;
                    table['edit'] = false;
                  }
                }
                permissionObj.table[key] = table;
              }
            }
            _me.permission = permissionObj;
          } else {
            _me.permission = rep.permission;
          }
          _me.html = rep.form.formHtml;
          this.handlerJs(rep.form);
          this.handlerParams();
        }
      });
    },
    handlerJs(rep) {
      let _this = this;
      _this.reloadOnlineForm = true;
      setTimeout(() => {
        eval(rep.diyJs);
      }, 10);
    },
    handlerParams() {
      if (this.dataParam) {
        let parameters = JSON.parse(Object(_util_base64__WEBPACK_IMPORTED_MODULE_1__[/* decode */ "a"])(this.dataParam));
        for (let key in parameters) {
          this.data[this.boAlias][key] = parameters[key];
        }
      }
    },
    editDraftHandler() {
      let _me = this;
      this.$requestConfig.getTempDraftData(_me.draftId).then(rep => {
        if (rep.result) {
          _me.data = rep.data;
          _me.draft = rep.draft;
          if (rep.permission) {
            _me.permission = rep.permission;
          }
          _me.html = rep.form.formHtml;
          this.handlerJs(rep.form);
        }
      });
    },
    init() {
      this.id = this.inDialog ? this.dialogParam.id : _utils_js__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"].getUrlKey('id');
      //this.startFlow = utils.getUrlKey('startFlow');
      this.recordId = this.inDialog ? this.dialogParam.recordId : _utils_js__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"].getUrlKey('recordId');
      let bindList = this.inDialog ? this.dialogParam.bindList : _utils_js__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"].getUrlKey('bindList');
      if (bindList) {
        this.bindList = JSON.parse(Object(_util_base64__WEBPACK_IMPORTED_MODULE_1__[/* decode */ "a"])(decodeURIComponent(bindList)));
      }
      this.draftId = this.inDialog ? this.dialogParam.draftId : _utils_js__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"].getUrlKey('draftId');
      this.isView = this.action == 'get';
      let _me = this;
      this.$requestConfig.getBpmDataTemplateInfo({
        templateKey: this.templateKey
      }).then(result => {
        if (result.state) {
          if (result.value.allowShare == 2 && _me.isShare) {
            _me.$router.push('/messageFillPage/5');
            return;
          }
          _me.boAlias = result.value.boDefAlias;
          _me.defKey = result.value.defId;
          _me.formKey = _me.isMobile ? result.value.mobileFormAlias : result.value.formKey;
          _me.tempAlias = result.value.alias;
          if (result.value.manageField) {
            let re = JSON.parse(result.value.manageField);
            re.forEach(item => {
              if (item.name == 'startFlow') {
                if (item.right) {
                  this.getStartFlowRight(item.right).then(res => {
                    if (res) {
                      this.startFlow = true;
                      this.startLable = item.desc;
                    } else {
                      this.startFlow = false;
                    }
                  }).catch(() => {
                    this.startFlow = false;
                  });
                }
              } else if (item.name == 'print') {
                this.printLable = item.desc;
              }
            });
          } else {
            this.startFlow = true;
          }
          this.reloadOnlineForm = false;
          //如果编辑的是草稿数据
          if (this.action === 'editDraft') {
            this.editDraftHandler();
          } else {
            this.handler();
          }
        }
      });
    },
    getStartFlowRight(rightStr) {
      return new Promise(resolve => {
        let rightArr = JSON.parse(rightStr);
        for (let i = 0; i < rightArr.length; i++) {
          let right = rightArr[i];
          if (right.type == 'everyone') {
            resolve(true);
            return;
          }
        }
        let userId = this.$requestConfig.getUserId();
        this.$requestConfig.getUserRightMapByIds(userId).then(resp => {
          let rightMap = resp[userId];
          for (let i = 0; i < rightArr.length; i++) {
            let type = rightArr[i].type == 'pos' ? 'job' : rightArr[i].type;
            if (this.calcAuth(rightArr[i].id, rightMap[type])) {
              resolve(true);
              return;
            }
          }
          resolve(false);
        });
      });
    },
    //计算权限
    calcAuth(btnIds, userIds) {
      if (!btnIds || !userIds) {
        return false;
      }
      let btnIdsArr = btnIds.split(',');
      let userIdsArr = userIds.replace(/'/g, '').split(',');
      return userIdsArr.some(item => {
        return btnIdsArr.includes(item);
      });
    }
  }
});

/***/ }),

/***/ "4ef4":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin

/***/ }),

/***/ "5118":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {var scope = (typeof global !== "undefined" && global) ||
            (typeof self !== "undefined" && self) ||
            window;
var apply = Function.prototype.apply;

// DOM APIs, for completeness

exports.setTimeout = function() {
  return new Timeout(apply.call(setTimeout, scope, arguments), clearTimeout);
};
exports.setInterval = function() {
  return new Timeout(apply.call(setInterval, scope, arguments), clearInterval);
};
exports.clearTimeout =
exports.clearInterval = function(timeout) {
  if (timeout) {
    timeout.close();
  }
};

function Timeout(id, clearFn) {
  this._id = id;
  this._clearFn = clearFn;
}
Timeout.prototype.unref = Timeout.prototype.ref = function() {};
Timeout.prototype.close = function() {
  this._clearFn.call(scope, this._id);
};

// Does not start the time, just sets up the members needed.
exports.enroll = function(item, msecs) {
  clearTimeout(item._idleTimeoutId);
  item._idleTimeout = msecs;
};

exports.unenroll = function(item) {
  clearTimeout(item._idleTimeoutId);
  item._idleTimeout = -1;
};

exports._unrefActive = exports.active = function(item) {
  clearTimeout(item._idleTimeoutId);

  var msecs = item._idleTimeout;
  if (msecs >= 0) {
    item._idleTimeoutId = setTimeout(function onTimeout() {
      if (item._onTimeout)
        item._onTimeout();
    }, msecs);
  }
};

// setimmediate attaches itself to the global object
__webpack_require__("aca7");
// On some exotic environments, it's not clear which object `setimmediate` was
// able to install onto.  Search each possibility in the same order as the
// `setimmediate` library.
exports.setImmediate = (typeof self !== "undefined" && self.setImmediate) ||
                       (typeof global !== "undefined" && global.setImmediate) ||
                       (this && this.setImmediate);
exports.clearImmediate = (typeof self !== "undefined" && self.clearImmediate) ||
                         (typeof global !== "undefined" && global.clearImmediate) ||
                         (this && this.clearImmediate);

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("c8ba")))

/***/ }),

/***/ "5291":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin

/***/ }),

/***/ "52cb":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_SelectTree_vue_vue_type_style_index_0_id_0490c08d_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("ca30");
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_SelectTree_vue_vue_type_style_index_0_id_0490c08d_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_SelectTree_vue_vue_type_style_index_0_id_0490c08d_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */


/***/ }),

/***/ "535b":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Organization_vue_vue_type_style_index_0_id_47f30d0f_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("4b76");
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Organization_vue_vue_type_style_index_0_id_47f30d0f_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Organization_vue_vue_type_style_index_0_id_47f30d0f_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */


/***/ }),

/***/ "5360":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_9307fa3e_prod_lang_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("7619");
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_9307fa3e_prod_lang_css__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_9307fa3e_prod_lang_css__WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */


/***/ }),

/***/ "5421":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_d448fc40_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("c960");
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_d448fc40_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_d448fc40_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */


/***/ }),

/***/ "5422":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_UserSelectorDialog_vue_vue_type_style_index_0_id_4acd9d43_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("2b12");
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_UserSelectorDialog_vue_vue_type_style_index_0_id_4acd9d43_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_UserSelectorDialog_vue_vue_type_style_index_0_id_4acd9d43_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */


/***/ }),

/***/ "54ed":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin

/***/ }),

/***/ "55f3":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_02b03061_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("30a8");
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_02b03061_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_02b03061_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */


/***/ }),

/***/ "565f":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_JobSelectorDialog_vue_vue_type_style_index_0_id_68d2dfdc_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("4e5d");
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_JobSelectorDialog_vue_vue_type_style_index_0_id_68d2dfdc_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_JobSelectorDialog_vue_vue_type_style_index_0_id_68d2dfdc_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */


/***/ }),

/***/ "5877":
/***/ (function(module, exports) {

module.exports = require("jszip");

/***/ }),

/***/ "597c":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin

/***/ }),

/***/ "59e8":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Form_vue_vue_type_style_index_1_id_056f450a_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("91ab");
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Form_vue_vue_type_style_index_1_id_056f450a_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Form_vue_vue_type_style_index_1_id_056f450a_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */


/***/ }),

/***/ "5a03":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("025e");

var FormMath = {};
FormMath.toNumber = function (x) {
  if (x === null || x === undefined || x === '') return '';
  if (typeof x == 'string') {
    x = x.replace(/,/g, '');
  }
  var match = x.toString().match(/([$|￥])\d+\.?\d*/);
  if (match) {
    x = x.replace(match[1], '');
  }
  return Number(x);
};

/**
 * 返回x的绝对值
 * @param  {[type]} x [description]
 * @return {[type]}   [description]
 */
FormMath.abs = function (x) {
  return Math.abs(x);
};

/**
 * 把x四舍五入为最接近的整数
 * @param  {[type]} x [description]
 * @return {[type]}   [description]
 */
FormMath.round = function (x) {
  return Math.round(x);
};

/**
 * 对x进行上舍入，返回等于或者大于x,并且与x最接近的整数
 * @param  {[type]} x [description]
 * @return {[type]}   [description]
 */
FormMath.ceil = function (x) {
  return Math.ceil(x);
};

/**
 * 对x进行下舍入，返回小于或者等于x，并且与x最接近的整数
 * @param  {[type]} x [description]
 * @return {[type]}   [description]
 */
FormMath.floor = function (x) {
  return Math.floor(x);
};

/**
 * 返回集合ary中最大的数
 * @param  {[type]} ary [description]
 * @return {[type]}     [description]
 */
FormMath.max = function (ary) {
  var tmp,
    x = 0,
    size = ary.length;
  for (var i = 0; i < size; i++) {
    x = FormMath.toNumber(ary[i]);
    if (isNaN(x) || x === '') continue;
    if (tmp === undefined) {
      tmp = x;
    } else {
      if (x > tmp) tmp = x;
    }
  }
  tmp = FormMath.toNumber(tmp);
  return tmp;
};

/**
 * 返回集合ary中最小的数
 * @param  {[type]} ary [description]
 * @return {[type]}     [description]
 */
FormMath.min = function (ary) {
  var tmp,
    x = 0,
    size = ary.length;
  for (var i = 0; i < size; i++) {
    x = FormMath.toNumber(ary[i]);
    if (isNaN(x) || x === '') continue;
    if (tmp === undefined) {
      tmp = x;
    } else {
      if (x < tmp) tmp = x;
    }
  }
  tmp = FormMath.toNumber(tmp);
  return tmp;
};

/**
 * 返回x的平方根
 * @param  {[type]} x [description]
 * @return {[type]}   [description]
 */
FormMath.sqrt = function (x) {
  return Math.sqrt(x);
};

/**
 * 获取ary的平均值
 * @param  {[type]} ary [description]
 * @return {[type]}     [description]
 */
FormMath.average = function (ary) {
  var tmp,
    x = 0,
    size = ary.length;
  for (var i = 0; i < size; i++) {
    x = FormMath.toNumber(ary[i]);
    if (isNaN(x) || x === '') continue;
    if (tmp === undefined) {
      tmp = x;
    } else {
      tmp += x;
    }
  }
  tmp = FormMath.toNumber(tmp / size);
  return tmp;
};

/**
 * 求ary的和
 * @param  {[type]} ary [description]
 * @return {[type]}     [description]
 */
FormMath.sum = function (ary) {
  var tmp,
    x = 0,
    size = ary.length;
  for (var i = 0; i < size; i++) {
    x = FormMath.toNumber(ary[i]);
    if (isNaN(x) || x === '') continue;
    if (tmp === undefined) {
      tmp = x;
    } else {
      tmp += x;
    }
  }
  tmp = FormMath.toNumber(tmp);
  return tmp;
};

/**
 * 返回保留小数点后b位的x的四舍五入值
 * @param  {[type]} x [description]
 * @param  {[type]} b [description]
 * @return {[type]}   [description]
 */
FormMath.tofixed = function (x, b) {
  var tmp = FormMath.toNumber(x);
  b = FormMath.toNumber(b);
  if (isNaN(tmp) || tmp === '' || isNaN(b)) return x;
  return tmp.toFixed(b);
};

/**
 * 将数字转换为人民币大写
 * @param  {[type]} x [description]
 * @return {[type]}   [description]
 */
FormMath.convertCurrency = function (x) {
  var tmp = FormMath.toNumber(x);
  if (isNaN(tmp)) return x;
  //TODO 转换为人民币大写
  return _utils_js__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"].convertCurrency(tmp);
};

// 解析表达式中的字段
FormMath.parseFuncexpField = statFun => {
  var myregexp = /[{|[].*?\((.*?)\)[}|\]]/g;
  var match = myregexp.exec(statFun);
  var arrs = [];
  while (match != null) {
    var str = match[1];
    var has = false;
    for (var i = 0, v; v = arrs[i++];) {
      if (v == str) has = true;
    }
    if (!has) arrs.push(str);
    match = myregexp.exec(statFun);
  }
  return arrs;
};

// 计算子表中的行运算
FormMath.calcSubExpValue = function (exp, scope, prefix, index) {
  if (!exp || !scope || !prefix) return 0;
  var reg = /\{.*?\((.*?)\)\}/g;
  exp = exp.replace(reg, function () {
    var name = arguments[1],
      value = 0;
    if (name.split('.').length != 2) {
      throw `子表运算中${name}必须为xxx.xxx格式的表达式`;
    }
    var val = _utils_js__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"].getValueByPath(scope, `${prefix}[${index}].${name.split('.')[1]}`);
    val = FormMath.toNumber(val);
    if (!isNaN(val) && '' != val) value = val;
    return value;
  });
  if (exp.substring(0, 16) != 'FormMath.tofixed') {
    return FormMath.isValue(FormMath.tofixed(eval(`(${exp})`), 0));
  }
  return FormMath.isValue(eval(`(${exp})`));
};

// 计算表达式中的值
FormMath.calcExpValue = function (exp, scope) {
  if (!exp) return 0;
  var reg = /([\[|\{]).*?\((.*?)\)[\}|\]]/g; // eslint-disable-line
  exp = exp.replace(reg, function () {
    var symbol = arguments[1],
      name = arguments[2],
      value = 0;
    if (scope) {
      //子表统计计算情况，多行数据
      if (symbol == '[') {
        var valArray = [];
        var subMsg = name.split('.');
        if (subMsg.length < 1) {
          throw `子表统计的表达式${name}错误`;
        }
        const subMsgSize = subMsg.length;
        var fieldName = subMsg[subMsgSize - 1];
        var subTableNameAry = subMsg.filter((s, i) => i < subMsgSize - 1);
        var subTableSrc = subTableNameAry.join('.');
        var rows = _utils_js__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"].getValueByPath(scope, subTableSrc);
        if (rows && rows.length > 0) {
          for (var i = 0, row; row = rows[i++];) {
            valArray.push(row[fieldName]);
          }
        }
        value = `[${valArray.join(',')}`;
      } else {
        var val = _utils_js__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"].getValueByPath(scope, name);
        val = FormMath.toNumber(val);
        if (!isNaN(val) && '' != val) value = val;
      }
    }
    if (!value) {
      value = 0;
    }
    return value;
  });
  if (exp.substring(0, 16) != 'FormMath.tofixed') {
    return FormMath.isValue(FormMath.tofixed(eval(`(${exp})`), 0));
  }
  return FormMath.isValue(eval(`(${exp})`));
};
FormMath.isValue = function (value) {
  if (!value) {
    return '';
  } else if (value == 'Infinity') {
    return '';
  } else {
    return value;
  }
};
/* harmony default export */ __webpack_exports__["a"] = (FormMath);

/***/ }),

/***/ "5a63":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_DataView_vue_vue_type_style_index_0_id_319bba8a_prod_scoped_true_lang_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("243d");
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_DataView_vue_vue_type_style_index_0_id_319bba8a_prod_scoped_true_lang_css__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_DataView_vue_vue_type_style_index_0_id_319bba8a_prod_scoped_true_lang_css__WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */


/***/ }),

/***/ "5ad0":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin

/***/ }),

/***/ "5c25":
/***/ (function(module, exports) {

module.exports = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAXwAAAEYCAYAAABfgk2GAAAAAXNSR0IArs4c6QAAIABJREFUeF7sfQeYHMXR9lszmy4nhVPOAckICYlsEAKZDMYGZMAGm+zwfdgYJzBYRzL8DtiGz5honAATjMkZJLCRhBBKRKGcL+fNM1P/03O3p7293bvNsed57kHcdah6u+ftmurqaoJ8JAISAYlAEALMrOzvQrXXh2EgbQJAo5lpDMMoI4IDIAcIXjbYSYrSyjrvs6jqDlY8+4p9jqYRI6hbApqdCFB2iiWlkghIBNKNADPTtmbMh2KcSczVDFiIoEQjBwMMhsGApqq0xdXufmL2pNL6aOrKMulDQBJ++rCWPUkEshKB3R1c7fPpJ4N4LhFVJkNIsQAQ8x4GVk2usbxFREYy2pVtJIaAJPzE8JO1JQI5i0B9PZc4LdpRIDqXgNRxAVGTZmiPPFpj21QniT+j8yV1g5xRtWTnEgGJwGAIfNbEo22K9gMGlaeU7HuFIIJusPF5W7X1jwuI/HJ0MoOAJPzM4C57lQikHoE6roSBhbiZng3ubGuTdgYIpxFBTb0QB3ow/fwG14P1R6aMcGxOZ9+yrx4EJOHLmSARyDcErueRsOOrYL4RzA/gJnWpUHHNGrZWT9IvBnB4JlU2GD6w8Zcpw6xriYgzKUuh9S0Jv9BGXOqbxwgw4Sb8DAZfA0INAAUazcKt9CkzW7Y3G99nhaelw4UzFMjMIprHeHBilW3dUGXl35OHgCT85GEpW5IIZAaBW3kM/Ma3AfomCOOChNiHOmWMCLfc3qpfmmnLPhQc4dcHG3+bVGNblRngCq9XSfiFN+ZS43xB4HoeBYtxIRT6BYDygWrRa7wUp2xt0c9WCKdkp9rsKbFbfjmylBqyU778kkoSfn6Np9SmEBD4X7ajxvgdQBcAqIi8F8e/3vUD5T5N04WLx5q90HCjXm25dRqRN3tlzA/JJOHnxzhKLQoBgTqeDOAKgK8ATB/9oM/0auPKl7/OMwEqGapspv+uEN6eVKX+E3ITN6VDIQk/pfDKxiUCCSJQxwr8GAeLcTWIvgfAHtKiH4wdIEwL+b3xxDnaDw8bo8xMUIK0VTeg3zOl2v5h2joswI4k4RfgoEuVcwSB27kKXtwF8KkAqsO4blwAXwemn4MwIlgrm4pPP/suvw6CJUe0BTO2TKlRf5cr8uainJLwc3HUpMz5jUCd71BA/TaYLgQhkjvmQ4CuB/MtIMwNBeTsGXj7zpP5oxwDihWrcs/EMvo0x+TOGXEl4efMUElB8xqBgOvGatwIpksQOUulSEL2Pnz0FdjMjduvhcGFHzyTHz9xIhpzDTNFVfaOr8BviUjPNdlzQV5J+LkwSlLG/EbA3IzluwAcC6BskBPwDNAtaMEvUYPrAb4xXFmbBd7nvsZ/n1ENZ64BRwSf5nP9ZmptWc4tVrmAtST8XBglKWN+IlDHJwDGlWA6F0PltWE0g4z/RZ3ln7iJLwPzH8Ns4Jo4ldvRtfISfrjEjpy0khVFeXV8Bb2an4OeWa0k4WcWf9l7ISKwlMtBxgMAnQ3ANgQEItfMNvhpIW6jvajjL4D5PRCKI9WbW4tNzy3h53MWWhUd48qV28TXy/79cBilKFL9GOkxMIJUvRikug0dTiuw18no1BvhnT2bfDmrbxoFl4SfRrBlVxKBHgSYUIcqACNAxkIwXQTGkeGtfPoLPPgh7qA2/JwnwMrvARg5GJI3HIunr5jHW3IZbTJ4JVSaTECpwSgy8wKFeYjhY4KTwbtUQ3173DDam8t6p1p2SfipRli2LxGIBgGR4dKmLwToiwDNB2MqiP+EFuV23E3eHyzjyv/7Dz+pGVg8WHMWBf51V/EfKq3Qouk2n8qI9MtM/KmiqCvHVVBOL3ipGhdJ+KlCVrYrEUgCAiLx2Tv7MPaKf/ELn7dizlBN1pZh/+rL+M9Dlcv3vyvgDf429flJk8iT77rGop8k/FjQkmUlAmlGYHcbH9/kNE748Zt04uo9+EKXP1yStANCzR+FDc8s4X4XnqRZ5KzpjhmNPp/y5NRakhE/vaMiCT9rpqcURCJwAAGRv353q3aiYlEOD+Sv92hQXtqM0a9toymfNmPcnk6M8Wimf7vvPb54Dl68/UReLbHsQYANdPr9yj8njaB6iYm88UrOAYlAViKwt8V/NKvKIiHcoQ/S92bVYNtp0/jTC7+AHQGBfQzl3jWY8c+P6Jh9XRitG7D86Qy+94yp2JeVSmVIKAI0g5QHxlVQa4ZEyJpupYWfNUMhBZEI9CCwu9V7sGKxnEZGT2TKYQ/RVXu7MOGQWqx/+Xx+IhQncfR2ezuKP2pA5clTUO+wQPxKPv0Q4KZRFepfqcAvUJeEL18LiUAWIbB9OzusVca3KOhCk7OfoHM+2I9D7zmV/3jmdGm9xztcDOODsZXWN+Otnw/1JOHnwyhKHfIGgX1t2leh0sRghb7/Kn3R7YP9/jO5oMkq4UFm6PvKlQcWELkSbitHG5CEn6MDJ8XOPwT2dXYOYy45n9A/pfGrWzHyoBp0jq+EO/+0TrdG3DSqXH2UCvSiFUn46Z5vsj+JQAQE9nfxQhjGwRKg1CLA5Pzn6PLy5tT2kp2tS8LPznGRUhUYAsuYLbO6jcuNCCkECgyOlKqrkPLuyFLakNJOsrRxSfhZOjBSrMJCYL+bJ5Jf/1JhaZ0ZbYnUlpFl9HRmes9sr5LwM4u/7F0iYCJw03Lt1BMm0LQZNZxzOexzcAi5o0F9ZNo08uag7AmJLAk/IfhkZYlAchCw3WK8N60a3mXfNB4KmxYyOd3IVnoR0J3qKyNHUkOhASIJv9BGXOqbfQjcxNeWWPinL13IN84eLi38dAyQrqkrRlbStnT0lU19SMLPptGQshQeAnU8DOBNX51Jj9x3FlYUHgAZ0ljB2uEO+jxDvWesW0n4GYNediwREAgwYSnG7PohZpdYB8+EKfFKHgKGhg3DyyXhJw9R2ZJEIF8QqPMdDljPArARdTQgl00y1Gxz83Fg1CSjLdlGFAgQ1lUVUV8iuihq5EURaeHnxTBKJVKCQB1XA6gDxKXh+AxMD+Jm+lNfX3WsoI7iS1RWx5PRgf34HZmnZ5tdfITKg19dmBIdE2jUrUN5ZTNGzBqud86oUXMqXYHXwKrassLLky8JP4EJL6vmOQJ1fDzA98BGC7EOrXiS9D6Nf8QlKOX/wkuLcTu1xIREHdeC8QkIN6CO7hF1W7p4Ninol0MnpjYzUPhny3Dog2v55yOK8ckn36EbMyBC3F06i/HWOOpZbAvpkYRfSKMtdY0dgTouRl2YZFtis5X5dRB9hDq6KOqG7+AKePhJAHYwnYmbqFPUbXLyaJuKnEqrMOP/+Jb6bhxW5cCmHT+g70eNQYYLGgx3VRG9k2ExMtK9JPyMwC47zQsEfs0lcPIOEF2OpRTdtYK/0L8PhS4H6IjghUSkRR5Wi6P1HLmU6IG1GP/j1/khcdvWwgl097PnIzr9s2DgibCrwkGbs0CUtIsgCT/tkMsOsx6BOp6Iuig39OoE6Rle1KnfjUqvOrbAgzLcQW2h5Vu7eQ6pEPsGWf8c+RB/b1MzzhWC/uZLxsWXHaruznqhewVkB9ZVE3XkirzJlFMSfjLRlG1lJQIvbeZyC3CyAZyyaq8BVpQPDQPvdduw/ndHh/hxl/JoEG9EN03Ab2joNAd17EAdeQZV/DxW+/n/IxRuZa6wuPGF4DtqsxJQALW/43+4/JhQU4Q1m6+mH1oYHJBVI9Ctb+szH/tIuZAZluUX0dLR5fBlgy4M+MuL8D5RnJvt2aBEAjJIwk8APFk1exF4ZTdXKz5MNhjfBOObRCgT0q7azV4Q7KbkBBcbeIvIeI4V9V2oaP7lmzjJZ/A1qFPmJ0W763kkbPwIoP0Edba1g7XJzEq7E3NUxbyYPGufHy3DnPvfZxGtpF+/kC752RHYGhD2ze2orHsHX97QyJeDoQLQ3riQTjt8LLozrRCLO829+KyqitozLUum+peEnynkZb8pQeCVLbxIIdxAwBwAlRxymcjqPexlsWEa8hDBD6D7vb3AOzvg+tGxdKVehTfqZlP8lukv/CeD1MdAWIEiugA/pa6hlGZmm8uPOVoWp0ke81t+oNuLOSVWfP7e5XTpuCr4/RrovKeMk/+zg67WDNMtRQLT+aP47he+oTxRZDnwBTAUBqn6u91Au6MAT9cG4ykJP1WzS7abFgSEJW/VsZANnELASYzBQxsF4ZsRMhGeNjfw2MfAdxaYu6fdJKJwYKwF8zpdV9drTdhYtyRkEbjRfyxUyzTU0Z/7mhVunNn8OgxeBo/ye/xqaLIP1HW5eAxbUJsWAOPo5OzHsHjlXj5/QS3965lv4OVrXsKcZzfx5a1uHAlAEUQ/ophev3iO/re6ReqWOLpIehVm+NsasXncuMILxZSEn/TpJBtMJwLv7Ofhug8zSMcVBrAEgCPa/lfvDXLpRKjELMzTiC36CHgDoKd1AyvZh5al7xrf0ZjOhY++hF/S/r6azIQ4r9LzME/R/CiNVq9MlFvfiKKvP2l8d2cHXYCeLyl2qNh22jT+9d++qqzKhExh+2Swtxs7amp6QmAL+ZEWfiGPfg7pXlfHynHfwqkqcA0DBzEwstdHHJMWa6Ig/OAGNR3Y0wmMrxSm64CufFtb0fLcZrLs6+QKIjRNH0sHbbosems+kvDMrHZ6MVkJ7DfEpGV6Ci95Ase+vJX/KNw3CsF5yEj61R0n4NWjJ2Doze70iGj24rdhd6FG5YTCLAk/jRNPdhUbAu/s4FEMnECEk5lxIoDRsbUwsPQH+wZ36YTWaHAC964BPBpQagNm1ADnzjpQ6qlPgQ8bgGHFwHmzgNoyiBQDG8G8npnXWlR1bflIfHzJpCEiecIoJjZx3W6MUdXstPRvX4Exd67kX5TYaNdl8/C3G7+IrArNZIZut6OBCjQEM9y7Igk/UQaR9ZOIANOy7RCW8kGqimtg4GwA1iR2gLWC8OOwmju9QKMTUAmYVNVfIuH392om2Ud63Ax6mVl/mjT1P0VF6Kjahu4lS4JSNQyiJDPXeL0QvWbt+9rqg/rfHSjZ3w377k4Ur9iP6bvbjNnlDjQs/4byeJkN8eUcinPwmaE5HNhLlMCme5x9Z3O1rJ1A2QyalC25CKxZw1bfMJxnEL5LwFQQhnOKolTW17MXHHnTNrmahWmNIDaN2whoAdEyEJ7/7ny8MVRcODNbXS4MV9XsDNkcexff3ubGIoNRzD17KubFXQR4/3UuHXHa1LSFZbLbjdbKSnRQnPsnKZ8DGexAEn4GwS/krlfu54mKgRNFdA0Di4D0pAbe0JBhwg/nugHcRNhIoLUgYz3pyjpPFTZeHebOVWZ2dHWh1FIGB3nMjdKseMp/zcv9Bib0CmMohBariv3lNl6//FvKLZPLoKVMUAfYAXMhFcnQRGTVgSR3Kes0NxuWhJ+b45ZzUotN11MvR5UKzGHCzwzgxHg2XRNVfGMDe2mQsMxY2+/0AHZLz08yHwLcDLyhED1mU/Efpx9d+7vgrFtEfcQpYvYBFHUDdgXmIScUJ1OIGNq64ClMWrbbOGFChfLx5fPx8RWHYMgzBzE0369oIA+zDvjKAHHK2T3UF1K8feVbPUn4+TaiWabP82u4eFQtLoaCKwCMF5Y8c+Z80R81JdfCX7ocWDQROD6FiY0J8IFECmZuBtF/2cC/0Y7/XLIo9o3gLJseUpw0IyAJP82AF0J3G+p5kqZhIak4DeIwFKMiW/T+uCl5Fn5DN3DjcuBXi4HKqE8CJAcJcSgMhLXMvBpQ1kLHJ21l+CycGyg5PcpW8gEBSfj5MIoZ1kHEjK+rR7VKOIqB6wEcnq0RJZ8KCz8JLh1xOEtY91OqgW8ekuEBCHTfsyH8OrPxuIXUd5z+9s6d7ZXdwW6gLJFUipEhBCThZwj4fOh2TStX2DVcDMb5ENE1wPBMumuiwXRTc5IIH8C2th7LvibLUp0RQaxHHgIamLGPwKsMUl7Ex3g72lDQaLCUZXIPAUn4uTdmGZOYmenzFszQGMcTcAYzThCbhhkTKI6OP29JDuHH0XU2VBFnEFYT83uAss5Q8LHWgs+XhKaIzgZJpQwpQUASfkpgzZ9GxWnPhgYUtRJOIsLNIMzOVndNNKhvaU2c8IfItRONGNlThsxQxpcU0GM+J960l8K9+hH46+K9nD17NJOShEFAEr6cFv0QuOhpHqEzim79IjyaissVwpcZmMpsnvTM+WdrW2KE7/QB/7ca+O5hQFnEnJs5C5MHhHoC9rv8tMpiw+/PmkK7clYbKfgABCThy0nRD4Fvv8CvuDWcVG5D19RqFI+rANU4oNUUw+5Icqx5JqDf3h4/4Yt8Or9Y1pNE7bYTANU8S5o3D7s18hKxzekjd4kVJUUW7IUPhyw+SISEyicfEJCEnw+jmCQdvvlvXqIoeDxCczy8GE2HjUblzGGwOixgVTGzCOfUHNrRbkayxGWbP/ER468bgQfOJIyOnDcnSaOR2mbExq7B5uYuWp1o1hjVw0vCntz97eLJ+DFAfVcYplYy2XoqEciplzWVQBR625c/yyMN4H0A44bCQiHoZXb4a4pgH1mCzunVKBpbAVsuWLy7OhD3Sdu3tjNqioFDRub2a+PR4Wp0wlLlADSGpdjSk/cmwuPXCVecPIn+OtS8kH/PfgRye+ZmP745IeF5T7Ba6cCDAL4Vr8CqAt+oMrhm1KBieDG8w4uhVBbBlm0TbE9n/BZ+vNhkvB5B7/RCsxCUJjf0SjsclhjcUQTsYRvmLh4rXTsZH8sEBci29zFBdWT1eBC44gU+SwGejafuYHUsBN9Bw9F0zDiMGlEyqBWZ7K4jtrdfEH4M6ZGFHyNXXxID0La2oM1uRU25PTH8Gdhi2YmDFgXl8knboMmOkoZArs7lpAFQ6A3VPcG2phKsYyDoWo8ko0JgK8FXXQSl2gEaX4n2mcNQWW5Pf7bH+q7oCf+zZuC6Nxg3LCTMH5VkTFLUXKcXzmYXHCU2aDrDZleTt14R45oTp9DvUyS6bDYNCEjCTwPI2dqFcOXUluFeZlyeCRnL7OiaXg2eXIXSKgd8VUWw2dTELNGh9Gjsjo7wN7cyvvMCcPQ44OZF2fuaGAyty2dq7dvdCWtNEaxhrmIcCpZo/+4hAyeeOJVWRFtBlssuBLJ3JmcXTnkpzfde4dlWYC0AkWY3K54qB9qPGAP/3FoME1FAyRaq2Tk04RsMXPYcY85I4Jojky5CUlTy6/BsbIS7ugiVtiRa8UMJZzA+O2kKHTRUOfn37EQgO2dzdmKVV1Jd+iyXVRVhBTO+kI2KEcEot8MzogS24SXwT6iANr4cZYlGArW6otu01QyYMYtWM8t8djxNbnR3elHMDB8R7NYULIiDaSrwEKGcfh2PuKbjW0vkRSPZMTFikEISfgxg5VPRn7zBNzLj5lzSSSUYI0vROXMYikaWQkQWaeU22BWK/kug3R2e8HVDJENjTK2JobEUg+c34OvyQXX54GxwoaTK0XPJSaYeQfh+A/DrgGbg4nNm0d8zJYvsNz4EJOHHh1tO17r+FR5lWLEZjJJcVUQcHFIJLA6Aja1Ax9Fj4BheMvSFT51ehL3T9q8bGL9fBTx7ATC+PLOvhdOP7o0NUKpL4CAGUZasQWJRFF8+gvR9Orq8hBkXzaL9uTqHClHuzM7sQkQ8wzr/6FUucVjxXwBzMyxK0ru3qdArHfCPKIF9eAncU6tAFXYUiePAgafLBy8FXWIuCOzOVYxHPgTuPEncXkVm6oR0PsJ9taMdbp8BR7cPukWBLZY4+XTJqul9ZC8IX/ws82g4+aoF5E+XDLKfxBBI89ROTFhZO3EElr7D34ABcWoyhqM3ifebqRaKrNAmVcE1axhKS6xgcTbAqh5I6dzlZVz0b+A7C4CTp6bndRBfJ24Nfo8flr1d6Oz2oaLUFr1bKhNYio1s07rvIXrzx6uDPTqua3wBv5bZNTMxKrH3mZ4ZHrtcskYKELjlbT4IhA3MsKag+axuUiGwsPRVAkpswEHD4DpoGIrFxqcgsnRZ1I0utH/chKLqInMMciIXkTh8ZvSSfa87B17NJHx4DBiahhOvOYqWZ/UEkMKZCEjCL6CJ8Mt3+FkQzioglQdVVbBtqR3GiGJQdREwuhQ8vASKWBSS9Yg4+W3t0AwDaqMTVGSFJd0uo0R1EZu1AeteEL4gepPwA6Sv42N3F46rO4VaE+1L1k8tAkmc2qkVVLaeGAK/WsEXgPEIy0V+UCAFGY8uA0+qAA0rBkqsQLG1xxSP8uFuH/w+A7Sp2bxcpDybQjuj1KFfMdO6P7BZC1+A6DVApIwWP14NjyuLcGEdkRFPH7JOehCIfhqnRx7ZSwoQuOM/PN6mYg0Dw1PQfN42Kcjfpvb8TKwEplYD4ksg0rOtFW27ulAuFgnuSZufF++XsO7FjyB6X8DC9wMe4dIRhO8H3Dr8bg1Lfn8yPZO3EyIPFMuLCZkH45BCFZj+sAqPEuFr2X7BeApBSFrTdksP6Q8rBs8ZCe+2Vqg6oDc4YSuxQInhSyBpMqWyIbFZK8IxBdGLjVq/IPhel07Aunf3kr5Lh8dn4PD7T6cPUymTbDt+BCThx49dTtT84/t8LjOezAlhc0jIBie3efyoOmkKxeLuySENe0QVZB84bCUidPr8973WvSB7t7D2xX97fl6vt+LMl08jcdGMfLIMAUn4WTYgyRbnT2tYHLCamux2C729He3c+OwmjPjFQmBESf6+RoHYe3Ozttd3H9iwNS37ANELt475b2aPnx94col6VaHPkWzUP39najainUaZnniC1Y4puAfAlWnsNu+7EiGKwp+9q5fwF04Azp2dn6+RGXsfctgqQPoBsjf9971Wfs9/Wbh8uru9tPi1i+m9vJ8QOaZgfs7UHBuEVIj78Ad8LBNeA8GRivYLtc2AP3t3Bze+8DlGCByuORKYUJlfr1JvorQ+d07vQSvTyu+Nygm4cPpcOi6N4fb1+Phdfjg1L81cfgXtKdS5ko1659cszUaEMyDTnSu4aFgpNrIhXTnJhF+QoLBihZW/u5MbX+wl/JnDgCvn59erJHTVRbK0oJO1JtEHbdj2t+xNd45J/oHfezV+fMXl6vnJHAPZVmII5NcsTQyLvKn9jw38SyJclzcKZYkiLn+PO0cQ/t5Obnxpc4+FLw5qXTIPmDEsf14nEXuvcW9kTvBmbZDf3vTf9xE8m0QvMOr7vQ72+uiajd+jP2TJEBa8GPkzQwt+KHsA+McGHmtR8SmAUglJ8hAIkFigRUH4r2ztIfwA6d9wHFBkzf1XKti6D02lIFw6A/z3JtGzSfT9CL8nXLPVrdGs7T+ghuSNhmwpXgRyf3bGq3ke1nviYy4lwkYwJuWhehlTSVj07W7z8g/TuhfPvi5ufDWI8MXvzpwOHDUu91+pQOy9SfbisFWvhR9w6fS37AMunB4Lv8/i743NN2P1dWztUujQ1qupM2ODKDs2Ecj92SkHsg+Bf3/G32fGnYWSCTMdQy/Ir8NzwJUjrF/x7O/ixje2HbDwxe8cFuDbh9Ggp3HTIXMifQj9+i466SV802/fG3cf2LQN9tUH++77LPyedAtNHo2f8unK33d24D3UybQLiYxNMupKwk8GilnQxtOf80EWAxsZsGSBOHkjgiAwcUl4gOhNvucewn9zR3/CF3+aNRxYksNhmqGbtYHDVoHInEDcfT/3jcZwHYjO0QXRu3R+uMuj3LFFWvVZ9S5Iws+q4YhfmGe38UjFj/PAuAQK5oILI999/IgNXVO4NFpdgMgGFiD6gEunvpsbl20fSPgiUdr3DiOU2YduPxtLBF9jGHrYqs9332+ztjc6RwN7/FjTrdF1XYwP1l9C7dmoX6HLJAk/D2fAq1t4nA4sAuOLzFgAmBeVF1wO/ESGVhB7i6snLFH82/zpZXvxnwYnNy4PY+GLPkeWAN88hLLqAvRosOjLex900Ylw5Qg/voitD+TMCTld2+nR8axL0x5+7muW5QAF1sRoupRl0oyAJPw0A56J7l7fyhV+4EIy8C0GJhOhHIAtE7LkRJ8MdPuATm8PyQcYLJj0BeH/Z+dACz+g35kzhHsnt16vvrz3vYQfIPuA/z7InWO4/Wj2GHiI92Dp/VfJKw5zYl7LTdtcGabkyFnHrBz2CUYoDoxTGYsY+BpIun9C0RUE1+wKIvte0g9Y+mIFaHRy47u7IhN+pQP41jxK201ayZghZux9UN770ERpIo2CR8c6tx83eDS8f/dp1JSMfmUb6UMgt0yQ9OFSMD29vpXHM2GhYuA4JhwKwhfAhWv9Cyu30dUTiiiIPdSVEyB9Qfgrd0cmfDGBjhgLHJNDYZpm3nvhwulNhSwwEFa9T0Ob28CLPi/+/PPjId02OcwOkvBzePBSIfpnzfyQ04dLRWSKyBtTSA5ZQfbtHsDpP2DdB7t0+hYAiC8Ably1Z3DCFzdlXTqPzJtQsv0Jvsawl/DZp8Pl0fGA7sCN35tN3dmug5RvaARyYCoOrYQskTwEtrbxQ4aBSwXRC8IXVl/gQI2I2sjnR7gwWpy9UTnBvvvAv4NcOy0ubly9d3DCF1hNqQZOzoGc+YFrDIVV3+gEPmvhjQcPp8WXHirdNvk05yXh59NoJkEXQfjMuDRg2QZHpojP/d6Tk+ZCIH7y5RGLm/DbB3QKuHKCwzGD/93i5sb39w1N+AKfs2cCo0qz91ULJIXb3cH4rAWo7xZfOLTyqSV0dL6Mr9SjB4HsnYVyhDKCwHZh4QvC7w1DDLh0xInTYJ+2+QUgskf6e/KniH/n6iNE7wq4ckL07nPpBFn3AgdB+Gv3R0f4Y8qAU6dl381YPTH3jM+bgTX7em62CjwMWvnEeZLwc3VOR5JbEn6+jWiC+gQIXzRj5kTvbS/Y4u+3kSnK9KbSNSM8xDF8o8cdlCuPSBcgfPfmooYD/w1d9ILJv9XNjevroyN80ebCicK9kz2vW5uH8WFcAqr+AAAgAElEQVQ9sL8bcPrCjBTRykfPkYSfK3M4WjmzZwZGK7Esl1IEBOEzwrt0+pF+cKhi4EBS0AIhyF/4gwOunwCZplT4OBoXvutWz4EN6nCurH6x+L16t7m5cWND9IQvwjRPnw5YMriDK8ZifxdjU4tI7zwUWLTy71+VhD8USrn2d0n4uTZiKZZ3R4Dwg1wbg5FgOMs/2A0U8HsLwg9cj5dN3p9OT88p0tCvlgHhmCEbt20ebvy4MXrCF8M2fzQwM0M587e0MlbviSXqilY+fLYk/BS/bmlvPisJf2srj1cVTGXGeCioIIYtkBSMRKgwQ1cYbiLU+4DtVIlPpxF5045eHnYYjvCDwxFDyT84ZXAg02JwKoJgt0jg78LbI1w+wu8vNoIz5f0RC5A4TWu6r8IscP30Dk6tYIZvcuMnTbERvjDuT5sGlNnT89oJN9WnTYwGZ89eS0wP0cqHzpKEHxNmOVA4PTNvCCB2MxdpLZgAK+YS41AGKmLBTvAGMTaTitXswbZJw9EAkjk9YsEwUHZHOz+EwKZtCMmF+vMFIZqJxUJ93yHunnBkGrxwmJdl9y4A6XL9BNIei0UnnMtmgE4hm7kdbm78tCU2whcYT68B5tam7rUTeyitbsaWVpGzPxaLvv9sIdDK+86UhB/PO5TNdVI386LUemc7LwZwrpHciKHtRgv+NGUKdUQphizWi8Cudn7IAC4dzKoPZ7UHW/WiqQGWf4AwIy0GQb8XfnVx0DVVG7+CzMXBMvO6wqDTtH05c0J+FxyaGijf4eXGzXEQvsBm0URCVVFyp5yQa0cH8FED94u2ibsXopX3nCYJP278srRiRgifmS27OnA8MxYyxW4lRYml4IyNZMWzE0tof5R1Cr5YOMI3XR5BlnBojLpp+cdo1QcvCqGhjwEr34wSCvqKSJbvX2wmi8iUAdFGvaM/IBQzzAZ1lyD81vjmbnURcMz4xE/gCvm7vcD2dkZDd094bNIeopV3nyoJP2l4ZklDaSf8Xv/81xiYmhYMGB6F8JyvAv+Vfv6hEd/VyQ+xgUv7SD7Ev51Uf36EjeHBXEChbiSKcQaLrwaRCTNSH71r10DLPySBmiD8bW3xEb4QWeTZGVYco/C9wye+TNrdbFr0guiTtRCGOHVW/v4USfhDvzG5VSK+GRenjlubeIFqwTeZ0p6cSxhtW1or8IcFJFO5DjZ8gvDRm1qhn2873KZmqOUfxsoPEHRgAQm23vtt7oa6UWJwAYm2xUSOhvyFFSz83GHdTuFCTSPo3e1F47Z27rvEPNZXQlWAEyfFlk1T4LWvE/isWSQ44769k1j7jqY8KbTyt1+ShB8NVrlUJi2Ez8y0oxPnK4yFSfbVx4Q1A02KFX+ULp7IsO0WFj4H+fADG7IhG7ihkTihp3DDWtBBJB4g3IBFHe4kb9/Br14iHrBYhFkkhByC+MVPaMi7eRm3NtC6N2XpFaSf3AGdwywE3T407myPz8IPoD9jGDChcugpLJK57WrvSf0Qc7TN0M2HL0FY+StJ+PGil7X1Uk74zKzuaMfFIByZDSgww68R7pxeSduyQZ5sk2Fv54HUCn3WeXBagTT680MjgPrF9wdFBgVvtoYuCorSS/zckwcomg3ncCeMA18oga8epw+NuzsTI3ybChwxBrCFuYVYuJ4CRC/CKjPwrLx9sbTwM4B7SrtMOeFvb+NLQDgiq/L2MNzsw+2TR1JDStHNwcYDhN9HcCH3ucbq+w6Xi2awE7t97Ye6hyL9f5S/D3bhDIjMGWTDud+XSNAXhcuHxr1diRG+aHt4Sc/F58HuKOGX39rWe71iahz0Q85MAlbecqIk/CGByrECKSX87R18ChhfyUZMiNHgr8RtebyRS3Pnzj1KUZSzmbmWiLoMw3ht/fr1zwU4PNy4CMIPTq0Q6qoJuGAihjNG8MUHE25gMUmFPz+qxWSQzeJQSz7SiVuPho59nbGdFwmHt/Dlz6vt+fIQRN/iTqPbZrAXk7Cy7nhJ+NnIXYnIlDLC39LBUy2MawInZBMRMlV1ifDhhHLcR3m2kTtx4kRHVVXVL4joJwDUEPze6uzsPG3Lli1hTyYLwofIpRN80Cjk5qdgV0sfwUYoH/HUbRT+/GC/er9QzeCvjjAx8wHZI9WPKFPQfkWkPYnA7/069L1dA7CNa6oK107gsvS4GkhNpZU3LpSEnxpoM9dqSgj/syYuc1jxMwJqMqdadD0z8MTESnorutK5UWru3LnXE9GtRAPjVpi5UdO0mR9++GFbJAt/AOGHI/MQKzms5R+l73/QlAwxxvcPdao31GIPjfkf8gumV29Nh76vOzmEn42zSrh0rj9OEn42jk0iMqWE8He08tdJwRcTESxddRlwWhTcPracWtLVZ6r7mTdv3joimhvop3Z4TfsPr/wGJo4dXW6zWW4fP2/RDZFk2N/dc+NVMPH1uTkS8OeLNkKt9H7tRjjYFXYxiNJvPyCxWxRx/4MdIAvWQRB+gzN/CR+ElT89RhJ+qt/VdLefdMLf0c6TAPwo3Yok0h8BG8ZX4AHKk/w7hx56qDhZXCswcdht+174611tVRXls02MGLuh+4+hMQfv7iFcVt5tRomtGyWOYhTXFOE3BHylL/JlEFfNkNZwCv35fYtHKIlHkbohUobPIfclgkJTNQN6kyuPCR9Y+aOjJeEnwivZWDfphL+zjS8m4PBsVDaiTASPzrh1UhW155TcEYSdN2/eeiI6RPz5d0uv/eS4I+fPCirKOivvfIxpf2fgMAJmMiAyu9iJYS93YLTdgvJgSzfYEg8XqtmXaybMhSkDykc6YBWF9R0uuiawnxApuidglfclQwsi7YiZPqM5QGZAb3bnMeETVl5zpCT8fOCDYB2SSvh79nCNUYqfMcOeg0C9P6GK/p6Dcg8Qed68eXcTKd+555fX7T9i3hfGhIbE1mNYUwPXhE0sV2HHCIcF5ZGiU0LJP9wGaDjLv494e6WNy2+fRf58w4De6slfwrcq2HTkeFzGXmyfNw778+XrNx/e70R0SCrh7+wwrft5iQiUrLr1TtitBK4pRrgL3MJ2Q8At4yqoNVkypKOdj5lt3npUWBWUM2EGAcfs2vr58bdee+mRk6dO9f36Z9+z1NaUq8RsjjWTwhpUbTMm72AMTCFdZsdIu4qKYCIPJvBgwjfdPkPEsIdznwTIP7StqEIqkxyfH26TN9JXTEjkktbmQZgjU+kY9dT3UWaD+9BR6HH7EToJWKUbeFexYINioE0z0HVILWXmSFgy1a9jC9g1AjeV7Etms9naVtIIf/duLuJSXAcFpZlWtr4L9rMe4/NsVvj/8mV6fmo1XNHIRMDj4yrovWjKZrLMhnoeoRKOZcJCAqYxTBdMOeFAjqI1775Zcs8dPx/1tfPP777m7PllBKY9JQfv9aLIr0HVvbDqofGaQqdgwu9nzYe56zUcYUci8cDCENH3PphLJ+R0b3ACtUiELX4ffEdtYHEKe3o3yi+H4IUKgNaRx4RfaoN7bm0P4Qc/TNDB6ALQqRD2MGGFBrw9dzh9nsl3Iu6+6/RbAboEBn0DN9OyuNvJkYpxEX4ds/KNbgwrYlRpBkpVghWMEgZOAqBkUvcuHywXPI1TNzTwdDCo0kEd1x3Dr114MO0cSi5ibBzb69ZZw2wd70SN24tqUlGsECwiTTvp8CoOtBlFaB5H5B6qzUT/vraJR9sJM6FhNiuYSYQZzBgj0sWEtr3fCfuGZqPcZlGU+dXe7skdK2uKyWMvK7Ip7Uq181/Oub5GN4q3tBlWrw4sGktNR4yk9uCcM6U21NotPQeKwp2SDf19uNTIgTKRLkwZEOMeJeFGG3KZDn++IHwx1xId32ytX2KF+5Ba7IpaPkYrCJsY+IwIn4Lxyazh2E5Evanqom4pfQV/oV0AUh4CmXtYIgvTj1BHd6ZPgPT3FDXhixz29d2oMhhHM2MBCZLPwufrT2Px8h08P1S0m46nJy+di20it0qkhwndVsIDfg0LQTh4KB01A9utCt7WO7Bz3LjEyX/NGraqU1Bi82MYqTiddZxMhIlDwSyI+YMmrnpxu1EryG5MmYIqO7RLaj7x1VKLw80W/kvHYVq912oXVu/ODt28XlBVwBfNVHdNKIMrMBHKbBhlU1EZzl1jEnnwQhBnfL5oJ+qrEZMYdRNNdI4pW9DGbiAnf6ju4qpNpz9/Cb/YAvecWuwYau4N9nc20M7AG1YVzxsebLOMQXfWnGy/kedD5TUD5edrUafmLelHRfg72vlQC2EhgGpQ9m5U/XYFz/rDapxhGANltKrwXzYXr9+wkDYMOokZBij6rxSlhwOdwrrZV4rnYk2/LL6WvtaKI1jDqVBwKBGqmU0LO6qxEbp80Iyal7frwzWjJyXL5EoF4syVRYFervjgZpXchkrii0cQ2J4uHcLCF49DJeP8GcqeiWUw/bFldoyyKTBzOPbbuO0l3gGkHy5jZZgEa31fBnFG6fRbJALRQGGyaAZ/VQxw6YTKNdR+QBg9AtE+RNDc+Uz4NrhnD0+M8Pu9ZwwnAa0EbDEIL5UNw1vp+EIO+67/L9tRzeshvpwHPh4YdD5upmcTWeyyte6gpLLXxeOg4UvMmJytCgTkemkzaq96gS/hQVxKNhXepcfzv745R9meEn0YLgvhrZHleD/Sp2w9c0lbMw4jwhwDOASM2QSUxStPs5vt939sTPbqPQuEOKY/vjycd/5AD10+Aw3OA1m5xpeR57JZipk9tNRmhmVWhrpz+gi7t5nQlArBfw+3UIRL1RCtPz+Y7EPdNZny5ysEzavlsYVvheugZBL+wAnuJ+AzED5UFKz3a/hg9giqj/c9iKneUv4jiL87SB0N0I5BnW11TO3mQOGwhC/y19e34iDDgvMy7ZOPBsNOPyzHP8yXNjh7DhsN9Tx0Jt1/ylSkbnIp+GR/KZ4W1r5w0wyfilKXFzPJgvPBOCFZmxzCmn1+O497v8Hou/TdqgATKgYnfIHP3i4dbg0otgCnjWwxjhjt2OFVy13FVoyxWVAVieDjjc8PDd8MjYTp2wtIlT8/TCoI060UlD+n799BXzNh8/SLBEUEzafnOeEPQ1pTiOuMjwA8anXgPbUZnZMmkWeodznmv9/GI+FnoVfxEHXfBeh41JEWcx9ZXCEs4Td082JmHCncvFkse59oX/knn7lqLwb47SPJPrwYjSsvo/tKbOZd2Ul/BHkZBsitQYGBuQZhGAGl4TZaE+m8wwfr3RuN6R6tJ+Qy8EyqUKCG3v4R9He/s53rX79fG77gNOOqQ222yfZOgmLx7bLP2ma32UaGI/zQ8EtzQYhwCjfwt0gWfGjdSL51Ua7P1997v+2AtsOlZAi4enoLR+O7D7shHCFySDQrLHzNyF/CL7LANTPNhB8YLgI8Ro/753PdwFMHDce7Sdn8rWMbmD8CYVoU7x2D6KdYSr+OomzOFOlHFMKy39OJw1TC4lj82JnUdsVuVF/4L/6OT4cjFjmOGoP3H19Cz1uUJF0JasCuE2oNA+NAGM9s+uJ9fgMdzEnqI0TBj1pR/eRmfUyAWAN/Hl2qoNjaO7Sss7ZzLfva6hXH9GNY3If66X3fZVd7o+JwOIy7bvmRZ8rIMtPa6VYq27tKp7LNQlV9qRV6/5GwPz9kszeS5TwUOQeHdwaHWga7dvotFIFFI2DJB+9FBC8WMfrzLQRNRx4TvhWuqVXYGss7lcKyTQysIAMrdML6WcNJpA6J/anjswCOxTe/CaC5qEvBl0bs0ielRj/C39fGE0jF+cm2RJMiaZhGWr2wHv4AX9vtiz0vuarA/68l9PsjRyPeg1ZiA1SQfLlhmF8Xk5kHfhEZgFeQfiowWLYX49Y0GNUd3gP+eNFPbbGBUrsZRMXG+4/6Wz952yb+p2rURM+ONr+t8cPlfV6lqQcd3HX3dZdZbPCK0DS0l0z36PYKc/EMJv3gqB3zb6HEGWGTN9v8+ZHi8GONzxfzhzg7I9WSMdccFjgnV2NLMtpKZhss7kglrDMYfyuyYv34CnRGbf3XGa+iJ3Q8+scwzsDNlhejr5DdJfsIv4m5TOs0ryIsyW6RD0h30zvGvHvX0PnxyltdhMaVl9Afyh2I2k9nAAoDk3TGwSyilhiloMgRNcRgjeHUDSQ9Zv+lXZi8r5vLdnYYfeR8Ss1+nFSxF3/tmAf/zrWe/cv+amc2AuPMDY2N6OzoCF7o+Xe3XN89Z0KFuXHsdQzn7uKJPadye4Hty5XT+8sBoZmDhGcG2gm23MP9LtImcLiomwE5+CNF/sQa0hnl/oGQ3yIIH3lM+FY4J1ZmH+H3e9cZIsX3TlbwiqbhhdkjqDsiF9TxXIDfF0MXI198iDplTox1srZ434u/v4NPU1QclLWShggmjrUf/SBf0+rByERk/t8j6O83HItBQzUZsOk6xhrARGZMZcS8KLJXRys4uXsGz+zAjHYvip1+A/XdjGklTiwd+wEsxNjS7TDu+su/4HV199sj9vn92LVzp8iS2Qfbt756Ei46+wTTbPdbK9BV3hOtFthoDbXo4/HnRzo0FZb8w/jORbl4/fmm9R5YrAa5MKWfjBFCMgNlbCr8Q53TSGReZrpuqQ1to0uTGJaZaoXIDCteBQPLvQbWHBx6felS/Q8gujouMTSajFspNZF9cQkUfyWT8Dcz2yvcuCJc/Hr8Tae25rWvGUc/spGWJNrLhAp8vvJS+pOiDvCziw1Xh2ZgvgHME6SfSF+6Aacm4vWT+Dy1GbO6tZ69iw6vgatGfIyDHU19ZP3UW+vw5prP+ykmiH7nzp3w+/1QFQU2qwVfXXwELvuKIHyDXeVTDHfpeBONPgu/V+ZgSz84Q2ZwuQGncyPE7we7hFLhzxcyhYvD7xeZE+KWGvLKxaCFyKbAb1HzzMInGBaCb1gxdhfbzPQJOfmwAUNR8DoY93RsR8OC+wGM5pVA9IEd/RQ39MW42fpmToIRIrRJ+E1OPp2N7I+1D5b94Hv52gYnJiQ6CAQYfzqDfv3VGdjba8ladcYhGkOkFK5G8j7b2WugNSiDcKKi44ktmO3yH8hMeoijHueVf9J3IbYg9+f++xFeWvlJv75qK4swf/poHDxtPGqHVaLIbhNJ1fSWosl7uh1ju1VFKbFbUK2QeT6gL8NaWNdO8KnUMP+OeGJ3kFTKoYvJABfOYHl3orXgB4nuGao/Aaaw8K1KfhC+iDgqs6Oh1I52q4qwV18mPFkz0QBDU4A9TU6s++Jf+Ie60RNuHPtjfB11lkdjr5d9NUgcBIILF1Lsvq2MabN2DypP/yffbHDM/riwMh82mlY9cz6WA5hhMGYzxxbxEy0QOqNLS6Iv/7EtmOPRDnx5WKHj4qoNmGw7kNZfEO5HW/dh3ed7MKqmHHOmjsaIqjLzJK54dMPA6o+2ort85s5J8xb2fB4EHoLVpqBcZOJUFBQRoYh6U2z2I/KhTuGaK+kBF1E++PPtKvw2S+4SPhEMm4LuIivayh1oFntN0c7jXCtX74T1uId5DnP0p9f7vwf0bSyl+3JN73DyUouLxxmMU3NJmYV/5ss+aUneJSuTKsn30jdQX2I106ik7NFFmKaevIidJ7fgYGevSycgtNa6my+yv0OzJ9X2kXo4hXTdQH1rO35+1xPYVd+MI4/7UuMlV183aII5IqgOFTVWFSMg7jwQm9VBC0CoyyfUuh8slXK4ukPF55vrSIzx+aH+/EEvOh8kVFMQviPHCJ/EmkswHBa0VTmwW6SHSNlkz6KGP2xA0TlP8BfiFomMy7HU8lDc9bOoIjU5eQEDObMLvakZpcf9he8MFwIZL66C6Jd9i/bUliZ3UzVUHgZ0nxZ3GOgA9Z7Zjllt3v7pqPU1j3m9W961n3TETJx0+EzTTx/8aLqBtZt2443Vn+Dt99bDL6LJAYwaO8G59M4HP1aU6M7aKQQ7AQ6rBeUqmZ/KjmC/f2hytAA5hztxG/q7cCdeTfJPUdRNpA3lwTaaBeEXWXPHwreqcBZb0OCwoFNVor8jIt53KpvqfdoMx1mPcfwcZxhn42ZLLPH72aR+/4+Vlm4+mYFRWSthiGB3v48ZN73NP0u2vE+eR3uOHJti/yUDHh0tvQnXElbhrb2YtL0LI4Ia4u5nb9A97U1m6NmsSbU4fOZ4OOxWdLu92Lq3BR9v349OpweGYWDbtm190ToVVdXeut8+9FFZeUVcVh8RilVCpSruQyAUi9z8Ru8ndOgBqWCC77PSe5UI3vQNjY2PtGgMdVgrqr9HsuYjLDIOFf4Se3YTvgL4rRZ0FFnQVKSiM+EJl6MNtHuhHvVnnufT4swcoPu/gFvsH+eo+v0Jv8HF56g9+aBz4rnyWZzw9Gd8SbKFve5YavrugtS/FH4DbQYn51O63Qv7M9uMQzy7P1T8jVtgtxf5Oze8pBqaP6p0PfX19ejq6gnGKCou9d/463s/HF47OuobwgYbA4VQpCoYowDVgYR2AyJ4wuS3GWBVhxBuuAViyOiaKE/RxnIxuiD8siwlfBGIUGTFrmIbGkw3ToE/IrHgaY/wwTvbh8yfEw6pXahTEg4OyZYhED78r1GGLy2JBYyFf+HLP2zECbHUiabsBQej/VeLqf+mZTQVYywjTt0aDH+M1SIW3/Txxspn//5HETgfdTrlQGMulwt795rBSbBYrfrP/989G8dOmJLUhFVibhHBIS6ZUBk1IDMTpzogxj+MJR3NVYPhrHehT7+Y/TijeiK1I34vCL/ckVUWPttUNNstaLIo6FbEzVTy6UPgrve49q73MCkWSCwqvAsn06lvfj1/bsIShC8yYubMM/sevqG+O/l7DqdNQ+d9Z8aZoyMG9Pw6ugxOng919/bNJY/d/9s56L2zNgZRzFh8EZMvwjdF1M5tt9/uHz9pWreh2Dp1snTpsLiZ1KQtTr3WuSJcP6SgGgZKQHAYvSkpIvnoA8Rr1h/iQFTMfv44F4MiC/wVGSZ8Yb0TwWNR0VZkxX4FKXZJxjK5sqysmBffeoZnvLsbNdGIpiowLppDe647FrtVBY8z4aVplZQtuYWiUSFsGWr18JlkZJWlMqgyE+/i33Z4hr4FKlZEzj0Ibb87hRpirRdreRGlYyA5Lh3Rt8fltNxz+08XaH5/dLutQQILot+xYwc0rcdt/9Of/hRz587tp5JO1g6vreJzg9WkuHrC4UVADQNjCSgRa0+kqxGDN3N7F4++08BR+emjJfcoNocF4VcVZe69IYKrSMUWi5q7B6RifXcSLS/myG3/4XF/3YBxQ4Vo3rEYn507i1qC+yTCarTipilTKCW5sRLVL5r61ObmReg5YJMTz4Tf8x86U0D4PzgCjT86uv8ApwIQnzh8laSYZ6vWNcZieEbt3L7V/sgjj5DPF5mTVVVFWVkZ2tsPxOgL/fbv34/u7p4UJFdffTWOOuqoMGqTYSi2Nq9SssNQrEnPCdTXIcNmpq0glBlsHnor6dv4HSxKp7eBSKdog39vhnEGpVoIuH76krxFukUr5PdFFviqihI7fR3r/CKC36qi3qKgRQWcJIJi5RMzAp+1wLFmD5etrUf5pt3NpTs2f1YGQ8OxRy9o/OLk0rZFk6h9THl4tyuzeXn7u7DhocmlqTcQY1ZuiArU7eO5uoExyW44Ve1NvYtvb3Lh4KS2T+BHvoIdCydSUlMfhJGRvZqZ8CmhRwFb7P726Qr7hgUa2rp1K5YvX46mpiYI33zgKS4uxvjx43H66aejvLwcK1euxGuvvWZG6YhnzJgxZj3x/M///I9J+ErEi39J91rKP9UUR7wZRmPTm+AQaaZ1Qf6MIoPN/zdP/kYbSik6TIU/v9gKX3U6CJ+gK4RuFWi0WtBIkL752CbR4KWXv/R09S0/vMyM0X/ohVWrJ06dEdUellj/ycDj1iI8O76E9iVTplS2RS7msX4v4j+UkErpwrR92P189eetyT0oVmaD9tbFtHlUafJcLeFgYUDzGYl/gtv1jikW3TM6dKNWkLjwy3s8HtNqLykpgSB8i8XSR+K6ruO+++6DiNARz+zZs7FmzRo0NzebvnyxYFx33XU45phjIhzcIsNlqV7DiiWqFyNZ00NE+jCboZ6jdcZIQ6QmDrXGg/LnxHogq98iMlT2TfEZIgi/OHUWvrDeVaDJomI7EXwy2iZZM6l/O8tf/nfVLddcahqQD72wYvXEqQdFPa/NacLwCB//xEr8lajPG5kaYZPQKrW0cLlajMMGS/GbhH6S0QT5/Jjx+9V80S//k7xTtibpDYfzuQtoqz1Zl6FE0FYHvLqBA+Z3HKgws1qiNR0NFnwQ+yMWhTfeeAPLli0zffeC+BsbG82GAnH5YgP3yCOPxNKlSzF16tQBnfipaLvfWj7oqdzYJYupBhmMYoNRohmoNhhVOsMenHs/2KoPTqQWcOkMWCxCc/sEkX6/PYXe3wsLf1iSCV+QPAHdKmGfoqBVbsLGNCfiKvzWi/+qvvXay81DWX9+fuWqidNmRk34wR0awC5iPDe5Gs9EnZ8/gsRXvsA/Fx+xo0/HHXVJXkSImZUuN44iSp21EtdIBFUSn/QuHYsZOGxTM4oW/40PCvh2E21bvGS/+hLtuGA2+ju3E204TH3NgFNHYiGZwvAr9jZ+Md67hoXP/pRTToHTObT3Srh7/va3v2HChP5hyH6leLvPWrYjBRDF1aS4sEdjVPo1jNQZZQbgMAxYwp3YjdWfH+liFEH4I0oSf2fE/GOGRgo6RaIvVUFbUGqiuPCQlaJHYPmLpkvnEJPwX1ixasK0gxLaoyLgI6j44+QyfA7qyzsYtUDffp6/zoR/iArMeNCu4n/uPo2SltAukC1zlMMW1T2PUQuepILU5cYpBptx9z1XOPXstNfe+0FyTgcfMw4d/zyHtvXmEkuS2AObEe4cLQnuHNGyTeuYpuqecfEIKyz822+/HQ8//HBU1Y899tjQsuyxVq/iVG7eRlHNc0oAABq7SURBVCVZ+ELmhUgMxc+o8Poxzm+YV0329/sP5bIJjeYJE7UjXDqJEr7YhFUVbCfGfpJx8wmMevxV3xQW/g8vN0PT/vzCyhWT4rTwgyUQC7ihYI13L26aPZuijm674kWerjDWi3OQJtf1bFWtbHNh0ZNLom9nMDT6Dus4fTxPz6ITtz4N03waTjcY4vqlfoeKdAbOfIxnbKhPLLqopgi+x86lTbOHpzZ+WQycZsCVrBO2xLrV7u+cFbxpG8uUFyblM888g9/85jdoaBgYiXraaaeZewBWqxVXXHEFFixY0NM8keazlH2sKUXNsfSXybLMsPp1lPsMVGi66fop1xnmSeSw+XmiCMkU9QThjyyN3cIXp2BBaCGgXiG0iPxKmcSn0Pt+84Wnam679gqT8B96fsWKSdMTs/D74ckQG2WPT6rCCzSEtX/Rq1xS7McqIGQ/lc35cut9Z9DSZIxVH5F2MQ9X/ZnPiW8QSrvcOFUHjh1MwQ4P1Iv/zVM/2B/7fbai3clV5HziPHxeW5qYiyWaQWCG4TfQneyNN4vWZW7eEgx7PCdthVvnzjvvNP35e/bs6YvcueOOO3DuuecGq2YYZG33W8s/MciS0CdvNHilsozOsHn9GO7RTfePGfljGOa1lX0XpvT5+QO/C9ocDsRBFlvgG1UWNeEL37ybgVaFIG5OistPnEpcCrXtN55/athtP7pinmnhP7/iv0kl/F5QScGHbODuSVUU0Q16xXP8U0XB7RHfY8bi+86khC9h6Wc5u5knGf7oTqKlYoJ0+zBLZ3yDxT2xUaQK8Gig5z5H5Q1v8RSnL/rc+F+fg33Xf5H2VjpSb12JmHtB9qnAyzS6WbdaDPcoVXNNInDMt3IJa19Y82Lz9p133jGjes455xzYbGZTrJO1yW8p2wrF6sw337K4T0FnWF1+1Hr8GKMxiqI9wCUs/GgIXwEEbpvA6ECBpCNO1VxPRbtvvPBkzW3XXnmoSfjPvfvfSTNmJd+gEbE8BDcTHp1cSU+E6nHl8zyTCBsHu2yJgf/efwYNagRHg08/wmdmS7cP09O9gWtoKOnS8BUQDuc4LjUR2fDe3oGyNXtR9lkLF+9q8RbVN7U5WLWRanh50tha5+Rqcs0fTV0nTUbHlOrUunD6gBff6wy3iJaMZjASKkNQVMNXRoavXGGtTGGtglgXF9JHG80jXN1eJkunoVg7WaRWUGztjNSdsE1I3yRX5p6N32KvhnKvhmqfgWq/jiLx+36LQO+qJwh/dHlEC1/4bfexAeEvS3kwQJKhKKjm3njxyWG3XXvl/F4L/51JCW7aDgWeAaxXCPcGW/vffoF/w8C1Q9TVwfjKfWfS80P1MdjfByTcEmF/XT5MU5J3td+g/Ts1TNZ1XMWcmD8+uJP3311W9sPLzvuCoetKVc0w7+NvrF1XUlqWdl+pwfBqSF7enHgGWjG0YhI/0O3EhjDbA5k0mYk0sOIzFIubYXWySnGlRo5HrlyoI8i/y4sxXh01ug67AVhEdJjpw7fBO6bswPWSwjfPYnEn7GYDO5HiEN9cwC8XZFz+4r9rbrrm0sOErA+/uPLtidNmJt/CHwiEYWj43eQaLDvrBdhHE0SIc98hyki4MWNTmxuzn1xCcXNZ2AyLzGzt9GKig1KaK0Rp1fAVzY/jkeR+3v/vsrIfXXbeHMPQlcrqYd7H31y7prhUROul7zEYnmTmzEmf5LKnUARM6183N39LOr0Y79IwstgCbWx5D+EzY6/O2AwyvxzTOs/kaCWGgMftUta/t6LcYlF43lELO0QKknQ8zKY7edPd76HVpeG2KPt0s4GZ959Fu6IsP6BYxJS6y5gtxwMjvD03KsWcencwgXwGhnfpuIB1zA6NwIlXkeB6q1e8VXbtpUsOCRD+E2+tfb+kOD2Eb/Ts/XkNGX2RjKHMyjYMA6rOqHFYUKYz9gOJHabLSiWlUGlB4IG1OKzZheHRdCYWCTJw5H1fpjXRlA9XZkgib2QuLfNgGFH0m6KDCENdOqZ7dVwJJM+FE9rf+/9ZVn7tZefNE4RfVT3M8/hba1cXp8GlI8IuDcN04cikVvHOSFlPIlAgCHgNqPeuwUKXP7qLWcT2kcI44d4zqSf5VRzPkITf88nKShNQXApUUgK+/dZunAbGGYyow9niUAnoJfxDDxD+ulXFpaWp+dRmM5xbE+4bNiTRxzVgspJEoAARcPphuX8tjvdocESrvgF86YEz6I1oy4eWi4rwgysxm6F/wndp7QYspYDiGuLGLBUoau7EtxjJzYETSen3/vNWxU8uX3KYIPyK6hrP42+ufbektDzujY5AP8JsF7H0IWlW9NSsJPEOqawnEZAI5AICLh+s93+ARTEQvqYDRz54Bn0Qr34xE36sHW1u4XKbgluhYHysdeMtv3L5a9XXX3XBMYZhKBWV1e5H31r3VmlZuYxAiRdQWU8iIBFIOgKaAeXeNTi+0xude5sBJ7yYdv858d/Ml1LC393BU3XGdYB5mUXanvfefq3quqsuODaI8N9IhoWfNgVkRxIBiUBBILBsB6as2hPd/R5MuOv+0/EDcTQkXnBSRvg723k+Ad8FUBWvcPHWW7H89arrv33+cSbhV1W7/vnmOkn48YIp60kEJAIpQ0C4g5/8BIduaUX/lLQhPYr0V21unJtIDL5oMiWEv7uV5+gKfkYp3pyNNAorl71ac/13Luwj/EffWPe6dOmkbM7KhiUCEoEEEBBH3N/eicnr6jHdz7BqmqEKY1VVFN1mVfzDi/CvESW45KoFlPCJ/aQT/o42XqQouELcTpQABglVXbn81errv33hwoCF/9gba18rKatIeNM2IaFkZYmAREAiEAEB4aPxalCdftge/8u9k17458MHXXDFDzZ85WsX7Cy1wkeMl8dX0Z8TBTBphM/MtKcbx8HAZaDow4wSVSBc/RVvvlJz3Xe+fvwBl876V0rL059aIRW6yTYlAhKB/EbgT/+vbtqjD/xh7rd/ctPqr195tXmznEjCCMIrjWX4xwKK39JPGuHvaOdDVcK1jKQc0EpoRFe89UrN9d/5+qIDhL/2ZWnhJwSprCwRkAikCYE//WrptMceuGvet39c996FV34/+CpRQfv/XlWBp5ZQfPl0kkL4O508nzRc3RufnyZYInfTS/gnCMIvr6pyPf7mhpdKyqSFn/GBkQJIBCQCQyLwp18tnW4S/k/qVl14RT/CF5uuInXL8+Mr6LEhGwpTIGHC39vJM3TgGmKUxyNAKuq822PhL+6x8KtElM6LpWUVMg4/FWDLNiUCEoGkInDPr34x/bEH7p5/1Y+XrvzGlT8Id2mKuPTvH+PK8dpQN2mFCpYQ4e/u4GoQ/h84ulwQSUVlkMb27dpRdMd1/3OopvmV2rETuq+//f82WGw2eSA2XQMg+5EISATiRuCeX/1iRhDhixvSBjzC0tcs+N3EElobS0dxE35LC5e7VNwAwuhYOpRlJQISAYmARCAyAk/85U/j777t+i/+5Jd/WH7meRfvi1RSIbgIuHN0OX0WLZ5xE/7uDhY+e/PiAPlIBCQCEgGJQPIQcDu71aKS0qFDyRn7UIG6cURRXdwSF+Hv7uJzyMBZyVNPtiQRkAhIBCQCcSKwq34zbl4QxcGsmAl/XyfPFPcvZvJgVZygyGoSAYmARCDvECAyb1l7ekz50PfdxkT4O9u5SlVwYyby4+TdKEmFJAISAYlAkhBgwDAIv51QRp8M1mRMhL+vnS83FBydJBllMxIBiYBEQCKQJASYsHtcGS1NCuHv6eZD2DCzX1qSJJ9sRiIgEZAISASSiIACvDumPHLOnagsfHGvra8DdaSgIomyyaYkAhIBiYBEIMkIaAZun1BJ28I1GxXh13fymTpkVE6Sx0U2JxGQCEgEUoHA1jHldEdchL+7mcfAiuuIYE2FZLJNiYBEQCIgEUguAirh0VFl9HZoq0Na+Hs7+RICjkiuOLI1iYBEQCIgEUgVAkSory3FTaG5dgYl/H37uJjLcAcZ0rpP1cDIdiUCEgGJQAoQYIPw97HltDK47YiELy402d+N/2UDM1IgjGxSIiARkAhIBFKIABG8o8pwAxG5At1EJPz9XTycCT9nlmGYKRwT2bREQCIgEUgZAqzhwbFVtH5Iwt/bzScphDNgpOai85RpKBuWCEgEJAISARMBJmwdXUq/H5TwN29me0ktfkFAmcRNIiARkAhIBHITAQaEj+bO0UVkXpUY1qWzv4MPZwUX5qaKUmqJgERAIiAR6EOA8P7oUnokMuGLUEzCHAmZREAiIBGQCOQ4AozG2nK6PSLhN3TxjcyoynE1pfgSAYmARKDgEWBA7/bjlmk11DnApbOtm0cWGfhxwaMkAZAISAQkAnmCgKrizREl9PIAwt/XyV8h4Jg80VOqIRGQCEgECh4BJrhHlZqBOAceZlaaXLiOWWbFLPgZIgGQCEgE8goBh447+hF+YyOXogg/ZYItrzSVykgEJAISgQJHgHQ80I/wG7p5JDOuJoJa4NhI9SUCEgGJQF4hYCh4uh/h17t5kmLgcoPl6dq8GmmpjERAIlDwCDDhv/0If187z7eo+GrBIyMBkAhIBCQCeYYAEz7tb+F384kKY1Ge6SnVkQhIBCQCBY8AA/v6+/A7+WwizC94ZCQAEgGJgEQgzxBgQv+DV/XdfAExZuaZnlIdiYBEQCJQ8AiQAl9/C7+DL4KCKQWPjARAIiARkAjkGwIK9NCwzIsUwuR801PqIxGQCEgEJAIiPX7Q0+jiJcTySkM5MSQCEgGJQL4hwAytv4Xv5LMJ+EK+KSr1kQhIBCQChY4AM1z9CL+5m080CEcWOjBSf4mAREAikG8IMNDcn/CdfBgYi/NNUamPREAiIBEodAR0YFf/g1ftPMliwdciXX1Y6IBJ/SUCEgGJQK4ioBDWD0iepgLflISfq0Mq5ZYISAQkAuER0HQs70f4LczlhhOXE2CRoEkEJAISAYlA/iBg6Ph36AUoliYnvkeQ+fDzZ5ilJhIBiYBEANAZfx1wxWGLi881DEyQAEkEJAISAYlA3iBgNO7EHwcQflMnT4eCM/NGTamIREAiIBEocASIsHVYCT0zgPCfYFYXe3EVG7AXOEZSfYmAREAikBcI2IvwWClR/QDCF9q1uPg8AGPyQlOphERAIiARKGAEDIZreAndLyAIS/j1Lj7SChxRwBhJ1SUCEgGJQF4gwMCuYcX074iEL8Iz2Y2LZTx+Xoy3VEIiIBEoZAR0vDGsjD6NSPimW6ebT2EFUwsZJ6m7REAiIBHIZQTIgLO6BH8jIn1Qwu9mHulx4Rxp5efycEvZJQISgUJGwABWjCihdQEMwvrwxR+Z2dLuwYVsoLSQAZO6SwQkAhKBnEXAi0eqq6ljSMIXBdo9PNnQ8SVp5efscEvBJQISgcJFYGd1Cb0crH5ECz9QqNnJZyvAyMLFTGouEZAISARyCwFm+KpL8FciMmIi/EYPT7XoOCG31JXSSgQkAhKBwkVAN7BpeBm9HYrAkBa+qNDq4TOYUVu48EnNJQISAYlAbiDAgLfGgaeIyB0X4Xd2co3PijNl2uTcGHAppURAIlC4CFgIb1c4aHM4BKKy8EXFZh8fTrq84Lxwp5HUXCIgEch6BBR0bLfhuQVE/oQIX1Ru8/KXYaA665WWAkoEJAISgQJDgAGfx4F/jyZyRVI9agtfNOBkHuXz4OQCw1GqKxGQCEgEsh8BHeurSmn9YILGRPimle/judBxsIzNz/7xlxJKBCQChYGAQdhfbceboWGYodrHTPjiBG6bCyeTIl07hTGV/n9759rjtnGF4XdIShS10mov3iZbrwsYDZo2dtEPSVugDdAf0H/aP1CgKNAART7kQ4C0aAADMerEyNZer/emG0WRnFOMRBWCU1uUSEqk9AoQtFgNz5zzzOjV6HAujJIESKDMBJSFIKzjzydK9Rb5ubTgG4MiUr/y8UdLYW9RBXyfBEiABEigIAKCeOjhL2dKXaWpYSXBN4YvRU5tH3+Agp2mIpYhARIgARLIl4BE+Oq4rb5Oa3VlwTcVDIdyFgKfMp+fFjfLkQAJkEBuBP7daaovlrGWSfBFRN0M8Ni2OD9/GegsSwIkQAJZCIiF1x0Xf1NKRcvYyST4s4rMzB0l+HCZilmWBEiABEhgBQIarzsNfDY71GQZC7kIvqnweii/t2z8mOmdZfCzLAmQAAmkJiBaMDicTr8MUl81VzA3wRcR68bH7ywbp6s4wmtIgARIgATeTkALRoNL/PXBgx9uipaWW26Cbyo0Of2uj9+IjbO0DrAcCZAACZDAAgIat50GPldKjbKwylXwZ47cDeW32sb9LI7xWhIgARIgAUAJ+ucuPnuk1Dgrj0IE36R3BmM81sBPszrI60mABEhgVwloje7NS3z+8GG2kf2MXyGCPzPeHcmHUPg5b+Tuandl3CRAAqsSEIXz/Rq+XLQ/zjL2CxV848jlpZy6bXwMwFrGMZYlARIggV0lEEf47rCl/pF3/IULvnFYRA7vAvzaAhp5B0B7JEACJLAtBASII41/Hnn4Xiklece1FsFPRL/d8/ErWDjIOwjaIwESIIGqE7CAESL8q9VSL4uKZW2Cn4i+6g7xCWz8qKiAaJcESIAEqkZABH6ngb+rtxxNmFc8axX8mehf+zhzpvvvrL3+vMDRDgmQAAnkQSBWeH5Yx5Nl98VZpe6NCe6VyH7Nx2Ox0FnFcV5DAiRAAlUmYNkILAdP9pT6z7ri2JjgzwIMAvllKFykta4GZz0kQAKbJ2DZ6HoOvlhlA7Qs3m9c8M12DP0+7sHBR0pxFk+WxuS1JEACpScQ24JvGo3JLJx43d5uXPBnAZtjE28H+Kjm4GTdEFgfCZAACRRNwNLojkZ4cnSk7oqu6232SyP4MwdNbr8+wsdKwdkUFNZLAiRAArkREOix4Jujpnqem80VDZVO8E0cItIIAvwkEjxYMS5eRgIkQAIbJxDGuDrYw1OlVH/jzpR9WuS1SMce4meWhXYZYNEHEiABEkhDwHYwEgfP9pR6kab8usqUcoQ/H7y5qTsE3tejySZsfJAACZBAqQnUGjh3MRnV67I5WnrBnwF7JtI4DXA/mcLJjdjK1pPoDwnsOIEwxrUE+Pb4WHXLiqIygj8DKCKtAfCBjtBWXKlb1n5Fv0hgZwhogW/V8G1bqcuyB105wZ8BfSXSckP8wlLwyg6Z/pEACWwfARuI4hGetlq4LGJnyyKIVVbwDQxzshaA47sQDyyFZhGAaJMESIAE5gmIIKxFOH/2DK8ePcp+7OA66VZa8OdB9UXeUyHuxwoeJ/CvswuxLhLYfgIRAFswHse4PGjgeRlvyKZpha0R/NmIvwcc2iEeKoV6GgAsQwIkQALvJCDQiHDueXixjh0ti2yNrRL8GSiT6jHCr8Y4tTmHv8j+Q9sksLUERBAgxMtmc5KjD7ch0K0U/PmGub2VQ8eb5PjN8YqczrkNvZYxkEBxBEQDgarhogm8rMrN2LQ4tl7wk1SPidMNAtzXFo7LvsI4beOxHAmQQH4EYsGgVcd3AAZVzdEvorETgj8PQUQ8HzjWIY4VUOdc/kVdhO+TwPYSECCyarhpAFcAets2on+z5XZO8Ofy/Cb24/4Y77kKbsh0z/Z+qhkZCbxBQARjK8Z1ciN27fvSb6pBdlbw3xD+hu/jRBzcY55/U12R9ZJA4QTE1ui5LsyRgv4mDiApPMIFFey84L+R7qn1eujU2ziIw8kOneSz6R7K+kkgIwFHMAzruN0DbpVSo4zmKn05Be0tzWdO4PJ9vK9tdHgYS6X7OJ3fQQIiiI3Qu+5k7vxgBxH835Ap+At6wp9E7E9fwD04xT0d4lAx18/PDgmUkoAAEmv0IxevjoBh1RdJFQGZgr8EVRGxAbR9YN8eox3yGMYl6LEoCRRAQKDtOvoh0GsDXaWqtbdNAUTeaZKCn4H4jciBF+CeUnDNVhsZTPFSEiCB9ATMwSLRuI6rFvB626dSpseyuCQFfzGjhSWSkb/r+zi0bRxwps9CZCxAAssSEF1HrwHcfAn4n2zJVgfLQshanoKfleAb15t9fK6B1hHQCoCmGk9G/+ScM2ea234CZhtirTH0PJgDwM2iKLNpJR8ZCFCIMsBLc6mIOH3gsBbgIJntw/180oBjmV0koOt1xEOg3wSulFLBLkIoMmYKfpF0fzj6r11coN5uY9+20eZ0zzXCZ1VlJaDjOvoecAfACHzInHxxTUXBL47tQssi0uh20aztw7MCNJRCjemfhdhYoMIERBBpjZHnwX8BDE+nK16lwiFVynUKfomaK7n52wmCyY3fmlLM/ZeoeejKCgREYMQ8Dl10W9OVruMVzPCSnAhQ8HMCmbeZ5Lxec1pjrQ/sOcCeCniKV96caS93AlHsYji6xuDoaJKiiXZxz5rcqeZkkIKfE8h1mBGR2jXguQN4loW68uCoYJIG4oMENkEg1hqh52F8C4wOpukZ3mjdREukrJOCnxJUWYuJiGnD5gBoO0AzWQPAdi1rg1XXL5OaMadBjTxMpkn2OXKvXmNSGKrXZu/0OLkPYFJBTg9o2IBrAa7iSuAta+lCw9EaGMdA0AJG3wPRGWDmwJv0DG+wFoq+WOMU/GL5lsb6bDXwHeA6QN0CzJeCnbyyH5SmpdbmiAgQm6cGIg2EIyA4Mee5chXr2hph3RXxg75u4iWszywOA+D1Ac8BPDX9MuBjiwgIoGPA3wPMfvBmJ0nOltmi9k0bCgU/LakdKpfcF7CfAnYDsM6m6SAzW6hmm+mi0y8ErhguT58wo/XIA0KzcCl5mhSM2WTMHN+nt/VQ7vI0QTU8oeBXo51K52WSIjIzhJy76ReB0wKsIWCZMwM8QPnJ36VzviIOmVG5uVHqTV/1ADDCbvLr0f5U2I2om5Wp3GOmIm26aTcp+JtugR2oP0kZTdYUmC8I80vB3DswvxR2/ECZycjcCPjenIAnN0eNoPNBArkSoODnipPGliWQpI9MPzRPkyaa/T15vQAsC1Anyft3018NyjzN++258ubXhflf8p5xZda//9fP3/UFY05MMiPquRhmfxthnrw3/9pKRuDd5P8dQF8DcgToi+kURokBOUvKJbaNncnInTNelu0tLJ+VwH8BetqoqAGH1fIAAAAASUVORK5CYII="

/***/ }),

/***/ "5ee2":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_5b5e8923_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("047f");
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_5b5e8923_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_5b5e8923_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */


/***/ }),

/***/ "5f72":
/***/ (function(module, exports) {

module.exports = require("element-ui");

/***/ }),

/***/ "5f722":
/***/ (function(module, exports) {

module.exports = require("element-resize-detector");

/***/ }),

/***/ "5f7b":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin

/***/ }),

/***/ "5ff6":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin

/***/ }),

/***/ "60bb":
/***/ (function(module, exports) {

module.exports = require("lodash");

/***/ }),

/***/ "647e":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin

/***/ }),

/***/ "64bf":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_PolicyUser_vue_vue_type_style_index_0_id_cf1e117c_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("65a6");
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_PolicyUser_vue_vue_type_style_index_0_id_cf1e117c_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_PolicyUser_vue_vue_type_style_index_0_id_cf1e117c_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */


/***/ }),

/***/ "65a6":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin

/***/ }),

/***/ "6669":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_CustomColumn_vue_vue_type_style_index_0_id_4bb2a92e_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("ac18");
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_CustomColumn_vue_vue_type_style_index_0_id_4bb2a92e_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_CustomColumn_vue_vue_type_style_index_0_id_4bb2a92e_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */


/***/ }),

/***/ "6858":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin

/***/ }),

/***/ "687f":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin

/***/ }),

/***/ "68d7":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin

/***/ }),

/***/ "690d":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_80451624_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("ba07");
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_80451624_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_80451624_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */


/***/ }),

/***/ "69da":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("8bbf");
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(vue__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("025e");
/* harmony import */ var _mixins_permission_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("d215");
/* harmony import */ var _mixins_inputName_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("895f");
/* harmony import */ var _mixins_form_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("e49c");
/* harmony import */ var _util_base64__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("c46f");
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//







/* harmony default export */ __webpack_exports__["a"] = ({
  name: 'HtEditor',
  mixins: [_mixins_inputName_js__WEBPACK_IMPORTED_MODULE_3__[/* default */ "a"], _mixins_permission_js__WEBPACK_IMPORTED_MODULE_2__[/* default */ "a"], _mixins_form_js__WEBPACK_IMPORTED_MODULE_4__[/* default */ "a"]],
  props: {
    value: String,
    textValue: String,
    showBorder: {
      type: Boolean,
      default: true
    },
    borderColor: {
      type: String,
      default: '#ccc'
    },
    borderWidth: {
      type: Number,
      default: 1
    },
    disabled: {
      type: Boolean,
      default: false
    },
    config: {
      type: Object,
      default: () => {
        return {};
      }
    },
    encode: {
      type: Boolean,
      default: false
    },
    noToolbar: {
      type: String,
      default: 'false'
    },
    initialFrameWidth: {
      type: String,
      default: ''
    },
    type: {
      type: String,
      default: ''
    },
    initialFrameHeight: {
      type: String,
      default: '300'
    },
    customMenus: {
      type: Array,
      default: () => {
        return ['head', 'bold', 'fontSize', 'fontName', 'italic', 'underline', 'strikeThrough', 'indent', 'lineHeight', 'foreColor', 'backColor', 'link', 'list', 'todo', 'justify', 'quote', 'emoticon', 'image', 'video', 'table', 'code', 'splitLine', 'undo', 'redo'];
      }
    }
  },
  data() {
    return {
      editor: null,
      editorId: `editor_${_utils_js__WEBPACK_IMPORTED_MODULE_1__[/* default */ "a"].getName()}`,
      compiledTextValue: null,
      formInstance: null
    };
  },
  computed: {
    hasTextValue() {
      return this.textValue != null && this.textValue != undefined;
    },
    inputVal() {
      return this.hasTextValue ? this.compiledTextValue : this.getValue(this.value);
    },
    textDivStyle() {
      return {
        border: `${this.borderWidth}px solid ${Object(_util_base64__WEBPACK_IMPORTED_MODULE_5__[/* decode */ "a"])(this.borderColor)}`,
        padding: '0 10px'
      };
    },
    styleEditor() {
      let style = {};
      if (this.initialFrameWidth) {
        style = {
          width: this.initialFrameWidth + 'px'
        };
      }
      return style;
    }
  },
  watch: {
    value: function (newVal) {
      if (this.editor && newVal) {
        let text = this.editor.txt.html();
        if (text !== newVal && Object(_util_base64__WEBPACK_IMPORTED_MODULE_5__[/* encode */ "b"])(text) !== newVal) {
          this.editor.txt.html(this.getValue(newVal));
        }
      }
    },
    textValue: {
      handler: function (newVal) {
        this.loadCompiledTextValue(newVal);
      },
      immediate: true
    },
    permission_sub: function (newVal, oldVal) {
      if (newVal !== oldVal) {
        // 现在是无权限，需要销毁
        newVal == 'n' && this.destroyEditor();
      }
    },
    inputWriteable: function (newVal, oldVal) {
      if (newVal !== oldVal) {
        // 可编辑，渲染
        if (newVal && !this.hasTextValue) {
          this.initEditor();
        }
        // 不可编辑，销毁
        if (!newVal || this.hasTextValue) {
          this.destroyEditor();
        }
      }
    },
    formInstance: function (newVal, oldVal) {
      if (!oldVal && newVal && newVal.$on) {
        newVal.$off('updateData', this.loadCompiledTextValue);
        newVal.$on('updateData', this.loadCompiledTextValue);
      }
    }
  },
  mounted() {
    this.initEditor();
  },
  beforeDestroy() {
    this.formInstance && this.formInstance.$off && this.formInstance.$off('updateData', this.loadCompiledTextValue);
    this.destroyEditor();
  },
  methods: {
    destroyEditor() {
      if (this.editor) {
        this.editor.destroy();
        this.editor = null;
      }
    },
    initEditor() {
      if (!this.$WangEditor) {
        throw this.$t('ht.editor.errorMsg');
      }
      if (this.editor || !this.inputWriteable || this.hasTextValue) {
        return;
      }
      const that = this;
      this.$nextTick(() => {
        if (!this.inputWriteable) {
          return;
        }
        this.editor = new this.$WangEditor(`#${this.editorId}`);
        Object.assign(this.editor.config, this.$WangEditorConfig, this.config, {
          onchange() {
            that.$emit('change', that.setValue(that.editor.txt.html()));
            that.$emit('input', that.setValue(that.editor.txt.html()));
          },
          onblur(newHtml) {
            that.$emit('onblur', that.setValue(newHtml));
          },
          onfocus(newHtml) {
            that.$emit('onfocus', that.setValue(newHtml));
          }
        });
        let menus = [...this.customMenus];
        if (eval(this.noToolbar)) {
          menus = [];
        }
        this.editor.config.zIndex = 0;
        this.editor.config.height = eval(this.initialFrameHeight);
        this.editor.config.menus = menus;
        if (this.editor.config.uploadImgHeaders && !this.editor.config.uploadImgHeaders.Authorization) {
          this.editor.config.uploadImgHeaders.Authorization = this.$requestConfig.getToken();
        }
        this.editor.create();
        if (this.disabled) {
          this.editor.disable();
        } else {
          this.editor.enable();
        }
        // 首次赋值
        this.editor.txt.html(this.inputVal);
      });
    },
    setValue(val) {
      return this.encode ? Object(_util_base64__WEBPACK_IMPORTED_MODULE_5__[/* encode */ "b"])(val) : val;
    },
    getValue(val) {
      return this.encode ? Object(_util_base64__WEBPACK_IMPORTED_MODULE_5__[/* decode */ "a"])(val) : val;
    },
    loadCompiledTextValue() {
      if (!this.textValue) {
        return;
      }
      this.$nextTick(() => {
        this.getTextValue(Object(_util_base64__WEBPACK_IMPORTED_MODULE_5__[/* decode */ "a"])(this.textValue)).then(result => {
          this.compiledTextValue = result;
        });
      });
    },
    getTextValue(val) {
      if (this.formInstance == null) {
        this.formInstance = _utils_js__WEBPACK_IMPORTED_MODULE_1__[/* default */ "a"].getOnlineFormInstance(this);
      }
      const instance = this.formInstance || this;
      return new Promise(resolve => {
        const tempComponent = vue__WEBPACK_IMPORTED_MODULE_0___default.a.extend({
          data() {
            return {
              data: instance.data
            };
          },
          template: `<div>${val}</div>`
        });
        const component = new tempComponent().$mount();
        component.$nextTick(() => {
          resolve(component.$el.innerHTML);
        });
      });
    }
  }
});

/***/ }),

/***/ "6abe":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _util_base64__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("c46f");

const dict = {
  'zh-CN': {
    messages: {
      alpha: () => '只能是字母',
      alpha_dash: () => '只能是字母数字横线下划线',
      alpha_num: () => '只能是字母数字',
      alpha_spaces: () => '只能是字母空格',
      between: (field, args) => {
        return `必须是大于等于${args[0]}且小于等于${args[1]}的数字`;
      },
      confirmed: () => '两次输入的值必须相同',
      digits: (field, args) => {
        return `必须是${args[0]}位的数字`;
      },
      email: () => '不是有效的邮箱地址',
      is: (field, args) => {
        return `内容必须是${args[0]}`;
      },
      max: (field, args) => {
        return `文本长度不能超过${args[0]}`;
      },
      max_value: (field, args) => {
        return `数值不能大于${args[0]}`;
      },
      min: (field, args) => {
        return `文本长度至少需要${args[0]}`;
      },
      min_value: (field, args) => {
        return `数值不能小于${args[0]}`;
      },
      numeric: () => '请输入整数',
      regex: (field, args) => {
        let msg = '校验失败';
        if (args && args.constructor == Array) {
          let _reg = args;
          if (Object(_util_base64__WEBPACK_IMPORTED_MODULE_0__[/* isBase64 */ "c"])(_reg[0])) {
            let _value = Object(_util_base64__WEBPACK_IMPORTED_MODULE_0__[/* decode */ "a"])(_reg);
            msg = eval('(' + _value + ')').regex.message;
          } else {
            msg = args[1] ? args[1] : msg;
          }
        }
        if (args && args.constructor == Object) {
          msg = args['message'] ? args['message'] : msg;
        }
        return msg;
      },
      method: (field, args) => {
        return args && args['message'] ? args['message'] : '校验失败';
      },
      required: () => '必填',
      isBefore: (field, args) => {
        return '日期必须小于' + args;
      },
      isAfter: (field, args) => {
        return '日期必须大于' + args;
      },
      isEnd: (field, args) => {
        return '日期必须小于或等于' + args;
      },
      isStart: (field, args) => {
        return '日期必须大于或等于' + args;
      },
      mobile: () => {
        return '请输入正确的手机号码';
      },
      frontJSValidate: (field, args, data) => {
        if (data && data.message) {
          return data.message;
        }
        return '前端js校验失败';
      },
      decimal: () => {
        return '只能输入数字';
      },
      backendValidate: (field, args, data) => {
        let msg = '后端验证失败';
        if (args && args.constructor == Array) {
          msg = args[1] ? args[1] : msg;
        }
        if (args && args.constructor == Object) {
          msg = args['message'] ? args['message'] : msg;
        }
        return msg;
      },
      id_card: () => {
        return '请输入正确的身份证号';
      },
      url: () => {
        return '请输入正确的URL';
      }
    },
    names: {
      expression: '常用语'
    }
  },
  'zh-TW': {
    messages: {
      alpha: () => '只能是字母',
      alpha_dash: () => '只能是字母數位橫線底線',
      alpha_num: () => '只能是字母數位',
      alpha_spaces: () => '只能是字母空格',
      between: (field, args) => {
        return `必須是大於等於${args[0]}且小於等於${args[1]}的數位`;
      },
      confirmed: () => '兩次輸入的值必須相同',
      digits: (field, args) => {
        return `必須是${args[0]}比特的數位`;
      },
      email: () => '不是有效的郵箱地址',
      is: (field, args) => {
        return `內容必須是${args[0]}`;
      },
      max: (field, args) => {
        return `文字長度不能超過${args[0]}`;
      },
      max_value: (field, args) => {
        return `數值不能大於${args[0]}`;
      },
      min: (field, args) => {
        return `文字長度至少需要${args[0]}`;
      },
      min_value: (field, args) => {
        return `數值不能小於${args[0]}`;
      },
      numeric: () => '請輸入整數',
      regex: (field, args) => {
        let msg = '校驗失敗';
        if (args && args.constructor == Array) {
          msg = args[1] ? args[1] : msg;
        }
        if (args && args.constructor == Object) {
          msg = args['message'] ? args['message'] : msg;
        }
        return msg;
      },
      method: (field, args) => {
        return args && args['message'] ? args['message'] : '校驗失敗';
      },
      required: () => '必填',
      isBefore: (field, args) => {
        return '日期必須小於' + args;
      },
      isAfter: (field, args) => {
        return '日期必須大於' + args;
      },
      isEnd: (field, args) => {
        return '日期必須小於或等於' + args;
      },
      isStart: (field, args) => {
        return '日期必須大於或等於' + args;
      },
      mobile: () => {
        return '請輸入正確的手機號碼';
      },
      frontJSValidate: (field, args, data) => {
        if (data && data.message) {
          return data.message;
        }
        return '前端js校驗失敗';
      },
      decimal: () => {
        return '只能輸入數字';
      },
      backendValidate: (field, args, data) => {
        let msg = '後端驗證失敗';
        if (args && args.constructor == Array) {
          msg = args[1] ? args[1] : msg;
        }
        if (args && args.constructor == Object) {
          msg = args['message'] ? args['message'] : msg;
        }
        return msg;
      },
      id_card: () => {
        return '請輸入正確的身份證號';
      },
      url: () => {
        return '請輸入正確的URL';
      }
    },
    names: {
      expression: '常用語'
    }
  },
  'en-US': {
    messages: {
      alpha: () => 'Must be letters',
      alpha_dash: () => 'Must be alphanumeric underscores',
      alpha_num: () => 'Must be alphanumeric',
      alpha_spaces: () => 'Must be letter spaces',
      between: (field, args) => {
        return `Must greater than or equal to ${args[0]} and less than or equal to ${args[1]}`;
      },
      confirmed: () => 'The values entered twice must be the same',
      digits: (field, args) => {
        return `Must be a ${args[0]} digit`;
      },
      email: () => 'Not a valid email address',
      is: (field, args) => {
        return `Content must be ${args[0]}`;
      },
      max: (field, args) => {
        return `Text length cannot exceed ${args[0]}`;
      },
      max_value: (field, args) => {
        return `The value cannot be greater than ${args[0]}`;
      },
      min: (field, args) => {
        return `Text length needs to be at least ${args[0]}`;
      },
      min_value: (field, args) => {
        return `The value cannot be less than ${args[0]}`;
      },
      numeric: () => 'Please key in numbers',
      regex: (field, args) => {
        let msg = 'Verification failed';
        if (args && args.constructor == Array) {
          msg = args[1] ? args[1] : msg;
        }
        if (args && args.constructor == Object) {
          msg = args['message'] ? args['message'] : msg;
        }
        return msg;
      },
      method: (field, args) => {
        return args && args['message'] ? args['message'] : 'Verification failed';
      },
      required: () => 'Required',
      isBefore: (field, args) => {
        return 'Must be less than ' + args;
      },
      isAfter: (field, args) => {
        return 'Must be greater than ' + args;
      },
      isEnd: (field, args) => {
        return 'Must be less than or equal to ' + args;
      },
      isStart: (field, args) => {
        return 'Must be greater than or equal to ' + args;
      },
      mobile: () => {
        return 'Please enter the correct phone number';
      },
      frontJSValidate: (field, args, data) => {
        if (data && data.message) {
          return data.message;
        }
        return 'Front end JS verification failed';
      },
      decimal: () => {
        return 'Can only enter numbers';
      },
      backendValidate: (field, args, data) => {
        let msg = 'Backend validation failed';
        if (args && args.constructor == Array) {
          msg = args[1] ? args[1] : msg;
        }
        if (args && args.constructor == Object) {
          msg = args['message'] ? args['message'] : msg;
        }
        return msg;
      },
      id_card: () => {
        return 'Please enter the correct ID number';
      },
      url: () => {
        return 'Please enter the correct URL';
      }
    },
    names: {
      expression: 'Common words'
    }
  }
};
/* harmony default export */ __webpack_exports__["a"] = (dict);

/***/ }),

/***/ "6ad9":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_661ca3b1_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("c647");
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_661ca3b1_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_661ca3b1_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */


/***/ }),

/***/ "6bde":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_RoleUser_vue_vue_type_style_index_0_id_c5d361e6_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("1ce6");
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_RoleUser_vue_vue_type_style_index_0_id_c5d361e6_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_RoleUser_vue_vue_type_style_index_0_id_c5d361e6_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */


/***/ }),

/***/ "6d96":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Organization_vue_vue_type_style_index_0_id_4738080b_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("5ad0");
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Organization_vue_vue_type_style_index_0_id_4738080b_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Organization_vue_vue_type_style_index_0_id_4738080b_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */


/***/ }),

/***/ "6f45":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin

/***/ }),

/***/ "702f":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_TopContactUser_vue_vue_type_style_index_0_id_89cfe2a2_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("68d7");
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_TopContactUser_vue_vue_type_style_index_0_id_89cfe2a2_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_TopContactUser_vue_vue_type_style_index_0_id_89cfe2a2_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */


/***/ }),

/***/ "70a4":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin

/***/ }),

/***/ "7619":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin

/***/ }),

/***/ "76ce":
/***/ (function(module, exports) {

module.exports = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAFJJJREFUeJztnQ+8lFWdxvkrqCCBCgKBfxITQcw01AxMi6zUpX9+ajM1zUpbW93d2m11C7CuM/O7M4NdQLubH6xV0wR1Vwu2KNFMV21d2UxrSRRNDUhTCRRjdfd5OHPr8ufeO3fu+77nnHmf5/P5Onjv3JnznjnPnHPe8zu/069fL1QqlQaB6WZ2UWtraxWP14Pl4A6wUoiAYJtcjvZ6A9rqAjx+uVgsziyXy8Oq1Wr/3rT7nkwxBG90BLgM3AfWgRfARrAZvAK2CBEgbJtso38AL4L1MMujeGzH47vAsIaN0d7e3h8vNA58Di90Fx43gFfB/wkRMf9r7gt+FZiHtv3WSqWye6/M0dLSwqHUZLzAXPCwOSf6vjAhkmQreAosAR9Bex9VlzkKhcLuePIJ+KPFYC34YwAXI0QavG5u6HUnOB+M6ckcQzCROR5PvBY8H8AFCJEFL4OfgnPAyF2aA2OxgfjlYeDr4LcBFFqILOFE/ofggxhB7bGTQfCLEeCvwCPmJjK+CyxE1nC49V1wJEwycMfe42hwmzkn+S6oEL54GnwB7NnZIMPAJfjhswEUUAifcD6yAj3IYaB/P0zK98A/JuKHPzLdzhWCrIcn/paRI1wpPw6cih8+GUDBhAgBrr4vLZfLQzg5nwNawXMBFEyIEOD6yNPVanUUDXI3uN/c2Mt3wYQIBa4DzqZBGLy12hRnJURnXgJ/R4MwOneDae1DiM5sAlfSIH+s8XoAhRIiFBgu/4N+ARREiBDhlOMuGUSIXSODCNENMogQ3SCDCNENMogQ3SCD1CphUw3+W7e6RQe5Mshr5kzARdHHwf+YiyBYCW4Bt5rbl/zf5qIKnjC3q3JT7W99l19kT9Mb5PXaRXIDGJNP3AzOZ5qX+fPn73JzPn4+uFqtjsFzji6VSp/G8280l/lioykUJ280tUFojt+D74O/LhaLU5iQoq60Lp1UqVQGl8vlg/Ea58Mwt5siDvJE0xqEIQKMUGZvsT8eh2y3v7iXgkEG1F5jBF6Pvcp9tffwfZ0iXZrOIPxmX4uG3IKGPA0Nezj32jdqjF0Jrzccr3sI38PcPEY5w5qXpjLIa2i8K9B4P4R/T8C/BydpjM5qa2sbCINMwPuciUcmSN4UwPWL5Gkag7wMQ3wbHIU5w3BMtAekZY4OwRgDwMjaVuV/Nbd3wHc9iGRpCoMwCfFCmOMIkLoxdmGU4Xj/k8G/gN8FUB8iOaI3CLdEXg2mgeTOe+il8N57gpngG+Y2nvmuF5EMURuEaxvLwAwwyJc5OlQsFoeiN2FO4+vMrZn4rh/Rd6I1SEei4bPAcN/m6FBtuHWKufxiWlSMnygNwkI/BD4P9vFtih2FedAowAzhvzSFqMROlAZhfFQZHODbDF0JZRsLrjAtJsZOdAbhiUBcxT6dBzH6NkJXQtn2QC/yPnNJkH3XmWic6AyyHvBk3Tf5NkFPQhn3BlcGUGeicaIyCMNIGIr+MQtoYt6VUEaeDHySuV7Pd92JxojKIFyE+3qpVJrku/HXK97VAotNd7RiJSqDrAEXoMEFd+eqK6G8u4EzTLFasRKNQTi8ehDMgkF2893w61UtXuuN5rLmaw9JfERjEJ7VwLOsp2078SciFYvFQeYWNTXMio9oDML5B/d47O+7wTcilL1iCj+JkWgMwpOvPsVVat+NvRGh7H9pCmKMkWgM8mtwGtj57OoIhHIfA54JoB5F74jGIIxrYji596jdRoRyH2guM4rveowF3tDgBrTHwE/ADWAhaAPfAivM3dVM+8ZHFAZhJTA48aibbropqgl6hyqVClfVuX9dwYs9w20MD4BF4KJSqfR+PL6Jh2kWCoVB+P/98P8nYLjNc8x/bM5IaRklCoNsRaWsBIf7buiNitlQAGPIlOCha/jl8YS5PGTMK7BXd3WK3w8Gx5rrXWiqNEwShUFYSOajmpxVg05a/LDBD0xn0HdlDDbwn4OL8UUyvt4UTbzlDw5Gb8KNc5tTantRGOR7Fr9BuIlKBtnZHLyFf2uxWJzZh/odDe6x5NeaojAIDxblQtu0JBttlkLZ32AuEkCBi9ubg3t7FmJ+MbYv9YtehIuxJ4BVluxBtFEYhPwCHJVUg81aKPtIc+Nr3/UYEr8B8zjpTqKO8TrD8HrnmVsSyJ1BfoVx5olMLJ1EZWatSqUyyXSbtzPMsH8FI7MZr5ZEHXM+gtc81NykPakcZdEY5DEYZDZ36iVRmVkLZT/OtFDYAVM1La5lz0/0Cw+vyZ76QnPHV+TKIE/h4j8L9k6yQrMSyn22KdSEMB6NQacnok6GplDPA/Ha082d95LEFoNoDMJw8ZIFnKihO5lb9Mp7sCLv4P0Q/AVILZ8AXnuyuSyXLyZQ5mgMwsq9BV1ylHeyUPb/sHwvEvLOEu8wfQKMTLmuc2kQ3hL8T/A+zEMS75rTErt8wAk6J6V53jDF678YjE67zi2nBiE8V5ATsH3TruSkZG7L7Sct31tuee2tYHxGdZ5bg/A4tXYwLelDcdIQM82bW+H9ruV3NyGHVjdiaHxgoVDIJPO+5dggrGyuRjMJwogsKrsvQhmHAiaPSzPaNGQ4LL63WCy+BebIbP3KcmwQwrgdJmOb4uMskHpV6z2YrOFbAdSZDxhSsxrzxXeBTJNsWM4Nwm+l/wIf51mBWVZ8b4Sy8bwQ7oDM44E6/IwYNcCwj8w3uFnODUKYfnSBubCC4HoRlsncDsJ2y9/cg0PJDaAIvIQFmQyyjbXgUjDGx4fQnVCmfcwdzfBcAPWUNZxvMRbKW3INk0G2wW78UXBeSEMtlIcRpR82t4c+bxNzHvXALbBsoD6Pw5NBanAieC8M8jZMBL3f9kUZuCfhHWCl5W/V/LVSqXQ/eKd5TqxhMsh28Ci2FcVicVJLS4u3by00DGZyZ+O4zdLZ+hk6D6MOzigUCt7PbDEZZCfYIJfBJMeCzCfteO9R4ONgueXzrHSm3/l7GGTc3LlzvWedMRmkywvhnu8PgMxitcyZ41xzw6o/BFAPWcMts0yrOsUCyVlmMkiXcOLOveufxbfZoWlmgeceaMAPgrFhd1s+Y61eANeaO4Y7mABSk0G6hXeOHgH/DD6ACfx4Tp6Tqny8Vn+wr7lFQL4H98rnMVMJ535MYzQbXxTd5q/KWiaD1P0B3gmDcK1kJj7EsZifNLxwxbtkeK3ReJ3ptde8q/Yevq/TB7x7yL0dHFoGd5iRySB105FW5t/QsNmo+a1/OP49qp7JPE2B54+sDaVOBl8CS2EQ7gzM2xpHB7xuZiO5BCSSjSRpmQzSEBwGMTfudWjwF+Dx3XhkIoW3gqngkBpTaz/j794DPgOuNjdsU04rN9dimM8430boSiaD9JltqS5hEIar/AwwbeX1NZbVfsbfbTQlm94R3soOsufokMkgwgP8oljHvLk+1pp6I5NBRMZw3sHAy2nAe0hPTzIZRGTMhnK5fJYFuLVgVzIZRGTIBvA1Ziz03fDrlckgIiOYJOMac3f3oug9KJNBRAbwDh4jkxm+H1XCcJNBRMpwzehOc4Gf0SULNxlEpAgXQ5laiWEk0cw7OstkEJESvJ27plQq/SP3dvhu6I3KZBCREhvAgmKxOHnOnDnRTMp3lMkgIgW42WtJa2vrOyqVyhDfjbwvMhlEJMy2RgBmh5QhplGZDCIS5E/pkzDviPL0rh1lMohIkHXoNf4JBJeAr1GZDCISgonerrIAs1P2RSaDiATg0GqFBbhltq8yGUT0ES4GMtnEGIsoxqpemQwi+gB7Dh5ld5Q1oTkok0FEH2ASi0+BTA+1yVImg4gG4bkql4Oxra2t3lOEpiWTQUQDcMvsYjCtVCoFv222LzIZRPQSNpRbwSwLKEVoWjIZRPQCZr6/A3w0tBShaclkkF7DBTHmubrX3DcpEy7z7PLbzR0IykC9ZsyUyA+XOb6YKG9f3w03K5kM0iuYCZDZ1+eAUzA5PbBcLg9naAWYjG/Vj+Hn15mLR9oSQHmTgmfKM5PkpbjGCb4bbZYyGaRuOLxgJsAPghFdVWi1WqVZPo3n3GfNkU2RvSFv514BJmXZOEOQySB1wTMCua96Rj3nhOA5Q8GpeP4tYJ25b2Df19Ao7DWX4HqOnDt3blMuBnYnGaRn+A26GpyKRlJ30oFCoTCYjQp/1waeitQkLPOD6BHfi55x9zQbYqiSQXqGQytmIG9o7I2/G2/uDPYnLL7J+29hjrPAG5JueLFIBukBNI5nweHWYKwR/w7sB84xd6RbLCdIbcZ1f5EH/TTzSnlPkkF6viDmke3T1tGaSXhAJ88IudHiOKCzCt4Ic+Ru3tFZMkjXcPz9PTYSSyBSFfOR/nidPc1FvrYFbJJXYYqleDzIIsi+nrZkkK7hmYFvs4SPI8br7QYOA5fANFxbCGlewuHfHTDIFJB7c1AyyK7hrU1GqqaSRxaNbxCYgNf/BB5X1irO9zVvgWEfwOOsNK45Vskgu2go4G403IPSnJzOnz+/f7Va5So8D/RcUvsAfPUm3BX4CAxybprnwccoGWQH0GCfAWdnNcTgJBjMMHdO+mOWfW/ClX6u03zVchRjVa9kkO15CY312qwPeKkNuXgk2VfMBQRuzvCaubfjGjBN846dJYNsX/j70EjeXS6XMz/DoqWlZQCGN7xjdj5YSbNa+kMu3km7He87q1gsNv3ejkYkg/yZp8E84DUjIBrrSJTho+bC57mtNa0QlY5zO/heudjb0YhkkD83Fq55TPb9gVAoxzBwImg3t/ckaZMw+PIhcAEMqXlHN5JB3CR1FTgTjSWYZMsY5g1Cmd6MMrFXY2qdrQle7xrL4d6ORiSDmD0PvgkO8f1h7EpoxPsA7uL7VUIm+R3mWfPBwb6vLQbl3SCcBDOAkLdZgwzIY4gKGvNe4P3m0nv25Xp5d+w7YGqeAxB7o7wbhEOXL4D9fH8Q3QnDLcZx7Q6zHIbHq62xtZKtMMWd4O1Ai4F1Ks8G2bZTDky3hOOt0lKxWByMso5HA78Mj09a/ZN39pSP4+9Oh9n2qlar6j3qVF4NwgbzMPgw2NP3h9BboaFPRG/yOXMJJOpZVOQHcxGTS1QqlVyHr/dWeTUIJ+at4ADfH0AjQk/SHwbhJqwPgZvB77u5Vk7subdjoil8vdfKo0G4BrASnGQRZwasmWQvcxkOOS9Zazvf5WLI/nfwPN4ujmIYGZryaBBmGfkMGOW78pMQrmMPcBwomFvP6djSy6HXv4NjrEmPJshCeTMIe4+bwP6+Kz5JYW4xhInrwMW4tp+YG0Leg15jdrMnl05beTPIGjSi00B0E/OetGjRogHlcnksrvFsc5nXmSQil6l6klSeDMIQi6+BTEPZsxaubwSYAurO4SV1rbwYhOsFq6vValObQ0peeTAI1zyew7DqTK0gS71VHgyyCRPVG3xXtBSnmt0gnHf8GkOr8b4rWopTzW6Q9eg95mBopQmr1JCa2SDcb80ToA5hyLjvipbiVLMahEMrBiNyoWyI70qW4lWzGoRDqwVgYqFQUO8hNaxmNEjHUWmzeNKT7wqW4lazGYRrHty7/XlMzPfxXblS/Go2g7xQu5i3mPY+SAmomQzCN+fZ5WeA3B4ZJiWrZjEIh1a/MZeAualC2SW/ahaDvIIJ+TIww0deXal51QwG4ZoHj2m+EAYZ7btCpeZSMxiERxZ8Q5kCpTQUu0E493gU5phVqVS05iElrtgNshF8GYyFQbRiLiWumA3CuQfP0Hizac1DSknRGgQT8hcxtPpIuVxuugQMUjiK1SBbYZCrYJCx1WpVOZ+k1BSjQZg98AEYZJqyBUppKzaD8K4VD4C5kCfD+q48qfkVm0F4ZMFSzDv255kZvitPan7FZBC++IPoOU4FmndImSgWg3Bo9Yy5zIjBHLQpNb9iMUhHpnJmMdfcQ8pMMRiEaUN/Ye7IAh14L2WqGAyyHiwAE31XlpQ/hW4QnudxD48sqFQqSuUvZa7QDfIEuBSM811RUj4VskGYgOHb4EhTMKLkSaEahBPzhzC0OtuUgEHyqFANwol5uVY49R6SN4VokC3gR+YyI2piLnlViAbZAC4DE3xXjiSFZhCGsv8UvMd0CKUUgEIzyMu1wihDiRSEQjMID71ZBA7wXTGSRIVmkJdAyTT/kAJRiAYplkolGUQKQqEZ5BWwFBza3t6uHYOSd4VmEG6MWtXa2vr2hQsXaoFQ8q7QDEKegkHOK5fLo3xXjiSFaJBXYZAfg5OBVtIlrwrRIBxmPQdzMDHcob4rSMq3QjQIYTTvWnAlOKlUKilRg+RFoRqEMOyEUb0rwJfAbHB8oVA4HEwVIgvw5XyKuTurwRmkA976XQPuB3eAZeD7QmTESvCkucYdpEGEaBZkECG64U8Gea2G7wIJERI0yEoahEmmN5tMIkRnuFt2eb/W1tYnwdPm7kT5LpQQofByqVS6nj3IKvCIOcf4LpQQobAJHcdCGmS5uVuymwMolBChsBE9yFf64T/ngr/BD9YFUCghQmFDuVw+pl+xWDwIBjkWP3g8gEIJEQJb4Im7jMlIYJBB+MdosMTcPnPfhRPCN8/DINwtO7gjyGsoOMdcAmrfhRPCJ7yb+3NM0GdgiDWgwyADwCSwGDwfQCGF8AW3byyCOfbdLlQYP2QvwmhIjr1eCaCgQmQNlzp4xs17YZDBO8XT4xeci3zRXESu78IKkTVcMJ8HH4xpa2vbORFJoVAYiInJVHMJ4dYHUGAhsoJprG5G+z++WCzu3Ht0CF3LUGYqwZO/CZ41xWiJ5ofm4H6S02GQng+fhUl2w5Ong6vM3dlSnJZoRrhdfAO4HZwORvRojk4mGYKe5AgwD3/4M3PHrL0ewEUJ0VfYjhnFzhhE5lI42Xpjjs5ClzMCnIYXuAb8Ejxjrkt61WQYEQ/sLRhvyJCq1eA28EkwtlqtDmjIHJ2FFxoCjgYXgKvBPeaGX3xDTug3CBEg683dnXoY3IYv+3/AJPwEjJD2bmtrSy8jKIZe/fEmIzkMwxvOLBQK7xQiQI67/PLLx7W0tDTUS/w/YR5Fuo16Jr4AAAAASUVORK5CYII="

/***/ }),

/***/ "78a8":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_3b1009ec_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("1612");
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_3b1009ec_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_3b1009ec_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */


/***/ }),

/***/ "79e1":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin

/***/ }),

/***/ "7b1b":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _mixins_permission_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("d215");
//
//
//


/* harmony default export */ __webpack_exports__["a"] = ({
  name: 'HtHyperlink',
  mixins: [_mixins_permission_js__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"]],
  props: {
    desc: String,
    address: String,
    target: String,
    login: {
      type: Boolean,
      default: true,
      require: false
    },
    formData: {
      type: Object,
      require: false
    }
  },
  data() {
    return {
      targetAddress: '',
      data: {},
      loginToken: '',
      title: ''
    };
  },
  created() {},
  watch: {
    address: {
      handler(val) {
        this.targetAddress = val;
      }
    },
    formData: {
      handler(val) {
        this.data = val;
        if (this.loginToken === '') {
          this.loginToken = this.$requestConfig.getToken().replace("Bearer ", "");
        }
        this.change();
      },
      immediate: true,
      deep: true
    }
  },
  methods: {
    change() {
      let url = '';
      let temp = this.address.replaceAll("{{", "'+this.").replaceAll("}}", "+'");
      let add = eval("'" + temp + "'");
      if (this.login) {
        if (add.indexOf('?') !== -1) {
          url = add + '&token=' + this.loginToken;
        } else {
          url = add + '?token=' + this.loginToken;
        }
      }
      this.targetAddress = url;
      if (this.desc.indexOf("{{") !== -1) {
        this.title = eval(this.desc.replaceAll('{{', '{{this.'));
      } else {
        this.title = this.desc;
      }
    }
  }
});

/***/ }),

/***/ "7ced":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin

/***/ }),

/***/ "7ffd":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin

/***/ }),

/***/ "800a":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin

/***/ }),

/***/ "80a3":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_923094ca_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("f567");
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_923094ca_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_923094ca_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */


/***/ }),

/***/ "8212":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_39e0d488_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("ad78");
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_39e0d488_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_39e0d488_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */


/***/ }),

/***/ "83a4":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_180e4564_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("eef7");
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_180e4564_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_180e4564_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */


/***/ }),

/***/ "83ee":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_27f4d8e1_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("0f36");
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_27f4d8e1_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_27f4d8e1_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */


/***/ }),

/***/ "863b":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_JobSelectorMobileDialog_vue_vue_type_style_index_0_id_6362ca66_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("00f7");
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_JobSelectorMobileDialog_vue_vue_type_style_index_0_id_6362ca66_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_JobSelectorMobileDialog_vue_vue_type_style_index_0_id_6362ca66_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */


/***/ }),

/***/ "8653":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_fceb4028_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("800a");
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_fceb4028_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_fceb4028_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */


/***/ }),

/***/ "893c":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin

/***/ }),

/***/ "895f":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("025e");
/* harmony import */ var _locale__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("fe07");



// 组件的name属性
/* harmony default export */ __webpack_exports__["a"] = ({
  props: {
    name: String,
    modelName: String,
    size: {
      type: String,
      validator(val) {
        return ['large', 'medium', 'small', 'mini'].includes(val);
      }
    },
    placeholder: {
      type: String,
      default() {
        return Object(_locale__WEBPACK_IMPORTED_MODULE_1__[/* t */ "c"])('ht.common.enter');
      }
    }
  },
  data() {
    return {
      inputNameLast: ''
    };
  },
  computed: {
    inputSize() {
      return this.size || this.$HOTENT.size;
    },
    inputName: function () {
      // 增加第一条数据时防止多次进入重复创建
      if (this.inputNameLast && this.inputNameLast.includes('__')) {
        return this.inputNameLast;
      }
      this.inputNameLast = this.name ? `${this.name}__${_utils_js__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"].getName()}` : _utils_js__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"].getName();
      return this.inputNameLast;
    }
  }
});

/***/ }),

/***/ "8a57":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_9db0561c_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("7ced");
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_9db0561c_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_9db0561c_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */


/***/ }),

/***/ "8bbf":
/***/ (function(module, exports) {

module.exports = require("vue");

/***/ }),

/***/ "8d8b":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("025e");
/* harmony import */ var vee_validate__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("9718");
/* harmony import */ var vee_validate__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(vee_validate__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _locale_validate_dict_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("6abe");
/* harmony import */ var _util_base64__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("c46f");
/* harmony import */ var _locale__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("fe07");
// import Vue from 'vue'





const validate = {};
validate.install = Vue => {
  Vue.use(vee_validate__WEBPACK_IMPORTED_MODULE_1___default.a, {
    fieldsBagName: 'inputs',
    events: 'change|blur'
  });
  vee_validate__WEBPACK_IMPORTED_MODULE_1__["Validator"].localize(_locale_validate_dict_js__WEBPACK_IMPORTED_MODULE_2__[/* default */ "a"]);

  //比较类型。1，小于:datelessthan。2，小于等于:daterangeend。3，大于:datemorethan。4，大于等于:daterangestart
  const getDatevalAndCompare = function (selfValue, targetValue, compareType) {
    let targetDate = targetValue;
    if (!targetDate) {
      return true;
    }
    let selfDate = '';
    if (selfValue && selfValue.constructor == String) {
      selfDate = selfValue;
    } else if (selfValue && typeof selfValue == 'object') {
      selfDate = selfValue.value;
    }
    let result = false;
    if (compareType == 1) {
      result = _utils_js__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"].dateIsBefore(selfDate, targetDate);
    } else if (compareType == 2) {
      result = _utils_js__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"].dateIsBefore(selfDate, targetDate, true);
    } else if (compareType == 3) {
      result = _utils_js__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"].dateIsBefore(targetDate, selfDate);
    } else if (compareType == 4) {
      result = _utils_js__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"].dateIsBefore(targetDate, selfDate, true);
    }
    return result;
  };
  const datelessthan = {
    validate: (value, [otherValue]) => {
      return getDatevalAndCompare(value, otherValue, 1);
    }
  };
  const daterangeend = {
    validate: (value, [otherValue]) => {
      return getDatevalAndCompare(value, otherValue, 2);
    }
  };
  const datemorethan = {
    validate: (value, [otherValue]) => {
      return getDatevalAndCompare(value, otherValue, 3);
    }
  };
  const daterangestart = {
    validate: (value, [otherValue]) => {
      return getDatevalAndCompare(value, otherValue, 4);
    }
  };
  const regexTest = (reg, value) => {
    if (reg) {
      if (reg.constructor == String) {
        let _reg = reg;
        if (Object(_util_base64__WEBPACK_IMPORTED_MODULE_3__[/* isBase64 */ "c"])(reg)) {
          let _value = Object(_util_base64__WEBPACK_IMPORTED_MODULE_3__[/* decode */ "a"])(reg);
          _reg = eval('(' + _value + ')').regex.exp;
        }
        if (_reg[_reg.length - 1] === '/') {
          _reg = _reg.slice(0, _reg.length - 1);
        }
        if (_reg[0] === '/') {
          _reg = _reg.slice(1, _reg.length);
        }
        return new RegExp(_reg).test(value);
      } else if (reg.constructor == RegExp) {
        return reg.test(value);
      }
      return true;
    }
    return true;
  };
  vee_validate__WEBPACK_IMPORTED_MODULE_1__["Validator"].extend('isBefore', datelessthan);
  vee_validate__WEBPACK_IMPORTED_MODULE_1__["Validator"].extend('isAfter', datemorethan);
  vee_validate__WEBPACK_IMPORTED_MODULE_1__["Validator"].extend('isEnd', daterangeend);
  vee_validate__WEBPACK_IMPORTED_MODULE_1__["Validator"].extend('isStart', daterangestart);
  // 日期校验
  vee_validate__WEBPACK_IMPORTED_MODULE_1__["Validator"].extend('date', {
    validate: value => {
      if (!value) {
        return true;
      } else {
        let dateVal = '';
        if (value.constructor == String) {
          dateVal = value;
        } else if (typeof value == 'object') {
          dateVal = value.value;
          if (!dateVal || value.constructor == Date || dateVal && dateVal.constructor == Date) {
            return true;
          }
        }
        var re = /^([0-9]{3}[1-9]|[0-9]{2}[1-9][0-9]{1}|[0-9]{1}[1-9][0-9]{2}|[1-9][0-9]{3})-(((0[13578]|1[02])-(0[1-9]|[12][0-9]|3[01]))|((0[469]|11)-(0[1-9]|[12][0-9]|30))|(02-(0[1-9]|[1][0-9]|2[0-8])))/g.test(dateVal.trim());
        return re;
      }
    }
  });
  // 重载veeValidate自带的确认相同验证规则，通过domName来查找关联字段。
  vee_validate__WEBPACK_IMPORTED_MODULE_1__["Validator"].extend('confirmed', {
    validate: (value, [args]) => {
      if (!value) {
        return true;
      }
      return value == args;
    }
  });

  // 重载veeValidate自带的正则表达式校验规则，支持通过字符串传入正则表达式，并支持传入验证不通过的提示信息。
  vee_validate__WEBPACK_IMPORTED_MODULE_1__["Validator"].extend('regex', {
    validate: (value, args) => {
      if (!args) return true;
      if (args.constructor == Array) {
        return regexTest(args[0], value);
      }
      if (args.constructor == Object) {
        const exp = args['exp'];
        return regexTest(exp, value);
      }
      return true;
    }
  });
  vee_validate__WEBPACK_IMPORTED_MODULE_1__["Validator"].extend('numeric', {
    validate: value => {
      if (!value) {
        return true;
      } else {
        return /(^-?[1-9]([0-9]*)$|^-?[0-9]$)/.test(value);
      }
    }
  });
  // 异步校验规则
  vee_validate__WEBPACK_IMPORTED_MODULE_1__["Validator"].extend('method', {
    validate: (value, args) => {
      if (!args) return true;
      if (args.constructor == Array) {
        if (args[0] && typeof args[0] == 'function') {
          return args[0](value, args);
        }
      }
      if (args.constructor == Object) {
        if (args['callback'] && typeof args['callback'] == 'function') {
          return args['callback'](value, args);
        }
      }
      return true;
    }
  });
  // 手机号校验
  vee_validate__WEBPACK_IMPORTED_MODULE_1__["Validator"].extend('mobile', {
    validate: value => {
      if (!value) {
        return true;
      } else {
        return /(^1\d{10}$)/.test(value);
      }
    }
  });
  // 自定义js校验frontJSValidate
  vee_validate__WEBPACK_IMPORTED_MODULE_1__["Validator"].extend('frontJSValidate', {
    validate: (value, args) => {
      return new Promise(resolve => {
        let jsScript = args[0];
        jsScript = Object(_util_base64__WEBPACK_IMPORTED_MODULE_3__[/* decode */ "a"])(jsScript);
        let formElementAry = document.getElementsByName('online-form');
        let dataViewElementAry = document.getElementsByName('data-view');
        let data = {};
        let paramName = 'data';
        if (formElementAry && formElementAry.length == 1) {
          //PC表单
          let frmInst = formElementAry[0].__vue__;
          data = JSON.parse(JSON.stringify(frmInst.data));
          paramName = 'data';
        } else if (dataViewElementAry && dataViewElementAry.length == 1) {
          //表单列表
          let dataViewInst = dataViewElementAry[0].__vue__.$children[0];
          data = JSON.parse(JSON.stringify(dataViewInst.searchForm));
          paramName = 'searchForm';
        }
        if (value && value._isVue) {
          value = value.value;
        }
        function evil() {
          let Fn = Function('value', paramName, jsScript); //一个变量指向Function，防止有些前端编译工具报错
          let result = Fn(value, data);
          return result;
        }
        try {
          let result = evil();
          if (result === undefined || result === null) {
            result = true;
          }
          resolve(result);
        } catch (err) {
          resolve({
            valid: false,
            data: {
              message: Object(_locale__WEBPACK_IMPORTED_MODULE_4__[/* t */ "c"])('ht.validate.jsError')
            }
          });
        }
      });
    }
  });
  // 后端校验 backendValidate
  vee_validate__WEBPACK_IMPORTED_MODULE_1__["Validator"].extend('backendValidate', {
    validate: (value, args) => {
      let url = args[0];
      let submitFormData = args.submitFormData || false;
      return new Promise(resolve => {
        Vue.prototype.$requestConfig.backendValidate({
          url: url,
          param: value,
          submitFormData: submitFormData
        }).then(res => {
          resolve(res && res.valid);
        });
      });
    }
  });
  // 身份证号校验
  vee_validate__WEBPACK_IMPORTED_MODULE_1__["Validator"].extend('id_card', {
    validate: value => {
      if (!value) {
        return true;
      } else {
        return /^(^[1-9]\d{7}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}$)|(^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])((\d{4})|\d{3}[Xx])$)$/.test(value);
      }
    }
  });
};
if (typeof window !== 'undefined' && window.Vue) {
  validate.install(window.Vue);
}
/* harmony default export */ __webpack_exports__["a"] = (validate);

/***/ }),

/***/ "8dfe":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin

/***/ }),

/***/ "8f8d":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin

/***/ }),

/***/ "8fa1":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin

/***/ }),

/***/ "9093":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_FileList_vue_vue_type_style_index_0_id_2f5080d3_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("1fcb");
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_FileList_vue_vue_type_style_index_0_id_2f5080d3_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_FileList_vue_vue_type_style_index_0_id_2f5080d3_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */


/***/ }),

/***/ "91ab":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin

/***/ }),

/***/ "91b7":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ListSelector_vue_vue_type_style_index_0_id_ea9c0d06_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("29c2");
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ListSelector_vue_vue_type_style_index_0_id_ea9c0d06_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ListSelector_vue_vue_type_style_index_0_id_ea9c0d06_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */


/***/ }),

/***/ "9224":
/***/ (function(module) {

module.exports = JSON.parse("{\"a\":\"1.0.13\"}");

/***/ }),

/***/ "9232":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_OrgSelectorMobileDialog_vue_vue_type_style_index_0_id_01f4cbdb_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("a651");
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_OrgSelectorMobileDialog_vue_vue_type_style_index_0_id_01f4cbdb_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_OrgSelectorMobileDialog_vue_vue_type_style_index_0_id_01f4cbdb_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */


/***/ }),

/***/ "9333":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin

/***/ }),

/***/ "93cc":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_BatchSaveDialog_vue_vue_type_style_index_0_id_3fda3444_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("647e");
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_BatchSaveDialog_vue_vue_type_style_index_0_id_3fda3444_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_BatchSaveDialog_vue_vue_type_style_index_0_id_3fda3444_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */


/***/ }),

/***/ "94df":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin

/***/ }),

/***/ "953f":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin

/***/ }),

/***/ "9588":
/***/ (function(module, exports) {

module.exports = require("file-saver");

/***/ }),

/***/ "9718":
/***/ (function(module, exports) {

module.exports = require("vee-validate");

/***/ }),

/***/ "9745":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Step_vue_vue_type_style_index_0_id_bd127e32_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("6f45");
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Step_vue_vue_type_style_index_0_id_bd127e32_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Step_vue_vue_type_style_index_0_id_bd127e32_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */


/***/ }),

/***/ "97d6":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin

/***/ }),

/***/ "9813":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_34d343a4_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("d1c5");
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_34d343a4_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_34d343a4_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */


/***/ }),

/***/ "9942":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_TemplatePreview_vue_vue_type_style_index_0_id_726d533d_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("49a8");
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_TemplatePreview_vue_vue_type_style_index_0_id_726d533d_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_TemplatePreview_vue_vue_type_style_index_0_id_726d533d_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */


/***/ }),

/***/ "9a01":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_52e83331_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("597c");
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_52e83331_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_52e83331_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */


/***/ }),

/***/ "9c1f":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_efda4800_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("e672");
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_efda4800_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_efda4800_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */


/***/ }),

/***/ "9c6b":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_SubExportDialog_vue_vue_type_style_index_0_id_85893d6a_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("6858");
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_SubExportDialog_vue_vue_type_style_index_0_id_85893d6a_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_SubExportDialog_vue_vue_type_style_index_0_id_85893d6a_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */


/***/ }),

/***/ "9ce6":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin

/***/ }),

/***/ "9f33":
/***/ (function(module, exports) {

module.exports = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHoAAABMCAYAAACieqNUAAAAAXNSR0IArs4c6QAAB7VJREFUeF7tnc2PFEUUwN/r2cB09yK7RhemR/lSCRKQBRMPChG8aOIBCQcTEyMcvGmQeNCbEOPNRPwHAA0HgiZgwkETwy4JiYmJYYWgYKLuKlMDG3BYM9M7w870M2/SMxnanp3Z6eqvme6k05lN1at671dVXfVeVS/CgF1CiEkAeJHVRsQ9mUyGf/f9hX2voUPBBPSAEE9ARxT07OzseK1WG89kMidlVFE26EKhMFIulw9lMpmjMurnl4xID90MeWFhYQIRRxDxoAzYMkEzZNM0uX7jRHQym80e9AuUV7mRBi2EmAaAtQ0lZcCWBboVssz6eQXaLn+kQds9ehIRV8oypgzQbpAB4AvDMA74Bcqr3EiDZuVkw/YKOo6Q60tJry0liPwyYXsBHVfIsQEts2f3CjrOkGMFWhbsXkDHHXLsQLeB7fskyOXV4XuZsl+JsXhHO5Vmw1er1XMAMBnUTLcF9knDMN6TDcJvebEEzUbh4XR0dPSe3wZqlR9GmbL0iy1oWQYYFDkJ6AEhnYBOQA+IBQZEzUj1aDsk2fRrx5lBKpWaGxsbm4qKDpEBbTsl/uSQZFSM46UeRHRP07T1Qa8MIh+9EkIcA4BDXowbwbyfR2XNHYkenc/n1xHRny2gZgCAY9FxvNY5YujrM5lM6LpEArQQYgIAdjeoxnl3Zj6f301ErE/jYu/dnrBbbOigXQwTOz+yE6IQgt2ze6PUcEMHLYTgIZuHu/qFiJEY6rz0QJdX0bRhGOu9yPSaN1TQQggODnzWokTse3NDFyEE71p9q0W3w4Zh8IQzlCs00M7lFBHNKYrC23pDn7jIIOHs1WEvt0IDncvljiDiRw2jEtHRbDZ7RIaRoyIjSjqGAtqltc9pmrYuKs4FWQ3FHrWmHbtYQ5mDhAJaCHEWAF7r597c0M3ZqwHgnGEY+2Q1pm7lBA7aZTk1o6rqeL/15gaANr068FOcgYPO5XKX+QhLy3JKylGbblt2GOny+fwBIjrRMoJNZbPZ7UHWJVDQToUBYMYwjOYaOkjFgy7Lj+NFS9EhMNBu0SkZZ6mWomyYaV16daDRrcBAu0xKLhqG0fRvhwkhqLJzudwUIm4LYxIaCGheTlmWxe/mZqw5zoGLXhuGcyLKThRFUbYH4SQKBLSLO3DgenOLa7T5DRX7b4G4fYMCTY5ewG5OP1yd92StUe21vh+7XXjy+cAE1DAM3zn4XgADFkI4Qfc6+nXMJ8tocazzYsbpO9AywpwuYcaODcxLAlmNc6BAA4DncKBL+NQLx455E9AdTeSaYFpV1e29ulTD2I2agO4NNOfqefdlGLtRE9C9g+YtSUv2obu4aD3UoPusCejubdUu5THDMA53I0YIwVuaQjn3nIDuhlDnNBz4P5JOp79xvrftr/7tJSLe2RJacCUB3RniklIQEfua64fniYi/RtgMly5JkOTECWjJBo2quAR0VMlIrlcCWrJBoyquL0DPz8+vKxQKrQfoomrv0Oo1MjKyRtO0v/2sgDRf9/z8/FrLsrYQ0RYA2IqImwFgEwCoc3NzfuoQe9krV9bP/pcA4BcAuIaIVy3Lqj91XRcyFOwZdKVS2VStVvmU4B4i2o2Ij7arUAJ6cVQ26HaJcnw6ExEnFEW5oKpqT+HdJYEul8sba7XamwDwBgBs6LalJaA9gX4gMxFdBYBTiHhqKb29I+hyufxErVZ7HQD2A8CObuG2pktAywPtkHQJEb+yLOvM8PDwrcVKaQu6WCweRMR3AcDz/uMEtG+gm4KJ6CIifqrr+nm30v4H2gbM/wjk8V56r1ueBLT/oFtKmFIU5X1VVS+0ltoEbb9/jwPAC7IAN+QkoAMFXS+MiE7ruv4OIt7l33XQlUpl88LCAo/3o7Ihs7wEdPCgbdjXdV3fhYh30DTNNfae64f9gJyA7mzVDsurzgIWT3FZ1/UdWCqVvgWAl71KS/JH2gKfYLFY/MevITvSqg9Q5YjoBvdodrFlBkjvQVRVcI/+EhHZ25Vc/WuBE0hEj5im+TMAGP2r50Br9pemadvqyyvbzXkJAFYPtEn6T/mbiqLsVFV1ptVhsqFarR5HxPp/S0+u2FvgO0R8uxHnbucC/RgAsrFXdTAV+B0RP9Q07etW9RcLavDnDT9AxKcH016x0/onDmpomnbareYdw5TFYvEZRNxPRPsQcWvs1O/vCv9IRGeHhobOpNPpPxZTtSPo1symaT5GRK8CwCtE9BIiPtTfdoyWdkR0BwC+T6VS59PpNL+D+XdX15JAOyWapvmcZVkMnCdwuwBA76rUJFFXFiCiAiJynHnSsqyJ4eHhK11ldEnkCbRTXqlUehYRn7csaydvWEDEp3qt2CDmI6IriHgZAC4NDQ39sHz58muy7CAVtFulKpXKllqttpmINvGNiBuJaCMirpClRJzkENFdRPwNAG4Q0XVEvJ5KpX5Np9P8N98u30G3q3mpVMooivIkEfEyjn3tq4mIHTaN5ypEXOWb5v4IvgkAfHOwn/dw3ULE+hMAcqqq8hbef/0penGpoYHuVlkiGrt///4qy7J4OzE3gjG+AaB+24flVhCRjoia/fTyNaEyEZUQ0bSfJSIq2js1ZgGgfiMi37cVRZldtmzZbUQsdKtTGOn+AxUMzd9TkKqzAAAAAElFTkSuQmCC"

/***/ }),

/***/ "a002":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin

/***/ }),

/***/ "a091":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin

/***/ }),

/***/ "a128":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_4c5cc602_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("ec82");
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_4c5cc602_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_4c5cc602_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */


/***/ }),

/***/ "a3a8":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_customMobileDialog_vue_vue_type_style_index_1_id_38b1b8ca_prod_lang_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("7ffd");
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_customMobileDialog_vue_vue_type_style_index_1_id_38b1b8ca_prod_lang_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_customMobileDialog_vue_vue_type_style_index_1_id_38b1b8ca_prod_lang_scss__WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */


/***/ }),

/***/ "a3f1":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin

/***/ }),

/***/ "a548":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_PolicyUser_vue_vue_type_style_index_0_id_cc4d2050_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("ae5e");
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_PolicyUser_vue_vue_type_style_index_0_id_cc4d2050_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_PolicyUser_vue_vue_type_style_index_0_id_cc4d2050_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */


/***/ }),

/***/ "a651":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin

/***/ }),

/***/ "a7fc":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_PostSelectorDialog_vue_vue_type_style_index_0_id_e005ae2e_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("c03f");
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_PostSelectorDialog_vue_vue_type_style_index_0_id_e005ae2e_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_PostSelectorDialog_vue_vue_type_style_index_0_id_e005ae2e_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */


/***/ }),

/***/ "a8b9":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("8bbf");
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(vue__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var element_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("5f72");
/* harmony import */ var element_ui__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(element_ui__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var hotent_ui_src_utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("025e");
/* harmony import */ var hotent_ui_src_util_brower_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("45fd");
/* harmony import */ var jszip__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("5877");
/* harmony import */ var jszip__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(jszip__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var html2canvas__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("f230");
/* harmony import */ var html2canvas__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(html2canvas__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("c5e1");
/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("60bb");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_7__);




const {
  Base64
} = __webpack_require__("f43e");



const axios = __webpack_require__("cebe");
const {
  saveAs
} = __webpack_require__("9588");

const req = function (url, data = {}, option = {}) {
  const requestData = {
    url: url,
    data: data,
    method: option.method || 'GET',
    params: option.params || {},
    onUploadProgress: option.onUploadProgress || null,
    headers: option.headers || '',
    responseType: option.responseType || 'json'
  };
  return axios(requestData);
};
/* harmony default export */ __webpack_exports__["a"] = ({
  props: {
    templateKey: String,
    defKey: String,
    taskType: {
      type: String,
      default: ''
    },
    dataView: Object,
    isJoinFlow: {
      type: Boolean,
      default: false
    },
    parameterqQuerys: String
  },
  data() {
    return {
      treeQuerys: [],
      alias_new: 'statement',
      loading: false,
      QRCodeurl: '',
      QRCodeDialog: false,
      html: '',
      tableData: {
        selectRows: [],
        querys: ''
      },
      dialogExportVisible: false,
      exportData: {
        getType: 'all',
        expField: []
      },
      displayFields: [],
      exportSellection: [],
      searchForm: {},
      queryForm: {
        queryData: ''
      },
      formType: false,
      labelPosition: 'left',
      incons: 'el-icon-arrow-down',
      options: {
        fullscreen: true,
        lock: true
      },
      rowTemplateId: null,
      rowId: null,
      QRCodeShow: true,
      asideShow: true,
      QRCodeDesc: [],
      tree: [],
      customDialog: [],
      dialogSubVisible: false,
      tabs: [],
      ents: [],
      modifyRecord: {
        pagination: {
          pageBean: {
            page: 1,
            pageSize: 10,
            total: 0
          }
        }
      },
      recordList: [],
      recordRefId: '',
      dialogRecordVisible: false,
      recordTableLoading: false,
      multipleTemplateTableloading: false,
      modifyDetailDialogVisible: false,
      currentModify: {},
      refId: '',
      querySubValue: '',
      subTableLoading: false,
      currentTabName: '',
      currentTab: {},
      exportType: 'main',
      subDisplayFields: [],
      subDisplayFieldsList: [],
      notPrint: false,
      displayField: {},
      treeList: [],
      rows: [],
      pagination: {
        page: 1,
        pageSize: 10,
        total: 1
      },
      paginationLayout: 'total, sizes, prev, pager, next, jumper',
      total: 0,
      permission: {
        print: true,
        add: true,
        del: true,
        export: true,
        edit: true,
        hidden: false,
        copy: true
      },
      //是否显示最后的操作列
      showRightMenu: true,
      listSelectable: true,
      filters: {},
      sorter: null,
      dialogSunVisible: false,
      //孙表对话框
      sunTabs: [],
      //孙表数据
      querySunValue: '',
      operateColWidth: '240',
      summaryFields: [],
      dialogVisible: false,
      pageResult: {
        page: 1,
        pageSize: 20,
        total: 0
      },
      logData: [],
      notSortableFields: ['bpm_status_', 'bpm_proc_inst_id_', 'bpm_subject_', 'bpm_proc_def_name_', 'bpm_create_time_', 'bpm_end_time_', 'bpm_is_forbidden_', 'bpm_creator_'],
      defaultValueList: [],
      //批量更新数据
      ignoredAlias: ['appCenterFront'],
      QRCodePattern: true,
      QRCodeType: '',
      isMobile: hotent_ui_src_utils_js__WEBPACK_IMPORTED_MODULE_2__[/* default */ "a"].isMobile(),
      activeNames: ['1'],
      switchMap: {},
      filterMap: {},
      dataViewDialogVisible: false,
      dialogWidth: '1580px',
      dialogHeight: '740px',
      srcUrl: '',
      filedList: [],
      flowBtnPermission: {},
      selectedDefId: '',
      selectedInstId: '',
      selectedTaskId: '',
      showScriptButton: {},
      scriptBtnShow: {},
      curSelectParams: {},
      importCacheKey: '',
      isInit: true,
      updatingRow: null,
      subDialogOptions: {
        import: false,
        export: true
      },
      importLogTableData: [],
      statusMap: {
        1: this.$t('ht.templatePreview.importSuccess'),
        0: this.$t('ht.templateImportResult.importFail')
      },
      importLogVisible: false,
      importLogDefaultQuery: [{
        group: 'main',
        operation: 'EQUAL',
        property: 'TEMP_ALIAS_',
        relation: 'AND',
        value: this.templateKey
      }],
      //导入日志查询条件
      quickSearchProps: [{
        prop: 'IMPORT_ACCOUNT_',
        label: this.$t('ht.templatePreview.importAccount')
      }, {
        prop: 'IMPORT_NAME_',
        label: this.$t('ht.templatePreview.importUser')
      }],
      templateSearchQuery: [],
      hasSearchQuery: false,
      hasSelectedData: false,
      openType: 'new',
      failureReasonVisible: false,
      errorInfo: '',
      noDataImg: __webpack_require__("5c25"),
      filterQuerys: [],
      allSummaryConfig: {},
      customSummary: '',
      summaryTableData: [],
      mainTalbeName: '',
      checkRepeatObj: {},
      summaryTableHeight: 0,
      defaultCurrentInnerHeight: this.currentTableHeight ? window.innerHeight - 280 : 0.85 * window.innerHeight,
      batchUpdataTitle: ''
    };
  },
  watch: {
    templateSearchQuery: {
      handler(val) {
        this.hasSearchQuery = val && val.length > 0;
      },
      deep: true
    },
    'tableData.selectRows': {
      handler(val) {
        this.hasSelectedData = val && val.length > 0;
        lodash__WEBPACK_IMPORTED_MODULE_7___default.a.debounce(() => {
          if (val && val.length > 0) {
            this.filterOldSummaryValByType('selected');
            this.summaryTableData.unshift({
              project: this.$t('ht.templatePreview.selectSummary'),
              key: 'selected',
              ...this.getCurrentSummaryConfig(val)
            });
          } else {
            this.summaryTableData = this.summaryTableData.filter(item => item.key !== 'selected');
          }
          this.loadCompiledCustomSummary();
        }, 200)();
      },
      deep: true
    },
    ents: {
      handler: function (newVal, oldValue) {
        if (newVal && newVal.length >= 1 && newVal != oldValue) {
          this.getSubData(this, this.refId);
        }
      },
      deep: true,
      immediate: true
    },
    templateInfo: {
      handler: function (newVal) {
        if (newVal && newVal.id) {
          let _me = this;
          _me.templateInfo = newVal;
          //是否分页
          if (_me.templateInfo.needPage == 1) {
            _me.pagination.pageSize = _me.templateInfo.pageSize;
          }
          if (_me.templateInfo.displayField) {
            let displayField = hotent_ui_src_utils_js__WEBPACK_IMPORTED_MODULE_2__[/* default */ "a"].parseToJson(_me.templateInfo.displayField);
            for (let i = 0; i < displayField.length; i++) {
              if (displayField[i] && displayField[i].type) {
                this.displayFields.push(displayField[i]);
              }
              this.getChildren(displayField[i], this.displayFields);
            }
          }
          if (_me.templateInfo.manageField) {
            let btn = ['add', 'switch', 'export', 'import'];
            let manageField = hotent_ui_src_utils_js__WEBPACK_IMPORTED_MODULE_2__[/* default */ "a"].parseToJson(_me.templateInfo.manageField);
            for (let i = 0; i < manageField.length; i++) {
              if (btn.indexOf(manageField[i].name) == -1 && manageField[i].linePosition) {
                this.filedList.push(manageField[i]);
              }
            }
            if (manageField.length == 1 && manageField.name == 'add') {
              _me.showRightMenu = false;
            }
          }
          if (_me.templateInfo.conditionField) {
            let conditionField = hotent_ui_src_utils_js__WEBPACK_IMPORTED_MODULE_2__[/* default */ "a"].parseToJson(_me.templateInfo.conditionField);
            for (var i = 0; i < conditionField.length; i++) {
              var fieldName = conditionField[i].colPrefix + conditionField[i].name;
              this.$set(this.searchForm, fieldName, '');
            }
          }
          let params = {
            templateId: _me.templateInfo.id
          };
          let pageBean = {
            pageBean: {
              page: '1',
              pageSize: newVal.pageSize,
              showTotal: 'true'
            }
          }; //初次加载默认pageBean
          params.pagination = pageBean;
          if (_me.isJoinFlow) {
            params.isJoinFlow = true;
            params.taskType = _me.taskType;
            params.defKey = _me.defKey;
          }
          if (_me.dataView) {
            _me.handelBindFiledValua();
            //关联查询字段
            if (_me.dataView.selectList && _me.dataView.selectList.length > 0) {
              params.selectList = _me.dataView.selectList;
            }
            params.refIdValue = _me.dataView.refIdValue;
          }
          if (this.parameterqQuerys) {
            var querys = JSON.parse(Base64.decode(decodeURIComponent(this.parameterqQuerys)));
            params.pagination.querys = querys;
          }
          let defaultQuery = this.buildDefaultQuerys();
          if (defaultQuery.length > 0) {
            if (params.pagination.querys) {
              params.pagination.querys.concat(defaultQuery);
            } else {
              params.pagination.querys = defaultQuery;
            }
          }
          //如果有设置默认排序,优先使用默认排序
          if (this.templateInfo.sortField) {
            let sortField = JSON.parse(this.templateInfo.sortField);
            let sorter = [];
            for (let x = 0; x < sortField.length; x++) {
              const s = sortField[x];
              const prefix = this.getColPreFix(sortField, s.name);
              const queryPre = this.getQueryPre(sortField, s.name);
              sorter.push({
                property: queryPre + prefix + s.name,
                direction: s.sort
              });
            }
            params.pagination.sorter = sorter;
          }

          // const this_ = this
          if (params.templateId) {
            // this.getBpmTemplateByPagination(
            //   params,
            //   this_.initSwitchStatus,
            //   this_.handleRightMenu
            // )
          }
          if (newVal.treeField && newVal.treeField !== '{}') {
            let treeField = JSON.parse(newVal.treeField);
            if (treeField.alias) {
              this.initTree(treeField);
              this.formGetSubEntsByFormKey();
            }
          }
          if (newVal.summaryField) {
            this.summaryFields = JSON.parse(newVal.summaryField);
          }
        }
      },
      deep: true,
      immediate: true
    },
    currentTabName: function (newVal) {
      if (newVal) {
        this.querySubValue = '';
      }
    },
    rows: {
      handler: function (newVal) {
        if (this.templateInfo.defId) {
          let this_ = this;
          let boAlias = this.templateInfo.boDefAlias;
          let pks = [];
          let pkField = this.templateInfo.pkField;
          newVal.forEach(item => {
            if (!item['bpm_proc_inst_load_done']) {
              pks.push(item[pkField]);
            }
          });
          if (pks.length != 0) {
            this.$requestConfig.getInstanceByPks(pks, boAlias).then(resp => {
              if (resp && resp.state) {
                let map = resp.value;
                newVal.forEach(row => {
                  let objNode = map[row[pkField]];
                  Object.keys(objNode).forEach(key => {
                    //row[key] = objNode[key];
                    this_.$set(row, key, objNode[key]);
                  });
                  this_.$set(row, 'bpm_proc_inst_load_done', true);
                });
                this.$forceUpdate();
                this_.checkFlowPermission();
              }
            });
          }
        } else {
          this.multipleTemplateTableloading = false;
        }
        this.filterOldSummaryValByType('currentPage');
        this.summaryTableData.unshift({
          project: this.$t('ht.templatePreview.currentPageSummary'),
          key: 'currentPage',
          ...this.getCurrentSummaryConfig(newVal)
        });
        this.loadCompiledCustomSummary();
      }
    },
    summaryTableData(val) {
      if (val) {
        this.$nextTick(() => {
          if (document.getElementById('summaryDiv')) {
            this.summaryTableHeight = document.getElementById('summaryDiv').clientHeight;
          }
        });
      }
    }
  },
  computed: {
    showDraftList() {
      //如果当前页面被嵌入iframe里面不显示草稿
      return !this.isJoinFlow;
    },
    navbarCollapseStyle: function () {
      if (this.asideShow) {
        return {
          left: '200px'
        };
      }
      return {
        left: '0px'
      };
    },
    tableHeaderFilters() {
      return Object.keys(this.statusMap).map(item => {
        return {
          text: this.statusMap[item],
          value: item
        };
      });
    },
    showTabsList() {
      let list = [];
      if (this.tabs.length > 0) {
        list = this.tabs.filter(tab => tab.attributeList.length > 0);
      }
      return list;
    },
    tableHeight() {
      return this.summaryFields && this.summaryFields.length > 0 ? this.defaultCurrentInnerHeight - this.summaryTableHeight : this.defaultCurrentInnerHeight;
    }
  },
  mounted() {
    this.$root.$on('resize', () => {
      this.defaultCurrentInnerHeight = this.currentTableHeight ? window.innerHeight - 280 : 0.85 * window.innerHeight;
    });
    this.handelBindFiledValua();
    let this_ = this;
    this.$on('data-reload-success', function () {
      this_.calcScriptBtnPermission();
    });
    this.$emit('afterMounted');
    // setTimeout(() => {
    //   this.$refs.multipleTemplateTable.handleFilterChange(this.filterMap)
    // }, 100)
  },
  methods: {
    //因为row.id_ 或row.id可能会有重复，所以加随机值使其唯一
    getRowKey(row) {
      /** 检查row.id是否有重复的缓存对象 */
      if (!this.checkRepeatObj) {
        this.checkRepeatObj = {};
      }
      if (row) {
        if (row.id) {
          if (this.checkRepeatObj[row.id]) {
            if (!row._secondId) {
              row._secondId = Math.random() + '';
            }
            /** 方便根据key重用元素 */
            return row._secondId;
          } else {
            this.checkRepeatObj[row.id] = 1;
            return row.id;
          }
        } else if (row.id_) {
          if (this.checkRepeatObj[row.id_]) {
            if (!row._secondId) {
              row._secondId = Math.random() + '';
            }
            /** 方便根据key重用元素 */
            return row._secondId;
          } else {
            this.checkRepeatObj[row.id_] = 1;
            return row.id_;
          }
        }
        if (!row._secondId) {
          row._secondId = Math.random() + '';
        }
        return row._secondId;
      } else {
        return Math.random() + '';
      }
    },
    filterOldSummaryValByType(type) {
      const keys = this.summaryTableData.map(item => item.key);
      if (keys && keys.length && keys.includes(type)) {
        this.summaryTableData = this.summaryTableData.filter(it => it.key !== type);
      }
    },
    //获取汇总全部数据
    getAllSummary(data) {
      const allSummaryConfig = data.reduce((pre, cur) => {
        pre[cur.field] = cur.val;
        return pre;
      }, {});
      if (Object.keys(allSummaryConfig).length) {
        this.filterOldSummaryValByType('all');
        this.summaryTableData.push({
          project: this.$t('ht.templatePreview.allSummary'),
          key: 'all',
          ...allSummaryConfig
        });
      }
    },
    getCurrentSummaryConfig(data) {
      let currentPageTotalConfig = {};
      if (data && data.length) {
        this.summaryFields && this.summaryFields.map(item => {
          currentPageTotalConfig[item.field] = this.summary(item.method, item.field, item.decimal, data);
        });
      }
      return currentPageTotalConfig;
    },
    loadCompiledCustomSummary() {
      if (!this.templateInfo.summaryRegionHtml) {
        return;
      }
      this.$nextTick(() => {
        this.getCustomSummary(Base64.decode(this.templateInfo.summaryRegionHtml)).then(result => {
          this.customSummary = result;
        });
      });
    },
    getCustomSummary(val) {
      const this_ = this;
      return new Promise(resolve => {
        const tempComponent = vue__WEBPACK_IMPORTED_MODULE_0___default.a.extend({
          data() {
            return {
              summaryResult: this_.summaryTableData,
              summaryFields: this_.summaryFields,
              currentPageRows: this_.rows,
              currentSelectedRows: this_.tableData.selectRows
            };
          },
          template: `<div>${val}</div>`
        });
        const component = new tempComponent().$mount();
        component.$nextTick(() => {
          resolve(component.$el.innerHTML);
        });
      });
    },
    // 组合快速查询输入框参数
    handleQuickSearchParams(propStr, labelStr) {
      let arr = [];
      if (propStr && labelStr) {
        let props = propStr.split(',');
        let labels = labelStr.split('/');
        props.forEach((item, index) => {
          arr.push({
            label: labels[index],
            prop: item
          });
        });
      }
      return arr;
    },
    getChildren(parent, dataOut) {
      if (parent && parent.children) {
        parent.children.forEach(child => {
          if (child && child.type) {
            dataOut.push(child);
          }
          this.getChildren(child, dataOut);
        });
      }
    },
    handleCloseFailureReasonDialog() {
      this.failureReasonVisible = false;
    },
    checkFailureReason(row) {
      this.failureReasonVisible = true;
      this.$requestConfig.getImportErrorInfoById(row.id).then(res => {
        if (res.value.reason) {
          this.errorInfo = res.value.reason;
        }
      });
    },
    // 获取前缀
    getQueryPre(list, name) {
      list = list || [];
      const f = list.find(e => {
        return e.name === name || this.getRelevancyOldName(e, name);
      }) || {};
      return f.queryPre || f.tableName && `${f.tableName}.` || '';
    },
    getRelevancyOldName(data, name) {
      let str = (data.tableName + data.name).replace(/_/g, '').toLowerCase();
      if (str === name) {
        return true;
      }
      return false;
    },
    // 如果是关联表字段，获取查询字段
    getRelevancyProperty(list = [], name) {
      let obj = list.find(k => (k.tableName + k.name).replace(/_/g, '').toLowerCase() === name);
      return obj && obj.name ? obj.name : '';
    },
    exportCommand(command) {
      this.exports(command);
    },
    handleCloseImportLogDialog() {
      this.importLogVisible = false;
    },
    loadData(param, cb) {
      this.$requestConfig.getImportLogData(param).then(res => {
        const {
          page,
          pageSize,
          total,
          rows
        } = res || {};
        this.importLogTableData = rows;
        this.pageResult = {
          page,
          pageSize,
          total
        };
      }).finally(() => {
        cb();
      });
    },
    renderHeaderMethod(h, {
      column
    }) {
      return h('div', {
        class: 'filter-colum__wrap'
      }, [h('span', column.label), h('i', {
        class: 'icon-screen el-table__column-filter-trigger'
      })]);
    },
    headerCellClassName({
      column
    }) {
      const textArr = ['status'];
      if (textArr.includes(column.property)) {
        return 'filter-column';
      }
    },
    queryFormatterData(item, array) {
      let val = [];
      if (item || item === 0) {
        let list = Base64.decode(array);
        if (list) {
          list = JSON.parse(list) || [];
          if (typeof item != 'number' && item.indexOf(',') != -1) {
            let items = item.split(',');
            items.forEach(i => {
              let format = list.find(e => e.key_ == i) || {};
              val.push(format.value_ || i);
            });
          } else {
            let format = list.find(e => e.key_ == item) || {};
            val.push(format.value_ || item);
          }
        } else {
          val.push(item);
        }
      }
      return val.join(',');
    },
    calcScriptBtnPermission() {
      let obj = {
        print: true,
        add: true,
        edit: true,
        del: true,
        batchUpdate: true,
        batchSave: true,
        export: true,
        import: true,
        switch: true,
        url: true,
        copy: true,
        js: true,
        addFlow: true,
        addData: true,
        searchData: true
      };
      if (this.templateInfo && this.templateInfo.manageField) {
        let manageField = JSON.parse(this.templateInfo.manageField);
        let this_ = this;
        manageField.forEach(item => {
          if (item.buttonId) {
            obj[item.buttonId] = true;
          }
          if (item.beforeScriptValue) {
            let promise = this_.beforeScript(item.beforeScriptValue, item);
            promise.then(res => {
              obj[item.buttonId] = res;
              //为兼容旧数据（没有buttonId的数据）
              obj[item.name] = res;
            });
          }
        });
      }
      this.showScriptButton = obj;
    },
    //顶部按钮，通过js脚本判断是否显示
    getButtonShowByJs(buttonId, name) {
      return this.showScriptButton && this.showScriptButton[buttonId ? buttonId : name];
    },
    //行按钮控制
    scriptBeforeHandler(scriptInBase64, row) {
      if (scriptInBase64) {
        let script = Base64.decode(scriptInBase64);
        if (script == undefined || script == '') {
          return true;
        }
        let _this = this;
        let _req = req;
        let _rows = this.rows;
        let _row = row;
        // eslint-disable-next-line no-inner-declarations
        function evil() {
          let Fn = Function('_req', '_this', '_rows', '_row', script); //一个变量指向Function，防止有些前端编译工具报错
          let result = Fn(_req, _this, _rows, _row);
          return result;
        }
        let resultValue = evil();
        return resultValue;
      } else {
        return true;
      }
    },
    formGetSubEntsByFormKey() {
      this.$requestConfig.getSubEntsByFormKey(this.templateInfo.formKey).then(resp => {
        resp.forEach(item => {
          let subDisplayFields = [];
          item.attributeList.forEach(attr => {
            subDisplayFields.push({
              desc: attr.comment,
              name: attr.fieldName,
              type: attr.columnType
            });
          });
          this.subDisplayFields.push({
            fields: subDisplayFields,
            name: item.name,
            comment: item.comment
          });
        });
      });
    },
    handleRightMenu() {
      if (this.$el && this.$el.querySelector) {
        let topBtnDom = this.$el.querySelector('div.top_btn_col');
        if (!topBtnDom || !topBtnDom.querySelector('i.el-icon-delete') && !topBtnDom.querySelector('i.el-icon-edit') && !topBtnDom.querySelector('i.el-icon-s-grid')) {
          this.listSelectable = false;
        }
        let _this = this;
        setTimeout(function () {
          let tdDom = _this.$el.querySelector('td.right_menu');
          if (!tdDom || !tdDom.querySelector('button') && !tdDom.querySelector('switch')) {
            _this.showRightMenu = false;
          }
        }, 200);
      }
    },
    loadImportLogData(param, cb) {
      let querys = param.querys || [];
      let hasDefaultQuery = false;
      this.handelBindFiledValua();
      let pID = this.dataView.refIdValue;
      querys.forEach(q => {
        if (q.property == 'PId') {
          hasDefaultQuery = true;
        }
      });
      if (!hasDefaultQuery) {
        querys.push({
          operation: 'EQUAL',
          group: 'defalut',
          property: 'PId',
          relation: 'AND',
          value: pID
        });
        querys.push({
          operation: 'EQUAL',
          group: 'defalut',
          property: 'boAlias',
          relation: 'AND',
          value: this.templateInfo.boDefAlias
        });
      }
      param.querys = querys;
      this.$requestConfig.getDataTemplateImportLogData(param).then(data => {
        let response = data;
        this.logData = response.rows;
        this.pageResult = {
          page: response.page,
          pageSize: response.pageSize,
          total: response.total
        };
      }).finally(() => {
        cb();
      });
    },
    handelBindFiledValua() {
      //数据视图控件
      let _me = this;
      if (this.dataView) {
        const pInst = hotent_ui_src_utils_js__WEBPACK_IMPORTED_MODULE_2__[/* default */ "a"].getOnlineFormInstance(this.$parent.$parent.$parent.$parent);
        if (pInst.data && !pInst.data[this.dataView.boDefAlias] && this.dataView.boDefAlias) {
          this.dataView.boDefAlias = Object.keys(pInst.data)[0];
        }
        let refIdValue = hotent_ui_src_utils_js__WEBPACK_IMPORTED_MODULE_2__[/* default */ "a"].getValueByPath(pInst, 'data.' + this.dataView.boDefAlias + '.id_');
        if (sessionStorage.getItem('formImportTempRefId') && !refIdValue) {
          refIdValue = sessionStorage.getItem('formImportTempRefId');
        } else if (!refIdValue) {
          //导入的时候没有关键的外键，则为其自动添加
          refIdValue = new Date().getTime();
          sessionStorage.setItem('formImportTempRefId', refIdValue);
        }
        _me.dataView.refIdValue = refIdValue;
        if (pInst.permission && pInst.permission.table && pInst.permission.table[this.templateInfo.boDefAlias]) {
          this.permission = pInst.permission.table[this.templateInfo.boDefAlias];
        }
        if (this.permission.hidden) {
          this.$parent.showDateView = false;
        }
        //关联查询字段
        let selectList = this.dataView.selectList;
        if (selectList && selectList.length > 0) {
          for (let i = 0; i < selectList.length; i++) {
            if (selectList[i].selectField) {
              const path = 'data.' + this.dataView.boDefAlias + '.' + selectList[i].selectField;
              const value = hotent_ui_src_utils_js__WEBPACK_IMPORTED_MODULE_2__[/* default */ "a"].getValueByPath(pInst, path);
              selectList[i].selectValue = value;

              //添加监听
              pInst.$watch(path, function (newVal, oldVal) {
                // 监听中使用间隔请求，减少请求次数
                clearTimeout(this.timeout);
                this.timeout = setTimeout(() => {
                  if (newVal !== oldVal) {
                    //_me.setDataViewValue(_me.dataView);
                    _me.search();
                  }
                }, 500);
              });
            }
          }
        }
        //关联填充字段
        let bindList = this.dataView.bindList;
        if (bindList && bindList.length > 0) {
          for (let i = 0; i < bindList.length; i++) {
            if (bindList[i].fillField) {
              const path = 'data.' + this.dataView.boDefAlias + '.' + bindList[i].fillField;
              const value = hotent_ui_src_utils_js__WEBPACK_IMPORTED_MODULE_2__[/* default */ "a"].getValueByPath(pInst, path);
              bindList[i].fillValue = value;
              pInst.$watch(path, function (newVal, oldVal) {
                // 监听中使用间隔请求，减少请求次数
                clearTimeout(this.timeout);
                this.timeout = setTimeout(() => {
                  if (newVal !== oldVal) {
                    //_me.setDataViewValue(_me.dataView);
                    _me.search();
                  }
                }, 500);
              });
            }
          }
        }
      }
    },
    printList() {
      this.notPrint = true;
      setTimeout(() => {
        document.body.innerHTML = document.getElementById('printData').innerHTML;
        window.print();
        location.reload();
      }, 200);
      setTimeout(() => {
        this.notPrint = false;
      }, 200);
    },
    printDetail(templateId, id, action) {
      //数据随机添加到其他菜单下面时获取当前菜单的别名
      if (sessionStorage.menu_alias) {
        this.alias_new = sessionStorage.menu_alias;
      }
      var url = '/templateForm/' + this.templateKey + '/' + action + '?single=true';
      if (id) {
        url = url + '&id=' + id;
      }
      var startFlowStr = '&startFlow=false';
      let path = url + startFlowStr;
      if (path.indexOf('othermenu') != -1) {
        path = path.replace('/othermenu', '/');
      }
      this.$router.push({
        path: path,
        query: {
          isPrint: true
        }
      });
    },
    complete(row, taskType) {
      if (taskType == 'todo') {
        this.$requestConfig.getBpmTaskByInstId(row.bpm_proc_inst_id_).then(res => {
          if (res.data.length == 0) {
            this.$message.error(this.$t('ht.templatePreview.notExist'));
          } else if (res.data.length == 1) {
            this.$router.push('/reportModuleInst/' + res.data[0].id + '/0' + '/' + this.defKey + '/true/' + this.templateKey);
          } else {
            this.$message.error(this.$t('ht.templatePreview.notSupported'));
          }
        });
      } else if (taskType == 'done') {
        this.$router.push('/reportModuleInstDone/' + row.bpm_proc_inst_id_ + '/doneList/' + this.defKey + '/' + this.templateKey);
      } else if (taskType == 'request') {
        this.$router.push('/reportModuleInstDone/' + row.bpm_proc_inst_id_ + '/request/' + this.defKey + '/' + this.templateKey);
      } else if (taskType == 'todoRead') {
        let pageBean = {
          page: 1,
          pageSize: 10,
          showTotal: 'true'
        };
        let status = row.bpm_status_;
        this.$requestConfig.getNoticeTodoReadList({
          pageBean: pageBean,
          querys: [{
            property: 'proc_inst_id_',
            value: row.bpm_proc_inst_id_,
            operation: 'EQUAL',
            relation: 'AND'
          }]
        }).then(response => {
          if (response.rows && response.rows.length > 0) {
            let id = response.rows[0].id;
            let url = '';
            7;
            if (status == 'FOLLOW') {
              url = '/reportModuleInstTaskRead/' + id + '/FOLLOW/' + this.defKey + '/' + this.templateKey;
            } else if (status == 'COMMU') {
              url = '/reportModuleInst/' + id + '/0/' + this.defKey + '/true/' + this.templateKey;
            } else {
              url = '/reportModuleInstRead/' + row.bpm_proc_inst_id_ + '/read/' + id + '/' + this.defKey + '/' + this.templateKey;
            }
            this.$router.push(url);
          }
        });
      } else if (taskType == 'doneRead') {
        let pageBean = {
          page: 1,
          pageSize: 10,
          showTotal: 'true'
        };
        this.$requestConfig.getNoticeDoneReadList({
          pageBean: pageBean,
          querys: [{
            property: 'proc_inst_id_',
            value: row.bpm_proc_inst_id_,
            operation: 'EQUAL',
            relation: 'AND'
          }]
        }).then(response => {
          if (response.rows && response.rows.length > 0) {
            let id = response.rows[0].id;
            this.$router.push('/reportModuleInstDone/' + row.bpm_proc_inst_id_ + '/read/done/' + id + '/' + this.defKey + '/' + this.templateKey);
          }
        });
      } else if (taskType == 'myRead') {
        let pageBean = {
          page: 1,
          pageSize: 10,
          showTotal: 'true'
        };
        this.$requestConfig.getMyNoticeReadList({
          pageBean: pageBean,
          querys: [{
            property: 'proc_inst_id_',
            value: row.bpm_proc_inst_id_,
            operation: 'EQUAL',
            relation: 'AND'
          }]
        }).then(response => {
          if (response.rows && response.rows.length > 0) {
            let id = response.rows[0].id;
            this.$router.push('/reportModuleInstMyRead/' + row.bpm_proc_inst_id_ + '/' + id + '/myRead/' + this.defKey + '/' + this.templateKey);
          }
        });
      } else if (taskType == 'myDelegate') {
        this.$router.push('/reportModuleInstRead/' + row.bpm_proc_inst_id_ + '/delegate/' + this.defKey + '/' + this.templateKey);
      }
    },
    //下载全部选中的二维码
    downloadAllQRCode(templateId, mobileFormAlias, display, pkField, QRCodePattern) {
      this.QRCodePattern = QRCodePattern;
      const _selectData = this.$refs.multipleTemplateTable.selection;
      if (_selectData.length === 0) {
        this.$message.warning(this.$t('ht.templatePreview.selectLeastOneData'));
        return;
      }
      this.loading = true;
      let mobile = this.$requestConfig.mobileUrl;
      let QRCodeurl = '';
      let zip = new jszip__WEBPACK_IMPORTED_MODULE_4___default.a();
      // 创建一个名为images的新的文件目录
      let img = zip.folder('images');
      let plist = [];
      for (let x = 0; x < _selectData.length; x++) {
        if (this.QRCodePattern) {
          QRCodeurl = mobile + '/QRCodeForm/' + this.templateKey + '?id=' + _selectData[x][pkField];
        } else {
          QRCodeurl = mobile + '/QRCodeForm/' + this.templateKey + '?id=' + _selectData[x][pkField];
        }
        let msg = document.createElement('canvas');
        this.$qrcode.toCanvas(msg, QRCodeurl, function (error) {
          console.error(error);
        });
        let _canvas = document.createElement('div');
        _canvas.setAttribute('id', 'QRCodeAndDescAll' + x);
        _canvas.setAttribute('style', 'text-align:center;width:' + msg.width + 'px;');
        _canvas.appendChild(msg);
        if (!display) {
          display = [];
        }
        //创建底部的描述信息
        for (let Y = 0; Y < display.length; Y++) {
          let item = JSON.parse(display[Y]);
          if (_selectData[x][item.name]) {
            let desc = document.createElement('div');
            desc.innerHTML = item.desc + ':' + _selectData[x][item.name];
            _canvas.appendChild(desc);
          }
        }
        document.getElementById('QRCodeAndDescAll').appendChild(_canvas);
        plist.push(this.downloadQRCodeAndDesc('#QRCodeAndDescAll' + x, _canvas));
      }
      let _this = this;
      Promise.all(plist).then(result => {
        document.getElementById('QRCodeAndDescAll').innerHTML = '';
        for (let x = 0; x < result.length; x++) {
          let canvas = result[x];
          let image = canvas.toDataURL().split(';base64,')[1];
          // 这个images文件目录中创建一个base64数据为imgData的图像，图像名是smile.gif
          img.file(x + '.png', image, {
            base64: true
          });
        }
        // 把打包内容异步转成blob二进制格式
        zip.generateAsync({
          type: 'blob'
        }).then(function (content) {
          let eleLink = document.createElement('a');
          eleLink.download = `${_this.$t('ht.templatePreview.qrCode')}.zip`;
          eleLink.style.display = 'none';
          // 下载内容转变成blob地址
          eleLink.href = Object(hotent_ui_src_util_brower_js__WEBPACK_IMPORTED_MODULE_3__[/* createObjectURL */ "a"])(content);
          // 触发点击
          document.body.appendChild(eleLink);
          eleLink.click();
          // 然后移除
          document.body.removeChild(eleLink);
        });
        this.loading = false;
      });
    },
    onCopy() {
      this.$message.success(this.$t('ht.templatePreview.copy'));
    },
    // 复制失败时的回调函数
    onError() {
      this.$message.error(this.$t('ht.templatePreview.copyError'));
    },
    downloadQRCode() {
      let plist = [];
      let _canvas = document.querySelector('#QRCodeAndDesc');
      plist.push(this.downloadQRCodeAndDesc('#QRCodeAndDesc', _canvas));
      Promise.all(plist).then(result => {
        let canvas = result[0];
        let link = document.createElement('a');
        link.href = canvas.toDataURL(); //下载链接
        link.setAttribute('download', `${this.$t('ht.templatePreview.qrCode')}.jpg`);
        link.style.display = 'none'; //a标签隐藏
        document.body.appendChild(link);
        link.click();
      });
    },
    //把二维码与二维码说明一起下载成图片
    downloadQRCodeAndDesc(classs, _canvas) {
      let p2 = new Promise(resolve => {
        let canvas2 = document.createElement('canvas');
        let w = parseInt(window.getComputedStyle(_canvas).width);
        let h = parseInt(window.getComputedStyle(_canvas).height);
        //将canvas画布放大若干倍，然后盛放在较小的容器内，就显得不模糊了
        canvas2.width = w * 2;
        canvas2.height = h * 2;
        canvas2.style.width = w + 'px';
        canvas2.style.height = h + 'px';
        //可以按照自己的需求，对context的参数修改,translate指的是偏移量
        let context = canvas2.getContext('2d');
        context.scale(2, 2);
        return html2canvas__WEBPACK_IMPORTED_MODULE_5___default()(document.querySelector(classs), {
          canvas: canvas2
        }).then(function (canvas) {
          resolve(canvas);
        });
      });
      return p2;
    },
    QRCodeDialogClose() {
      this.QRCodeType = '';
      this.QRCodeDialog = false;
    },
    foundQRCode() {
      if (this.QRCodeType == 'add') {
        let isStartFlow = this.templateInfo.defId ? 'true' : 'false';
        this.QRCodeurl = this.$requestConfig.mobileUrl + '/templateForm/' + this.templateKey + '/add/?startFlow=' + isStartFlow;
      } else {
        //不论需不需要登录，访问的都是明细页面
        if (this.QRCodePattern) {
          //免登录
          this.QRCodeurl = this.$requestConfig.mobileUrl + '/QRCodeForm/' + this.templateKey + '?id=' + this.rowId;
        } else {
          //需要登录
          this.QRCodeurl = this.$requestConfig.mobileUrl + '/QRCodeForm/' + this.templateKey + '?id=' + this.rowId;
        }
      }
      // Base64.encode(this.$store.state.login.currentUser.account);
      let msg = document.getElementById('QRCode');
      this.$qrcode.toCanvas(msg, this.QRCodeurl, function (error) {
        console.log(error);
      });
      this.QRCodeShow = true;
    },
    getQRCode(templateId, id, mobileFormAlias, display, index, QRCodePattern) {
      this.QRCodePattern = QRCodePattern;
      this.QRCodeDesc = [];
      if (!display) {
        display = [];
      }
      for (let x = 0; x < display.length; x++) {
        let item = JSON.parse(display[x]);
        if (this.rows[index][item.name]) {
          this.QRCodeDesc.push(item.desc + ':' + this.rows[index][item.name]);
        }
      }
      this.mobileFormAlias = mobileFormAlias;
      this.QRCodeShow = false;
      this.QRCodeDialog = true;
      this.rowTemplateId = templateId;
      this.rowId = id;
    },
    handleSizeChange: function (size) {
      //每页下拉显示数据
      this.pagination.page = 1;
      this.pagination.pageSize = size;
      this.$refs.multipleTemplateTable.handleFilterChange();
    },
    handleCurrentChange: function (currentPage) {
      //点击第几页
      this.pagination.page = currentPage;
      this.$refs.multipleTemplateTable.handleFilterChange();
    },
    getParam(str) {
      let params = {};
      if (str == 'find') {
        this.pagination.page = 1;
      }

      //判断为合并查询还是分开查询
      if (this.formType) {
        params = this.getQueryFilter();
      } else {
        //判断是否配置了合并查询
        if (jquery__WEBPACK_IMPORTED_MODULE_6___default()('.search-query').length > 0) {
          params = this.getConditionQuery();
        } else {
          params = this.getQueryFilter();
        }
      }
      if (params.pagination && params.pagination && params.pagination.querys) {
        let tempQueryS = [];
        let betweenConditions = {};
        params.pagination.querys.forEach(q => {
          if (q.value && (q.operation != 'BETWEEN' || q.value.constructor == Array)) {
            tempQueryS.push(q);
          } else if (q.value) {
            let conditions = q;
            if (betweenConditions[q.property]) {
              conditions = betweenConditions[q.property];
              conditions.value = [conditions.value];
              conditions.value.push(q.value);
            }
            betweenConditions[q.property] = conditions;
          }
        });
        for (const key in betweenConditions) {
          tempQueryS.push(betweenConditions[key]);
        }
        params.pagination.querys = tempQueryS;
      }
      return params;
    },
    //列表数据查询入口
    search(param, cb, isSearchBtn) {
      let params = {};
      //判断为合并查询还是高级查询
      let showAdvancedSearch = this.$refs.multipleTemplateTable ? this.$refs.multipleTemplateTable.showAdvancedSearch : false;
      //高级查询
      if (showAdvancedSearch) {
        params = this.getQueryFilter();
      } else {
        //合并查询
        // 快速查询时，需处理添加快速查询字段前缀
        param = this.handleQuickParams(param);
        params = this.getConditionQuery(param);
      }
      this.templateSearchQuery = params.pagination && params.pagination.querys || [];
      if (!params.pagination) {
        params.pagination = {};
      }
      if (!params.pagination.querys) {
        params.pagination.querys = [];
      }
      //处理排序字段
      if (param && param.sorter && param.sorter.length > 0) {
        let sortField = JSON.parse(this.templateInfo.sortField);
        params.pagination = params.pagination || {};
        params.pagination.sorter = [];
        param.sorter.forEach(s => {
          let prefix = this.getColPreFix(sortField, s.property);
          let queryPre = this.getQueryPre(sortField, s.property);
          // 关联表时需特殊处理
          let relevancyProperty = this.getRelevancyProperty(sortField, s.property);
          if (relevancyProperty) {
            s.property = relevancyProperty;
          }
          params.pagination.sorter.push({
            property: queryPre + prefix + s.property,
            direction: s.direction
          });
        });
      } else if (this.templateInfo.sortField) {
        let sortField = JSON.parse(this.templateInfo.sortField);
        let sorter = [];
        for (let x = 0; x < sortField.length; x++) {
          const s = sortField[x];
          // 默认排序字段的排序方向为空或者不为指定值时放弃
          if (!s.sort || s.sort != 'ASC' && s.sort != 'DESC') {
            continue;
          }
          let prefix = this.getColPreFix(sortField, s.name);
          let queryPre = this.getQueryPre(sortField, s.name);
          if (!queryPre) {
            if (s.joinTableField && s.tableName) {
              prefix = `${s.tableName}.${prefix}`;
            } else {
              prefix = `t.${prefix}`;
            }
          }
          sorter.push({
            property: queryPre + prefix + s.name,
            direction: s.sort
          });
        }
        params.pagination.sorter = sorter;
      } else if (param.querys && param.querys.length > 0) {
        params.pagination.querys.concat(param.querys);
      }
      if (params.pagination && params.pagination.querys) {
        let tempQueryS = [];
        let betweenConditions = {};
        params.pagination.querys.forEach(q => {
          if (q.value != undefined && (q.operation != 'BETWEEN' || q.value.constructor == Array)) {
            tempQueryS.push(q);
          } else if (q.value) {
            let conditions = q;
            if (betweenConditions[q.property]) {
              conditions = betweenConditions[q.property];
              conditions.value = [conditions.value];
              conditions.value.push(q.value);
            }
            betweenConditions[q.property] = conditions;
          }
        });
        for (const key in betweenConditions) {
          tempQueryS.push(betweenConditions[key]);
        }
        params.pagination.querys = tempQueryS;
        params.pagination.querys = params.pagination.querys ? params.pagination.querys.concat(this.treeQuerys) : this.treeQuerys;
      }
      //把过滤树的条件也拼接进去
      if (this.treeQuerys && this.treeQuerys.length > 0) {
        params.pagination.querys = params.pagination.querys ? params.pagination.querys.concat(this.treeQuerys) : this.treeQuerys;
      }
      //初始化时，把查询字段和筛选字段的默认值也加进去
      if (this.isInit) {
        this.isInit = false;
        this.handleInitQuery(params);
      }
      //数据视图控件
      if (this.dataView) {
        this.handelBindFiledValua();
        params.refIdValue = this.dataView.refIdValue;
        //关联查询字段
        if (this.dataView.selectList && this.dataView.selectList.length > 0) {
          params.selectList = this.dataView.selectList;
        }
      }
      const this_ = this;
      if (this_.isJoinFlow) {
        params.isJoinFlow = true;
        params.taskType = this_.taskType;
        params.defKey = this_.defKey;
      }
      if (jquery__WEBPACK_IMPORTED_MODULE_6___default.a.isEmptyObject(this.searchForm)) {
        this.getBpmTemplateByPagination(params, cb);
      } else {
        this.getBpmTemplateByPagination(params, cb);
      }
    },
    // 处理快速查询参数
    handleQuickParams(param) {
      if (param && param.querys && param.querys.length) {
        param.querys.forEach(item => {
          if (item.group === 'quick') {
            const conditionFields = JSON.parse(this.templateInfo.conditionField) || [];
            let obj = conditionFields.find(sub => {
              return sub.name === item.property;
            });
            if (obj && obj.queryPre) {
              item.property = obj.queryPre + item.property;
            }
          }
        });
      }
      return param;
    },
    handleInitQuery(params) {
      const conditionFields = JSON.parse(this.templateInfo.conditionField) || [];
      const querys = [];
      conditionFields.forEach(item => {
        if (item.defaultValue) {
          querys.push({
            property: `${item.queryPre || ''}${item.colPrefix}${item.name}`,
            value: item.defaultValue,
            operation: item.qt.toUpperCase(),
            relation: 'AND',
            group: 'defaultQuery'
          });
        }
      });
      const filteringFields = JSON.parse(this.templateInfo.filteringField) || [];
      filteringFields.forEach(item => {
        if (item.defaultValue && item.defaultValue.length) {
          querys.push({
            property: `${item.queryPre || ''}${item.colPrefix}${item.name}`,
            value: item.defaultValue,
            operation: 'IN',
            relation: 'AND',
            group: 'defaultQuery'
          });
        }
      });
      if (!querys.length) {
        return;
      }
      Array.prototype.push.apply(params.pagination.querys, querys);
    },
    getBpmTemplateByPagination(params, cb1, cb2) {
      this.multipleTemplateTableloading = true;
      const dataTemplateQueryVo = {
        templateId: params.templateId,
        queryFilter: params.pagination
      };
      if (params.isJoinFlow && params.taskType && params.defKey) {
        dataTemplateQueryVo.isJoinFlow = params.isJoinFlow;
        dataTemplateQueryVo.taskType = params.taskType;
        dataTemplateQueryVo.defKey = params.defKey;
      }
      if (params.selectField) {
        dataTemplateQueryVo.selectField = params.selectField;
        dataTemplateQueryVo.selectValue = params.selectValue;
      }
      if (params.selectList) {
        dataTemplateQueryVo.selectList = params.selectList;
      }
      dataTemplateQueryVo.refIdValue = params.refIdValue;
      this.curSelectParams = dataTemplateQueryVo;
      this.$requestConfig.getDataTemplateDataList(dataTemplateQueryVo).then(response => {
        this.rows = response.rows;
        this.total = response.total;
        this.$set(this.pagination, 'page', response.page);
        this.$set(this.pagination, 'pageSize', response.pageSize);
        this.$set(this.pagination, 'total', response.total);
        this.$set(this, 'flowBtnPermission', {});
        this.$emit('data-reload-success');
        if (response.summary && response.summary.length) {
          this.getAllSummary(response.summary);
        }
        if (this.templateInfo.summaryRegionHtml) {
          this.loadCompiledCustomSummary();
        }
      }).finally(() => {
        this.multipleTemplateTableloading = false;
        cb1 && cb1();
        cb2 && cb2();
      });
    },
    getQueryFilter() {
      let operationMap = this.getSearchItems();
      let fieldTypeMap = this.getFieldType();
      let specialMap = this.getSpecialMap();
      let querys = []; //查询条件
      let queryFilter = {};
      let pageBean = {
        pageBean: this.pagination
      };
      let params = {
        templateId: this.templateInfo.id
      };
      params.pagination = pageBean;
      if (!jquery__WEBPACK_IMPORTED_MODULE_6___default.a.isEmptyObject(this.searchForm)) {
        let conditionField = hotent_ui_src_utils_js__WEBPACK_IMPORTED_MODULE_2__[/* default */ "a"].parseToJson(this.templateInfo.conditionField);
        for (let key in this.searchForm) {
          if (typeof this.searchForm[key] != 'undefined' && this.searchForm[key] != '' && this.searchForm[key] != null) {
            if (this.searchForm[key] instanceof Array) {
              for (let i = 0; i < this.searchForm[key].length; i++) {
                let queryPre = this.getQueryPre(conditionField, key);
                querys.push({
                  property: queryPre + key,
                  value: this.searchForm[key][i],
                  group: 'main',
                  operation: operationMap[key],
                  relation: 'AND'
                });
              }
            } else if (this.searchForm[key] && [','].includes(this.searchForm[key]) && !specialMap[key]) {
              let arr = this.searchForm[key].split(',');
              let queryPre = this.getQueryPre(conditionField, key);
              querys.push({
                property: queryPre + key,
                value: arr,
                group: 'main',
                operation: operationMap[key],
                relation: 'AND'
              });
            } else {
              let value = this.searchForm[key];
              //整数类型
              if (fieldTypeMap[key] && fieldTypeMap[key] == 'number') {
                value = parseFloat(this.searchForm[key]);
              }
              let queryPre = this.getQueryPre(conditionField, key);
              querys.push({
                property: queryPre + key,
                value: value,
                group: 'main',
                operation: operationMap[key],
                relation: 'AND'
              });
            }
          }
        }
        this.clearQueryByGroupName(querys, 'filter');
        // 将过滤条件添加查询参数数组中
        this.buildFilterParams(querys);
      }
      // 判断table中是否含有filter查询
      let tableQuerys = this.$refs['multipleTemplateTable'].querys;
      if (tableQuerys && tableQuerys.some(item => item.group === 'filter')) {
        Array.prototype.push.apply(querys, tableQuerys.filter(item => item.group === 'filter').map(item => {
          let obj = {
            ...item
          };
          let colPrefix = '';
          let displayField = this.displayFields.filter(field => field.name === obj.property)[0];
          displayField && (colPrefix = displayField.colPrefix || '');
          obj.property = `${colPrefix}${obj.property}`;
          return obj;
        }));
      }
      queryFilter = {
        pageBean: this.pagination,
        querys
      };
      params.pagination = queryFilter;
      return params;
    },
    //在显示字段、查询字段、排序字段、筛选字段等字段中匹配返回字段的前缀
    getColPreFix(list, field) {
      list = list || [];
      const f = list.find(e => e.name === field) || {};
      if (!f.colPrefix && this.displayFields) {
        const _displayField = this.displayFields.find(e => e.name === field) || {};
        return _displayField.colPrefix || '';
      } else {
        return f.colPrefix;
      }
    },
    //开关是否匹配显示，外部表字段名拼接：表名+字段名，带w和f开头
    matchBind(row, bind, switchOn, switchOff) {
      const bindValue = this.getBindValue(row, bind);
      return bindValue == switchOn || bindValue == switchOff;
    },
    getBindValue(row, bind) {
      if (row && row[bind]) {
        return row[bind];
      }
      if (this.templateInfo) {
        const prefix = this.templateInfo.isExternal === 1 ? '' : 'F_';
        bind = `${this.templateInfo.mainTalbeName}${prefix}${bind}`;
        bind = bind.toLowerCase().replaceAll('_', '');
      }
      return row[bind];
    },
    getBindField(row, bind) {
      if (row && row[bind]) {
        return bind;
      }
      if (this.templateInfo) {
        const prefix = this.templateInfo.isExternal === 1 ? '' : 'F_';
        bind = `${this.templateInfo.mainTalbeName}${prefix}${bind}`;
        bind = bind.toLowerCase().replaceAll('_', '');
      }
      return bind;
    },
    //构建筛选字段作为查询参数
    buildFilterParams(querys) {
      let result = [];
      if (this.filters && Object.keys(this.filters).length > 0) {
        //管理端配置的筛选条件
        let filteringField = JSON.parse(this.templateInfo.filteringField || '[]');
        Object.keys(this.filters).forEach(k => {
          //获取字段的前缀
          let prefix = this.getColPreFix(filteringField, k);
          let queryPre = this.getQueryPre(filteringField, k);
          const filter = this.filters[k];
          let q = {
            property: queryPre + prefix + k,
            value: filter[0],
            group: 'filter',
            relation: 'AND'
          };
          if (filter.length == 1) {
            q.operation = 'EQUAL';
          } else if (filter.length > 1) {
            q.operation = 'IN';
            q.value = filter;
          }
          querys && querys.push(q);
          result.push(q);
        });
      }
      return result;
    },
    // 通过分组名称清除对应查询条件
    clearQueryByGroupName(querys, groupName) {
      // 待删除的查询条件
      let toDelete = [];
      querys && querys.forEach(query => {
        if (query.group == groupName) {
          toDelete.push(query);
        }
      });
      toDelete.forEach(d => {
        querys.remove(d);
      });
    },
    handleSortChange() {
      console.warn(this.$t('ht.templatePreview.sortWarning'));
    },
    handleFilterChange(m) {
      this.filters = {
        ...this.filters,
        ...m
      };
      Object.keys(this.filters).forEach(k => {
        if (!this.filters[k] || this.filters[k].length == 0) {
          delete this.filters[k];
        }
      });
      this.search();
    },
    getSearchItems() {
      let searchItems = jquery__WEBPACK_IMPORTED_MODULE_6___default()('.search-item');
      let operationMap = {};
      let operationType = {
        like: 'LIKE',
        equal: 'EQUAL',
        between: 'BETWEEN',
        left_like: 'LEFT_LIKE',
        right_like: 'RIGHT_LIKE'
      };
      if (searchItems) {
        for (let i = 0; i < searchItems.length; i++) {
          let operation = '=';
          if (typeof jquery__WEBPACK_IMPORTED_MODULE_6___default()(searchItems[i]).attr('ht-query') != 'undefined') {
            operation = jquery__WEBPACK_IMPORTED_MODULE_6___default()(searchItems[i]).attr('operation');
            operationMap[jquery__WEBPACK_IMPORTED_MODULE_6___default()(searchItems[i]).attr('ht-query')] = typeof operationType[operation] != 'undefined' ? operationType[operation] : operation;
          } else if (typeof jquery__WEBPACK_IMPORTED_MODULE_6___default()(searchItems[i]).children().attr('ht-query') != 'undefined') {
            operation = jquery__WEBPACK_IMPORTED_MODULE_6___default()(searchItems[i]).children().attr('operation');
            operationMap[jquery__WEBPACK_IMPORTED_MODULE_6___default()(searchItems[i]).children().attr('ht-query')] = typeof operationType[operation] != 'undefined' ? operationType[operation] : operation;
          }
        }
      }
      return operationMap;
    },
    getFieldType() {
      let searchItems = jquery__WEBPACK_IMPORTED_MODULE_6___default()('.search-item');
      let operationMap = {};
      let operationType = {
        number: 'number',
        text: 'text'
      };
      if (searchItems) {
        for (let i = 0; i < searchItems.length; i++) {
          let operation = '=';
          if (typeof jquery__WEBPACK_IMPORTED_MODULE_6___default()(searchItems[i]).attr('ht-query') != 'undefined') {
            operation = jquery__WEBPACK_IMPORTED_MODULE_6___default()(searchItems[i]).attr('type');
            operationMap[jquery__WEBPACK_IMPORTED_MODULE_6___default()(searchItems[i]).attr('ht-query')] = typeof operationType[operation] != 'undefined' ? operationType[operation] : operation;
          } else if (typeof jquery__WEBPACK_IMPORTED_MODULE_6___default()(searchItems[i]).children().attr('ht-query') != 'undefined') {
            operation = jquery__WEBPACK_IMPORTED_MODULE_6___default()(searchItems[i]).children().attr('type');
            operationMap[jquery__WEBPACK_IMPORTED_MODULE_6___default()(searchItems[i]).children().attr('ht-query')] = typeof operationType[operation] != 'undefined' ? operationType[operation] : operation;
          }
        }
      }
      return operationMap;
    },
    //获取特殊查询情况（自定义对话框）
    getSpecialMap() {
      let searchItems = jquery__WEBPACK_IMPORTED_MODULE_6___default()('.search-item');
      let fieldQueryMap = {}; //查询条件字段

      if (searchItems) {
        for (var i = 0; i < searchItems.length; i++) {
          if (typeof jquery__WEBPACK_IMPORTED_MODULE_6___default()(searchItems[i]).attr('ht-query') != 'undefined') {
            //查询条件字段
            fieldQueryMap[jquery__WEBPACK_IMPORTED_MODULE_6___default()(searchItems[i]).attr('ht-query')] = typeof jquery__WEBPACK_IMPORTED_MODULE_6___default()(searchItems[i]).attr('special-query') != 'undefined' ? true : false;
          } else if (typeof jquery__WEBPACK_IMPORTED_MODULE_6___default()(searchItems[i]).children().attr('ht-query') != 'undefined') {
            //查询条件字段
            fieldQueryMap[jquery__WEBPACK_IMPORTED_MODULE_6___default()(searchItems[i]).children().attr('ht-query')] = typeof jquery__WEBPACK_IMPORTED_MODULE_6___default()(searchItems[i]).children().attr('special-query') != 'undefined' ? true : false;
          }
        }
      }
      return fieldQueryMap;
    },
    //合并查询条件
    getConditionQuery(param) {
      let querys = []; //查询条件
      let queryFilter = {};
      let pageBean = {
        pageBean: this.pagination
      };
      let params = {
        templateId: this.templateInfo.id
      };
      params.pagination = pageBean;
      // 将过滤条件添加查询参数数组中
      this.buildFilterParams(querys);
      if (param && param.querys) {
        let temquerys = [...param.querys];
        let conditionField = hotent_ui_src_utils_js__WEBPACK_IMPORTED_MODULE_2__[/* default */ "a"].parseToJson(this.templateInfo.conditionField);
        const filterField = hotent_ui_src_utils_js__WEBPACK_IMPORTED_MODULE_2__[/* default */ "a"].parseToJson(this.templateInfo.filteringField);
        temquerys.forEach(q => {
          let prefix = this.getColPreFix(conditionField, q.property);
          if (!prefix) {
            prefix = this.getColPreFix(filterField, q.property);
          }
          q.property = prefix + q.property;
          querys.push(q);
        });
      }
      if (this.parameterqQuerys) {
        let parameterQuerys = JSON.parse(Base64.decode(this.parameterqQuerys));
        if (parameterQuerys && parameterQuerys.length > 0) {
          parameterQuerys.forEach(query => {
            let prefix = this.templateInfo.isExternal === 1 ? '' : 'F_';
            query.property = prefix + query.property;
            this.$set(this.searchForm, query.property, query.value);
            querys.push(query);
          });
        }
      }
      queryFilter = {
        pageBean: this.pagination,
        querys
      };
      params.pagination = queryFilter;
      return params;
    },
    //打开高级检索
    advanced() {
      this.formType = !this.formType;
      if (this.formType) {
        this.incons = 'el-icon-arrow-up';
        this.queryForm.queryData = '';
      } else {
        this.incons = 'el-icon-arrow-down';
        this.searchForm = {};
      }
    },
    //回车查询
    searchEnterFun: function (e) {
      let keyCode = window.event ? e.keyCode : e.which;
      if (keyCode == 13) {
        this.search();
      }
    },
    reset(flag) {
      this.queryForm.queryData = '';
      if (this.templateInfo.conditionField) {
        let conditionField = hotent_ui_src_utils_js__WEBPACK_IMPORTED_MODULE_2__[/* default */ "a"].parseToJson(this.templateInfo.conditionField);
        for (let i = 0; i < conditionField.length; i++) {
          let fieldName = conditionField[i].colPrefix + conditionField[i].name;
          this.$set(this.searchForm, fieldName, '');
          this.$set(this.searchForm, conditionField[i].name, '');
        }
      }
      this.filters = {};
      this.$refs.multipleTemplateTable.clearFilter && this.$refs.multipleTemplateTable.clearFilter();
      if (!flag) {
        this.search();
      }
    },
    handleSelectionChange(val) {
      this.tableData.selectRows = val;
    },
    deleted() {
      if (this.tableData.selectRows == null || this.tableData.selectRows.length == 0) {
        this.$message.warning(this.$t('ht.templatePreview.deleteWaring'));
        return false;
      }
      this.$confirm(this.$t('ht.templatePreview.deleteTip'), this.$t('ht.common.tips'), {
        confirmButtonText: this.$t('ht.common.confirm'),
        cancelButtonText: this.$t('ht.common.cancle'),
        type: 'warning'
      }).then(() => {
        let s = [];
        for (let i = 0; i < this.tableData.selectRows.length; i++) {
          s.push(this.tableData.selectRows[i][this.templateInfo.pkField]);
        }
        let data = {
          ids: s.join(','),
          boAlias: this.templateInfo.boDefAlias,
          formKey: this.templateInfo.formKey
        };
        this.$requestConfig.deleteTemplateDataById(data).then(resp => {
          if (resp.state) {
            this.$message.success(resp.message);
            this.pagination.page = 1;
            this.search();
          } else {
            this.$message.error(resp.message);
          }
        });
      }).catch(() => {
        this.$message({
          type: 'info',
          message: this.$t('ht.templatePreview.cancelDelete')
        });
      });
    },
    del(id) {
      this.$confirm(this.$t('ht.templatePreview.deleteDataTip'), this.$t('ht.common.tips'), {
        confirmButtonText: this.$t('ht.common.confirm'),
        cancelButtonText: this.$t('ht.common.cancle'),
        type: 'warning'
      }).then(() => {
        let data = {
          ids: id,
          boAlias: this.templateInfo.boDefAlias,
          formKey: this.templateInfo.formKey
        };
        this.$requestConfig.deleteTemplateDataById(data).then(resp => {
          if (resp.state) {
            this.$message.success(resp.message);
            let delRows = {};
            if (this.tableData.selectRows.length) {
              this.tableData.selectRows = this.tableData.selectRows.filter(item => {
                if (item.id_ == id || item.id === id) {
                  delRows = item;
                }
                return item.id_ !== id || item.id !== id;
              });
            }
            this.$refs.multipleTemplateTable.$refs.htTable.toggleRowSelection(delRows, false);
            this.pagination.page = 1;
            this.search();
          } else {
            this.$message.error(resp.message);
          }
        });
      }).catch(() => {
        this.$message({
          type: 'info',
          message: this.$t('ht.templatePreview.cancelDelete')
        });
      });
    },
    operating(templateId, id, action, defId, isStartFlow, openType, quitAfterSaving, clickType) {
      //isStartFlow （false：可以发起流程，true：不可以发起流程）
      if (this.templateInfo.manageField && !isStartFlow) {
        //先配置不能发起流程
        if (action == 'add' && isStartFlow == '') {
          isStartFlow = true;
        }
        if (action == 'edit' && isStartFlow === false) {
          isStartFlow = true;
        }
        //再判断是否可以发起流程
        let manageField = JSON.parse(this.templateInfo.manageField);
        //判断是否配置了发起流程按钮
        for (let k = 0; k < manageField.length; k++) {
          if (action == 'add' && manageField[k].name == 'startFlow') {
            isStartFlow = false;
            break;
          } else if (action == 'edit' && manageField[k].name == 'startFlow') {
            isStartFlow = false;
            break;
          }
        }
      }
      if (!templateId) {
        templateId = this.templateInfo.id;
        action = action == 'select' ? 'get' : 'add';
      }
      //数据视图随机添加到其他菜单下面时获取当前菜单的别名  并且当前数据视图不是表单里的数据视图  dataView
      if (sessionStorage.menu_alias && !this.dataView && !this.ignoredAlias.includes(sessionStorage.menu_alias)) {
        this.alias_new = sessionStorage.menu_alias;
      }
      var url = '/templateForm/' + this.templateKey + '/' + action;
      if (this.isJoinFlow) {
        this.alias_new = 'statement';
      }
      if (this.single == 'true') {
        // url = '/templateForm/' + this.templateKey + '/' + action + '/true'
      }
      //判断数据视图控件
      let isDataView = false;
      if (this.dataView) {
        if (this.dataView.boDefAlias && this.dataView.boDefAlias != '') {
          isDataView = true;
        }
      }
      if (openType == 'new' || this.isJoinFlow || isDataView) {
        url += '/new';
      }
      if (id) {
        url = url + '?id=' + id + '&';
      } else {
        url += '?';
      }
      let startFlowStr = 'startFlow=false';
      if (action == 'add' && defId && isStartFlow === false) {
        startFlowStr = 'startFlow=true';
      } else if (id && isStartFlow === false && defId) {
        startFlowStr = 'startFlow=true';
      }
      let dataUrl = '';
      if (this.dataView) {
        if (this.dataView.bindList && this.dataView.bindList.length > 0) {
          let bindList = [];
          for (var i = 0; i < this.dataView.bindList.length; i++) {
            let item = {
              key: this.dataView.bindList[i].bindFilld,
              value: this.dataView.bindList[i].fillValue
            };
            bindList.push(item);
          }
          dataUrl = '&bindList=' + encodeURIComponent(Base64.encode(JSON.stringify(bindList)));
        }
      }
      let path = url + startFlowStr;
      if (dataUrl != '') {
        path = url + startFlowStr + dataUrl;
      }
      //TODO 如果是模块开发 全部已新窗口打开
      if (openType == 'new' || this.isJoinFlow || isDataView) {
        window.open(this.$router.resolve({
          path: path + '&isNewPage=true',
          query: {
            quitAfterSaving
          }
        }).href, '_blank');
      } else if (openType === 'dialog') {
        let dialogWidth = this.dialogWidth;
        let dialogHeight = this.dialogHeight;
        if (clickType && clickType === 'detail' && this.templateInfo.displayField && Array.isArray(eval(this.templateInfo.displayField))) {
          eval(this.templateInfo.manageField).forEach(item => {
            if (item.name === 'detail') {
              dialogWidth = item.dialogWidth + 'px';
              dialogHeight = item.dialogHeight + 'px';
            }
          });
        }
        this.$refs.templateFormDialog.showDialog({
          templateKey: this.templateInfo.alias,
          action,
          dialogParam: {
            id: id,
            isStartFlow: isStartFlow
          },
          dialogWidth: dialogWidth,
          dialogHeight: dialogHeight,
          quitAfterSaving
        });
        // this.dataViewDialogVisible = true
        // this.$refs.dataViewDialog.$el.firstChild.style.height = 740 + 'px'
        // this.srcUrl = path.replace(this.alias_new, 'statement')
      } else {
        // if (path.indexOf('othermenu') != -1) {
        //   path = path.replace('/othermenu', '/statement')
        // }
        this.$router.push({
          path,
          query: {
            quitAfterSaving
          }
        });
      }
    },
    openUrl(url, type, row, fieldName, dialogWidth, dialogHeight, urlParamsStr) {
      if (row && urlParamsStr) {
        let urlParams = JSON.parse(Base64.decode(urlParamsStr) || '[]');
        urlParams.forEach((item, i) => {
          if (i === 0) {
            url += '?' + item.name + '=' + (row[item.field] || '');
          } else {
            url += '&' + item.name + '=' + (row[item.field] || '');
          }
        });
      }
      if (row && fieldName) {
        url = this.handledUrlParams(url, row, fieldName);
      }
      if (type == 'new') {
        window.open(url, '_blank');
      } else if (type === 'dialog') {
        this.$refs.templateIframeDialog.showDialog({
          url: url,
          dialogWidth: dialogWidth,
          dialogHeight: dialogHeight
        });
      } else {
        window.location.href = url;
      }
    },
    // 递归查找
    getParentId(list, iid, key) {
      for (let o of list || []) {
        if (o[key] == iid) return o;
        const o_ = this.getParentId(o.children, iid, key);
        if (o_) return o_;
      }
    },
    handledUrlParams(url, row, fieldName) {
      if (this.templateInfo.displayField) {
        let displayFields = JSON.parse(this.templateInfo.displayField);
        let params = this.getParentId(displayFields, fieldName, 'name');
        if (params && params.urlParams && params.urlParams.length > 0) {
          let urlParams = params.urlParams;
          let suffix = '';
          urlParams.forEach(param => {
            if (suffix) {
              suffix += '&';
            }
            suffix = suffix + param.name + '=' + row[param.field];
          });
          if (suffix) {
            if (url.indexOf('?') != -1) {
              url = url + '&' + suffix;
            } else {
              url = url + '?' + suffix;
            }
            return url;
          }
        }
      }
      return url;
    },
    viewReport(data, jsonStr, openType) {
      let item = JSON.parse(Base64.decode(jsonStr));
      let conditionField = item.conditionField;
      let querys = [];
      // 构建查询参数
      if (conditionField && conditionField.length > 0) {
        conditionField.forEach(obj => {
          if (obj.parameter) {
            querys.push({
              property: obj.key,
              value: data[obj.parameter],
              group: 'main',
              operation: obj.qt,
              relation: 'AND'
            });
          }
        });
      }
      if (!this.$requestConfig.viewReportURLHandler) {
        if (this.isMobile) {
          this.$message.error('移动端暂不支持通过该方式打开其他报表');
        }
        console.error(this.$t('ht.templatePreview.notUrl'));
        return;
      }
      const appendQuerys = querys.length > 0 ? encodeURIComponent(Base64.encode(JSON.stringify(querys))) : '';
      this.$requestConfig.viewReportURLHandler({
        item,
        querys
      }).then(url => {
        if (!url) {
          this.$message.error(this.$t('ht.templatePreview.notGetMenu', {
            alias: item.alias
          }));
          return;
        }
        if (appendQuerys) {
          //TODO 构建初始查询参数
          // url = `${url}?${appendQuerys}`
        }
        if (openType == 'new') {
          window.open(this.$router.resolve(url).href, '_blank');
        } else if (openType == 'dialog') {
          this.$refs.templateIframeDialog.showDialog({
            url: this.$router.resolve(url).href
          });
        } else {
          this.$router.push(url);
        }
      }).catch(err => {
        console.error(`${this.$t('ht.templatePreview.pageJumpFail')}，${err}`);
      });
    },
    toStartFlow() {
      // if(this.checkSelect()){
      //   let row = this.tableData.selectRows[0];
      //   if(!row.isStartFlow){
      //     this.startFlow(defId);
      //   }else{
      //     this.$message({
      //       message: '该条数据已发起流程，不能再发起！',
      //       type: 'warning',
      //     })
      //   }
      // }
    },
    //顶部按钮 启动流程
    async startFlowByTopButton(pkField, afterScriptValue, templateId, defId) {
      var rows = this.tableData.selectRows;
      if (!rows || rows.length <= 0) {
        //未选中数据时，直接进入启动流程页面
        this.scriptClick('startFlow', afterScriptValue, {
          templateId: templateId,
          id: '',
          action: 'startFlow',
          defId: defId,
          isStartFlow: false,
          openType: '',
          quitAfterSaving: ''
        });
        return;
      }
      let loadingInstance = element_ui__WEBPACK_IMPORTED_MODULE_1__["Loading"].service({
        fullscreen: true
      });
      //按照选中的数据记录，逐个启动流程
      let countAll = rows.length;
      let countExists = 0;
      let countFailed = 0;
      for (let i = 0; i < rows.length; i++) {
        var id = rows[i][pkField];
        var instId = rows[i]['bpm_proc_inst_id_'];
        if (instId && instId != '') {
          countExists++;
          continue;
        }
        let data = {
          defKey: this.templateInfo.defId,
          businessKey: id,
          boAlias: this.templateInfo.boDefAlias
        };
        var result = await this.$requestConfig.startFormPromise(data);
        if (!result || !result.state) {
          countFailed++;
        }
      }
      loadingInstance.close();
      let countSuccess = countAll - countFailed - countExists;
      var msg = countSuccess + ' 条执行成功 <br/> ';
      if (countExists > 0) {
        msg += countExists + ' 已存在流程实例，执行跳过 <br/> ';
      }
      if (countFailed > 0) {
        msg += countFailed + ' 条执行失败';
      }
      this.$message({
        type: 'success',
        message: msg,
        dangerouslyUseHTMLString: true
      });
    },
    startFlow(id) {
      let data = {
        defKey: this.templateInfo.defId,
        businessKey: id,
        boAlias: this.templateInfo.boDefAlias
      };
      let loadingInstance = element_ui__WEBPACK_IMPORTED_MODULE_1__["Loading"].service({
        fullscreen: true
      }); //开始
      this.$requestConfig.startForm(data).then(result => {
        loadingInstance.close(); // 结束
        if (result.state) {
          this.$message.success(result.message);
          this.search();
        } else {
          this.disabled = false;
          this.$message.warning(result.message);
        }
      });
    },
    //点击导出按钮
    exports(type = '') {
      this.curSelectParams.queryFilter = this.curSelectParams.pagination;
      if (!this.curSelectParams.queryFilter) {
        this.curSelectParams.queryFilter = {
          pageBean: this.pagination
        };
      }
      if (!this.curSelectParams.queryFilter.querys) {
        this.curSelectParams.queryFilter.querys = [];
      }
      if (this.treeQuerys) {
        this.treeQuerys.forEach(item => {
          this.curSelectParams.queryFilter.querys.push(item);
        });
      }
      if (type === 'searchResult') {
        this.curSelectParams.queryFilter.querys = this.templateSearchQuery;
      }
      this.$requestConfig.exportByBtnSetting({
        id: this.templateInfo.id,
        params: this.curSelectParams
      }).then(({
        data,
        headers
      }) => {
        const fileName = decodeURIComponent(headers['content-disposition'].split(';')[1].split('filename=')[1]);
        const blob = new Blob([data]);
        saveAs(blob, fileName);
      });
    },
    importCommand(params) {
      switch (params.command) {
        case 'downloadTempFile':
          this.downloadMainTempFile();
          break;
        case 'importMain':
          this.importMain();
          break;
        case 'log':
          this.openLog();
          break;
        case 'showImportResult':
          this.$refs['importResult'].showDialog(this.importCacheKey);
          break;
        case 'showImportLog':
          this.importLogVisible = true;
          this.$nextTick(() => {
            this.$refs.importLogTable.load();
          });
          break;
        default:
          break;
      }
    },
    openLog() {
      this.dialogVisible = true;
    },
    downloadMainTempFile() {
      let customTemplateId = '';
      if (this.templateInfo && this.templateInfo.manageField) {
        let manageFieldList = JSON.parse(this.templateInfo.manageField);
        for (let index = 0; index < manageFieldList.length; index++) {
          let manage = manageFieldList[index];
          if (manage.name == 'import') {
            if (manage.importTemplate && manage.importTemplate.length > 0) {
              customTemplateId = manage.importTemplate[0].id;
            }
            break;
          }
        }
      }
      if (customTemplateId) {
        this.$requestConfig.download(customTemplateId).then(({
          data,
          headers
        }) => {
          const fileName = decodeURIComponent(headers['content-disposition'].split(';')[1].split('filename=')[1]);
          const blob = new Blob([data], {
            type: 'application/pdf'
          });
          saveAs(blob, fileName);
        });
      } else {
        let loadingInstance = element_ui__WEBPACK_IMPORTED_MODULE_1__["Loading"].service({
          fullscreen: true
        }); //开始
        this.$requestConfig.downloadTempFile(this.templateInfo.alias).then(({
          data,
          headers
        }) => {
          const fileName = decodeURIComponent(headers['content-disposition'].split(';')[1].split('filename=')[1]);
          const blob = new Blob([data]);
          saveAs(blob, fileName);
          loadingInstance.close(); // 结束
        }).catch(e => {
          console.error(e);
          loadingInstance.close();
        });
      }
    },
    importMain(param) {
      let formData = new FormData();
      formData.append('file', param.file);
      let params = {
        data: formData,
        alias: this.templateInfo.alias
      };
      if (this.dataView) {
        this.handelBindFiledValua();
        params.bindFilld = this.dataView.bindFilld || '';
        params.fillValue = this.dataView.fillValue || '';
        params.refIdValue = this.dataView.refIdValue;
      }
      let loadingInstance = element_ui__WEBPACK_IMPORTED_MODULE_1__["Loading"].service({
        fullscreen: true
      }); //开始

      this.$requestConfig.dataTemplateMainImport(params).then(data => {
        if (data && data.state) {
          //导入成功之后重新渲染当前组件
          // this.$parent.refreshTime = new Date().getTime()
          // this.$message({ type: 'success', message: data.message })
          // param.onSuccess()
          // if (sessionStorage.getItem('formImportTempRefId')) {
          //   let json = JSON.parse(data.value)
          //   json.boAlias = this.dataView.boDefAlias
          //   let oldConf = sessionStorage.getItem('formImportTempJson')
          //   if (!oldConf) {
          //     sessionStorage.setItem(
          //       'formImportTempJson',
          //       JSON.stringify([json])
          //     )
          //   } else {
          //     let oldJosn = JSON.parse(oldConf)
          //     let isInOldJosn = false
          //     for (let index = 0; index < oldJosn.length; index++) {
          //       const old = oldJosn[index]
          //       if (
          //         old.tabName == json.tabName &&
          //         old.bindFilld == json.bindFilld
          //       ) {
          //         isInOldJosn = true
          //         break
          //       }
          //     }
          //     if (!isInOldJosn) {
          //       oldJosn.push(json)
          //     }
          //     sessionStorage.setItem(
          //       'formImportTempJson',
          //       JSON.stringify(oldJosn)
          //     )
          //   }
          // }
          // this.search()
          param.onSuccess();
          this.importCacheKey = data.value;
          this.$refs['importResult'].showDialog(data.value);
        } else {
          param.onError();
        }
      })
      // .catch((error) => {
      //   let msg =
      //     (error.response &&
      //       error.response.data &&
      //       error.response.data.message) ||
      //     '导入失败！'
      //   this.$message.error(msg)
      // })
      .finally(() => {
        loadingInstance.close();
      });
    },
    afterImportSave() {
      this.importCacheKey = '';
      this.search();
    },
    //显示子表对话框
    showSubList(refId, options) {
      if (options) {
        this.subDialogOptions = options;
      }
      this.refId = refId;
      this.getSubEntsByFormKey(refId);
    },
    addFlow(manageFlowFormData, row) {
      let flowFormData = JSON.parse(Base64.decode(manageFlowFormData));
      if (!row) {
        if (this.checkSelect()) {
          row = this.tableData.selectRows[0];
        }
      }
      if (!row) {
        return;
      }
      if (flowFormData.paramFields && flowFormData.paramFields.length > 0) {
        var data = {};
        flowFormData.paramFields.forEach(obj => {
          data[obj.targetField] = row[obj.sourceField];
        });
      }
      let param = {
        bizType: 'startFlow',
        openType: flowFormData.openType,
        parameters: {
          defId: flowFormData.flow.id,
          data: encodeURIComponent(Base64.encode(JSON.stringify(data)))
        }
      };
      this.$requestConfig.openUrl(param);
    },
    addData(manageFlowFormData, row) {
      let flowFormData = JSON.parse(Base64.decode(manageFlowFormData));
      if (!row) {
        if (this.checkSelect()) {
          row = this.tableData.selectRows[0];
        }
      }
      if (!row) {
        return;
      }
      //
      if (flowFormData.paramFields && flowFormData.paramFields.length > 0) {
        var data = {};
        flowFormData.paramFields.forEach(obj => {
          data[obj.targetField] = row[obj.sourceField];
        });
      }
      let param = {
        bizType: 'addData',
        openType: flowFormData.openType,
        parameters: {
          previewTemplateAlias: flowFormData.report.key,
          data: encodeURIComponent(Base64.encode(JSON.stringify(data)))
        }
      };
      this.$requestConfig.openUrl(param);
    },
    searchData(manageFlowFormData, row) {
      let flowFormData = JSON.parse(Base64.decode(manageFlowFormData));
      if (!row) {
        if (this.checkSelect()) {
          row = this.tableData.selectRows[0];
        }
      }
      if (!row) {
        return;
      }
      let querys = [];
      if (flowFormData.paramFields && flowFormData.paramFields.length > 0) {
        flowFormData.paramFields.forEach(obj => {
          querys.push({
            property: obj.targetField,
            value: row[obj.sourceField],
            group: 'main',
            operation: 'EQUAL',
            relation: 'AND'
          });
        });
      }
      let param = {
        bizType: 'searchData',
        openType: flowFormData.openType || 'new',
        parameters: {
          previewTemplateAlias: flowFormData.report.key,
          data: encodeURIComponent(Base64.encode(JSON.stringify(querys)))
        }
      };
      this.$requestConfig.openUrl(param);
    },
    //显示修改记录
    openRecordList(refId) {
      this.dialogRecordVisible = true;
      this.recordRefId = refId;
      let param = {
        pageBean: {
          page: 1,
          pageSize: 10,
          showTotal: true
        },
        sorter: [{
          direction: 'ASC',
          property: 'modifyTime'
        }],
        querys: [{
          property: 'ref_id_',
          value: this.recordRefId,
          group: 'main',
          operation: 'EQUAL',
          relation: 'AND'
        }]
      };
      this.recordTableLoading = true;
      this.$requestConfig.boDataModifyRecord(param).then(resp => {
        this.recordTableLoading = false;
        this.recordList = resp.rows;
        this.modifyRecord.pagination.pageBean = {
          pageSize: resp.pageSize,
          page: resp.page,
          total: resp.total
        };
      });
    },
    handleRecordCurrentChange(index, modifyRecord) {
      modifyRecord.pagination.pageBean.page = index;
      let param = {
        pageBean: modifyRecord.pagination.pageBean,
        sorter: [{
          direction: 'ASC',
          property: 'modifyTime'
        }],
        querys: [{
          property: 'ref_id_',
          value: this.recordRefId,
          group: 'main',
          operation: 'EQUAL',
          relation: 'AND'
        }]
      };
      this.recordTableLoading = true;
      this.$requestConfig.boDataModifyRecord(param).then(resp => {
        this.recordTableLoading = false;
        this.recordList = resp.rows;
        this.modifyRecord.pagination.pageBean = {
          pageSize: resp.pageSize,
          page: resp.page,
          total: resp.total
        };
      });
    },
    //取消修改记录对话框
    recordCancel() {
      this.dialogRecordVisible = false;
      this.recordList = [];
      this.recordRefId = '';
      this.modifyRecord = {
        pagination: {
          pageBean: {
            page: 1,
            pageSize: 10,
            total: 0
          }
        }
      };
    },
    //
    openModifyDetail(row) {
      this.currentModify = row;
      this.modifyDetailDialogVisible = true;
    },
    //查看修改记录详情
    showModifyRecord(id, refId) {
      var url = '/templateForm/' + this.templateKey + '/get?single=true' + '&id=' + refId + '&startFlow=false&recordId=' + id + '&isNewPage=true';
      window.open(this.$router.resolve(url).href, '_blank');
      //this.$router.push(url)
    },
    //显示批量新增弹窗
    openBatchSaveList(dataViewParams) {
      this.$refs.batchSaveDialog.showDialog(dataViewParams);
    },
    batchSaveConfirm() {
      this.search();
    },
    //确定导出
    submitExport() {
      if (!this.exportData || this.exportData.expField.length < 1) {
        this.$message({
          type: 'info',
          message: this.$t('ht.templatePreview.selectExportField')
        });
        return;
      }
      if (this.exportType === 'main') this.exportMain();else this.exportSubData(this.exportData.expField, this.refId, this.currentTab.entName);
    },
    exportMain() {
      let expField = '';
      for (let i = 0; i < this.exportData.expField.length; i++) {
        if (i > 0) {
          expField += ',';
        }
        expField += this.exportData.expField[i].name;
      }
      expField = Base64.encode(expField);
      let data = {
        boAlias: this.templateInfo.alias,
        getType: this.exportData.getType,
        expField: expField,
        filterKey: ''
      };
      //data.query = this.getQueryFilter().pagination
      data.query = this.getParam().pagination;
      if (this.dataView && this.dataView.bindSelectd) {
        data.query.querys.push({
          value: this.dataView.selectValue,
          operation: 'EQUAL',
          property: 'F_' + this.dataView.bindSelectd
        });
      }
      let loadingInstance = element_ui__WEBPACK_IMPORTED_MODULE_1__["Loading"].service({
        fullscreen: true
      }); //开始
      this.$requestConfig.templateExport(data).then(({
        data,
        headers
      }) => {
        const fileName = decodeURIComponent(headers['content-disposition'].split(';')[1].split('filename=')[1]);
        const blob = new Blob([data]);
        saveAs(blob, fileName);
        loadingInstance.close(); // 结束
        this.dialogExportVisible = false;
      });
      for (let i = 0; i < this.subDisplayFieldsList.length; i++) {
        this.exportSubData(this.$refs['subExportTable'][i].selection, '', this.subDisplayFieldsList[i].name);
        this.$set(this.$refs['subExportTable'][i], 'selection', []);
      }
    },
    exportSubData(expFields, refId, alias) {
      let expField = [];
      for (let i = 0; i < expFields.length; i++) {
        expField.push({
          key: expFields[i].name,
          value: expFields[i].desc
        });
      }
      let data = {
        alias: alias,
        refId: refId,
        type: this.exportData.getType,
        expField: JSON.stringify(expField),
        filterKey: ''
      };
      data.queryFilter = this.currentTab.pagination;
      let loadingInstance = element_ui__WEBPACK_IMPORTED_MODULE_1__["Loading"].service({
        fullscreen: true
      });
      this.$requestConfig.dataTemplateSubExport(data).then(({
        data,
        headers
      }) => {
        const fileName = decodeURIComponent(headers['content-disposition'].split(';')[1].split('filename=')[1]);
        const blob = new Blob([data]);
        saveAs(blob, fileName);
        loadingInstance.close();
        this.dialogExportVisible = false;
      }).catch(e => {
        console.error(e);
        loadingInstance.close();
      });
    },
    //取消导出
    exportCancel() {
      this.dialogExportVisible = false;
      this.exportData.expField = [];
    },
    //取消子表对话框
    subCancel() {
      this.dialogSubVisible = false;
      this.tabs = [];
      this.ents = [];
    },
    sunCancel() {
      this.dialogSunVisible = false;
      this.sunTabs = [];
    },
    handleExportSelectionChange(val) {
      this.exportData.expField = [];
      if (val) {
        this.exportData.expField = val;
      }
    },
    //全选
    handleExportSelectAll() {
      this.exportData.expField = this.displayFields;
    },
    //排序
    sort(index, type) {
      if ('up' == type) {
        if (index === 0) {
          this.$message({
            message: this.$t('ht.templatePreview.isFirst'),
            type: 'warning'
          });
        } else {
          let temp = this.displayFields[index - 1];
          this.$set(this.displayFields, index - 1, this.displayFields[index]);
          this.$set(this.displayFields, index, temp);
        }
      } else {
        if (index === this.displayFields.length - 1) {
          this.$message({
            message: this.$t('ht.templatePreview.isLast'),
            type: 'warning'
          });
        } else {
          this.isTransition = true;
          let i = this.displayFields[index + 1];
          this.$set(this.displayFields, index + 1, this.displayFields[index]);
          this.$set(this.displayFields, index, i);
        }
      }
    },
    async getSunData(tab, row) {
      let ents = tab.childEnts;
      let pk = tab.pkKey;
      let refId = '';
      if (row[pk.toLocaleLowerCase()]) {
        refId = row[pk.toLocaleLowerCase()];
      } else {
        refId = row[pk.toUpperCase()];
      }
      this.subTableLoading = true;
      if (ents && ents.length > 0) {
        for (let i = 0; i < ents.length; i++) {
          let tab = await this.getBoData(ents[i], refId);
          this.sunTabs.push(tab);
        }
      }
      this.subTableLoading = false;
      this.dialogSunVisible = true;
    },
    getBoData(ent, refId) {
      let attributeList = ent.attributeList.filter(obj => !obj.isShow);
      let tab = {
        refId: refId,
        pkKey: ent.pkKey,
        name: ent.tableName,
        entName: ent.name,
        title: ent.comment,
        attributeList: attributeList,
        comment: ent.comment,
        pagination: {
          pageBean: {
            pageSize: 10,
            page: 1,
            total: 0
          }
        }
      };
      tab.childEnts = [];
      if (ent.childEnts && ent.childEnts.length > 0) {
        tab.childEnts = ent.childEnts;
      }
      return new Promise(resolve => {
        this.getSubDataPagination(tab, ent.name, refId, resolve, null);
      });
    },
    getSubEntsByFormKey(refId) {
      /*if (!this.ents || this.ents.length < 1) {
        form.getSubEntsByFormKey(this.templateInfo.formKey, (resp) => {
          // 子表与孙表字段名设置小写
          for (let i = 0; i < resp.data.length; i++) {
            resp.data[i].attributeList.forEach(attribute => {
              attribute.fieldName = attribute.fieldName.toLowerCase();
            })
            resp.data[i].childEnts.forEach(showChildEnt => {
              showChildEnt.attributeList.forEach(attribute => {
                attribute.fieldName = attribute.fieldName.toLowerCase();
              })
            })
          }
          this.ents = resp.data;
        });
      } else {*/
      this.getSubData(this, refId);
      /* }*/
    },
    async getSubData(_me, refId) {
      //let ents = this.ents;
      let ents = JSON.parse(_me.templateInfo.subField);
      if (ents && ents.length > 0) {
        for (let i = 0; i < ents.length; i++) {
          ents[i].attributeList.forEach(attr => {
            attr.fieldName = attr.fieldName.toLowerCase();
          });
          ents[i].childEnts.forEach(showChildEnt => {
            showChildEnt.attributeList.forEach(attribute => {
              attribute.fieldName = attribute.fieldName.toLowerCase();
            });
          });
          let tab = await this.getBoData(ents[i], refId);
          this.tabs.push(tab);
        }
      }
      if (this.showTabsList && this.showTabsList.length) {
        this.currentTabName = this.showTabsList[0].comment;
      }
      this.dialogSubVisible = true;
    },
    nodeClick(node) {
      this.pagination.page = 1;
      //每次点击过滤树,应该把右边的table 与分页全部重置为初始

      let pageBean = {
        pageBean: {
          page: 1,
          pageSize: this.pagination.pageSize
        }
      };
      if (this.filterQuerys.length > 0) {
        pageBean.querys = lodash__WEBPACK_IMPORTED_MODULE_7___default.a.cloneDeep(this.filterQuerys);
      } else {
        pageBean.querys = [];
      }
      if (!node.id || node.id != -1) {
        let treeField = JSON.parse(this.templateInfo.treeField);
        let queryScope = treeField.queryScope;
        treeField.querys.forEach(item => {
          let value = node[item.value_];
          let operation = 'EQUAL';
          if (queryScope === 'currentAndSubordinate') {
            //查询当前层级和下属层级
            value = this.getTreeBindValue(item.value_, treeField.pidVal, node, treeField);
            operation = 'IN';
          }
          if (item.key_ && item.value_) {
            pageBean.querys.push({
              property: `${item.key_.colPrefix}${item.key_.name}`,
              value,
              group: 'main',
              operation,
              relation: 'AND'
            });
          }
        });
      }
      //把过滤树的查询条件存一份起来,右边的搜索与分页才能同时使用
      this.treeQuerys = pageBean.querys;
      let params = {
        templateId: this.templateInfo.id,
        pagination: pageBean
      };
      this.reset(true);
      //数据视图控件
      if (this.dataView) {
        if (this.dataView.selectList && this.dataView.selectList.length > 0) {
          params.selectList = this.dataView.selectList;
        }
      }
      const this_ = this;
      if (this_.isJoinFlow) {
        params.isJoinFlow = true;
        params.taskType = this_.taskType;
        params.defKey = this_.defKey;
      }
      this.handleInitQuery(params);
      this.getBpmTemplateByPagination(params);
    },
    filterChange(filters) {
      if (filters && Object.keys(filters).length > 0) {
        const key = Object.keys(filters)[0];
        const filter = filters[key];
        if (!filter || filter.length <= 0) {
          this.filterQuerys = [];
          return;
        }
        let query = {
          property: key,
          value: filter[0],
          group: 'filter',
          relation: 'AND'
        };
        if (filter.length == 1) {
          query.operation = 'EQUAL';
        } else if (filter.length > 1) {
          query.operation = 'IN';
          query.value = filter;
        }
        const filteringField = JSON.parse(this.templateInfo.filteringField || '[]');
        filteringField.map(item => {
          if (item.name === key && !key.startsWith('F_') || item.id === key && !key.startsWith('F_')) {
            if (this.templateInfo.mainTalbeName && this.templateInfo.mainTalbeName.toLowerCase() == item.tableName.toLowerCase()) {
              query.property = `${item.tableName}.${item.oldTableField}`;
            } else {
              if (item.queryPre) {
                query.property = item.queryPre + item.oldTableField;
              } else {
                query.property = item.colPrefix + key;
              }
            }
          }
        });
        if (this.filterQuerys.length > 0) {
          const queryList = lodash__WEBPACK_IMPORTED_MODULE_7___default.a.cloneDeep(this.filterQuerys);
          queryList.map(item => {
            if (!(item.property.replace('F_', '') === key && hotent_ui_src_utils_js__WEBPACK_IMPORTED_MODULE_2__[/* default */ "a"].arrayEquals(item.value, filter))) {
              this.filterQuerys.push(query);
            }
          });
        } else {
          this.filterQuerys.push(query);
        }
      } else {
        this.filterQuerys = [];
      }
    },
    //加载树的信息
    toTreeData(data, id, pid, name, pvalue) {
      // 建立个树形结构,需要定义个最顶层的父节点，pvalue是0
      let parents = data.filter(value => value[id] == value[pid] || value[pid] == null || value[pid] == pvalue);
      if (!parents) {
        parents = data.filter(value => value[pid] !== 'undefined' && value[pid] != null && value[id] != value[pid]);
      }
      return parents;
    },
    //初始化树
    initTree(treeField) {
      const this_ = this;
      this.$requestConfig.getCustomDialogByAlias(treeField.alias).then(res => {
        this_.customDialog = res;
        this.$requestConfig.getCustomDialogTreeData(treeField.alias).then(resp => {
          if (this_.customDialog.displayfield) {
            let displayfield = JSON.parse(this_.customDialog.displayfield);
            this_.displayField = displayfield;
            this_.treeList = resp;
            let head = {};
            head[displayfield.displayName] = this_.$t('ht.selector.all');
            head.id = -1;
            this_.tree.push(head);
            this_.$nextTick(() => {
              this_.setDefaultExpand();
            });
          }
        });
      });
    },
    loadTree(node, resolve) {
      if (node) {
        if (node.data.id === -1) {
          let tree = this.toTreeData(this.treeList, this.displayField.id, this.displayField.pid, this.displayField.displayName, this.displayField.pvalue ? this.displayField.pvalue : '0');
          resolve(tree);
        } else {
          resolve(this.treeList.filter(value => value[this.displayField.pid] === node.data[this.displayField.id]));
        }
      } else {
        resolve([]);
      }
    },
    handleSubCurrentChange(index, tab) {
      tab.pagination.pageBean.page = index;
      this.handleLoadSubData(tab);
    },
    handleSubSizeChange(pageSize, tab) {
      tab.pagination.pageBean.pageSize = pageSize;
      this.handleLoadSubData(tab);
    },
    handleLoadSubData(tab) {
      this.subTableLoading = true;
      this.getSubDataPagination(tab, tab.entName, tab.refId ? tab.refId : this.refId, null, () => {
        this.subTableLoading = false;
      });
    },
    getSubDataPagination(tab, name, refId, resolve, final) {
      this.$requestConfig.getDataTemplateSubData({
        pagination: tab.pagination,
        name: name,
        refId: refId
      }).then(data => {
        if (data && data.rows.length > 0) {
          tab.dataList = data.rows;
          tab.pagination.pageBean.pageSize = data.pageSize;
          tab.pagination.pageBean.page = data.page;
          tab.pagination.pageBean.total = data.total;
        } else {
          tab.dataList = [];
          tab.pagination.pageBean.pageSize = 10;
          tab.pagination.pageBean.page = 1;
          tab.pagination.pageBean.total = 0;
        }
        resolve && resolve(tab);
      }).finally(() => {
        final && final();
      });
    },
    querySubTable(tab) {
      tab.pagination.querys = [];
      if (this.querySubValue) {
        tab.attributeList.forEach(item => {
          //pgSql使用模糊查询，类型不匹配时会报错，此处只保留varchar类型
          // if (item.dataType == 'varchar') {
          tab.pagination.querys.push({
            property: item.fieldName,
            value: this.querySubValue,
            group: 'other',
            operation: 'LIKE',
            relation: 'OR'
          });
          // }
        });
      } else if (this.querySunValue) {
        tab.attributeList.forEach(item => {
          // if (item.dataType == 'varchar') {
          tab.pagination.querys.push({
            property: item.fieldName,
            value: this.querySunValue,
            group: 'other',
            operation: 'LIKE',
            relation: 'OR'
          });
          // }
        });
      }
      this.handleSubCurrentChange(1, tab);
    },
    importSub(param) {
      let formData = new FormData();
      formData.append('file', param.file);
      let params = {
        data: formData,
        alias: this.currentTab.entName,
        refId: this.refId,
        formKey: this.templateInfo.formKey
      };
      this.$requestConfig.dataTemplateSubImport(params).then(data => {
        if (data && data.state) {
          this.$message({
            type: 'success',
            message: data.message
          });
          param.onSuccess();
          this.handleSubCurrentChange(1, this.currentTab);
        } else {
          this.$message.error(data.message);
          param.onError();
        }
      });
    },
    exportSub(tab) {
      this.exportType = 'sub';
      this.currentTab = tab;
      this.displayFields = [];
      this.subDisplayFieldsList = [];
      tab.attributeList.forEach(item => {
        if (!item.isShow) {
          this.displayFields.push({
            desc: item.comment,
            name: item.fieldName,
            type: item.columnType
          });
        }
      });
      this.dialogExportVisible = true;
    },
    importButton(tab) {
      this.currentTab = tab;
    },
    myDraftList() {
      //数据视图随机添加到其他菜单下面时获取当前菜单的别名  并且当前数据视图不是表单里的数据视图  dataView
      if (sessionStorage.menu_alias && !this.dataView && !this.ignoredAlias.includes(sessionStorage.menu_alias)) {
        this.alias_new = sessionStorage.menu_alias;
      }
      let dataViewFlag = false;
      //判断当前数据视图是不是表单里的数据视图
      if (this.dataView) {
        if (this.dataView.boDefAlias && this.dataView.boDefAlias != '') {
          dataViewFlag = true;
        }
      }
      let path = '/templateDraftList/' + this.templateInfo.alias + '?dataViewFlag=' + dataViewFlag;
      if (this.openType == 'new' || dataViewFlag) {
        path += '&isNew=true';
      }
      if (dataViewFlag) {
        window.open(path, '_blank');
      } else {
        this.$router.push(path);
      }

      // let url =
      //   "/statement/draftList?tempAlias=" + ;
      // const { href } = this.$router.push({
      //   path: url,
      // });
      // window.open(href, "_blank");
    },
    initSwitchStatus() {
      //初始化开关状态
      let manages = hotent_ui_src_utils_js__WEBPACK_IMPORTED_MODULE_2__[/* default */ "a"].parseToJson(this.templateInfo.manageField);
      for (let i = 0; i < manages.length; i++) {
        if (manages[i].name === 'switch') {
          let fieldName = manages[i].bind;
          this.$set(this.switchMap, fieldName, {});
          this.switchMap[fieldName].on = manages[i].switchOn;
          this.switchMap[fieldName].off = manages[i].switchOff;
          this.switchMap[fieldName].onLabel = manages[i].switchOnLabel;
          this.switchMap[fieldName].offLabel = manages[i].switchOffLabel;
        }
      }
    },
    switchChange(pkVal, on, off, fieldName, row, defaultTrue) {
      let this_ = this;
      const fileNameDisplay = this.getBindField(row, fieldName);
      let val = this.getBindValue(row, fieldName);
      this_.$confirm(this_.$t('ht.templatePreview.isChangeDataTip'), {
        confirmButtonText: this_.$t('ht.common.confirm'),
        cancelButtonText: this_.$t('ht.common.cancle'),
        type: 'warning'
      }).then(() => {
        if (val == on) {
          this.$set(row, fileNameDisplay, off);
          val = off;
        } else if (val == off) {
          this.$set(row, fileNameDisplay, on);
          val = on;
        } else {
          if (defaultTrue == 'true') {
            this.$set(row, fileNameDisplay, off);
            val = off;
          } else {
            this.$set(row, fileNameDisplay, on);
            val = on;
          }
        }
        let formAlias = this_.templateInfo.formKey; //表单别名
        let dataDefAlias = this_.templateInfo.boDefAlias; //数据建模别名
        this.$requestConfig.getDataTemplateForm(formAlias, dataDefAlias, pkVal).then(resp => {
          let boData = resp.data;
          boData[dataDefAlias][fieldName] = val;
          let saveData = {
            boAlias: this_.templateInfo.boDefAlias,
            boData: resp.data,
            templateKey: this.templateInfo.alias
          };
          if (saveData.formKey) {
            saveData.boData.formKey = saveData.formKey;
          }
          if (saveData.templateKey) {
            saveData.boData.templateKey = saveData.templateKey;
          }
          this_.$requestConfig.boSave(saveData).then(result => {
            if (result.state) {
              this_.$message({
                type: 'success',
                message: this_.$t('ht.templatePreview.savaSuccess')
              });
            } else {
              this_.$message({
                type: 'error',
                message: this_.$t('ht.templatePreview.hasCancelOperate')
              });
            }
          });
        });
      }).catch(() => {
        this_.$message({
          message: this_.$t('ht.templatePreview.savaFail')
        });
        // let formAlias = this_.templateInfo.formKey //表单别名
        // let dataDefAlias = this_.templateInfo.boDefAlias //数据建模别名
        // this.$requestConfig
        //   .getDataTemplateForm(formAlias, dataDefAlias, pkVal)
        //   .then((resp) => {
        //     this_.$set(row, fieldName, resp.data[dataDefAlias][fieldName])
        //   })
      });
    },
    display(mpDisplay) {
      if (this.isMobile) {
        return mpDisplay === '1';
      }
      //pc端的数据报表不需要做本方法的处理，直接返回true即可。
      return true;
    },
    getFixed(fixed) {
      return fixed;
    },
    summary(method, field, decimal, currentData) {
      let fields = field.toLowerCase();
      const currentRows = currentData ? currentData : this.rows;
      let list = currentRows && currentRows.filter(item => item[fields] !== undefined && item[fields] !== '').map(item => Number(item[fields]));
      if (!list || list.length == 0) return;
      const METHOD_MAP = {
        count: 'getCount',
        sum: 'getSum',
        min: 'getMinNum',
        max: 'getMaxNum',
        avg: 'getAverage'
      };
      if (METHOD_MAP[method]) {
        return this[METHOD_MAP[method]](list, decimal);
      }
    },
    getSum(list, decimal) {
      const sumResult = list.reduce((pre, cur) => pre + cur).toFixed(decimal);
      return sumResult ? hotent_ui_src_utils_js__WEBPACK_IMPORTED_MODULE_2__[/* default */ "a"].thousandBit(sumResult) : sumResult;
    },
    getCount(list) {
      return list.length;
    },
    getMinNum(list, decimal) {
      return Math.min(...list).toFixed(decimal);
    },
    getMaxNum(list, decimal) {
      return hotent_ui_src_utils_js__WEBPACK_IMPORTED_MODULE_2__[/* default */ "a"].thousandBit(Math.max(...list).toFixed(decimal));
    },
    getAverage(list, decimal) {
      return (list.reduce((pre, cur) => pre + cur) / list.length).toFixed(decimal);
    },
    getColor(data, row) {
      let resuColor = 'color:black';
      let decode = Base64.decode(data);
      let colorRule = JSON.parse(decode);
      if (colorRule && colorRule instanceof Array) {
        colorRule.forEach(rule => {
          let Fn = Function('data', rule.proRule);
          if (Fn(row)) {
            resuColor = 'color:' + rule.proColor;
          }
        });
      }
      return resuColor;
    },
    getProValue(value, rule) {
      const result = Math.round(value / rule * 10000) / 100;
      // 进度条返回的数据应该在[0,100]这个区间
      return isNaN(result) ? 1 : result > 100 ? 100 : result;
    },
    getProColor(data, row) {
      let resuColor = '#409eff';
      let decode = Base64.decode(data);
      /*decode=decode.replace(/\s*!/g,"");*/
      let colorRule = JSON.parse(decode);
      if (colorRule && colorRule instanceof Array) {
        colorRule.forEach(rule => {
          let Fn = Function('data', rule.proRule);
          if (Fn(row)) {
            resuColor = rule.proColor;
          }
        });
      }
      return resuColor;
    },
    isSortable(field) {
      let isClob = false;
      this.displayFields.forEach(item => {
        if (item.name === field && item.type === 'clob') {
          isClob = true;
        }
      });
      return !this.notSortableFields.includes(field) && !isClob;
    },
    isPropTable(field, tableName, oldTableField) {
      if (this.templateInfo.mainTalbeName.toLowerCase() == tableName.toLowerCase()) {
        return `t.${oldTableField}`;
      } else {
        return `${tableName}.${oldTableField}`;
      }
    },
    customEvilJS(row, htScript, configSetting) {
      if (configSetting && configSetting.dialogWidth) {
        this.dialogWidth = configSetting.dialogWidth + 'px';
      }
      if (configSetting && configSetting.dialogHeight) {
        this.dialogHeight = configSetting.dialogHeight + 'px';
      }
      if (configSetting && configSetting.openType) {
        this.openType = configSetting.openType;
      }
      let Fn = Function('_req', 'row', '_this', Base64.decode(htScript)); //一个变量指向Function，防止有些前端编译工具报错
      Fn(req, row, this);
    },
    //数据更新
    batchUpdate(title, base64Json, base64Fileds, afterScript, row) {
      this.batchUpdataTitle = title;
      this.updatingRow = row;
      let defaultValueList = [];
      let outForm = [];
      if (base64Json) {
        //是否有用户自己输入的字段
        let res = true;
        let batchUpdateData = JSON.parse(Base64.decode(base64Json));
        let filedsObj = JSON.parse(Base64.decode(base64Fileds));
        batchUpdateData.forEach(item => {
          if (item.valueType == 1) {
            var isRequired = false;
            if (item.isRequired) {
              isRequired = true;
            }
            let descField = item.name;
            // 外部表不需要去除 F_
            // 其余表需要去除
            if (this.templateInfo.isExternal !== 1) {
              //item中主表字段没有F_开头
              descField = item.name.toLowerCase().replace('f_', '');
            }
            let obj = {
              name: item.name,
              desc: filedsObj[descField],
              outType: item.outValueType,
              single: false,
              selectCurrent: false,
              isRequired: isRequired
            };
            if (item.outValueType == 'select') {
              let selectConfig = JSON.parse(item.outConfig);
              obj.ganged = {
                alias: '',
                valueBind: '',
                noInit: '',
                labelBind: '',
                bind: {}
              };
              if (selectConfig.customQuery) {
                let ganged = {
                  alias: selectConfig.customQuery.alias,
                  valueBind: selectConfig.customQuery.valueBind,
                  noInit: '',
                  labelBind: selectConfig.customQuery.labelBind,
                  bind: {}
                };
                obj.ganged = ganged;
              }
              obj.selectData = selectConfig.selectData;
            } else if (item.outValueType == 'dialog') {
              let selectConfig = JSON.parse(item.outConfig);
              let dialogConfig = selectConfig.dialogConfig;
              let mappingConf = [];
              let parameter = selectConfig.parameter;
              for (let key in parameter) {
                let value = parameter[key] || '';
                mappingConf.push({
                  from: key,
                  target: [value],
                  targetSub: [value]
                });
              }
              let custdialog = {
                selectNum: dialogConfig.selectNum,
                conditions: [],
                mappingConf: mappingConf,
                custQueryJson: [],
                alias: dialogConfig.alias,
                type: dialogConfig.custDialog
              };
              obj.custdialog = {
                name: this.$t('ht.common.select'),
                custDialog: custdialog,
                resultField: dialogConfig.resultField
              };
            } else if (item.outConfig && (item.outValueType != 'input' || item.outValueType != 'data' || item.outValueType != 'number')) {
              let outConfig = JSON.parse(item.outConfig);
              let parameter = outConfig.parameter;
              for (let key in parameter) {
                if (!parameter[key]) {
                  delete parameter[key];
                } else {
                  parameter[key] = 'data.' + parameter[key];
                }
              }
              if (outConfig.selectCurrent) {
                obj.selectCurrent = outConfig.selectCurrent;
              }
              if (outConfig.isSingle) {
                obj.single = outConfig.isSingle;
              }
              obj.bindConfig = parameter;
            }
            outForm.push(obj);
            res = false;
          } else {
            defaultValueList.push({
              key: item.name,
              value: item.defaultValue
            });
          }
        });
        if (res) {
          if (row) {
            this.updateBo(defaultValueList, row, afterScript);
          } else {
            this.updateBo(defaultValueList, row, afterScript);
          }
        } else {
          this.defaultValueList = defaultValueList;
          this.$refs.templateBatchUpdateDialog.showDialog(title, outForm);
        }
      } else {
        this.$message({
          type: 'info',
          message: this.$t('ht.templatePreview.notUpdate')
        });
      }
    },
    //数据更新弹窗确认
    onConfirm(data) {
      let defaultValueList = [];
      for (var key in data) {
        defaultValueList.push({
          key: key,
          value: data[key]
        });
      }
      let boData = this.defaultValueList ? this.defaultValueList.concat(defaultValueList) : this.defaultValue;
      this.updateBo(boData);
    },
    //数据更新-接口调用
    // updateBo(defaultValueList, row, afterScriptValue) {
    //   if (this.updatingRow) {
    //     row = this.updatingRow
    //   }
    //   this.$confirm(
    //     this.$t('ht.templatePreview.updateDataTip'),
    //     this.$t('ht.common.tips'),
    //     {
    //       confirmButtonText: this.$t('ht.common.confirm'),
    //       cancelButtonText: this.$t('ht.common.cancle'),
    //       type: 'warning',
    //     }
    //   )
    //     .then(() => {
    //       let selectRows = row
    //         ? [row]
    //         : this.tableData.selectRows
    //           ? this.tableData.selectRows
    //           : row
    //       for (let i = 0; i < selectRows.length; i++) {
    //         selectRows[i].formKey = this.templateInfo.formKey
    //         for (let j = 0; j < defaultValueList.length; j++) {
    //           selectRows[i][defaultValueList[j].key] = defaultValueList[j].value
    //         }
    //       }
    //       let data = {
    //         boData: selectRows,
    //         boAlias: this.templateInfo.boDefAlias,
    //         templateId: this.templateInfo.id,
    //       }
    //       this.$requestConfig.batchUpdateTemplateData(data).then((data) => {
    //         if (data.state) {
    //           this.$message({
    //             type: 'success',
    //             message: data.message,
    //           })
    //           this.search({
    //             querys: this.buildDefaultQuerys() || [],
    //           })
    //           // 更新成功后需执行后置js
    //           let script = Base64.decode(afterScriptValue)
    //           this.tempScript(script, row)
    //         }
    //       })
    //     })
    //     .catch(() => {
    //       this.$message({
    //         type: 'info',
    //         message: this.$t('ht.templatePreview.cancelUpdate'),
    //       })
    //     })
    // },
    //迁移思元数据更新-接口调用
    updateBo(defaultValueList, row, afterScriptValue) {
      if (this.updatingRow) {
        row = this.updatingRow;
      }
      // row 有值是列按钮操作
      let selectAll = this.tableData.selectRows == null || this.tableData.selectRows.length == 0 ? true : false;
      this.$confirm(row ? this.$t('ht.templatePreview.updateDataTip') : selectAll ? this.$t('ht.templatePreview.updateDataAllTip') : this.$t('ht.templatePreview.updateDataTip'), this.$t('ht.common.tips'), {
        confirmButtonText: this.$t('ht.common.confirm'),
        cancelButtonText: this.$t('ht.common.cancle'),
        type: 'warning'
      }).then(() => {
        let ids = [];
        if (row) {
          ids.push(row['id_']);
        } else {
          if (!selectAll) {
            this.tableData.selectRows.forEach(item => {
              ids.push(item['id_']);
            });
          }
        }
        let data = {
          queryFilter: this.curSelectParams.queryFilter,
          params: defaultValueList,
          ids: ids,
          boAlias: this.templateInfo.alias,
          templateId: this.templateInfo.id,
          title: this.batchUpdataTitle
        };
        const loading = this.$loading({
          lock: true,
          text: 'Loading',
          spinner: 'el-icon-loading',
          background: 'rgba(0, 0, 0, 0.7)'
        });
        this.$requestConfig.request({
          url: '${portal}/form/dataTemplate/v1/newBoBatchUpdate2',
          method: 'post',
          data: data,
          timeout: 100000000
        }).then(async resp => {
          if (resp.state) {
            let result = [];
            result = resp.value;
            if (result && result.length > 0) {
              result.forEach(temp => {
                let data = temp.data;
                let formals = temp.formals;
                if (formals && formals.length > 0) {
                  formals.forEach(temp2 => {
                    let key = temp2.field;
                    try {
                      data[key] = eval(temp2.value);
                    } catch (e) {
                      this.$message({
                        type: 'error',
                        message: '计算失败，' + temp2.value + ' 公式配置错误'
                      });
                      throw new Error('End Loop');
                    }
                  });
                }
              });
              await this.updateData(result, row, afterScriptValue, loading);
            } else {
              loading.close();
            }
          }
        }).catch(() => loading.close());
      }).catch(() => {
        this.$message({
          type: 'info',
          message: this.$t('ht.templatePreview.cancelUpdate')
        });
      });
    },
    updateData(data, row, afterScriptValue, loading) {
      this.$requestConfig.request({
        url: '${portal}/form/dataTemplate/v1/computeListBatchUpdate',
        method: 'post',
        data: data,
        timeout: 100000000
      }).then(rel => {
        if (rel && rel.state) {
          this.$message({
            type: 'success',
            message: rel.message
          });
          this.search({
            querys: this.buildDefaultQuerys() || []
          });
          // 更新成功后需执行后置js
          let script = Base64.decode(afterScriptValue);
          this.tempScript(script, row);
        }
      }).finally(() => loading.close());
    },
    addCommand(command) {
      if (command == 'notLogin' || command == 'login') {
        this.getAddQRCode(command);
      }
    },
    getAddQRCode(command) {
      this.QRCodePattern = command == 'notLogin' ? true : false;
      this.QRCodeDesc = [];
      this.QRCodeType = 'add';
      this.QRCodeShow = false;
      this.QRCodeDialog = true;
    },
    showSearchPane() {
      return true;
    },
    buildDefaultQuerys(isSetSearchForm = true) {
      let this_ = this;
      let querys = [];
      let conditions = JSON.parse(this_.templateInfo.conditionField);
      //条件字段默认值判断
      conditions.forEach(condition => {
        if (condition.defaultValue) {
          let field = condition.colPrefix + condition.na;
          if (isSetSearchForm) {
            this_.$set(this_.searchForm, field, condition.defaultValue);
          }
          let value = condition.defaultValue;
          if (condition.ty == 'number') {
            value = parseFloat(value);
          }
          querys.push({
            property: condition.queryPre ? condition.queryPre + field : field,
            value: value,
            group: 'main',
            operation: condition.qt.toUpperCase(),
            relation: 'AND'
          });
        }
      });
      //筛选字段默认值判断

      if (this.parameterqQuerys) {
        let parameterQuerys = JSON.parse(Base64.decode(this.parameterqQuerys));
        if (parameterQuerys && parameterQuerys.length > 0) {
          parameterQuerys.forEach(query => {
            let prefix = this.templateInfo.isExternal === 1 ? '' : 'F_';
            query.property = prefix + query.property;
            if (isSetSearchForm) {
              this_.$set(this_.searchForm, query.property, query.value);
            }
            querys.push(query);
          });
        }
      }
      let filters = JSON.parse(this_.templateInfo.filteringField);
      filters.forEach(filter => {
        if (filter.defaultValue && filter.defaultValue.length > 0) {
          this_.filterMap[filter.name] = filter.defaultValue;
          filter.defaultValue.forEach(val => {
            querys.push({
              property: `${filter.queryPre || ''}${filter.colPrefix}${filter.name}`,
              value: val,
              group: 'defVal_' + filter.name,
              operation: 'EQUAL',
              relation: 'OR'
            });
          });
        }
      });
      this_.$on('afterMounted', () => {
        const tab = document.getElementById(this_.templateInfo.alias);
        if (tab && tab.__vue__) {
          let headerColumns = tab.__vue__.$refs.tableHeader ? tab.__vue__.$refs.tableHeader.columns : [];
          headerColumns.forEach(column => {
            if (this_.filterMap.hasOwnProperty(column.property)) {
              this_.filterMap[column.property].forEach(val => {
                column.filteredValue.push(val);
              });
            }
          });
        }
      });
      return querys;
    },
    handleClose() {
      this.dataViewDialogVisible = false;
    },
    startFlowSucess(m) {
      this.$message.success(m);
      this.search();
    },
    async scriptClick(btnAlias, afterScriptValue, parameter) {
      if (parameter && parameter.dialogWidth) {
        this.dialogWidth = parameter.dialogWidth + 'px';
      }
      if (parameter && parameter.dialogHeight) {
        this.dialogHeight = parameter.dialogHeight + 'px';
      }
      if (parameter && parameter.openType) {
        this.openType = parameter.openType;
      }
      let row = null;
      if (parameter) {
        row = parameter.row;
        let rowId = parameter.id || parameter.pkField;
        if ((!row || row == undefined) && rowId) {
          row = this.rows.filter(item => item[this.templateInfo.pkField] == rowId)[0];
        }
      }
      //后置脚本执行结果为false则不执行下面的逻辑
      if (afterScriptValue) {
        let script = Base64.decode(afterScriptValue);
        let scriptResult = await this.tempScript(script, row);
        if (!scriptResult) {
          return;
        }
      }
      let btn = ['add', 'edit', 'del', 'print', 'url', 'import', 'deleted', 'export', 'copyOne', 'copyAll', 'detail', 'record', 'printDetail', 'sub', 'js', 'startFlow', 'addFlow', 'addData', 'searchData', 'batchSave']; //点击按钮就触发

      let btnOk = ['switch', 'batchUpdate']; //需要点击确认按钮才触发
      if (btn.indexOf(btnAlias) != -1) {
        if (btnAlias == 'add') {
          this.operating(parameter.templateId, parameter.id, parameter.action, parameter.defId, parameter.isStartFlow, parameter.openType, parameter.quitAfterSaving);
        } else if (btnAlias == 'edit') {
          if (parameter && parameter.id) {
            this.operating(parameter.templateId, parameter.id, parameter.action, parameter.defId, parameter.isStartFlow, parameter.openType, parameter.quitAfterSaving);
          } else if (this.checkSelect()) {
            parameter.id = this.tableData.selectRows[0].id_;
            parameter.isStartFlow = this.tableData.selectRows[0].isStartFlow;
            this.operating(parameter.templateId, parameter.id, parameter.action, parameter.defId, parameter.isStartFlow, parameter.openType, parameter.quitAfterSaving);
          }
        } else if (btnAlias == 'batchSave') {
          //表单视图
          let dataViewParams = {
            templateId: parameter.templateId
          };
          if (this.dataView && this.dataView.selectList) {
            dataViewParams['bindList'] = this.dataView.bindList;
          }
          this.openBatchSaveList(dataViewParams);
        } else if (btnAlias == 'del') {
          this.del(parameter.pkField);
        } else if (btnAlias == 'print') {
          this.printList();
        } else if (btnAlias == 'url') {
          this.openUrl(parameter.url, parameter.openType, parameter.row, parameter.fieldName, parameter.dialogWidth, parameter.dialogHeight, parameter.urlParams);
        } else if (btnAlias == 'export') {
          this.exports(parameter.exportSettingFields);
        } else if (btnAlias == 'deleted') {
          this.deleted();
        } else if (btnAlias == 'copyOne') {
          this.copyOne(parameter);
        } else if (btnAlias == 'copyAll') {
          this.copyAll();
        } else if (btnAlias == 'detail' && this.checkSelect()) {
          parameter.id = this.tableData.selectRows[0].id_;
          this.operating(parameter.templateId, parameter.id, parameter.action, parameter.defId, parameter.isStartFlow, parameter.openType, parameter.quitAfterSaving);
        } else if (btnAlias == 'record' && this.checkSelect()) {
          //修改记录
          this.openRecordList(this.tableData.selectRows[0].id_);
        } else if (btnAlias == 'printDetail' && this.checkSelect()) {
          parameter.id = this.tableData.selectRows[0].id_;
          this.printDetail(parameter.templateId, parameter.id, parameter.action);
        } else if (btnAlias == 'sub' && this.checkSelect()) {
          this.showSubList(this.tableData.selectRows[0].id_, parameter);
        } else if (btnAlias == 'js' && this.checkSelect()) {
          this.customEvilJS(this.tableData.selectRows[0], parameter.jsValue);
        } else if (btnAlias == 'startFlow' && parameter.defId && !parameter.isStartFlow) {
          this.operating(parameter.templateId, parameter.id, parameter.action, parameter.defId, parameter.isStartFlow, parameter.openType, parameter.quitAfterSaving);
        } else if (btnAlias == 'addFlow') {
          this.addFlow(parameter.flowFormData, row);
        } else if (btnAlias == 'addData') {
          this.addData(parameter.flowFormData, row);
        } else if (btnAlias == 'searchData') {
          this.searchData(parameter.flowFormData, row);
        }
      } else if (btnOk.indexOf(btnAlias) != -1) {
        if (btnAlias == 'switch') {
          this.switchChange(parameter.pkField, parameter.switchOn, parameter.switchOff, parameter.bind, parameter.row, parameter.switchDefaultTrue, afterScriptValue);
        } else if (btnAlias == 'batchUpdate') {
          //如果是行间按钮，就不用判断是否选择了数据
          if (parameter.position) {
            this.batchUpdate(parameter.desc, parameter.batchUpdateData, parameter.filedsObj, afterScriptValue, parameter.row);
          } else {
            this.batchUpdate(parameter.desc, parameter.batchUpdateData, parameter.filedsObj, afterScriptValue, null);
          }
        }
      }
    },
    checkSelect() {
      if (!this.tableData.selectRows || this.tableData.selectRows.length == 0) {
        this.$message.warning(this.$t('ht.templatePreview.selectOneDateTip'));
        return false;
      }
      if (this.tableData.selectRows.length > 1) {
        this.$message.warning(this.$t('ht.templatePreview.selectOneData'));
        return false;
      }
      return true;
    },
    copyOne(parameter) {
      this.$confirm(this.$t('ht.templatePreview.copyTip'), this.$t('ht.common.tips'), {
        confirmButtonText: this.$t('ht.common.confirm'),
        cancelButtonText: this.$t('ht.common.cancle'),
        type: 'warning'
      }).then(() => {
        let ids = [];
        ids.push(parameter.pkField);
        let param = {};
        param.ids = ids;
        param.boAlias = this.templateInfo.boDefAlias;
        let loadingInstance = element_ui__WEBPACK_IMPORTED_MODULE_1__["Loading"].service(this.$t('ht.templatePreview.copyLoadingText'));
        this.$requestConfig.boCopy(param).then(res => {
          if (res.state) {
            this.$message({
              message: res.message,
              type: 'success'
            });
            this.$nextTick(() => {
              // 以服务的方式调用的 Loading 需要异步关闭
              loadingInstance.close();
            });
            this.search();
          } else {
            this.$message({
              message: res.message,
              type: 'warning'
            });
            this.$nextTick(() => {
              // 以服务的方式调用的 Loading 需要异步关闭
              loadingInstance.close();
            });
          }
        }).finally(() => {
          loadingInstance.close();
        });
      }).catch(() => {
        this.$message({
          type: 'info',
          message: this.$t('ht.templatePreview.cancelCopy')
        });
      });
    },
    copyAll() {
      if (this.tableData.selectRows == null || this.tableData.selectRows.length == 0) {
        this.$message.warning(this.$t('ht.templatePreview.copyWaning'));
        return false;
      }
      this.$confirm(this.$t('ht.templatePreview.copyAllDataTip'), this.$t('ht.common.tips'), {
        confirmButtonText: this.$t('ht.common.confirm'),
        cancelButtonText: this.$t('ht.common.cancle'),
        type: 'warning'
      }).then(() => {
        let s = [];
        for (let i = 0; i < this.tableData.selectRows.length; i++) {
          s.push(this.tableData.selectRows[i][this.templateInfo.pkField]);
        }
        let param = {
          ids: s,
          boAlias: this.templateInfo.boDefAlias
        };
        let loadingInstance = element_ui__WEBPACK_IMPORTED_MODULE_1__["Loading"].service(this.$t('ht.templatePreview.copyLoadingText'));
        this.$requestConfig.boCopy(param).then(res => {
          if (res.state) {
            this.$message({
              message: res.message,
              type: 'success'
            });
            this.$nextTick(() => {
              // 以服务的方式调用的 Loading 需要异步关闭
              loadingInstance.close();
            });
            this.search();
          } else {
            this.$message({
              message: res.message,
              type: 'warning'
            });
            this.$nextTick(() => {
              // 以服务的方式调用的 Loading 需要异步关闭
              loadingInstance.close();
            });
          }
        }).finally(() => {
          loadingInstance.close();
        });
      }).catch(() => {
        this.$message({
          type: 'info',
          message: this.$t('ht.templatePreview.cancelCopy')
        });
      });
    },
    tempScript(script, row) {
      if (script == undefined || script == '') {
        return true;
      }
      let _this = this;
      let _req = req;
      let _rows = this.rows;
      let _row = row;
      function evil() {
        let Fn = Function('_req', '_this', '_rows', '_row', script); //一个变量指向Function，防止有些前端编译工具报错
        let result = Fn(_req, _this, _rows, _row);
        return result;
      }
      let resultValue = evil();
      return resultValue;
    },
    async beforeScript(diyScript, row) {
      if (diyScript) {
        let script = Base64.decode(diyScript);
        let scriptResult = await this.tempScript(script, row);
        return scriptResult;
      } else {
        return true;
      }
    },
    //过滤树默认展开操作
    setDefaultExpand() {
      let defaultExpand = '1';
      let elTree = null;
      try {
        let treeField = JSON.parse(this.templateInfo.treeField);
        defaultExpand = treeField.defaultExpand;
        //如果未配置字段映射字段，过滤树不会加载，这里会抛异常
        elTree = this.$refs.filterTree.$refs.elTree;
      } catch (error) {
        return;
      }
      if (defaultExpand == '0') {
        return;
      }
      //根节点， 表单列表中的根节点实际是该节点的第一个child

      let store = elTree.store;
      let root = store.root.childNodes[0] || store.root;
      //递归展开,node为当前node
      function setExpand(node, defaultExpand) {
        elTree.load(node, data => {
          //为了减少改动，这里进行了手动懒加载，具体方法看element源码
          node.doCreateChildren(data);
          store._initDefaultCheckedNodes();
          node.expanded = true;
        });
        if (!node.childNodes || node.childNodes.length == 0) {
          node.isLeaf = true;
          return;
        }
        if (node.level >= defaultExpand && defaultExpand != '-1') {
          return;
        }
        node.childNodes.forEach(item => {
          setExpand(item, defaultExpand);
        });
      }
      setExpand(root, parseInt(defaultExpand));
    },
    getTreeBindValue(field, pid, node, treeField) {
      let idVal = treeField.idVal;
      let resultArr = [node[field]];
      let treeList = this.treeList;
      //递归查找该节点的下属节点
      function getCurAndSub(node) {
        treeList.forEach(item => {
          if (item[pid] == node[idVal]) {
            resultArr.push(item[field]);
            getCurAndSub(item);
          }
        });
      }
      getCurAndSub(node);
      return resultArr;
    },
    //检查流程权限
    checkFlowPermission() {
      let flowBtns = ['approval', 'taskDetail', 'taskImage', 'history', 'revoke', 'phyDelete', 'logicDelete', 'taskToRead'];
      if (this.templateInfo && this.templateInfo.manageField) {
        let btns = JSON.parse(this.templateInfo.manageField).filter(item => {
          return flowBtns.includes(item.name);
        });
        if (!btns || btns.length == 0) {
          return;
        }
        let permissionTypes = btns.map(item => {
          return item.name;
        }).join(',');
        let instIds = [];
        this.rows.forEach(item => {
          if (item['bpm_proc_inst_id_'] && !this.flowBtnPermission.hasOwnProperty(item['bpm_proc_inst_id_'])) {
            instIds.push(item['bpm_proc_inst_id_']);
          }
        });
        if (permissionTypes && instIds && instIds.length > 0) {
          this.$requestConfig.getDataTemplateButtonPermission(instIds, permissionTypes).then(resp => {
            resp.value.forEach(item => {
              let {
                instId
              } = item;
              this.$set(this.flowBtnPermission, instId, item);
            });
            this.multipleTemplateTableloading = false;
          });
        }
      }
    },
    //审批任务
    handleApproval(row, type) {
      let {
        taskId
      } = this.flowBtnPermission[row['bpm_proc_inst_id_']];
      let url = `/matter/approvalForm/?taskId=${taskId}&instId=${row['bpm_proc_inst_id_']}&isGetApprovalBtn=true`;
      //判断当前在哪个端
      if (!this.$requestConfig.frontUrl) {
        this.$message.error(this.$t('ht.templatePreview.applicationSideNotConfigured'));
        return;
      }
      if (!this.$requestConfig.frontUrl.startsWith(window.location.origin) || 'new' === type) {
        let currentUser = sessionStorage.getItem('currentUser');
        let token = null;
        try {
          let obj = JSON.parse(currentUser);
          token = obj.token;
        } catch (e) {
          console.log(`sessionStorage.currentUser${this.$t('ht.templatePreview.notConfigured')}token,${e}`);
        }
        url = `${this.$requestConfig.frontUrl}${url}${token ? '&token=' + token : ''}`;
        window.open(url, '_blank');
      } else if (type == 'old') {
        this.$router.push(url);
      }
    },
    //打开流程图
    showTaskImage(row) {
      this.selectedDefId = row['bpm_proc_def_id_'];
      this.selectedInstId = row['bpm_proc_inst_id_'];
      let taskId = this.flowBtnPermission[this.selectedInstId].taskId;
      if (taskId) {
        this.selectedTaskId = taskId;
      }
      this.$nextTick(() => {
        this.$refs.taskImage.handleOpen();
      });
    },
    //打开审批记录
    showInstHistory(row) {
      this.selectedDefId = row['bpm_proc_def_id_'];
      this.selectedInstId = row['bpm_proc_inst_id_'];
      this.$nextTick(() => {
        this.$refs['processRecord'].showDialog();
      });
    },
    //处理撤回
    handleRevoke(row) {
      let instId = row['bpm_proc_inst_id_'];
      let status = row['bpm_status_'];
      if (status == 'revokeToStart') {
        this.$message.warning(this.$t('ht.templatePreview.hasRevoke'));
        return;
      }
      this.selectedInstId = instId;
      let data = {
        instanceId: instId,
        isHandRevoke: false
      };
      this.$prompt(this.$t('ht.templatePreview.revokeReason'), this.$t('ht.common.tips')).then(({
        value
      }) => {
        data.cause = value;
        this.$requestConfig.saveRevoke(data).then(response => {
          this.$message.success(response.message);
          this.search('find');
        });
      }).catch(() => {});
    },
    //任务明细
    showTaskDetail(row, openType, dialogConfig) {
      let instId = row['bpm_proc_inst_id_'];
      let url = `/matter/approvalForm?instId=${instId}`;
      const basePath = this.$router.resolve('/').href;
      if (!`${window.location.origin}${basePath}`.startsWith(this.$requestConfig.frontUrl) || openType === 'new') {
        let currentUser = sessionStorage.getItem('currentUser');
        let token = null;
        try {
          let obj = JSON.parse(currentUser);
          token = obj.token;
        } catch (e) {
          console.log(`sessionStorage.currentUser${this.$t('ht.templatePreview.notConfigured')}token,${e}`);
        }
        url = `${this.$requestConfig.frontUrl}${url}${token ? '&token=' + token : ''}`;
        window.open(url, '_blank');
      } else if ('old' == openType) {
        this.$router.push(url);
      } else if (openType === 'dialog') {
        let currentUser = sessionStorage.getItem('currentUser');
        let token = null;
        try {
          let obj = JSON.parse(currentUser);
          token = obj.token;
        } catch (e) {
          console.log(`sessionStorage.currentUser${this.$t('ht.templatePreview.notConfigured')}token,${e}`);
        }
        url = `${this.$requestConfig.frontUrl}${url}${token ? '&token=' + token : ''}&__isFull__=${true}`;
        this.$refs.templateIframeDialog.showDialog({
          url: url,
          dialogWidth: dialogConfig.dialogWidth,
          dialogHeight: dialogConfig.dialogHeight
        });
      }
    },
    taskToRead(row) {
      this.$refs['templateTaskCirculate'].showDialog(row, this.flowBtnPermission);
    },
    //物理删除(草稿),会把表单数据也删除
    phyDelete(row) {
      let this_ = this;
      this.$confirm(this.$t('ht.templatePreview.deleteDraftTip'), this.$t('ht.common.tips')).then(() => {
        let id = row['bpm_proc_inst_id_'];
        this.$requestConfig.removeFlowById(id).then(response => {
          if (response.state) {
            this.$message.success(this.$t('ht.templatePreview.deleteDraftSuccess'));
            this_.search('find');
          }
        });
      }).catch(() => {});
    },
    //逻辑删除流程实例
    logicDelete(row) {
      let instId = row['bpm_proc_inst_id_'];
      this.$confirm(this.$t('ht.templatePreview.confirmDeleteTip'), this.$t('ht.common.tips'), {
        cancelButtonText: this.$t('ht.common.cancle'),
        confirmButtonText: this.$t('ht.common.confirm'),
        type: 'warning',
        closeOnClickModal: false
      }).then(() => {
        this.$requestConfig.removeFlowById(instId).then(response => {
          if (response.state) {
            this.$message.success(response.message);
            this.search('find');
          } else {
            this.$message.error(response.message);
          }
        });
      });
    },
    // 通用打开url方法 js按钮中可以调用
    commonOpenUrl(url) {
      if (this.openType === 'new') {
        window.open(url, '_blank');
      } else if (this.openType === 'dialog') {
        this.$refs.templateIframeDialog.showDialog({
          url: url,
          dialogHeight: this.dialogHeight,
          dialogWidth: this.dialogWidth
        });
      } else {
        window.location.href = url;
      }
    },
    /**
     * str:字符串 beginStr:开始位置 endStr:结束位置；
     */
    desensitization(str, beginStr, endStr, pad) {
      if (typeof str === 'number') {
        str = str + '';
      }
      let strData = lodash__WEBPACK_IMPORTED_MODULE_7___default.a.cloneDeep(str);
      if (strData && strData.length) {
        var len = strData.length;
        var leftStr = strData.substring(0, beginStr - 1);
        var rightStr = strData.substring(endStr, len);
        var str = '';
        var i = 0;
        try {
          for (i = 0; i < endStr + 1 - beginStr; i++) {
            str = str + pad;
          }
        } catch (error) {}
        str = leftStr + str + rightStr;
        return str;
      } else {
        return '';
      }
    },
    //判断是否为json字符串
    isJSON(str) {
      if (typeof str == 'string') {
        try {
          var obj = JSON.parse(str);
          if (typeof obj == 'object' && obj) {
            return true;
          } else {
            return false;
          }
        } catch (e) {
          return false;
        }
      } else {
        return false;
      }
    },
    //级联格式化设置处理
    formatCascade(str) {
      let newStr = '';
      let strData = lodash__WEBPACK_IMPORTED_MODULE_7___default.a.cloneDeep(str);
      if (strData) {
        if (this.isJSON(strData)) {
          newStr = JSON.parse(strData);
          if (newStr && newStr.pathLabels && newStr.pathLabels.length) {
            return newStr.pathLabels.join('>');
          } else {
            return strData;
          }
        } else {
          return strData;
        }
      } else {
        return strData;
      }
    }
  }
  // asyncComputed: {
  //   showDraftList() {
  //     //如果当前页面被嵌入iframe里面不显示草稿
  //     return !this.isJoinFlow
  //   },
  //   showScriptButton: {
  //     get() {
  //       let obj = {
  //         print: true,
  //         add: true,
  //         edit: true,
  //         del: true,
  //         batchUpdate: true,
  //         export: true,
  //         import: true,
  //         switch: true,
  //         url: true,
  //         copy: true,
  //       }
  //       if (this.templateInfo && this.templateInfo.manageField) {
  //         let manageField = JSON.parse(this.templateInfo.manageField)
  //         let this_ = this
  //         manageField.forEach((item) => {
  //           if (item.beforeScriptValue) {
  //             let promise = this_.beforeScript(item.beforeScriptValue)
  //             promise.then((res) => {
  //               obj[item.name] = res
  //             })
  //           }
  //         })
  //       }
  //       return obj
  //     },
  //     lazy: true,
  //   },
  // },
});

/***/ }),

/***/ "a912":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin

/***/ }),

/***/ "ac18":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin

/***/ }),

/***/ "ac74":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin

/***/ }),

/***/ "aca7":
/***/ (function(module, exports) {

module.exports = require("setimmediate");

/***/ }),

/***/ "ad78":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin

/***/ }),

/***/ "ae5e":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin

/***/ }),

/***/ "afdf":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_ae0439a0_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("893c");
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_ae0439a0_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_ae0439a0_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */


/***/ }),

/***/ "b173":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var element_ui__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("5f72");
/* harmony import */ var element_ui__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(element_ui__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var hotent_ui_src_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("025e");
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("8bbf");
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(vue__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("c5e1");
/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("60bb");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_4__);


const {
  Base64
} = __webpack_require__("f43e");
const {
  saveAs
} = __webpack_require__("9588");



/* harmony default export */ __webpack_exports__["a"] = ({
  data() {
    return {
      bpmRunTime: this.$requestConfig.flowUrl,
      fileList: [],
      tableData: {
        selectRows: [],
        querys: ''
      },
      dialogExportVisible: false,
      exportData: {
        getType: 'all',
        expField: []
      },
      exportSellection: [],
      searchForm: {},
      displayFields: [],
      alarmSettingMap: {},
      summaryTypeMap: {},
      queryForm: {
        queryData: ''
      },
      uploadParams: {
        id: []
      },
      formType: false,
      labelPosition: 'left',
      incons: 'el-icon-arrow-down',
      formatterMap: {},
      options: {
        fullscreen: true,
        lock: true
      },
      uploadError: `${this.$requestConfig.flowUrl}/runtime/photoErrorCsv/v1/uploadErrorList`,
      upoadPdfToAzure: `${this.$requestConfig.flowUrl}/runtime/blob/v1/upoadPdfToAzure`,
      uploadUnprepare: `${this.$requestConfig.flowUrl}/runtime/blob/v1/upoadToAzure`,
      summarySetting: [],
      activeNames: ['1'],
      pagination: {
        page: 1,
        pageSize: 30,
        total: 0
      },
      rows: [],
      queryParam: {},
      allSummaryConfig: {},
      customSummary: '',
      summaryTableData: []
    };
  },
  watch: {
    formKey: function (newVal) {
      if (newVal) {
        this.init();
      }
    },
    'tableData.selectRows': function (newVal) {
      if (newVal.length > 0) {
        let me_ = this;
        me_.uploadParams.id = [];
        newVal.forEach(item => {
          me_.uploadParams.id.push(item.INSTID);
        });
      }
      lodash__WEBPACK_IMPORTED_MODULE_4___default.a.debounce(() => {
        if (newVal && newVal.length > 0) {
          this.filterOldSummaryValByType('selected');
          this.summaryTableData.unshift({
            project: this.$t('ht.templatePreview.selectSummary'),
            key: 'selected',
            ...this.getCurrentSummaryConfig(newVal)
          });
        } else {
          this.summaryTableData = this.summaryTableData.filter(item => item.key !== 'selected');
        }
        this.loadCompiledCustomSummary();
      }, 200)();
    },
    $route: 'init',
    queryView: {
      handler(newVal) {
        if (newVal.shows) {
          let displayField = hotent_ui_src_utils_js__WEBPACK_IMPORTED_MODULE_1__[/* default */ "a"].parseToJson(newVal.shows);
          for (var i = 0; i < displayField.length; i++) {
            if (displayField[i].hidden == 0) {
              this.displayFields.push(displayField[i]);
              if (displayField[i].summaryType) {
                this.summaryTypeMap[displayField[i].fieldName] = displayField[i].summaryType;
              }
            }
            if (displayField[i].formater) {
              this.formatterMap[displayField[i].fieldName] = displayField[i].formater;
            }
            if (displayField[i].alarmSetting) {
              this.alarmSettingMap[displayField[i].fieldName] = displayField[i].alarmSetting;
            }
          }
        }
        if (newVal.summarySetting) {
          this.summarySetting = JSON.parse(newVal.summarySetting);
        }
        if (newVal && newVal.id) {
          let _me = this;
          _me.queryView = newVal;
          if (_me.queryView.conditions) {
            let conditionField = hotent_ui_src_utils_js__WEBPACK_IMPORTED_MODULE_1__[/* default */ "a"].parseToJson(_me.queryView.conditions);
            for (let i = 0; i < conditionField.length; i++) {
              var fieldName = conditionField[i].name;
              this.$set(this.searchForm, fieldName, '');
            }
          }
        }
        //handle pageSize
        this.pagination.pageSize = newVal.pageSize || 30;
      },
      immediate: true,
      deep: true
    }
  },
  methods: {
    filterOldSummaryValByType(type) {
      const keys = this.summaryTableData.map(item => item.key);
      if (keys && keys.length && keys.includes(type)) {
        this.summaryTableData = this.summaryTableData.filter(it => it.key !== type);
      }
    },
    //获取汇总全部数据
    getAllSummary(data) {
      const allSummaryConfig = data.reduce((pre, cur) => {
        pre[cur.field] = cur.val;
        return pre;
      }, {});
      if (Object.keys(allSummaryConfig).length) {
        this.filterOldSummaryValByType('all');
        this.summaryTableData.push({
          project: this.$t('ht.templatePreview.allSummary'),
          key: 'all',
          ...allSummaryConfig
        });
      }
    },
    getCurrentSummaryConfig(data) {
      let currentPageTotalConfig = {};
      if (data && data.length) {
        this.summarySetting.map(item => {
          currentPageTotalConfig[item.field] = this.summary(item.method, item.field, item.decimal, data);
        });
      }
      return currentPageTotalConfig;
    },
    loadCompiledCustomSummary() {
      if (!this.queryView.summaryRegionHtml) {
        return;
      }
      this.$nextTick(() => {
        this.getCustomSummary(Base64.decode(this.queryView.summaryRegionHtml)).then(result => {
          this.customSummary = result;
        });
      });
    },
    getCustomSummary(val) {
      const this_ = this;
      return new Promise(resolve => {
        const tempComponent = vue__WEBPACK_IMPORTED_MODULE_2___default.a.extend({
          data() {
            return {
              summaryResult: this_.summaryTableData,
              summaryFields: this_.summarySetting,
              currentPageRows: this_.rows,
              currentSelectedRows: this_.tableData.selectRows
            };
          },
          template: `<div>${val}</div>`
        });
        const component = new tempComponent().$mount();
        component.$nextTick(() => {
          resolve(component.$el.innerHTML);
        });
      });
    },
    summary(method, field, decimal, currentData) {
      const currentRows = currentData ? currentData : this.rows;
      let list = currentRows && currentRows.filter(item => item[field] !== undefined && item[field] !== '').map(item => Number(item[field]));
      if (!list || list.length == 0) return;
      const METHOD_MAP = {
        count: 'getCount',
        sum: 'getSum',
        min: 'getMinNum',
        max: 'getMaxNum',
        avg: 'getAverage'
      };
      if (METHOD_MAP[method]) {
        return this[METHOD_MAP[method]](list, decimal);
      }
    },
    getSum(list, decimal) {
      const sumResult = list.reduce((pre, cur) => pre + cur).toFixed(decimal);
      return sumResult ? hotent_ui_src_utils_js__WEBPACK_IMPORTED_MODULE_1__[/* default */ "a"].thousandBit(sumResult) : sumResult;
    },
    getCount(list) {
      return list.length;
    },
    getMinNum(list, decimal) {
      return Math.min(...list).toFixed(decimal);
    },
    getMaxNum(list, decimal) {
      return hotent_ui_src_utils_js__WEBPACK_IMPORTED_MODULE_1__[/* default */ "a"].thousandBit(Math.max(...list).toFixed(decimal));
    },
    getAverage(list, decimal) {
      return (list.reduce((pre, cur) => pre + cur) / list.length).toFixed(decimal);
    },
    //打印
    printList() {
      document.body.innerHTML = document.getElementById('printData').innerHTML;
      window.print();
      location.reload();
    },
    //生成二维码

    //路由跳转
    routerPush(url) {
      this.$router.push(url);
    },
    //查看与处理流程按钮
    dispose(row) {
      let url;
      if (row.TASKID) {
        //审批任务
        url = '/task/' + row.TASKID;
      } else {
        //查看流程实例
        url = '/inst/' + row.INSTID;
      }
      this.$router.push(url);
    },
    handleSizeChange: function (size) {
      //每页下拉显示数据
      this.pagination.pageSize = size;
      if (this.$refs.queryViewList) {
        this.$refs.queryViewList.load();
      } else {
        this.search();
      }
    },
    handleCurrentChange: function (currentPage) {
      //点击第几页
      this.pagination.page = currentPage;
      if (this.$refs.queryViewList) {
        this.$refs.queryViewList.load();
      } else {
        this.search();
      }
    },
    //回车查询
    searchEnterFun: function (e) {
      let keyCode = window.event ? e.keyCode : e.which;
      if (keyCode == 13) {
        this.pagination.page = 1;
        this.search();
      }
    },
    search(param, cb) {
      !param && (param = {});
      param.pageBean = this.pagination;
      //保存查询参数，用于作为导出的查询参数
      this.queryParam = {
        ...param
      };
      let obj = {
        sqlAlias: this.sqlAlias || this.queryView.sqlAlias,
        alias: this.alias || this.queryView.alias,
        param: param
      };
      this.getQuerySqlViewByPagination(obj, cb);
    },
    getQuerySqlViewByPagination(param, cb) {
      this.$requestConfig.getQueryViewDataList(param).then(response => {
        this.rows = response.rows;
        this.pagination.total = response.total;
        this.pagination.page = response.page;
        this.pagination.pageSize = response.pageSize;
        this.filterOldSummaryValByType('currentPage');
        this.summaryTableData.push({
          project: this.$t('ht.templatePreview.currentPageSummary'),
          key: 'currentPage',
          ...this.getCurrentSummaryConfig(response.rows)
        });
        if (response.summary && response.summary.length) {
          this.getAllSummary(response.summary);
        }
        if (this.queryView.summaryRegionHtml) {
          this.loadCompiledCustomSummary();
        }
      }).finally(() => {
        cb && cb();
      });
    },
    getQueryFilter() {
      let operationMap = this.getSearchItems(); //查询条件类型
      // let fieldQueryMap = this.getFieldQuery() //查询条件字段
      let specialMap = this.getSpecialMap(); //获取特殊查询情况（自定义对话框）
      let querys = []; //查询条件
      let queryFilter = {};
      let pageBean = {
        pageBean: this.pagination
      };
      let params = {
        sqlAlias: this.sqlAlias || this.queryView.sqlAlias,
        alias: this.alias || this.queryView.alias
      };
      params.pagination = pageBean;
      if (jquery__WEBPACK_IMPORTED_MODULE_3___default.a.isEmptyObject(this.searchForm)) {
        return params;
      } else {
        for (var key in this.searchForm) {
          if (typeof this.searchForm[key] != 'undefined' && this.searchForm[key] != '' && this.searchForm[key] != null) {
            if (this.searchForm[key] instanceof Array) {
              if (operationMap[key] === 'BETWEEN') {
                let valueArray = [];
                for (let i = 0; i < this.searchForm[key].length; i++) {
                  valueArray.push(this.searchForm[key][i]);
                }
                querys.push({
                  property: key,
                  value: valueArray.join(','),
                  group: 'main',
                  operation: operationMap[key],
                  relation: 'AND'
                });
              } else {
                for (let i = 0; i < this.searchForm[key].length; i++) {
                  querys.push({
                    property: key,
                    value: this.searchForm[key][i],
                    group: 'main',
                    operation: operationMap[key],
                    relation: 'AND'
                  });
                }
              }
            } else if (this.searchForm[key].includes(',') && !specialMap[key]) {
              let arr = this.searchForm[key].split(',');
              for (let i = 0; i < arr.length; i++) {
                if (arr[i] == '' || arr[i] == null || typeof arr[i] == 'undefined') {
                  arr.splice(i, 1);
                  i = i - 1;
                }
              }
              arr.forEach(v => {
                querys.push({
                  property: key,
                  value: v,
                  group: 'main',
                  operation: operationMap[key],
                  relation: 'AND'
                });
              });
            } else {
              querys.push({
                property: key,
                value: this.searchForm[key],
                group: 'main',
                operation: operationMap[key],
                relation: 'AND'
              });
            }
          }
        }
        queryFilter = {
          pageBean: this.pagination,
          querys
        };
        params.pagination = queryFilter;
        return params;
      }
    },
    //获取查询条件类型
    getSearchItems() {
      let searchItems = jquery__WEBPACK_IMPORTED_MODULE_3___default()('.search-item');
      let operationMap = {}; //查询条件类型
      let operationType = {
        LK: 'LIKE',
        EQ: 'EQUAL',
        between: 'BETWEEN',
        LFK: 'LEFT_LIKE',
        RHK: 'RIGHT_LIKE',
        NE: 'NOT_EQUAL',
        LT: 'LESS',
        LE: 'LESS_EQUAL',
        GT: 'GREAT',
        GE: 'GREAT_EQUAL'
      };
      if (searchItems) {
        for (var i = 0; i < searchItems.length; i++) {
          var operation = '=';
          if (typeof jquery__WEBPACK_IMPORTED_MODULE_3___default()(searchItems[i]).attr('ht-query') != 'undefined') {
            //查询条件类型
            operation = jquery__WEBPACK_IMPORTED_MODULE_3___default()(searchItems[i]).attr('operation');
            operationMap[jquery__WEBPACK_IMPORTED_MODULE_3___default()(searchItems[i]).attr('ht-query')] = typeof operationType[operation] != 'undefined' ? operationType[operation] : operation;
          } else if (typeof jquery__WEBPACK_IMPORTED_MODULE_3___default()(searchItems[i]).children().attr('ht-query') != 'undefined') {
            //查询条件类型
            operation = jquery__WEBPACK_IMPORTED_MODULE_3___default()(searchItems[i]).children().attr('operation');
            operationMap[jquery__WEBPACK_IMPORTED_MODULE_3___default()(searchItems[i]).children().attr('ht-query')] = typeof operationType[operation] != 'undefined' ? operationType[operation] : operation;
          }
        }
      }
      return operationMap;
    },
    //获取查询条件字段
    getFieldQuery() {
      let searchItems = jquery__WEBPACK_IMPORTED_MODULE_3___default()('.search-item');
      let fieldQueryMap = {}; //查询条件字段

      if (searchItems) {
        for (var i = 0; i < searchItems.length; i++) {
          if (typeof jquery__WEBPACK_IMPORTED_MODULE_3___default()(searchItems[i]).attr('ht-query') != 'undefined') {
            //查询条件字段
            fieldQueryMap[jquery__WEBPACK_IMPORTED_MODULE_3___default()(searchItems[i]).attr('ht-query')] = jquery__WEBPACK_IMPORTED_MODULE_3___default()(searchItems[i]).attr('field-query');
          } else if (typeof jquery__WEBPACK_IMPORTED_MODULE_3___default()(searchItems[i]).children().attr('ht-query') != 'undefined') {
            //查询条件字段
            fieldQueryMap[jquery__WEBPACK_IMPORTED_MODULE_3___default()(searchItems[i]).children().attr('ht-query')] = jquery__WEBPACK_IMPORTED_MODULE_3___default()(searchItems[i]).children().attr('field-query');
          }
        }
      }
      return fieldQueryMap;
    },
    //获取特殊查询情况（自定义对话框）
    getSpecialMap() {
      let searchItems = jquery__WEBPACK_IMPORTED_MODULE_3___default()('.search-item');
      let fieldQueryMap = {}; //查询条件字段

      if (searchItems) {
        for (var i = 0; i < searchItems.length; i++) {
          if (typeof jquery__WEBPACK_IMPORTED_MODULE_3___default()(searchItems[i]).attr('ht-query') != 'undefined') {
            //查询条件字段
            fieldQueryMap[jquery__WEBPACK_IMPORTED_MODULE_3___default()(searchItems[i]).attr('ht-query')] = typeof jquery__WEBPACK_IMPORTED_MODULE_3___default()(searchItems[i]).attr('special-query') != 'undefined' ? true : false;
          } else if (typeof jquery__WEBPACK_IMPORTED_MODULE_3___default()(searchItems[i]).children().attr('ht-query') != 'undefined') {
            //查询条件字段
            fieldQueryMap[jquery__WEBPACK_IMPORTED_MODULE_3___default()(searchItems[i]).children().attr('ht-query')] = typeof jquery__WEBPACK_IMPORTED_MODULE_3___default()(searchItems[i]).children().attr('special-query') != 'undefined' ? true : false;
          }
        }
      }
      return fieldQueryMap;
    },
    getConditionQuery(param) {
      // let searchAll = $('.search-query')
      // let values = ''
      let querys = []; //查询条件
      let queryFilter = {};
      let pageBean = {
        pageBean: this.pagination
      };
      let params = {
        sqlAlias: this.sqlAlias || this.queryView.sqlAlias,
        alias: this.alias || this.queryView.alias
      };
      params.pagination = pageBean;
      // if (this.queryForm.queryData == '') {
      //   return params
      // } else {
      //   if (
      //     typeof $($(searchAll[0]).children()[0]).attr('ht-quick-search') !=
      //     'undefined'
      //   ) {
      //     values = $($(searchAll[0]).children()[0]).attr('ht-quick-search')
      //     var arr = values.split(',')
      //     for (let value of arr) {
      //       querys.push({
      //         property: value,
      //         value: this.queryForm.queryData,
      //         group: 'main',
      //         operation: 'LIKE',
      //         relation: 'OR',
      //       })
      //     }
      //   }
      // }
      if (param && param.querys) {
        let temquerys = [...param.querys];
        temquerys.forEach(q => {
          // if (q.property.indexOf(prefix) == -1) {
          //   q.property = prefix + q.property
          // }
          querys.push(q);
        });
      }
      queryFilter = {
        pageBean: this.pagination,
        querys
      };
      params.pagination = queryFilter;
      return params;
    },
    //打开高级检索
    advanced() {
      this.formType = !this.formType;
      if (this.formType) {
        this.incons = 'el-icon-arrow-up';
        this.queryForm.queryData = '';
      } else {
        this.incons = 'el-icon-arrow-down';
        this.searchForm = {};
      }
    },
    reset() {
      this.queryForm.queryData = '';
      this.searchForm = {};
      this.pagination.page = 1;
      this.search();
    },
    handleSelectionChange(val) {
      this.tableData.selectRows = val;
    },
    selectable(row) {
      if (row.BATCH_COVER_FLAG != 'YES' && row.NODEID == 'UserTask171') {
        return true;
      }
      return false;
    },
    //点击导出按钮
    exports() {
      this.dialogExportVisible = true;
    },
    punchOrder() {
      this.$store.dispatch('storeProcess/downLoadToFile', 'Batchkeijyo').then(() => {});
    },
    beforeAvatarUpload(file) {
      var fileName = new Array();
      fileName = file.name.split('.');
      const extension = fileName[fileName.length - 1] === 'pdf';
      if (!extension) {
        this.$message({
          message: this.$t('ht.templatePreview.templateTypeError'),
          type: 'warning'
        });
        return false;
      }
      if (this.tableData.selectRows.length == 0) {
        this.$message({
          type: 'warning',
          message: this.$t('ht.templatePreview.selectUploadFile')
        });
        return false;
      }
      return true;
    },
    onSuccessUpload() {
      this.$message.success(this.$t('ht.templatePreview.uploadSuccess'));
      window.location.reload();
    },
    handlePreview() {},
    //确定导出
    submitExport() {
      if (!this.exportData || this.exportData.expField.length < 1) {
        this.$message({
          type: 'info',
          message: this.$t('ht.templatePreview.selectExportField')
        });
        return;
      }
      let expField = '';
      for (var i = 0; i < this.exportData.expField.length; i++) {
        if (i > 0) {
          expField += ',';
        }
        expField += this.exportData.expField[i].fieldName;
      }
      expField = Base64.encode(expField).replace(/\+/g, '%2B');
      // let params = {
      //   sqlAlias: this.sqlAlias || this.queryView.sqlAlias,
      //   alias: this.alias || this.queryView.alias,
      // }
      let data = {
        sqlAlias: this.sqlAlias || this.queryView.sqlAlias,
        alias: this.alias || this.queryView.alias,
        getType: this.exportData.getType,
        expField: expField
      };
      data.query = this.queryParam;
      let loadingInstance = element_ui__WEBPACK_IMPORTED_MODULE_0__["Loading"].service({
        fullscreen: true
      }); //开始
      this.$requestConfig.querySqlViewExport(data).then(({
        data,
        headers
      }) => {
        const fileName = decodeURIComponent(headers['content-disposition'].split(';')[1].split('filename=')[1]);
        const blob = new Blob([data]);
        saveAs(blob, fileName);
      }).finally(() => {
        loadingInstance.close(); // 结束
        this.dialogExportVisible = false;
      });
    },
    //取消导出
    exportCancel() {
      this.dialogExportVisible = false;
      this.exportData.expField = [];
    },
    handleExportSelectionChange(val) {
      this.exportData.expField = [];
      if (val) {
        this.exportData.expField = val;
      }
    },
    //全选
    handleExportSelectAll(val) {
      this.exportData.expField = val;
    },
    //排序
    sort(index, type) {
      if ('up' == type) {
        if (index === 0) {
          this.$message({
            message: this.$t('ht.templatePreview.isFirst'),
            type: 'warning'
          });
        } else {
          let temp = this.displayFields[index - 1];
          vue__WEBPACK_IMPORTED_MODULE_2___default.a.set(this.displayFields, index - 1, this.displayFields[index]);
          vue__WEBPACK_IMPORTED_MODULE_2___default.a.set(this.displayFields, index, temp);
        }
      } else {
        if (index === this.displayFields.length - 1) {
          this.$message({
            message: this.$t('ht.templatePreview.isLast'),
            type: 'warning'
          });
        } else {
          this.isTransition = true;
          let i = this.displayFields[index + 1];
          vue__WEBPACK_IMPORTED_MODULE_2___default.a.set(this.displayFields, index + 1, this.displayFields[index]);
          vue__WEBPACK_IMPORTED_MODULE_2___default.a.set(this.displayFields, index, i);
        }
      }
    },
    getSubEntsByFormKey(refId) {
      let _me = this;
      _me.tabs = [];
      if (!_me.ents || _me.ents.length < 1) {
        this.$requestConfig.getSubEntsByFormKey(this.templateInfo.alias).then(ents => {
          _me.ents = ents;
          this.getSubData(_me, refId);
        });
      } else {
        this.getSubData(_me, refId);
      }
    },
    getSummaries(param) {
      let _summaryTypeMap = this.summaryTypeMap;
      const {
        columns,
        data
      } = param;
      const sums = [];
      columns.forEach((column, index) => {
        if (index === 0) {
          sums[index] = this.$t('ht.templatePreview.total');
          return;
        }
        if (_summaryTypeMap[column.property] && _summaryTypeMap[column.property] == 'sum') {
          const values = data.map(item => Number(item[column.property]));
          if (!values.every(value => isNaN(value))) {
            sums[index] = values.reduce((prev, curr) => {
              const value = Number(curr);
              if (!isNaN(value)) {
                return prev + curr;
              } else {
                return prev;
              }
            }, 0);
          } else {
            sums[index] = 'N/A';
          }
        }
      });
      return sums;
    },
    columnFormatter(row, column, cellValue) {
      let formatter = this.formatterMap[column.property];
      if (formatter) {
        try {
          var script = 'var formatterFunction = function(row,column,cellValue){ ' + formatter + '};';
          var result = eval(script + 'formatterFunction(row,column,cellValue);');
          return result;
        } catch (e) {
          return cellValue;
        }
      } else {
        return cellValue;
      }
    },
    dateFormatter(row, column, cellValue) {
      if (cellValue) {
        return cellValue.replace('.0', '');
      } else {
        return cellValue;
      }
    },
    getAlarmColor(field, cellValue) {
      let alarmSetting = this.alarmSettingMap[field];
      let type = '';
      this.displayFields.forEach(item => {
        if (item.fieldName === field) {
          type = item.dataType;
        }
      });
      if (alarmSetting) {
        try {
          let alarmSettingJson = hotent_ui_src_utils_js__WEBPACK_IMPORTED_MODULE_1__[/* default */ "a"].parseToJson(alarmSetting);
          let alarmScript = '';
          for (var i = 0; i < alarmSettingJson.length; i++) {
            let alarm = alarmSettingJson[i];
            let condition = alarm.condition;
            let conditionStr = '';
            for (var m = 0; m < condition.length; m++) {
              if (m > 0) {
                conditionStr += ' && ';
              }
              if (type === 'number' || type === 'bigint' || type === 'int') {
                if (condition[m].op == 'indexOf' && condition[m].val) {
                  conditionStr = conditionStr + "'" + cellValue + "'.indexOf('" + condition[m].val + "')!=-1";
                } else if (condition[m].op == 'notIndexOf') {
                  conditionStr = conditionStr + "'" + cellValue + "'.indexOf('" + condition[m].val + "')==-1";
                } else {
                  conditionStr = conditionStr + cellValue + condition[m].op + condition[m].val;
                }
              } else {
                if (condition[m].op == 'indexOf' && condition[m].val) {
                  conditionStr = conditionStr + "'" + cellValue + "'.indexOf('" + condition[m].val + "')!=-1";
                } else if (condition[m].op == 'notIndexOf') {
                  conditionStr = conditionStr + "'" + cellValue + "'.indexOf('" + condition[m].val + "')==-1";
                } else {
                  conditionStr = conditionStr + "'" + cellValue + "'" + condition[m].op + "'" + condition[m].val + "'";
                }
              }
              //conditionStr = conditionStr+cellValue+condition[m].op+condition[m].val;
            }
            if (i > 0) {
              alarmScript += ' else ';
            }
            let colorStr = 'color:' + alarm.color + '';
            alarmScript = alarmScript + 'if(' + conditionStr + "){return '" + colorStr + "';}";
          }
          if (alarmScript) {
            alarmScript += 'else{ return "";}';
            var script = 'var alarmFunction = function(){ ' + alarmScript + '};';
            var result = eval(script + 'alarmFunction();');
            return result;
          } else {
            return '';
          }
        } catch (e) {
          return '';
        }
      }
    },
    showSearchPane() {
      return true;
    }
  }
});

/***/ }),

/***/ "b20f":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
module.exports = {"primary_color":"#409eff","success_color":"#67c23a","info_color":"#909399","warning_color":"#cf9236","danger_color":"#dd6161"};

/***/ }),

/***/ "b391":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_758fd0ba_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("5291");
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_758fd0ba_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_758fd0ba_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */


/***/ }),

/***/ "b627":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Qrcode_vue_vue_type_style_index_0_id_0fb8cc18_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("eb95");
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Qrcode_vue_vue_type_style_index_0_id_0fb8cc18_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Qrcode_vue_vue_type_style_index_0_id_0fb8cc18_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */


/***/ }),

/***/ "b6ba":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin

/***/ }),

/***/ "b820":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_UserSelectorMobileDialog_vue_vue_type_style_index_0_id_2e94f7ce_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("bdab");
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_UserSelectorMobileDialog_vue_vue_type_style_index_0_id_2e94f7ce_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_UserSelectorMobileDialog_vue_vue_type_style_index_0_id_2e94f7ce_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */


/***/ }),

/***/ "b909":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_4a335e6b_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("e557");
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_4a335e6b_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_4a335e6b_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */


/***/ }),

/***/ "ba07":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin

/***/ }),

/***/ "bbd0":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_9162787e_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("00e0");
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_9162787e_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_9162787e_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */


/***/ }),

/***/ "bdab":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin

/***/ }),

/***/ "be8d":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_QuerySqlPreview_vue_vue_type_style_index_0_id_644815a2_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("11c9");
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_QuerySqlPreview_vue_vue_type_style_index_0_id_644815a2_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_QuerySqlPreview_vue_vue_type_style_index_0_id_644815a2_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */


/***/ }),

/***/ "c03f":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin

/***/ }),

/***/ "c32d":
/***/ (function(module, exports) {

module.exports = require("moment");

/***/ }),

/***/ "c3b9":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin

/***/ }),

/***/ "c3ca":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin

/***/ }),

/***/ "c46f":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return encode; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return decode; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "c", function() { return isBase64; });
const {
  Base64
} = __webpack_require__("f43e");
const notBase64 = /[^A-Z0-9+\/=]/i;

/**
 * base64编码
 * @param {*} content 要编码内容
 * @param {*} encoding 编码字符集（默认UTF-8）
 * @returns 编码后的内容
 */
function encode(content, encoding) {
  return content ? Base64.encode(content, encoding || 'utf-8') : content;
}

/**
 * base64解码
 * @param {*} content 要解码内容
 * @param {*} encoding 解码字符集（默认UTF-8）
 * @returns 解码后的内容
 */
function decode(content, encoding) {
  return content ? Base64.decode(content, encoding || 'utf-8') : content;
}

/**
 * 判断字符串是否为base64编码格式
 * @param {*} content
 * @returns
 */
function isBase64(content) {
  if (!content || content.constructor !== String) {
    return false;
  }
  if (content === '' || content.trim() === '') {
    return false;
  }
  const len = content.length;
  if (!len || len % 4 !== 0 || notBase64.test(content)) {
    return false;
  }
  const firstPaddingChar = content.indexOf('=');
  return firstPaddingChar === -1 || firstPaddingChar === len - 1 || firstPaddingChar === len - 2 && content[len - 1] === '=';
}

/***/ }),

/***/ "c4f7":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_56aac0ee_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("4ef4");
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_56aac0ee_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_56aac0ee_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */


/***/ }),

/***/ "c5e1":
/***/ (function(module, exports) {

module.exports = require("jquery");

/***/ }),

/***/ "c647":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin

/***/ }),

/***/ "c687":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin

/***/ }),

/***/ "c816":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_BatchSaveDialogShowDetail_vue_vue_type_style_index_0_id_0a421ae5_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("3b02");
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_BatchSaveDialogShowDetail_vue_vue_type_style_index_0_id_0a421ae5_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_BatchSaveDialogShowDetail_vue_vue_type_style_index_0_id_0a421ae5_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */


/***/ }),

/***/ "c8ba":
/***/ (function(module, exports) {

var g;

// This works in non-strict mode
g = (function() {
	return this;
})();

try {
	// This works if eval is allowed (see CSP)
	g = g || new Function("return this")();
} catch (e) {
	// This works if the window reference is available
	if (typeof window === "object") g = window;
}

// g can still be undefined, but nothing to do about it...
// We return undefined, instead of nothing here, so it's
// easier to handle this case. if(!global) { ...}

module.exports = g;


/***/ }),

/***/ "c8d4":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_52385fb5_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("3b5c");
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_52385fb5_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_52385fb5_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */


/***/ }),

/***/ "c960":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin

/***/ }),

/***/ "ca30":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin

/***/ }),

/***/ "ca3a":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _util_base64__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("c46f");
/* harmony import */ var _mixins_mobileMode_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("ddb2");
//
//
//
//
//
//
//
//
//
//
//
//
//
//



/* harmony default export */ __webpack_exports__["a"] = ({
  mixins: [_mixins_mobileMode_js__WEBPACK_IMPORTED_MODULE_1__[/* default */ "a"]],
  name: 'HtIframe',
  componentName: 'HtIframe',
  props: {
    src: {
      type: String,
      default: ''
    },
    height: {
      type: String,
      default: '500px'
    },
    width: {
      type: String,
      default: '100%'
    },
    iframeStyle: {
      type: String,
      default: ''
    },
    iframeNmae: {
      type: String,
      default: 'iframeControl'
    },
    frameborder: {
      type: String,
      default: '1'
    },
    data: {
      type: Object,
      default: () => {
        return [];
      }
    },
    permission: {
      type: Object,
      default: () => {
        return {};
      }
    },
    instId: {
      type: String,
      default: ''
    },
    isBusinessForm: {
      type: Boolean,
      default: false
    },
    urlParameter: {
      type: [Array, Object],
      default: () => {
        return {};
      }
    },
    returnParameter: {
      type: [Array, Object],
      default: () => {
        return {};
      }
    },
    iframeType: {
      type: String,
      // static dynamic
      default: 'static'
    },
    iframeSrcJs: String // 动态url base64格式
  },
  data() {
    return {
      endHeight: {},
      extSysMap: {},
      subPageData: {},
      endSrc: '',
      isReday: false
    };
  },
  async mounted() {
    this.endHeight = this.height;
    let _this = this;
    if (this.iframeType == 'dynamic') {
      await this.getDynamicSrc();
    } else {
      //拼接url参数
      if (!this.src) {
        this.$message.error('当前URL表单地址未填写。');
        return;
      }
      this.endSrc = this.src;
    }
    if (this.isBusinessForm) {
      if (this.urlParameter && this.urlParameter instanceof Array && this.urlParameter.length > 0) {
        this.disposeUrl();
      }
    }
    //父子页面事件监听器
    window.addEventListener('message', e => {
      if (e.data && e.data.type && e.data.iframeNmae == this.iframeNmae) {
        if (e.data.type == 'getParentPageData') {
          _this.getParentPageDataMsg();
        } else if (e.data.type == 'getSubPageData') {
          _this.getSubPageData(e.data.data);
        } else if (e.data.type == 'addHeight') {
          _this.addHeight(e.data.height);
        }
      }
    });
    this.isReday = true;
  },
  created() {},
  methods: {
    async getDynamicSrc() {
      if (!this.iframeSrcJs) {
        return;
      }
      let _this = this;
      let data = this.data;
      let currentUserDetail = await this.$requestConfig.getCurrentUser();
      let userId = this.$requestConfig.getUserId();
      let account = this.$requestConfig.getAccount();
      let token = this.$requestConfig.getToken();
      let extSys = await this.getExtSys();
      extSys = this.extSysMap;
      // let extSys = this.extSysMap
      let isMobile = this.isMobile;
      const preScript = `const scriptFunction = function(_this,data,currentUserDetail,userId,account,token,extSys,isMobile){
        ${Object(_util_base64__WEBPACK_IMPORTED_MODULE_0__[/* decode */ "a"])(this.iframeSrcJs)}
      };`;
      this.endSrc = eval(`${preScript} scriptFunction(_this,data,currentUserDetail,userId,account,token,extSys,isMobile);`);
    },
    getExtSys() {
      return this.$requestConfig.getExtSys({}).then(data => {
        if (data && data.rows) {
          data.rows.forEach(element => {
            this.extSysMap[element.sysCode] = element.rootAddress;
            return this.extSysMap;
          });
        }
      });
    },
    addHeight(height) {
      this.endHeight = height;
    },
    async disposeUrl() {
      let currentUserDetail = await this.$requestConfig.getCurrentUser();
      let vStr = '';
      for (let x = 0; x < this.urlParameter.length; x++) {
        let parma = this.urlParameter[x];
        if (parma.type == 1) {
          vStr = vStr + `&${parma.key}=${this.getFromData(parma.value)}`;
        } else if (parma.type == 2) {
          vStr = vStr + `&${parma.key}=${parma.value}`;
        } else if (parma.type == 3 && parma.value) {
          let _this = this;
          const preScript = `const scriptFunction = function(_this){
            ${Base64.decode(parma.value)}
          };`;
          const result = eval(`${preScript} scriptFunction(_this);`);
          if (result) {
            vStr = vStr + `&${parma.key}=${result}`;
          }
        } else if (parma.type == 4) {
          let res = '';
          if (parma.value == 1) {
            res = currentUserDetail.fullname;
          } else if (parma.value == 2) {
            res = currentUserDetail.userId;
          } else if (parma.value == 3) {
            res = currentUserDetail.account;
          } else if (parma.value == 4) {
            res = this.$requestConfig.getToken();
          } else if (parma.value == 5) {
            //得到任务id
            res = this.$route.query.taskId;
          } else if (parma.value == 6) {
            res = this.instId;
          }
          vStr = vStr + `&${parma.key}=${res}`;
        }
      }
      if (this.endSrc.includes('?')) {
        this.endSrc = this.endSrc + vStr;
      } else {
        this.endSrc = this.endSrc + vStr.replace('&', '?');
      }
    },
    getFromData(path) {
      let pathAry = path.split('.');
      let v = this.data;
      for (let x = 0; x < pathAry.length; x++) {
        v = v[pathAry[x]];
      }
      return v;
    },
    getSubPageData(subPageData) {
      this.subPageData = subPageData;
      console.log(subPageData);
    },
    getParentPageDataMsg() {
      const frm = this.getIframeDom();
      frm.contentWindow.postMessage({
        type: 'getParentPageData',
        instId: this.instId,
        data: this.data,
        permission: this.permission
      }, '*');
    },
    getIframeDom() {
      const frmControl = document.querySelectorAll(`[name='${this.iframeNmae}']`);
      if (!frmControl || !frmControl[0]) {
        this.$message.error('当前URL表单加载不正确。');
        return;
      }
      return frmControl[0];
    },
    //流程系统获取业务系统的表单数据
    getSubPageData() {}
  }
});

/***/ }),

/***/ "cb64":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_customDialog_vue_vue_type_style_index_0_id_8ce74706_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("da37");
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_customDialog_vue_vue_type_style_index_0_id_8ce74706_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_customDialog_vue_vue_type_style_index_0_id_8ce74706_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */


/***/ }),

/***/ "cd59":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_4999ba4f_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("a3f1");
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_4999ba4f_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_4999ba4f_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */


/***/ }),

/***/ "cebe":
/***/ (function(module, exports) {

module.exports = require("axios");

/***/ }),

/***/ "cfcd":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_RoleSelectorMobileDialog_vue_vue_type_style_index_0_id_0858f998_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("9333");
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_RoleSelectorMobileDialog_vue_vue_type_style_index_0_id_0858f998_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_RoleSelectorMobileDialog_vue_vue_type_style_index_0_id_0858f998_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */


/***/ }),

/***/ "d0ab":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_PolicyUser_vue_vue_type_style_index_0_id_8a53b5e8_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("ffa9");
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_PolicyUser_vue_vue_type_style_index_0_id_8a53b5e8_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_PolicyUser_vue_vue_type_style_index_0_id_8a53b5e8_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */


/***/ }),

/***/ "d1c5":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin

/***/ }),

/***/ "d215":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("60bb");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("025e");



// 组件权限和校验规则
/* harmony default export */ __webpack_exports__["a"] = ({
  props: {
    validate: [Object, String],
    permission: {
      type: String,
      default: 'w',
      validator: function (value) {
        return ['b', 'w', 'r', 'n'].indexOf(value) !== -1;
      }
    }
  },
  data() {
    return {
      // 控件的权限（兼容子表）
      permission_sub: null,
      // 是否在子表中
      sub_work: false,
      writeable: true,
      formIsView: false
    };
  },
  computed: {
    inputWriteable: function () {
      return this.writeable ? _utils_js__WEBPACK_IMPORTED_MODULE_1__[/* default */ "a"].getWriteable(this.permission_sub) : this.writeable;
    },
    inputValidate: function () {
      return _utils_js__WEBPACK_IMPORTED_MODULE_1__[/* default */ "a"].addRequiredOrNot(this.permission_sub, this.validate, this);
    }
  },
  watch: {
    permission: {
      handler(newVal) {
        if (!this.sub_work) {
          this.permission_sub = lodash__WEBPACK_IMPORTED_MODULE_0___default.a.cloneDeep(newVal);
        }
        this.$root.$emit('current-required-item', {
          [this.modelName]: newVal
        });
      }
    },
    formIsView: {
      handler(newVal) {
        if (newVal && (this.permission_sub == 'w' || this.permission_sub == 'b')) {
          this.writeable = false;
        }
      }
    }
  },
  created() {
    this.permission_sub = lodash__WEBPACK_IMPORTED_MODULE_0___default.a.cloneDeep(this.permission);
    this.$validator = this.$root.$validator;
    let parent = this.$parent || this.$root;
    let name = parent.$options.componentName;
    while (parent && (!name || name !== 'HtRuntimeTemplate')) {
      parent = parent.$parent;
      if (parent) {
        name = parent.$options.componentName;
      }
    }
    if (parent) {
      this.formIsView = parent.$options.propsData.isView;
    }
  },
  mounted() {
    setTimeout(() => {
      const {
        subScopeEl
      } = _utils_js__WEBPACK_IMPORTED_MODULE_1__[/* default */ "a"].getSubScopeElAndIndex(this.$el);
      // 当前控件在子表行中，且配置了该行为只读
      if (subScopeEl) {
        if (subScopeEl.getAttribute('row_readonly') == 'true' || subScopeEl.getAttribute('row_readonly') === true) {
          this.writeable = false;
        } else {
          const className = Array.prototype.find.call(subScopeEl.classList, item => item.startsWith('row_readonly__'));
          if (className && className == 'row_readonly__true') {
            this.writeable = false;
          }
        }
      }
    }, 50);
  }
});

/***/ }),

/***/ "d222":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_5e644546_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("a002");
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_5e644546_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_5e644546_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */


/***/ }),

/***/ "d2a8":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Form_vue_vue_type_style_index_0_id_056f450a_prod_lang_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("9ce6");
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Form_vue_vue_type_style_index_0_id_056f450a_prod_lang_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Form_vue_vue_type_style_index_0_id_056f450a_prod_lang_scss__WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */


/***/ }),

/***/ "d360":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_1_id_fa7a90c8_prod_lang_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("c3ca");
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_1_id_fa7a90c8_prod_lang_css__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_1_id_fa7a90c8_prod_lang_css__WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */


/***/ }),

/***/ "d678":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin

/***/ }),

/***/ "d68f":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin

/***/ }),

/***/ "d705":
/***/ (function(module, exports) {

module.exports = require("image-conversion");

/***/ }),

/***/ "d82d":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _services_SubPagination_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("1639");
/* harmony import */ var _util_base64_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("c46f");
/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("025e");
/* harmony import */ var _locale__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("fe07");
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//



const {
  saveAs
} = __webpack_require__("9588");


/* harmony default export */ __webpack_exports__["a"] = ({
  name: 'HtSubExportDialog',
  props: {
    dataSubname: {
      type: String,
      required: true
    },
    dataColumns: {
      type: String,
      required: true
    },
    subtablePagination: {
      type: Boolean,
      default: false
    },
    dataSubdesc: {
      type: String,
      default() {
        return Object(_locale__WEBPACK_IMPORTED_MODULE_3__[/* t */ "c"])('ht.subTable.subTableData');
      }
    }
  },
  computed: {
    columns: function () {
      return eval(Object(_util_base64_js__WEBPACK_IMPORTED_MODULE_1__[/* decode */ "a"])(this.dataColumns));
    }
  },
  created() {
    if (!this.$XLSX) {
      console.warn(this.$t('ht.subTable.xlsxWarnMsg'));
    }
  },
  methods: {
    changeRowKey(rows) {
      var exportData = [];
      rows.forEach(row => {
        var exportRow = {};
        this.columns.forEach(col => {
          if (col.ctrlType != 'suntable') {
            exportRow[col.desc] = row[col.name];
          }
        });
        exportData.push(exportRow);
      });
      return exportData;
    },
    handleCommand(type) {
      const pInst = _utils_js__WEBPACK_IMPORTED_MODULE_2__[/* default */ "a"].getOnlineFormInstance(this);
      _services_SubPagination_js__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"].exportData(this.dataSubname, type, pInst, this.subtablePagination).then(data => {
        let exportData = this.changeRowKey(data);
        const sheet = this.$XLSX.utils.json_to_sheet(exportData),
          blob = this.sheet2blob(sheet);
        saveAs(blob, `${this.dataSubdesc}.xls`);
      }).catch(err => {
        this.$message.error(`${this.$t('ht.subTable.exportError')}：${err}`);
      });
    },
    sheet2blob(sheet, sheetName) {
      sheetName = sheetName || 'sheet1';
      var workbook = {
        SheetNames: [sheetName],
        Sheets: {}
      };
      workbook.Sheets[sheetName] = sheet;
      // 生成excel的配置项
      var wopts = {
        bookType: 'xls',
        // 要生成的文件类型
        bookSST: false,
        // 是否生成Shared String Table，官方解释是，如果开启生成速度会下降，但在低版本IOS设备上有更好的兼容性
        type: 'binary'
      };
      var wbout = this.$XLSX.write(workbook, wopts);
      var blob = new Blob([s2ab(wbout)], {
        type: 'application/octet-stream'
      });
      // 字符串转ArrayBuffer
      function s2ab(s) {
        var buf = new ArrayBuffer(s.length);
        var view = new Uint8Array(buf);
        for (var i = 0; i != s.length; ++i) view[i] = s.charCodeAt(i) & 0xff;
        return buf;
      }
      return blob;
    }
  }
});

/***/ }),

/***/ "d850":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin

/***/ }),

/***/ "da2c":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_54e0cb71_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("210e");
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_54e0cb71_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_54e0cb71_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */


/***/ }),

/***/ "da37":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin

/***/ }),

/***/ "da4f":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin

/***/ }),

/***/ "dab3":
/***/ (function(module, exports) {

module.exports = require("deepmerge");

/***/ }),

/***/ "ddb2":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("025e");

/* harmony default export */ __webpack_exports__["a"] = ({
  data() {
    return {
      userAgentMobile: false
    };
  },
  inject: {
    elForm: {
      default: ''
    }
  },
  computed: {
    isMobile: function () {
      return this.elForm && this.elForm.$parent && this.elForm.$parent.mobileMode || this.userAgentMobile;
    }
  },
  created() {
    this.userAgentMobile = _utils_js__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"].isMobile();
  }
});

/***/ }),

/***/ "de31":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_522f3dfe_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("c3b9");
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_522f3dfe_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_522f3dfe_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */


/***/ }),

/***/ "df21":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_5e75cd3c_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("4092");
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_5e75cd3c_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_5e75cd3c_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */


/***/ }),

/***/ "e486":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Steps_vue_vue_type_style_index_0_id_71cb81e2_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("8dfe");
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Steps_vue_vue_type_style_index_0_id_71cb81e2_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Steps_vue_vue_type_style_index_0_id_71cb81e2_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */


/***/ }),

/***/ "e49c":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony default export */ __webpack_exports__["a"] = ({
  componentGroup: 'HtFormInputs',
  props: {
    displayStyle: String
  },
  data() {
    return {
      curInputsDisplay: '',
      currentShowMode: 'text'
    };
  },
  computed: {
    formInputsDisplay: function () {
      return this.displayStyle ? this.displayStyle : this.curInputsDisplay ? this.curInputsDisplay : '';
    },
    isDisabled() {
      return this.disabled || this.currentShowMode === 'input' && !this.inputWriteable;
    }
  },
  created() {
    this.$on('formExtend:update', formExtend => {
      this.curInputsDisplay = formExtend.inputsDisplay;
      this.currentShowMode = formExtend.roInputDisplayMode || 'text';
    });
  }
});

/***/ }),

/***/ "e50a":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_7a4b8789_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("a912");
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_7a4b8789_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_7a4b8789_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */


/***/ }),

/***/ "e557":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin

/***/ }),

/***/ "e561":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_652fdf35_prod_scoped_true_lang_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("953f");
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_652fdf35_prod_scoped_true_lang_css__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_652fdf35_prod_scoped_true_lang_css__WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */


/***/ }),

/***/ "e672":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin

/***/ }),

/***/ "e75e":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_32cad0a1_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("97d6");
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_32cad0a1_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_32cad0a1_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */


/***/ }),

/***/ "eb95":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin

/***/ }),

/***/ "ec82":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin

/***/ }),

/***/ "eeb9":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_b5d077f0_prod_lang_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("0fde");
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_b5d077f0_prod_lang_css__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_b5d077f0_prod_lang_css__WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */


/***/ }),

/***/ "eef7":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin

/***/ }),

/***/ "efc4":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_e91ba498_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("8f8d");
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_e91ba498_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_e91ba498_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */


/***/ }),

/***/ "f076":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_7defa75c_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("0bd7");
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_7defa75c_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_7defa75c_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */


/***/ }),

/***/ "f0b6":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _locale__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("fe07");
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//


const btnList = [{
  id: 1,
  label: Object(_locale__WEBPACK_IMPORTED_MODULE_0__[/* t */ "c"])('ht.flowChart.notApproval'),
  bgColor: '#FF0000'
}, {
  id: 2,
  label: Object(_locale__WEBPACK_IMPORTED_MODULE_0__[/* t */ "c"])('ht.flowChart.commit'),
  bgColor: '#F89800'
}, {
  id: 3,
  label: Object(_locale__WEBPACK_IMPORTED_MODULE_0__[/* t */ "c"])('ht.flowChart.recommit'),
  bgColor: '#FFE76E'
}, {
  id: 4,
  label: Object(_locale__WEBPACK_IMPORTED_MODULE_0__[/* t */ "c"])('ht.flowChart.agree'),
  bgColor: '#00FF00'
}, {
  id: 5,
  label: Object(_locale__WEBPACK_IMPORTED_MODULE_0__[/* t */ "c"])('ht.flowChart.suspend'),
  bgColor: '#C33A1F'
}, {
  id: 6,
  label: Object(_locale__WEBPACK_IMPORTED_MODULE_0__[/* t */ "c"])('ht.flowChart.oppose'),
  bgColor: '#0000FF'
}, {
  id: 7,
  label: Object(_locale__WEBPACK_IMPORTED_MODULE_0__[/* t */ "c"])('ht.flowChart.reject'),
  bgColor: '#8A0902'
}, {
  id: 8,
  label: Object(_locale__WEBPACK_IMPORTED_MODULE_0__[/* t */ "c"])('ht.flowChart.rejectToStart'),
  bgColor: '#FFA500'
}, {
  id: 9,
  label: Object(_locale__WEBPACK_IMPORTED_MODULE_0__[/* t */ "c"])('ht.flowChart.withdraw'),
  bgColor: '#023B62'
}, {
  id: 10,
  label: Object(_locale__WEBPACK_IMPORTED_MODULE_0__[/* t */ "c"])('ht.flowChart.withdrawToPromoter'),
  bgColor: '#F23B62'
}, {
  id: 11,
  label: Object(_locale__WEBPACK_IMPORTED_MODULE_0__[/* t */ "c"])('ht.flowChart.countersignaturePassed'),
  bgColor: '#338848'
}, {
  id: 12,
  label: Object(_locale__WEBPACK_IMPORTED_MODULE_0__[/* t */ "c"])('ht.flowChart.countersignatureNotPassed'),
  bgColor: '#82B7D7'
}, {
  id: 13,
  label: Object(_locale__WEBPACK_IMPORTED_MODULE_0__[/* t */ "c"])('ht.flowChart.manualTermination'),
  bgColor: '#EEAF97'
}, {
  id: 14,
  label: Object(_locale__WEBPACK_IMPORTED_MODULE_0__[/* t */ "c"])('ht.flowChart.finish'),
  bgColor: '#4A4A4A'
}];
/* harmony default export */ __webpack_exports__["a"] = ({
  name: 'FlowChart',
  filters: {
    calcDuration(ts) {
      let duration = '',
        st = 1000,
        mt = 60 * st,
        ht = 60 * mt,
        dt = 24 * ht,
        days = Math.floor(ts / dt),
        hours = Math.floor(ts % dt / ht),
        mins = Math.floor(ts % ht / mt),
        secs = Math.floor(ts % mt / st);
      if (days > 0) duration += days + Object(_locale__WEBPACK_IMPORTED_MODULE_0__[/* t */ "c"])('ht.common.day');
      if (hours > 0) duration += hours + Object(_locale__WEBPACK_IMPORTED_MODULE_0__[/* t */ "c"])('ht.common.hour');
      if (mins > 0) duration += mins + Object(_locale__WEBPACK_IMPORTED_MODULE_0__[/* t */ "c"])('ht.common.minute');
      if (secs > 0) duration += secs + Object(_locale__WEBPACK_IMPORTED_MODULE_0__[/* t */ "c"])('ht.common.second');
      return duration;
    }
  },
  props: {
    defId: {
      type: String,
      default: ''
    },
    instId: {
      type: String,
      default: ''
    },
    bpmnInstId: {
      type: String,
      default: ''
    },
    customClass: {
      type: String,
      default: ''
    }
  },
  data() {
    return {
      showFlowChart: false,
      btnList: btnList,
      imgWidth: '',
      imgHeight: '',
      backGroundImg: '',
      listLayout: '',
      nodeOpinions: []
    };
  },
  methods: {
    showLayout(layout) {
      const taskNames = ['USERTASK', 'SIGNTASK', 'CUSTOMSIGNTASK'];
      return taskNames.includes(layout.nodeType);
    },
    hasOpinion(layout) {
      return this.nodeOpinions[layout.nodeId].hasOpinion;
    },
    getData(layout) {
      return this.nodeOpinions[layout.nodeId].data;
    },
    getStyle(layout) {
      return {
        position: 'absolute',
        top: layout.y + 'px',
        left: layout.x + 'px',
        width: layout.width + 'px',
        height: layout.height + 'px',
        border: 'none',
        background: 'none'
      };
    },
    handleOpen() {
      this.showFlowChart = true;
      const data = {
        defId: this.defId,
        instId: this.instId,
        bpmnInstId: this.bpmnInstId
      };
      this.$requestConfig.instanceFlowImage(data, instFlowInfo => {
        const {
          defId,
          instanceId,
          bpmDefLayout
        } = instFlowInfo;
        let myDefId = '';
        if (['', 'null', 'undefined'].includes(instanceId)) {
          myDefId = defId;
        }
        this.$requestConfig.getBpmImage('', instanceId, myDefId, res => {
          this.imgWidth = bpmDefLayout.width;
          this.imgHeight = bpmDefLayout.height;
          this.backGroundImg = res;
          bpmDefLayout.listLayout.forEach(item => {
            const style = {
              position: 'absolute',
              left: item.x + 'px',
              top: item.y + 'px',
              width: item.width + 'px',
              height: item.height + 'px'
            };
            item.style = style;
          });
          this.listLayout = bpmDefLayout.listLayout;
          const tempIds = [];
          this.listLayout.forEach(layout => {
            const {
              nodeId,
              nodeType
            } = layout;
            if (['USERTASK', 'SIGNTASK'].includes(nodeType)) {
              tempIds.push(nodeId);
            }
          });
          let nodeIds = tempIds.join(',');
          const data = {
            instId: this.instId,
            nodeIds
          };
          if (this.instId) {
            this.$requestConfig.getNodeOpinions(data, options => {
              if (options) {
                for (const key in options) {
                  const {
                    data,
                    hasOpinion
                  } = options[key];
                  if (data && hasOpinion) {
                    data.forEach(ele => {
                      if (ele.qualfieds) {
                        ele.qualfieds = eval('(' + ele.qualfieds + ')');
                      }
                    });
                  }
                }
              }
              if (nodeIds && tempIds.length == 1) {
                this.nodeOpinions = {
                  [nodeIds]: options
                };
              } else {
                this.nodeOpinions = options;
              }
            });
          }
        });
      });
    }
  }
});

/***/ }),

/***/ "f230":
/***/ (function(module, exports) {

module.exports = require("html2canvas");

/***/ }),

/***/ "f333":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_TemplatePreview_vue_vue_type_style_index_1_id_726d533d_prod_lang_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("ff82");
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_TemplatePreview_vue_vue_type_style_index_1_id_726d533d_prod_lang_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_TemplatePreview_vue_vue_type_style_index_1_id_726d533d_prod_lang_scss__WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */


/***/ }),

/***/ "f38b":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_SubDialog_vue_vue_type_style_index_0_id_360d3b35_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("35a8");
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_SubDialog_vue_vue_type_style_index_0_id_360d3b35_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_SubDialog_vue_vue_type_style_index_0_id_360d3b35_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */


/***/ }),

/***/ "f3c1":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin

/***/ }),

/***/ "f422":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_02cb5775_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("ff71");
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_02cb5775_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_02cb5775_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */


/***/ }),

/***/ "f43e":
/***/ (function(module, exports) {

module.exports = require("js-base64");

/***/ }),

/***/ "f567":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin

/***/ }),

/***/ "f9a3":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_fa7a90c8_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("c687");
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_fa7a90c8_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_fa7a90c8_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */


/***/ }),

/***/ "fa5c":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_OrgSelectorDialog_vue_vue_type_style_index_0_id_85094ef4_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("faa7");
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_OrgSelectorDialog_vue_vue_type_style_index_0_id_85094ef4_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_OrgSelectorDialog_vue_vue_type_style_index_0_id_85094ef4_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */


/***/ }),

/***/ "faa7":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin

/***/ }),

/***/ "fb15":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// CONCATENATED MODULE: ./node_modules/@vue/cli-service/lib/commands/build/setPublicPath.js
// This file is imported into lib/wc client bundles.

if (typeof window !== 'undefined') {
  if (false) {}

  var setPublicPath_i
  if ((setPublicPath_i = window.document.currentScript) && (setPublicPath_i = setPublicPath_i.src.match(/(.+\/)[^/]+\.js(\?.*)?$/))) {
    __webpack_require__.p = setPublicPath_i[1] // eslint-disable-line
  }
}

// Indicate to webpack that this file can be concatenated
/* harmony default export */ var setPublicPath = (null);

// EXTERNAL MODULE: external "vue"
var external_vue_ = __webpack_require__("8bbf");
var external_vue_default = /*#__PURE__*/__webpack_require__.n(external_vue_);

// CONCATENATED MODULE: ./src/directive/badge.js

const SUCCESS = '#72c140';
const ERROR = '#ed5b56';
const WARNING = '#f0af41';
const INFO = '#4091f7';
const HEIGHT = 20;
/* harmony default export */ var directive_badge = (function (el, binding) {
  const {
    modifiers,
    value
  } = binding;
  if (value !== null && value !== undefined && value.constructor == Number && value <= 0) {
    if (el.flag) {
      el.removeChild(el.lastChild);
      el.flag = false;
    }
    return;
  }
  const modifiersKey = Object.keys(modifiers);
  let isDot = modifiersKey.includes('dot');
  let backgroundColor = '';
  if (modifiersKey.includes('success')) {
    backgroundColor = SUCCESS;
  } else if (modifiersKey.includes('warning')) {
    backgroundColor = WARNING;
  } else if (modifiersKey.includes('info')) {
    backgroundColor = INFO;
  } else {
    backgroundColor = ERROR;
  }
  const targetTemplate = isDot ? `<div style="border:1px solid #fff;position:absolute;top:-5px;right:-5px;height:10px;width:10px;border-radius:50%;background:${backgroundColor}"></div>` : `<div style="border:1px solid #fff;background:${backgroundColor};position:absolute;top:-${HEIGHT / 2}px;right:-${HEIGHT / 2}px;height:${HEIGHT}px;min-width:${HEIGHT}px;border-radius:${HEIGHT / 2}px;text-align:center;line-height:${HEIGHT}px;color:#fff;padding:0 5px;">${value}</div>`;
  el.style.position = el.style.position || 'relative';
  const badge = external_vue_default.a.extend({
    template: targetTemplate
  });
  const component = new badge().$mount().$el;
  if (el.flag) {
    el.removeChild(el.lastChild);
  }
  el.appendChild(component);
  el.flag = true;
});
// EXTERNAL MODULE: external "element-ui"
var external_element_ui_ = __webpack_require__("5f72");

// CONCATENATED MODULE: ./src/directive/copy.js

/* harmony default export */ var copy = ({
  bind(el, binding) {
    // 双击触发复制
    if (binding.modifiers.dblclick) {
      el.addEventListener('dblclick', () => handleClick(el.innerText));
      el.style.cursor = 'copy';
    }
    // 点击icon触发复制
    else if (binding.modifiers.icon) {
      if (el.hasIcon) return;
      const iconElement = document.createElement('i');
      iconElement.setAttribute('class', 'el-icon-document-copy');
      iconElement.setAttribute('style', 'margin-left:5px');
      el.appendChild(iconElement);
      el.hasIcon = true;
      iconElement.addEventListener('click', () => handleClick(el.innerText));
      iconElement.style.cursor = 'copy';
    }
    // 单击触发复制
    else {
      el.addEventListener('click', () => handleClick(el.innerText));
      el.style.cursor = 'copy';
    }
  }
});
function handleClick(text) {
  // 创建元素
  if (!document.getElementById('copyTarget')) {
    const copyTarget = document.createElement('input');
    copyTarget.setAttribute('style', 'position:fixed;top:0;left:0;opacity:0;z-index:-1000;');
    copyTarget.setAttribute('id', 'copyTarget');
    document.body.appendChild(copyTarget);
  }

  // 复制内容
  const input = document.getElementById('copyTarget');
  input.value = text;
  input.select();
  document.execCommand('copy');
  Object(external_element_ui_["Message"])({
    message: '复制成功',
    type: 'success'
  });
}
// CONCATENATED MODULE: ./src/directive/ellipsis.js
/* harmony default export */ var ellipsis = (function (el, binding) {
  binding.arg && (el.style.width = binding.arg + 'px');
  el.style.whiteSpace = 'nowrap';
  el.style.overflow = 'hidden';
  el.style.textOverflow = 'ellipsis';
});
// CONCATENATED MODULE: ./src/directive/expandClick.js
/* harmony default export */ var expandClick = (function (el, binding) {
  const s = document.styleSheets[document.styleSheets.length - 1];
  const DEFAULT = 10; // 默认向外扩展10px
  const [top, right, bottom, left] = binding.expression && binding.expression.split(',') || [];
  const ruleStr = `content:"";position:absolute;top:-${top || DEFAULT}px;bottom:-${bottom || DEFAULT}px;right:-${right || DEFAULT}px;left:-${left || DEFAULT}px;`;
  const classNameList = el.className.split(' ');
  el.className = classNameList.includes('expand_click_range') ? classNameList.join(' ') : [...classNameList, 'expand_click_range'].join(' ');
  el.style.position = el.style.position || 'relative';
  if (s.insertRule) {
    s.insertRule('.expand_click_range::before' + '{' + ruleStr + '}', s.cssRules.length);
  } else {
    /* IE */
    s.addRule('.expand_click_range::before', ruleStr, -1);
  }
});
// EXTERNAL MODULE: ./src/utils.js
var utils = __webpack_require__("025e");

// EXTERNAL MODULE: ./src/math.js
var math = __webpack_require__("5a03");

// CONCATENATED MODULE: ./src/directive/express.js



// 判断输入框是否作为计算字段，是则添加监听
/* harmony default export */ var express = ({
  componentUpdated: function (el, binding, vnode) {
    const inst = vnode.context;
    if (!inst.$vnode.data.model) {
      return;
    }
    let elAttr = inst.$vnode.data.model.expression;
    if (inst.$vnode && inst.$vnode.componentOptions && inst.$vnode.componentOptions.propsData && inst.$vnode.componentOptions.propsData.modelExpression) {
      elAttr = inst.$vnode.componentOptions.propsData.modelExpression;
    }
    if (elAttr && !inst._expressInit) {
      inst._expressInit = true;
      // 子表每一行数据作用域所在的dom元素
      let {
        subScopeEl,
        subname
      } = utils["a" /* default */].getSubScopeElAndIndex(el);
      let aliasElAttr = null;
      // 子表数据，需要找到配置了data-subname的元素
      if (subScopeEl) {
        if (!subname) {
          throw '无法获取到当前子表前缀';
        }
        const elAttrAry = elAttr.split('.'),
          elAttrArySize = elAttrAry.length;
        if (elAttrArySize < 1) {
          throw `子表中的数据绑定表达式${elAttr}错误`;
        }
        aliasElAttr = `${subname}.${elAttrAry[elAttrArySize - 1]}`;
      }
      const p = utils["a" /* default */].getOnlineFormInstance(inst);
      if (p.watchMap && (p.watchMap.has(elAttr) || p.watchMap.has(aliasElAttr))) {
        if (!inst._watchers.some(m => m.expression === 'inputVal')) {
          inst.$watch('inputVal', function (newVal, oldVal) {
            if (newVal !== oldVal) {
              const elAttrExpList = p.watchMap.get(elAttr) || [];
              const aliasElAttrExpList = p.watchMap.get(aliasElAttr) || [];
              const unionExpList = elAttrExpList.concat(aliasElAttrExpList);
              const attrExpObj = {};
              unionExpList.forEach(item => {
                let result = 0;
                const t = item.target;
                const targetList = attrExpObj[t] || [];
                if (targetList.indexOf(item.exp) < 0) {
                  targetList.push(item.exp);
                  attrExpObj[t] = targetList;
                  if (subScopeEl && t.split('.').length == 2) {
                    const index = subScopeEl.dataset['index'];
                    if (index === undefined) {
                      throw '获取不到当前子表行的索引，无法完成计算.';
                    }
                    result = math["a" /* default */].calcSubExpValue(item.exp, p, subname, index);
                    p.$emit(t, {
                      result,
                      index
                    });
                  } else {
                    result = math["a" /* default */].calcExpValue(item.exp, p);
                    p.$emit(t, {
                      result
                    });
                  }
                }
              });
            }
          }, {
            immediate: true
          });
        }
      }
    }
  }
});
// CONCATENATED MODULE: ./src/directive/form.js
// 广播事件发送到指定componentName的组件
function broadcast(componentName, eventName, params) {
  this.$children.forEach(child => {
    var name = child.$options.componentName;
    if (name === componentName) {
      child.$emit.apply(child, [eventName].concat(params));
    } else {
      broadcast.apply(child, [componentName, eventName].concat([params]));
    }
  });
}

// 广播事件发送到指定componentGroup的组件
function broadcastGroup(componentGroup, eventName, params) {
  this.$children.forEach(child => {
    var name = child.$options.componentGroup;
    if (name === componentGroup) {
      child.$emit.apply(child, [eventName].concat(params));
    } else {
      broadcastGroup.apply(child, [componentGroup, eventName].concat([params]));
    }
  });
}
function setFormExtend(el, binding) {
  // 在注入的elForm对象上挂载表单扩展属性
  const elFormInst = el.__vue__;
  if (elFormInst && binding.value) {
    elFormInst.$nextTick(() => {
      broadcast.apply(elFormInst, ['HtFormItem', 'formExtend:update', binding.value]);
      broadcast.apply(elFormInst, ['HtReadonlyInput', 'formExtend:update', binding.value]);
      broadcastGroup.apply(elFormInst, ['HtFormInputs', 'formExtend:update', binding.value]);
    });
  }
}

// 表单指令，会在表单的vue实例上添加一个map，用以存放数学运算的表达式
/* harmony default export */ var directive_form = ({
  bind: function (el, binding, vnode) {
    // 修正vee-validate中对于元素上的aria-invalid属性更新的问题
    const judgeAriaInvalid = fields => {
      if (!fields || fields.length == 0) {
        return;
      }
      const fieldInst = fields.items[0];
      const includes = function (collection, item) {
        return collection.indexOf(item) !== -1;
      };
      const isCheckboxOrRadioInput = function (el) {
        return includes(['radio', 'checkbox'], el.type);
      };
      const isCallable = function (func) {
        return typeof func === 'function';
      };
      Object.getPrototypeOf(fieldInst).constructor.prototype.updateAriaAttrs = function updateAriaAttrs() {
        var this$1 = this;
        if (!this.aria || !this.el || !isCallable(this.el.setAttribute)) {
          return;
        }
        var applyAriaAttrs = function (el) {
          el.setAttribute('aria-required', this$1.isRequired ? 'true' : 'false');
          el.setAttribute('aria-invalid', this$1.flags.invalid ? 'true' : 'false');
          // 组件初次加载时，既不显示验证失败也不显示验证成功
          if (this$1.flags.invalid == null) {
            el.removeAttribute('aria-invalid');
          }
        };
        if (!isCheckboxOrRadioInput(this.el)) {
          applyAriaAttrs(this.el);
          return;
        }
        var els = document.querySelectorAll('input[name="' + this.el.name + '"]');
        window.toArray(els).forEach(applyAriaAttrs);
      };
    };
    const inst = vnode.context;
    inst.$root.$validator && judgeAriaInvalid(inst.$root.$validator.fields);
    if (inst && !inst.hasOwnProperty('watchMap')) {
      inst['watchMap'] = new Map();
      inst.$watch('data', function () {
        inst.$emit('updateData');
      }, {
        deep: true
      });
    }
    setFormExtend(el, binding);
  },
  update: function (el, binding) {
    setFormExtend(el, binding);
  }
});
// CONCATENATED MODULE: ./src/directive/format.js
/* harmony default export */ var format = (function (el, binding) {
  const {
    value,
    modifiers
  } = binding;
  if (!value) return;
  let formatValue = value;
  if (modifiers.toFixed) {
    formatValue = value.toFixed(2);
  }
  if (modifiers.price) {
    formatValue = formatNumber(formatValue);
  }
  el.innerText = formatValue;
});
function formatNumber(num) {
  num += '';
  let strs = num.split('.');
  let x1 = strs[0];
  let x2 = strs.length > 1 ? '.' + strs[1] : '';
  var rgx = /(\d+)(\d{3})/;
  while (rgx.test(x1)) {
    x1 = x1.replace(rgx, '$1' + ',' + '$2');
  }
  return x1 + x2;
}
// CONCATENATED MODULE: ./src/directive/permit.js
// 表单tr中根据隐藏字段动态合并单元格的指令
/* harmony default export */ var permit = (function (el, binding) {
  if (el.tagName !== 'TR') {
    throw 'v-permit指令只能用在tr元素上.';
  }
  if (!binding.value || binding.value.constructor !== Number) {
    throw 'v-permit指令的值只能是大于0的数字.';
  }
  el.removeAttribute('hidden');

  // tr中没有子元素时，删除tr自身
  if (el.cells.length == 0) {
    el.setAttribute('hidden', 'hidden');
  } else if (el.cells.length < binding.value) {
    let colspan = binding.value - el.cells.length + 1;
    // 设置colspan实现单元格合并
    el.cells[el.cells.length - 1].setAttribute('colspan', colspan);
  } else if (el.cells.length == binding.value) {
    for (var i = 0, c; c = el.cells[i++];) {
      c.removeAttribute('colspan');
    }
  }
});
// CONCATENATED MODULE: ./src/directive/popconfirm.js

const getPopconfirm = function (el, binding) {
  const attrs = binding.value;
  const opts = {
    content: '确定执行该操作？',
    confirmButtonText: '确定',
    cancelButtonText: '取消',
    confirmButtonType: 'primary',
    cancelButtonType: 'default',
    icon: 'question',
    iconColor: '#f90',
    hideIcon: false,
    before: null
  };
  let args = null;
  if (typeof attrs == 'function') {
    opts.confirm = attrs;
    args = binding.arg;
  } else if (typeof attrs == 'object') {
    Object.assign(opts, attrs);
    args = {
      ...attrs
    };
  } else {
    throw `v-popconfirm需要提供表达式或者object对象`;
  }
  // 创建构造器
  const popconfirm = external_vue_default.a.extend({
    data() {
      return {
        visible: false,
        opts,
        iconStyle: {
          marginRight: '10px',
          color: opts.iconColor
        }
      };
    },
    methods: {
      confirm() {
        opts.confirm && opts.confirm.apply(null, [args]);
        popComp.doClose();
      },
      cancel() {
        popComp.doClose();
      }
    },
    template: `<el-popover v-bind="opts" v-model="visible" trigger="click">
    <div class="el-popconfirm">
      <p class="el-popconfirm__main">
        <ht-icon v-if="!opts.hideIcon" :name="opts.icon" :style="iconStyle" />
        ${opts.content}
      </p>
      <div class="el-popconfirm__action">
        <el-button size="mini" :type="opts.confirmButtonType" @click="confirm">{{opts.confirmButtonText}}</el-button>
        <el-button size="mini" :type="opts.cancelButtonType" @click="cancel">{{opts.cancelButtonText}}</el-button>
      </div>
    </div>
  </el-popover>`
  });
  // 创建一个 popconfirm 实例并返回 dom 节点
  const component = new popconfirm().$mount();
  const popComp = component.$children[0];
  popComp.$refs.reference = el;
  el.addEventListener('click', () => {
    if (opts.before) {
      const result = opts.before.apply(null, [args]);
      if (result && result.constructor == Promise) {
        result.then(() => popComp.doShow());
      } else if (result && result === true) {
        popComp.doShow();
      }
    } else {
      popComp.doShow();
    }
  });
  return component.$el;
};
/* harmony default export */ var directive_popconfirm = ({
  bind: function (el, binding) {
    if (el.hasPopconfirm) return;
    const popconfirmEle = getPopconfirm(el, binding);
    el.appendChild(popconfirmEle);
    el.hasPopconfirm = true;
  }
});
// CONCATENATED MODULE: ./src/directive/resize.js
/* harmony default export */ var resize = ({
  bind(el, binding) {
    let width = '',
      height = '';
    function isReize() {
      const style = document.defaultView.getComputedStyle(el);
      if (width !== style.width || height !== style.height) {
        binding.value(); // 执行传入的方法
      }
      width = style.width;
      height = style.height;
    }
    el.__timer__ = setInterval(isReize, 300); // 周期性监听元素是否改变
  },
  unbind(el) {
    clearInterval(el.__timer__);
  }
});
// CONCATENATED MODULE: ./src/directive/tooltip.js

/* harmony default export */ var directive_tooltip = (function (el, binding) {
  if (el.hasIcon) return;
  const iconElement = structureIcon(binding.value);
  // 图标是否追加在元素后面
  if (binding.modifiers && binding.modifiers.after) {
    el.appendChild(iconElement);
  } else {
    el.insertBefore(iconElement, el.childNodes[0]);
  }
  el.hasIcon = true;
});
function structureIcon(attrs) {
  // 拼接绑定属性
  let attrStr = '';
  if (typeof attrs == 'string') {
    attrStr = `content=${attrs} `;
  } else if (typeof attrs == 'object') {
    for (let key in attrs) {
      attrStr += `${key}=${attrs[key]} `;
    }
  } else {
    throw `v-tooltip需要提供表达式或者object对象`;
  }
  const a = `<el-tooltip ${attrStr}><ht-icon name="question" style="margin:0 8px" /></el-tooltip>`;
  // 创建构造器
  const tooltip = external_vue_default.a.extend({
    template: a
  });
  // 创建一个 tooltip 实例并返回 dom 节点
  const component = new tooltip().$mount();
  return component.$el;
}
// CONCATENATED MODULE: ./src/directive/tableDrag.js
/* harmony default export */ var tableDrag = ({
  inserted: function (el) {
    const currentElement = el.getElementsByClassName('el-table__body-wrapper')[0] || el;
    const tagNames = ['span', 'input', 'textarea', 'aside'];
    if (currentElement) {
      currentElement.onmousedown = function (event) {
        const currentTagNames = event.target.tagName.toLowerCase();
        if (tagNames.includes(currentTagNames)) return;
        currentElement.style.cursor = 'grab';
        let gapX = event.clientX;
        let startX = el.scrollLeft;
        document.onmousemove = function (e) {
          let x = e.clientX - gapX;
          currentElement.scrollLeft = startX - x;
          return false;
        };
        document.onmouseup = function () {
          document.onmousemove = null;
          document.onmouseup = null;
        };
      };
    }
  }
});
// CONCATENATED MODULE: ./src/directive/subSort.js
/* harmony default export */ var subSort = ({
  bind(el, binding, vnode) {
    const onlineFormInst = vnode.context;
    const subPath = el.id.replace('xh_tablegd_', '').split('.');
    const subArr = onlineFormInst.data[subPath[0]][subPath[1]];
    const subName = subPath[1].replace('sub_', '');
    const {
      field,
      direction
    } = binding.value;
    if (onlineFormInst.permission.table[subName].hidden || subArr.length == 0) {
      return;
    }
    subArr.sort((a, b) => {
      const x = isNaN(a[field]) ? a[field] : Number(a[field]);
      const y = isNaN(b[field]) ? b[field] : Number(b[field]);
      const result = x < y ? -1 : x > y ? 1 : 0;
      return result * (direction == 'desc' ? -1 : 1);
    });
  }
});
// CONCATENATED MODULE: ./src/directive/permissionLine.js

/* harmony default export */ var permissionLine = ({
  bind(el, binding, vnode) {
    if (binding.value) {
      const inst = vnode.context;
      let idxObj = utils["a" /* default */].getSubScopeElAndIndex(el);
      let paths = binding.value.split('_');
      let boType = paths[0];
      let idStr = binding.value + '_' + idxObj.index;
      //孙表时，获取孙表所属子表序号
      if (boType == 'sun' && idxObj.subScopeEl) {
        const subIdxObj = utils["a" /* default */].getSubScopeElAndIndex(idxObj.subScopeEl.parentElement);
        idStr = binding.value + '_' + subIdxObj.index + '_' + idxObj.index;
      }
      if (inst.permission && inst.permission['subFields'] && inst.permission['subFields'][idStr]) {
        setTimeout(function () {
          if (el.__vue__) {
            el.__vue__.permission_sub = inst.permission['subFields'][idStr];
            el.__vue__.sub_work = true;
          }
        }, 0);
      }
    }
  },
  update(el, binding, vnode) {
    if (binding.value) {
      const inst = vnode.context;
      let idxObj = utils["a" /* default */].getSubScopeElAndIndex(el);
      let paths = binding.value.split('_');
      let boType = paths[0];
      let idStr = binding.value + '_' + idxObj.index;
      //孙表时，获取孙表所属子表序号
      if (boType == 'sun' && idxObj.subScopeEl) {
        const subIdxObj = utils["a" /* default */].getSubScopeElAndIndex(idxObj.subScopeEl.parentElement);
        idStr = binding.value + '_' + subIdxObj.index + '_' + idxObj.index;
      }
      if (inst.permission && inst.permission['subFields'] && inst.permission['subFields'][idStr]) {
        setTimeout(function () {
          if (el.__vue__) {
            el.__vue__.permission_sub = inst.permission['subFields'][idStr];
          }
        }, 0);
      }
    }
  }
});
// CONCATENATED MODULE: ./src/directive/permissionLineLable.js

/* harmony default export */ var permissionLineLable = ({
  bind(el, binding, vnode) {
    if (binding.value) {
      const inst = vnode.context;
      let idxObj = utils["a" /* default */].getSubScopeElAndIndex(el);
      let paths = binding.value.split('_');
      let boType = paths[0];
      let idStr = binding.value + '_' + idxObj.index;
      //孙表时，获取孙表所属子表序号
      if (boType == 'sun' && idxObj.subScopeEl) {
        const subIdxObj = utils["a" /* default */].getSubScopeElAndIndex(idxObj.subScopeEl.parentElement);
        idStr = binding.value + '_' + subIdxObj.index + '_' + idxObj.index;
      }
      if (inst.permission && inst.permission['subFields'] && inst.permission['subFields'][idStr]) {
        setTimeout(function () {
          el.parentElement.hidden = inst.permission['subFields'][idStr] == 'n' ? true : false;
        }, 0);
      }
    }
  },
  update(el, binding, vnode) {
    if (binding.value) {
      const inst = vnode.context;
      let idxObj = utils["a" /* default */].getSubScopeElAndIndex(el);
      let paths = binding.value.split('_');
      let boType = paths[0];
      let idStr = binding.value + '_' + idxObj.index;
      //孙表时，获取孙表所属子表序号
      if (boType == 'sun' && idxObj.subScopeEl) {
        const subIdxObj = utils["a" /* default */].getSubScopeElAndIndex(idxObj.subScopeEl.parentElement);
        idStr = binding.value + '_' + subIdxObj.index + '_' + idxObj.index;
      }
      if (inst.permission && inst.permission['subFields'] && inst.permission['subFields'][idStr]) {
        setTimeout(function () {
          el.parentElement.hidden = inst.permission['subFields'][idStr] == 'n' ? true : false;
        }, 0);
      }
    }
  }
});
// CONCATENATED MODULE: ./src/services/CustomQuery.js



const CustomQuery = {
  /**
   * 通过别名获取关联查询定义
   */
  get: alias => {
    return new Promise((resolve, reject) => {
      if (!alias) {
        reject('alias can not be null.');
      }
      external_vue_default.a.prototype.$requestConfig.getCustomQuery(alias).then(response => resolve(response)).catch(error => reject(error));
    });
  },
  /**
   * 传入关联查询别名和查询参数，返回查询到的数据
   */
  load: (alias, params, config) => {
    return new Promise((resolve, reject) => {
      CustomQuery.get(alias).then(query => {
        // 执行关联查询
        CustomQuery._doQuery({
          ...query,
          config
        }, params, config && config.page ? 'pagination' : '1', data => {
          let newData = null;
          if (config && config.page) {
            newData = {
              listKey: query.listKey,
              paginationConfig: {
                pageKey: query.pageKey,
                pageSizeKey: query.pageSizeKey,
                totalKey: query.totalKey
              },
              needPage: query.needPage
            };
            if (data.constructor === Array) {
              newData = {
                [query.listKey ? query.listKey : 'rows']: data,
                ...newData
              };
            } else {
              newData = {
                ...data,
                ...newData
              };
            }
          } else {
            newData = data;
          }
          resolve(newData);
        });
      }, () => {
        reject();
      });
    });
  },
  _throwException: msg => {
    external_element_ui_["Message"].error(msg);
    throw msg;
  },
  // 处理POST请求时的参数
  _handlePostData: (query, queryParams) => {
    if (!query.dataParam || query.dataParam.constructor != String) {
      return queryParams;
    }
    // 构建上下文数据对象
    let ctx = {};
    queryParams && queryParams.forEach(element => {
      ctx[element.key] = element.value;
    });
    const exp = utils["a" /* default */].parseExp(query.dataParam, ctx);
    try {
      return JSON.parse(exp);
    } catch (e) {
      CustomQuery._throwException(`POST参数不是有效的JSON格式${query.dataParam}`);
    }
  },
  // 处理GET请求的URL（GET请求的查询参数追加到URL后面）
  _handleGetUrl: (url, queryParams) => {
    if (!url) {
      CustomQuery._throwException('Restful类型的url地址为空');
    }
    let urlParamsAry = [];
    queryParams && queryParams.forEach(q => {
      urlParamsAry.push(`${q.key}=${q.value}`);
    });
    const linkWord = url.indexOf('?') == -1 ? '?' : '&';
    return `${url}${linkWord}${urlParamsAry.join('&')}`;
  },
  _doQuery: (query, params, type, cb) => {
    params = params || {};
    // 复制一份关联查询对象
    query = {
      ...query
    };
    // 关联数据始终查询第一页
    const page = params.page || 1;
    // 关联数据查询参数
    let queryParams = [];
    if (query.conditionfield) {
      try {
        const conditionFields = JSON.parse(query.conditionfield);
        // 构建查询参数
        if (conditionFields && conditionFields.constructor == Array && conditionFields.length > 0) {
          conditionFields.forEach(c => {
            // 默认按照固定值构建查询参数
            let obj = {
              key: c.field,
              value: c.defaultValue || ''
            };
            // 参数传入时获取传入的params中的同名参数值
            if (c.defaultType == '1') {
              if (params.hasOwnProperty(c.field)) {
                obj.value = params[c.field] || '';
                if (query.config && query.config.page !== 1) {
                  query.config.page = 1;
                }
              }
            }
            queryParams.push(obj);
          });
        }
      } catch (e) {
        CustomQuery._throwException(`条件字段的JSON格式错误：${e}`);
      }
    }
    if (query.dsType != 'dataSource') {
      // POST请求，则处理queryParams参数
      if (query.requestType == 'POST') {
        queryParams = CustomQuery._handlePostData(query, queryParams);
      }
      // GET请求，则处理url地址
      else if (query.requestType == 'GET') {
        query.url = CustomQuery._handleGetUrl(query.url, queryParams);
      }
    }
    // 构建查询地址
    const queryUrl = query.dsType == 'dataSource' ? '${form}/form/customQuery/v1/doQuery?alias=' + query.alias + '&page=' + page : query.url;
    let requestMethod = 'POST';
    //如果关联数据列表查询数据不是数据源则请求方法为restful配置的请求方式
    if (query.dsType != 'dataSource') {
      requestMethod = query.requestType;
    }
    //查询数据
    if (query.dsType != 'dataSource' && query.config && query.config.isChangePage) {
      queryParams.pageBean.page = query.config.page;
    }
    external_vue_default.a.prototype.$requestConfig.request({
      url: queryUrl,
      method: requestMethod,
      data: queryParams,
      headers: query.header
    }, query.dsType).then(response => {
      //自定义对话框因为要显示分页信息，并且显示字段的key是小写，故此处直接返回，由自定义对话框组件本身处理数据
      if (type == '1') {
        //如果数据来源是数据源
        if (query.dsType == 'dataSource') {
          cb(response.rows);
        } else {
          // 如果数据来源是REST接口
          const data = CustomQuery._handleResponse(response, query.listKey);
          cb(data);
        }
      } else if (type === 'pagination') {
        //如果数据来源是数据源
        if (query.dsType == 'dataSource') {
          cb(response);
        } else {
          // 如果数据来源是REST接口
          const data = CustomQuery._handleResponse(response, query.listKey, type);
          cb(data);
        }
      }
    }, () => {
      cb([]);
    });
  },
  _handleResponse: (data, rowsKey, type) => {
    if (!data) {
      external_element_ui_["Message"].error('返回的数据为空');
      return [];
    }
    if (data.constructor == String) {
      try {
        data = JSON.parse(data);
      } catch (e) {
        CustomQuery._throwException(`将返回值解析为JSON对象时出错了：${e}`);
      }
    }
    if (data.constructor == Object) {
      // 如果没有指定提取key，则将返回值包装为列表
      if (!rowsKey) {
        return type ? data : [data];
      }
      try {
        return type ? data : utils["a" /* default */].getValueByPath(data, rowsKey);
      } catch (e) {
        CustomQuery._throwException(`从返回的数据中提取数组时出错了：${e}`);
      }
    } else if (data.constructor == Array) {
      // 已经是数组类型时，不再通过rowsKey提取
      return data;
    } else {
      CustomQuery._throwException(`返回的数据无法解析:${data}`);
    }
  }
};
/* harmony default export */ var services_CustomQuery = (CustomQuery);
// CONCATENATED MODULE: ./src/directive/relatedQuery.js


/* harmony default export */ var relatedQuery = ({
  bind: function (el, binding, vnode) {
    const inst = vnode.context;
    let exp = null;
    if (binding.expression) {
      exp = utils["a" /* default */].parseToJson(binding.expression);
    }
    if (inst) {
      // 上一次关联查询条件（一个组件可以绑定多个关联查询，）
      inst.preRelatedQueryParams = {};
      inst.$on('related-query:load', (alias, params, resultBind) => {
        params = params || {};
        // 是否执行查询
        let doLoad = true;
        if (exp && exp.cache) {
          // 相比上一次，查询参数是否有变化
          const changed = !utils["a" /* default */].objectEquals(inst.preRelatedQueryParams[alias], params);
          if (changed) {
            doLoad = true;
            inst.preRelatedQueryParams[alias] = params;
          } else {
            doLoad = false;
          }
        }
        doLoad && services_CustomQuery.load(alias, params).then(data => {
          if (data && data.constructor == Array && data.length > 0 && resultBind && resultBind.constructor == Object) {
            // 获取当前控件是否在子表某行中
            let {
              index
            } = utils["a" /* default */].getSubScopeElAndIndex(el);
            const pInst = utils["a" /* default */].getOnlineFormInstance(inst);
            // 关联查询值回绑时，默认获取返回的第一条记录
            const singleData = data[0];
            Object.keys(resultBind).forEach(k => {
              const path = resultBind[k];
              // 主表
              if (index == null) {
                utils["a" /* default */].setValueByPath(pInst, path, singleData[k]);
              }
              // 子表
              else {
                utils["a" /* default */].setValueByPath(pInst, path, singleData[k], index);
              }
            });
          }
        });
      });
    }
  }
});
// EXTERNAL MODULE: ./src/directive/formulas.js
var formulas = __webpack_require__("3588");

// CONCATENATED MODULE: ./src/directive/index.js


















const directives = {
  badge: directive_badge,
  copy: copy,
  ellipsis: ellipsis,
  expandClick: expandClick,
  express: express,
  form: directive_form,
  format: format,
  permit: permit,
  popconfirm: directive_popconfirm,
  resize: resize,
  tooltip: directive_tooltip,
  subSort: subSort,
  permissionLine: permissionLine,
  permissionLineLable: permissionLineLable,
  formula: formulas["b" /* formula */],
  tableDrag: tableDrag,
  relatedQuery: relatedQuery
};
Object.keys(directives).forEach(name => external_vue_default.a.directive(name, directives[name]));
external_vue_default.a.use(formulas["a" /* Formulas */]);
// CONCATENATED MODULE: ./src/filter/computerSize.js
// 将byte单位的数值转换为合适单位的数值返回
/* harmony default export */ var computerSize = (function (value) {
  if (null == value || value == '') {
    return '0 Bytes';
  }
  var unitArr = new Array('Bytes', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB');
  var index = 0;
  var srcsize = parseFloat(value);
  index = Math.floor(Math.log(srcsize) / Math.log(1024));
  var size = srcsize / Math.pow(1024, index);
  size = size.toFixed(2); //保留的小数位数
  return size + unitArr[index];
});
// CONCATENATED MODULE: ./src/filter/dateFormat.js
/* harmony default export */ var dateFormat = (function (dataStr, pattern = 'yyyy-MM-dd hh:mm:ss') {
  if (dataStr) {
    if (pattern == 'yyyy-MM-dd hh:mm:ss') {
      pattern = 'YYYY-MM-DD HH:mm:ss';
    }
    return new Date(dataStr).format(pattern);
  } else {
    return '';
  }
});
// CONCATENATED MODULE: ./src/filter/index.js



const filters = {
  computerSize: computerSize,
  dateFormat: dateFormat
};
Object.keys(filters).forEach(name => external_vue_default.a.filter(name, filters[name]));
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"8bdeefa2-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/plugins/loading/index.vue?vue&type=template&id=0119afb3
var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('van-overlay',{attrs:{"show":_vm.isShow,"custom-style":{
      background: 'rgb(0, 0, 0, 0.2)',
      display: 'flex',
      justifyContent: 'center',
      alignItems: 'center',
      zIndex: 5000
    }}},[_c('van-loading',{attrs:{"size":"24px","color":_vm.color || '#409eff'}},[_c('span',{style:({color: _vm.color || '#409eff'})},[_vm._v(_vm._s(_vm.title || '加载中···'))])])],1)],1)}
var staticRenderFns = []


// CONCATENATED MODULE: ./src/plugins/loading/index.vue?vue&type=template&id=0119afb3

// CONCATENATED MODULE: ./node_modules/vue-loader/lib/runtime/componentNormalizer.js
/* globals __VUE_SSR_CONTEXT__ */

// IMPORTANT: Do NOT use ES2015 features in this file (except for modules).
// This module is a runtime utility for cleaner component module output and will
// be included in the final webpack user bundle.

function normalizeComponent(
  scriptExports,
  render,
  staticRenderFns,
  functionalTemplate,
  injectStyles,
  scopeId,
  moduleIdentifier /* server only */,
  shadowMode /* vue-cli only */
) {
  // Vue.extend constructor export interop
  var options =
    typeof scriptExports === 'function' ? scriptExports.options : scriptExports

  // render functions
  if (render) {
    options.render = render
    options.staticRenderFns = staticRenderFns
    options._compiled = true
  }

  // functional template
  if (functionalTemplate) {
    options.functional = true
  }

  // scopedId
  if (scopeId) {
    options._scopeId = 'data-v-' + scopeId
  }

  var hook
  if (moduleIdentifier) {
    // server build
    hook = function (context) {
      // 2.3 injection
      context =
        context || // cached call
        (this.$vnode && this.$vnode.ssrContext) || // stateful
        (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional
      // 2.2 with runInNewContext: true
      if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {
        context = __VUE_SSR_CONTEXT__
      }
      // inject component styles
      if (injectStyles) {
        injectStyles.call(this, context)
      }
      // register component module identifier for async chunk inferrence
      if (context && context._registeredComponents) {
        context._registeredComponents.add(moduleIdentifier)
      }
    }
    // used by ssr in case component is cached and beforeCreate
    // never gets called
    options._ssrRegister = hook
  } else if (injectStyles) {
    hook = shadowMode
      ? function () {
          injectStyles.call(
            this,
            (options.functional ? this.parent : this).$root.$options.shadowRoot
          )
        }
      : injectStyles
  }

  if (hook) {
    if (options.functional) {
      // for template-only hot-reload because in that case the render fn doesn't
      // go through the normalizer
      options._injectStyles = hook
      // register for functional component in vue file
      var originalRender = options.render
      options.render = function renderWithStyleInjection(h, context) {
        hook.call(context)
        return originalRender(h, context)
      }
    } else {
      // inject component registration as beforeCreate hook
      var existing = options.beforeCreate
      options.beforeCreate = existing ? [].concat(existing, hook) : [hook]
    }
  }

  return {
    exports: scriptExports,
    options: options
  }
}

// CONCATENATED MODULE: ./src/plugins/loading/index.vue

var script = {}


/* normalize component */

var loading_component = normalizeComponent(
  script,
  render,
  staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* harmony default export */ var plugins_loading = (loading_component.exports);
// CONCATENATED MODULE: ./src/plugins/loading/index.js

const loadingConfig = {};
loadingConfig.install = Vue => {
  const LoadingConstructor = Vue.extend(plugins_loading);
  let toastDom, el;
  function showLoading(title = '', color = '', duration = 2000) {
    if (!el && !toastDom) {
      el = document.createElement('div');
      toastDom = new LoadingConstructor({
        el,
        data() {
          return {
            isShow: true,
            // 是否显示
            title,
            // 文本内容
            color
          };
        }
      });
      // 添加节点
      document.body.appendChild(toastDom.$el);
    } else {
      toastDom.isShow = true;
    }
  }
  function cancelLoading() {
    if (toastDom) {
      toastDom.isShow = false;
    }
  }
  Vue.prototype.$showLoading = showLoading;
  Vue.prototype.$cancelLoading = cancelLoading;
};
/* harmony default export */ var src_plugins_loading = (loadingConfig);
// EXTERNAL MODULE: ./src/validate.js
var validate = __webpack_require__("8d8b");

// CONCATENATED MODULE: ./src/services/commonScripts.js
const commonScripts_$ = __webpack_require__("c5e1");
const CommonScripts = vue => {
  return {
    getValue(script) {
      return this.executeScript(script);
    },
    executeScript(script) {
      let value = '';
      commonScripts_$.ajax({
        type: 'POST',
        //请求方式
        async: false,
        // fasle表示同步请求，true表示异步请求
        contentType: 'application/json;charset=UTF-8',
        //请求的媒体类型
        url: vue.prototype.$requestConfig.flowUrl + '/runtime/script/v1/executeScript',
        //请求地址
        data: script,
        //数
        beforeSend: function (XMLHttpRequest) {
          XMLHttpRequest.setRequestHeader('Authorization', vue.prototype.$requestConfig.getToken());
        },
        success: function (result) {
          //请求成功
          if (result.state) {
            value = result.value;
          } else {
            console.log('执行脚本失败：' + result.message);
          }
        },
        error: function (e) {
          //请求失败，包含具体的错误信息
          console.log(e.status);
          console.log(e.responseText);
        }
      });
      return value;
    }
  };
};
CommonScripts.install = Vue => {
  Vue.prototype.$CommonScripts = CommonScripts(Vue);
};
/* harmony default export */ var commonScripts = (CommonScripts);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"8bdeefa2-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/Input/src/main.vue?vue&type=template&id=4c5cc602&scoped=true
var mainvue_type_template_id_4c5cc602_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.permission !== 'n')?_c('div',{directives:[{name:"express",rawName:"v-express"}],class:[
    'inputs',
    _vm.formInputsDisplay == 'block'
      ? 'ht-form-inputs__block'
      : 'ht-form-inputs__inline',
    _vm.company ? 'has-company-box' : '' ]},[(_vm.isShowInput)?_c('el-input',{directives:[{name:"validate",rawName:"v-validate",value:(_vm.inputValidate),expression:"inputValidate"}],ref:"inputEle",style:(_vm.inputWidth),attrs:{"type":_vm.type,"size":_vm.inputSize,"name":_vm.inputName,"placeholder":_vm.placeholder,"clearable":_vm.clearable,"show-password":_vm.showPassword,"disabled":_vm.isDisabled,"readonly":_vm.readonly,"rows":_vm.rowsVal,"cols":_vm.colsVal,"min":_vm.min,"max":_vm.max,"autosize":_vm.autosize,"resize":_vm.resize,"tabindex":_vm.tabindex,"prefix-icon":_vm.prefixIcon,"suffix-icon":_vm.suffixIcon,"minlength":_vm.minlength,"maxlength":_vm.maxlength,"show-word-limit":_vm.showWordLimit},on:{"blur":_vm.handleBlur,"focus":_vm.handleFocus,"change":_vm.handleChange,"input":_vm.handleInput,"clear":_vm.handleClear},model:{value:(_vm.inputVal),callback:function ($$v) {_vm.inputVal=$$v},expression:"inputVal"}},[_vm._t("prefix",null,{"slot":"prefix"}),_vm._t("suffix",null,{"slot":"suffix"}),_vm._t("prepend",null,{"slot":"prepend"}),_vm._t("append",null,{"slot":"append"})],2):_vm._e(),(_vm.inputWriteable && _vm.type == 'number')?[(_vm.isNumber)?_c('el-input-number',{directives:[{name:"validate",rawName:"v-validate",value:(_vm.inputValidate),expression:"inputValidate"}],ref:"inputEle",style:(_vm.inputWidth),attrs:{"type":_vm.type,"controls-position":_vm.controlsPosition,"size":_vm.inputSize,"name":_vm.inputName,"placeholder":_vm.placeholder,"clearable":_vm.clearable,"disabled":_vm.disabled,"readonly":_vm.readonly,"min":_vm.min,"max":_vm.max,"step":_vm.step,"step-strictly":_vm.stepStrictly,"precision":_vm.precision},on:{"blur":_vm.handleNumberBlur,"focus":_vm.handleFocus,"change":_vm.handleChange},model:{value:(_vm.inputVal),callback:function ($$v) {_vm.inputVal=$$v},expression:"inputVal"}}):_c('el-input',{ref:"exhibit",staticClass:"exhibit",style:(_vm.inputWidth),attrs:{"type":"text","controls-position":_vm.controlsPosition,"size":_vm.inputSize,"name":_vm.inputName,"placeholder":_vm.placeholder,"disabled":_vm.disabled,"readonly":_vm.readonly,"min":_vm.min,"max":_vm.max,"step":_vm.step,"step-strictly":_vm.stepStrictly,"precision":_vm.precision},on:{"focus":_vm.exhibitFocus},model:{value:(_vm.exhibitText),callback:function ($$v) {_vm.exhibitText=$$v},expression:"exhibitText"}}),(_vm.company)?_c('span',[_vm._v(_vm._s(_vm.company))]):_vm._e()]:_vm._e(),(_vm.isShowText)?_c('ht-field-tail',{attrs:{"field-name":_vm.inputName,"readonly":!_vm.inputWriteable,"input-value":_vm.readOnlyInputVal,"company":_vm.company,"precision":_vm.precision,"type":_vm.type,"filter-currency":_vm.filtercurrency,"filterthousand-bit":_vm.filterthousandBit}},[_vm._t("prefix",null,{"slot":"prefix"}),_vm._t("suffix",null,{"slot":"suffix"}),_vm._t("prepend",null,{"slot":"prepend"}),_vm._t("append",null,{"slot":"append"})],2):_vm._e()],2):_vm._e()}
var mainvue_type_template_id_4c5cc602_scoped_true_staticRenderFns = []


// CONCATENATED MODULE: ./packages/Input/src/main.vue?vue&type=template&id=4c5cc602&scoped=true

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"8bdeefa2-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/FieldTail/src/main.vue?vue&type=template&id=fa7a90c8&scoped=true
var mainvue_type_template_id_fa7a90c8_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:"field-tail__wrap"},[(_vm.hasErrors)?_c('small',{staticClass:"el-form-item__error"},[_vm._v("\n    "+_vm._s(_vm.errorMessage)+"\n  ")]):_vm._e(),(_vm.readonly && _vm.tagFormatValue.length == 0)?_c('div',{staticClass:"field-tail"},[(_vm.isReadonlyTextarea)?_c('div',_vm._l((_vm.formatInputValue),function(item,index){return _c('div',{key:index},[(item)?_c('p',{staticClass:"readonly_p"},[_vm._t("prefix"),_vm._t("suffix"),_vm._t("prepend"),_vm._v("\n          "+_vm._s(item)+"\n          "),_vm._t("append")],2):_c('br')])}),0):(_vm.$readonlyInput)?_c('el-input',{attrs:{"disabled":""},model:{value:(_vm.inputValue),callback:function ($$v) {_vm.inputValue=$$v},expression:"inputValue"}}):_c('span',[_vm._t("prefix"),_vm._t("suffix"),_vm._t("prepend"),_vm._v("\n      "+_vm._s(_vm.currentShowValue)+"\n      "),(_vm.company && !_vm.filterCurrency)?[_vm._v(_vm._s(_vm.company))]:_vm._e(),_vm._t("append")],2)],1):_vm._e(),(
      _vm.readonly &&
        _vm.tagFormatValue.constructor == Array &&
        _vm.tagFormatValue.length > 0
    )?[_vm._l((_vm.tagFormatValue),function(label,index){return [_c('el-tooltip',{key:index,staticClass:"tooltip-item",attrs:{"popper-class":"tooltip-item-popper","effect":"dark","content":label,"placement":"top-start"}},[_c('el-tag',{staticClass:"field-tail-tag"},[_vm._v("\n          "+_vm._s(label)+"\n        ")])],1)]})]:_vm._e()],2)}
var mainvue_type_template_id_fa7a90c8_scoped_true_staticRenderFns = []


// CONCATENATED MODULE: ./packages/FieldTail/src/main.vue?vue&type=template&id=fa7a90c8&scoped=true

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/FieldTail/src/main.vue?vue&type=script&lang=js
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//


/* harmony default export */ var mainvue_type_script_lang_js = ({
  name: 'HtFieldTail',
  props: {
    fieldName: {
      type: String,
      required: true
    },
    readonly: {
      type: Boolean,
      default: false
    },
    inputValue: {
      type: [String, Number, Object, Array, Boolean]
    },
    tagFormatValue: {
      type: [Array],
      default() {
        return [];
      }
    },
    writeable: {
      type: Boolean,
      default: true
    },
    company: String,
    filterCurrency: {
      type: Boolean,
      default: false
    },
    filterthousandBit: {
      type: Boolean,
      default: false
    },
    type: String,
    precision: Number
  },
  data() {
    return {
      scopeName: null
    };
  },
  computed: {
    fieldScopePath: function () {
      let path = this.fieldName;
      if (this.scopeName) {
        path = `${this.scopeName}.${this.fieldName}`;
      }
      return path;
    },
    hasErrors: function () {
      return this.errors && this.errors.has(this.fieldScopePath);
    },
    errorMessage: function () {
      return this.errors && this.errors.first(this.fieldScopePath);
    },
    formatInputValue() {
      let value = [];
      if (this.readonly && typeof this.inputValue === 'string') {
        if (this.inputValue.includes('↵')) {
          value = this.inputValue.split('↵');
        } else if (this.inputValue.includes('\n')) {
          value = this.inputValue.split('\n');
        } else {
          value = [this.inputValue];
        }
      }
      return value;
    },
    isReadonlyTextarea() {
      return typeof this.inputValue === 'string' ? this.inputValue.includes('↵') || this.inputValue.includes('\n') : false;
    },
    currentShowValue() {
      const isFormat = this.filterthousandBit || this.filterCurrency;
      return this.type === 'number' && !isFormat ? Number(this.inputValue).toFixed(this.precision) : this.inputValue;
    }
  },
  mounted() {
    setTimeout(() => {
      this.scopeName = utils["a" /* default */].getSomeAttributeFromParentElement(this.$el.parentElement, 'data-vv-scope');
      const {
        subScopeEl
      } = utils["a" /* default */].getSubScopeElAndIndex(this.$el.parentElement);
      if (subScopeEl) {
        if (subScopeEl.getAttribute('row_readonly') == 'true' || subScopeEl.getAttribute('row_readonly') === true) {
          this.$emit('update:writeable', false);
        } else {
          const className = Array.prototype.find.call(subScopeEl.classList, item => item.startsWith('row_readonly__'));
          if (className && className == 'row_readonly__true') {
            this.$emit('update:writeable', false);
          }
        }
      }
    }, 50);
  },
  created() {
    this.$validator = this.$root.$validator;
  }
});
// CONCATENATED MODULE: ./packages/FieldTail/src/main.vue?vue&type=script&lang=js
 /* harmony default export */ var src_mainvue_type_script_lang_js = (mainvue_type_script_lang_js); 
// EXTERNAL MODULE: ./packages/FieldTail/src/main.vue?vue&type=style&index=0&id=fa7a90c8&prod&lang=scss&scoped=true
var mainvue_type_style_index_0_id_fa7a90c8_prod_lang_scss_scoped_true = __webpack_require__("f9a3");

// EXTERNAL MODULE: ./packages/FieldTail/src/main.vue?vue&type=style&index=1&id=fa7a90c8&prod&lang=css
var mainvue_type_style_index_1_id_fa7a90c8_prod_lang_css = __webpack_require__("d360");

// CONCATENATED MODULE: ./packages/FieldTail/src/main.vue







/* normalize component */

var main_component = normalizeComponent(
  src_mainvue_type_script_lang_js,
  mainvue_type_template_id_fa7a90c8_scoped_true_render,
  mainvue_type_template_id_fa7a90c8_scoped_true_staticRenderFns,
  false,
  null,
  "fa7a90c8",
  null
  
)

/* harmony default export */ var main = (main_component.exports);
// CONCATENATED MODULE: ./packages/FieldTail/index.js

main.install = function (Vue) {
  Vue.component(main.name, main);
};
/* harmony default export */ var FieldTail = (main);
// EXTERNAL MODULE: ./src/mixins/permission.js
var mixins_permission = __webpack_require__("d215");

// EXTERNAL MODULE: ./src/mixins/inputName.js
var inputName = __webpack_require__("895f");

// EXTERNAL MODULE: ./src/mixins/form.js
var mixins_form = __webpack_require__("e49c");

// EXTERNAL MODULE: external "lodash"
var external_lodash_ = __webpack_require__("60bb");
var external_lodash_default = /*#__PURE__*/__webpack_require__.n(external_lodash_);

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/Input/src/main.vue?vue&type=script&lang=js
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//








/* harmony default export */ var Input_src_mainvue_type_script_lang_js = ({
  name: 'HtInput',
  components: {
    HtFieldTail: FieldTail
  },
  mixins: [mixins_permission["a" /* default */], inputName["a" /* default */], mixins_form["a" /* default */]],
  props: {
    value: [String, Number],
    controlsPosition: {
      type: String,
      default: 'right'
    },
    width: [String, Number],
    clearable: {
      type: Boolean,
      default: true
    },
    showPassword: {
      type: Boolean,
      default: false
    },
    mathExp: String,
    type: {
      type: String,
      default: 'text'
    },
    ctrlType: {
      type: String,
      default: ''
    },
    dateCalcExp: Object,
    readonly: {
      type: Boolean,
      default: false
    },
    disabled: {
      type: Boolean,
      default: false
    },
    min: Number,
    max: Number,
    step: {
      type: Number,
      default: 1
    },
    stepStrictly: {
      type: Boolean,
      default: false
    },
    precision: Number,
    cols: {
      type: Number,
      default: 60
    },
    rows: {
      type: Number,
      default: 2
    },
    autosize: {
      type: [Boolean, Object],
      default: false
    },
    prefixIcon: String,
    suffixIcon: String,
    tabindex: String,
    minlength: {
      type: Number
    },
    maxlength: {
      type: Number
    },
    showWordLimit: {
      type: Boolean,
      default: false
    },
    format: {
      type: Function
    },
    formatWhenReadonly: {
      type: Boolean,
      default: true
    },
    filterthousandBit: {
      type: Boolean,
      default: false
    },
    filtercurrency: {
      type: Boolean,
      default: false
    },
    configAttributes: Object,
    company: String,
    resize: {
      type: String
    }
  },
  data() {
    return {
      unwatchAry: [],
      morphing: false,
      tempInputVal: null,
      isFocus: false,
      exhibitText: '',
      isNumber: true,
      numberPreBlur: false
    };
  },
  computed: {
    inputVal: {
      get() {
        // input为number时 输入框获取焦点时 自动清空输入框默认内容 简化用户操作
        if (this.isFocus && this.type === 'number' && this.value === 0) {
          return undefined;
        }
        if (this.morphing && this.tempInputVal !== null) {
          return this.tempInputVal;
        }
        if (utils["a" /* default */].isEmpty(this.value)) {
          return '';
        }
        return this.value;
      },
      set(val) {
        if (this.isFocus && this.type === 'number' && val === undefined) {
          this.$emit('input', 0);
          return;
        }
        // 格式化显示时不更新到value属性上
        !this.morphing && this.$emit('input', val);
      }
    },
    colsVal: function () {
      return this.type == 'textarea' ? this.cols : null;
    },
    rowsVal: function () {
      return this.type == 'textarea' ? this.rows : null;
    },
    inputWidth: function () {
      return this.width ? typeof this.width == 'string' ? {
        width: this.width
      } : {
        width: `${this.width}px`
      } : null;
    },
    isShowText() {
      return !this.inputWriteable ? this.type === 'number' ? this.permission_sub !== 'n' : this.permission_sub !== 'n' && this.currentShowMode !== 'input' : true;
    },
    isShowInput() {
      return (this.inputWriteable || this.currentShowMode === 'input') && this.type !== 'number';
    },
    readOnlyInputVal() {
      return this.filterthousandBit || this.filtercurrency ? this.exhibitText : this.inputVal;
    }
  },
  watch: {
    value: function () {
      if (this.morphing && this.tempInputVal !== null) {
        this.enterMorph();
      }
    },
    inputWriteable: function (newVal, oldVal) {
      if (newVal != oldVal) {
        if (!newVal) {
          // 只读时是否保持格式化显示
          this.formatWhenReadonly ? this.enterMorph() : this.exitMorph();
        } else {
          this.enterMorph();
        }
      }
    }
  },
  mounted() {
    const _me = this;
    const exp = this.mathExp;
    const formVm = utils["a" /* default */].getOnlineFormInstance(_me);
    // 初始化流水号配置
    this.initIdentity(_me, formVm);
    // 数学运算表达式
    if (exp) {
      let elAttr = this.$vnode.data.model.expression;
      if (this.modelExpression) {
        elAttr = this.modelExpression;
      }
      const fields = math["a" /* default */].parseFuncexpField(exp);
      formVm.$on(elAttr, function (args) {
        if (args.hasOwnProperty('index')) {
          const {
            subScopeEl,
            index
          } = utils["a" /* default */].getSubScopeElAndIndex(_me.$el);
          if (subScopeEl != null && index === null) {
            throw '要计算子表行数据的输入框不在包含data-subname属性的元素中.';
          }
          if (index == args.index) {
            _me.$emit('input', args.result);
          }
        } else {
          _me.$emit('input', args.result);
        }
      });
      fields.forEach(ele => {
        if (formVm.watchMap.has(ele)) {
          let ary = formVm.watchMap.get(ele);
          ary.push({
            target: elAttr,
            exp
          });
          formVm.watchMap.set(ele, ary.unique('target'));
        } else {
          formVm.watchMap.set(ele, [{
            target: elAttr,
            exp
          }]);
        }
      });
    }
    // 日期计算表达式
    if (this.dateCalcExp) {
      // 计算日期间隔
      let handleDateCalc = function (startVal, endVal) {
        _me.$emit('input', utils["a" /* default */].dateCalc(startVal, endVal, _me.dateCalcExp.diffType));
      };
      // 获取是否在子表中每一行进行日期计算
      const {
        subScopeEl,
        index
      } = utils["a" /* default */].getSubScopeElAndIndex(_me.$el);
      if (subScopeEl) {
        const startScope = utils["a" /* default */].getSubInputScopeByModelExpression(subScopeEl, this.dateCalcExp.start);
        const endScope = utils["a" /* default */].getSubInputScopeByModelExpression(subScopeEl, this.dateCalcExp.end);
        // 对于子表中某行的日期计算，需要找到日期控件对应的vm实例
        startScope.$watch('inputVal', function (newVal, oldVal) {
          if (newVal !== oldVal) {
            handleDateCalc(startScope.value, endScope.value);
          }
        }, {
          immediate: false
        });
        endScope.$watch('inputVal', function (newVal, oldVal) {
          if (newVal !== oldVal) {
            handleDateCalc(startScope.value, endScope.value);
          }
        }, {
          immediate: false
        });
      } else {
        let cb = function (newVal, oldVal) {
          if (newVal !== oldVal) {
            let startVal = utils["a" /* default */].getValueByPath(formVm, _me.dateCalcExp.start, index);
            let endVal = utils["a" /* default */].getValueByPath(formVm, _me.dateCalcExp.end, index);
            handleDateCalc(startVal, endVal);
          }
        };
        // 主表中的日期计算，在表单上通过v-model的表达式来监控值变更
        formVm.$watch(this.dateCalcExp.start, cb, {
          immediate: true
        });
        formVm.$watch(this.dateCalcExp.end, cb, {
          immediate: true
        });
      }
    }
    this.enterMorph();
    // 数字类型且配置了千分位或人民币大写
    if (this.type == 'number' && (this.filtercurrency || this.filterthousandBit)) {
      window.addEventListener('click', this.clickOther);
    }
  },
  beforeDestroy() {
    if (this.type == 'number' && (this.filtercurrency || this.filterthousandBit)) {
      window.removeEventListener('click', this.clickOther);
    }
    let that = this;
    let watcher = that._watchers && that._watchers.find(m => m.expression == 'inputVal');
    if (watcher && watcher.cb) {
      // 单行文本销毁时，触发一次change事件，更新计算公式
      watcher.cb('0', that.inputVal, true);
    }
  },
  destroyed() {
    this.unwatchAry && this.unwatchAry.forEach(unwatch => {
      unwatch.call();
    });
  },
  methods: {
    handleNumberBlur(event) {
      if (this.type == 'number' && (this.filtercurrency || this.filterthousandBit)) {
        this.numberPreBlur = true;
        return;
      }
      this.handleBlur(event);
    },
    clickOther(event) {
      setTimeout(() => {
        if (!this.numberPreBlur) {
          return;
        }
        // 当外部点击事件触发时判断当前是否在点击el-input-number控件，是则不继续触发blur事件，否则才触发blur事件
        const path = event.path || event.composedPath && event.composedPath();
        const result = path.some(p => {
          return p.className && p.className.indexOf('el-input-number') > -1;
        });
        if (!result) {
          this.handleBlur(event);
          this.numberPreBlur = false;
        }
      }, 10);
    },
    exhibitFocus() {
      this.isNumber = true;
      this.$nextTick(() => {
        this.$refs.inputEle.focus();
      });
    },
    handleBlur(event) {
      this.isFocus = false;
      this.enterMorph();
      this.$emit('blur', event);
    },
    handleFocus(event) {
      this.isFocus = true;
      this.exitMorph();
      this.$emit('focus', event);
    },
    handleChange(val) {
      this.$emit('change', val);
    },
    handleInput(val) {
      this.$emit('input', val);
    },
    handleClear() {
      this.$emit('clear');
    },
    // 进入格式显示模式
    enterMorph() {
      // 只在text类型时格式化
      // 货币和数字时也格式化
      const ctrlTypeList = ['currency', 'number'];
      if (this.morphing || this.type != 'text' && this.ctrlType !== 'currency' && this.ctrlType !== 'number') {
        return;
      }
      // 优先处理设定了format方法的情况
      if (this.format) {
        const result = this.format(this.value);
        if (result && result.constructor == Promise) {
          result.then(resp => {
            this.morphing = true;
            this.tempInputVal = resp;
          });
        } else if (result != null && result != undefined) {
          this.morphing = true;
          this.tempInputVal = result;
        }
      }
      // 其次人民币大写
      else if (this.filtercurrency) {
        this.morphing = true;
        if (ctrlTypeList.includes(this.ctrlType)) {
          if (utils["a" /* default */].isEmpty(this.value) && this.min) {
            this.$emit('input', this.min);
          }
          this.$nextTick(() => {
            this.exhibitText = math["a" /* default */].convertCurrency(this.value);
            this.isNumber = false;
          });
        } else {
          this.tempInputVal = math["a" /* default */].convertCurrency(this.value);
        }
      }
      // 最后千分位
      else if (this.filterthousandBit) {
        this.morphing = true;
        if (ctrlTypeList.includes(this.ctrlType)) {
          if (utils["a" /* default */].isEmpty(this.value) && this.min) {
            this.$emit('input', this.min);
          }
          this.$nextTick(() => {
            this.exhibitText = utils["a" /* default */].thousandBit(this.value);
            this.isNumber = false;
          });
        } else {
          this.tempInputVal = utils["a" /* default */].thousandBit(this.value);
        }
      }
    },
    // 退出格式化显示模式
    exitMorph() {
      this.morphing = false;
      this.tempInputVal = null;
    },
    // 如果当前输入框绑定了流水号，则将modelName记录到form的watchMap中，用于在复制数据时将流水号置空以便产生新的流水号。
    recordBindIdentityInWatchMap(pInst) {
      if (!pInst || !pInst.watchMap || !this.modelName) {
        return;
      }
      let bindIdentityModelNameList = pInst.watchMap.get('bindIdentityModelNameList');
      if (bindIdentityModelNameList == null || bindIdentityModelNameList == undefined) {
        bindIdentityModelNameList = [];
      }
      bindIdentityModelNameList.push(this.modelName);
      bindIdentityModelNameList = bindIdentityModelNameList.unique();
      pInst.watchMap.set('bindIdentityModelNameList', bindIdentityModelNameList);
    },
    initIdentity(_me, pInst) {
      //检查流水号
      if (this.configAttributes) {
        this.isEdit = !this.configAttributes.isInputEdit;
        //判断是否绑定流水号
        if (this.configAttributes.bindIdentityAlias) {
          this.recordBindIdentityInWatchMap(pInst);
          this.isEdit = false;
          if (this.value) return;
          var alias = this.configAttributes.bindIdentityAlias;
          this.$requestConfig.getNextIdByAlias(alias).then(res => {
            if (res.state) {
              this.$emit('input', res.value);
              if (res.value) {
                var match = /(\{(.*)\}).*$/.exec(res.value);
                //判断流水号中是否表达式如{kjbt.csfjsc}
                if (match) {
                  this.$emit('input', res.value.replace(match[1], ''));
                  // data 数据所在的 VueComponent
                  const runtimePInst = utils["a" /* default */].getRuntimeTemplateOnlineForm(this);
                  if (runtimePInst && match[2]) {
                    runtimePInst.$watch(`data.${match[2]}`, (newVal, oldVal) => {
                      if (newVal != oldVal) {
                        if (this.modelName === `data.${match[2]}`) {
                          this.$message.error(this.$t('ht.input.serialNumberErrorMsg'));
                        } else {
                          this.$emit('input', res.value.replace(match[1], newVal));
                        }
                      }
                    }, {
                      immediate: true
                    });
                  }
                }
              }
            } else {
              this.$message.error(res.message);
            }
          });
        }
        _me.$watch('inputVal', function () {
          pInst.$watch('identityMap', function (newVal, oldVal) {
            if (newVal && newVal !== oldVal) {
              for (const key in newVal) {
                if (_me.modelName == key) {
                  let item = newVal[key];
                  utils["a" /* default */].setValueByPath(pInst, item.key, item.value.replace(item.expression, _me.value));
                }
              }
            }
          }, {
            immediate: true
          });
        });
      }
    }
  }
});
// CONCATENATED MODULE: ./packages/Input/src/main.vue?vue&type=script&lang=js
 /* harmony default export */ var packages_Input_src_mainvue_type_script_lang_js = (Input_src_mainvue_type_script_lang_js); 
// EXTERNAL MODULE: ./packages/Input/src/main.vue?vue&type=style&index=0&id=4c5cc602&prod&lang=scss&scoped=true
var mainvue_type_style_index_0_id_4c5cc602_prod_lang_scss_scoped_true = __webpack_require__("a128");

// CONCATENATED MODULE: ./packages/Input/src/main.vue






/* normalize component */

var src_main_component = normalizeComponent(
  packages_Input_src_mainvue_type_script_lang_js,
  mainvue_type_template_id_4c5cc602_scoped_true_render,
  mainvue_type_template_id_4c5cc602_scoped_true_staticRenderFns,
  false,
  null,
  "4c5cc602",
  null
  
)

/* harmony default export */ var src_main = (src_main_component.exports);
// CONCATENATED MODULE: ./packages/Input/index.js

src_main.install = function (Vue) {
  Vue.component(src_main.name, src_main);
};
/* harmony default export */ var Input = (src_main);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"8bdeefa2-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/Checkbox/src/main.vue?vue&type=template&id=6972e31c&scoped=true
var mainvue_type_template_id_6972e31c_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.permission != 'n')?_c('div',{class:[
    'inputs',
    _vm.formInputsDisplay == 'block'
      ? 'ht-form-inputs__block'
      : 'ht-form-inputs__inline' ]},[(_vm.inputWriteable)?_c('el-checkbox-group',{directives:[{name:"validate",rawName:"v-validate",value:(_vm.inputValidate),expression:"inputValidate"}],attrs:{"size":_vm.inputSize,"name":_vm.inputName,"min":_vm.min,"max":_vm.max,"disabled":_vm.disabled || _vm.readonly},model:{value:(_vm.inputVal),callback:function ($$v) {_vm.inputVal=$$v},expression:"inputVal"}},_vm._l((_vm.optionsVal),function(item){return _c('el-checkbox',{key:item.key,class:{
        'el-checkbox-vertical': _vm.optionLayout == 'vertical',
        'el-checkbox-horizontal': _vm.optionLayout == 'horizontal',
      },attrs:{"label":item.key,"disabled":item.disabled},on:{"change":_vm.handleCheckboxChange}},[_vm._v("\n      "+_vm._s(item.value)+"\n    ")])}),1):_vm._e(),_c('ht-field-tail',{attrs:{"field-name":_vm.inputName,"readonly":!_vm.inputWriteable,"input-value":"","tag-format-value":_vm.inputVal}})],1):_vm._e()}
var mainvue_type_template_id_6972e31c_scoped_true_staticRenderFns = []


// CONCATENATED MODULE: ./packages/Checkbox/src/main.vue?vue&type=template&id=6972e31c&scoped=true

// CONCATENATED MODULE: ./src/mixins/linkage.js


const service = {
  // 对联动规则进行处理
  linkageHandler: (_me, exp) => {
    if (!_me || !_me._isVue) {
      throw _me.$t('ht.linkage.objectIsEmpty');
    }
    if (!exp || exp.constructor !== Object && exp.constructor !== Array) {
      throw _me.$t('ht.linkage.typeError', {
        exp: exp
      });
    }
    let linkageExp = exp;
    if (exp.constructor === Object) {
      linkageExp = [exp];
    }
    const pInst = utils["a" /* default */].getOnlineFormInstance(_me);
    if (!pInst) {
      throw _me.$t('ht.linkage.getFormError');
    }
    // 当前控件的联动轨迹
    _me.traces = {};
    _me.subtableRestores = [];
    _me.subtableApplies = [];

    //修改子表或孙表行内联动权限
    const operationEleByPermission = function (n, permission) {
      let idxObj = utils["a" /* default */].getSubScopeElAndIndex(_me.$el);
      let tpaths = n.target.split('.');
      let subFieldPoint = n.boType + '_' + tpaths[tpaths.length - 2] + '_' + tpaths[tpaths.length - 1];
      let fPoint = subFieldPoint + '_' + idxObj.index;
      let basePath = 'permission.subFields';
      //孙表时，获取孙表所属子表序号
      if (n.boType == 'sun') {
        const subIdxObj = utils["a" /* default */].getSubScopeElAndIndex(idxObj.subScopeEl.parentElement);
        subFieldPoint = n.boType + '_' + tpaths[tpaths.length - 2] + '_' + tpaths[tpaths.length - 1] + '_' + subIdxObj.index;
        fPoint = subFieldPoint + '_' + idxObj.index;
      }
      if (!pInst.permission['subFields']) {
        utils["a" /* default */].setValueByPath(pInst, basePath, {});
      }
      utils["a" /* default */].setValueByPath(pInst, basePath + '.' + fPoint, permission);
      //如果所有行联动都是隐藏字段(n)，则隐藏列
      let isAllN = true;
      const subFields = pInst.permission['subFields'];
      for (const fKey in subFields) {
        const isN = subFields[fKey] && subFields[fKey] == 'n';
        if (fKey.indexOf(subFieldPoint) == 0 && !isN) {
          isAllN = false;
          break;
        }
      }
      //更新为联动后的字段权限
      const path = `permission.fields.${tpaths[tpaths.length - 2]}.${tpaths[tpaths.length - 1]}`;
      const permissionPath = utils["a" /* default */].getValueByPath(pInst, path);
      utils["a" /* default */].setValueByPath(pInst, path, isAllN ? 'n' : permissionPath == 'n' ? 'w' : permissionPath);
      setTimeout(() => {
        pInst.permission = Object.assign({}, pInst.permission);
      }, 100);
    };

    // 执行隐藏并清空子表数据
    const doHideAndClearSubtable = function (subHideArrs) {
      if (!subHideArrs || subHideArrs.length == 0) {
        return;
      }
      subHideArrs.forEach(item => {
        const {
          target,
          value
        } = item;
        const oldVal = utils["a" /* default */].getValueByPath(pInst, target);
        let tables = target.split('.');
        if (tables.length == 4 && tables[3] == 'hidden') {
          // 子表之前是显示状态，现在变为隐藏状态时才清空子表数据
          if (value && oldVal !== value) {
            for (let key in pInst.data) {
              for (let subkey in pInst.data[key]) {
                if ('sub_' + tables[2] == subkey) {
                  pInst.data[key][subkey].splice(0, pInst.data[key][subkey].length);
                  break;
                }
              }
            }
          }
        }
        utils["a" /* default */].setValueByPath(pInst, target, value);
      });
      subHideArrs.splice(0, subHideArrs.length);
    };

    // 隐藏并清空子表数据
    const hideAndClearSubtableCall = external_lodash_default.a.debounce(() => {
      const finalArys = [];
      _me.subtableRestores.forEach(m => {
        const _matchOne = _me.subtableApplies.find(n => m.target === n.target);
        if (_matchOne) {
          finalArys.push({
            ..._matchOne
          });
        } else {
          finalArys.push({
            ...m
          });
        }
      });
      _me.subtableRestores.splice(0, _me.subtableRestores.length);
      _me.subtableApplies.splice(0, _me.subtableApplies.length);
      doHideAndClearSubtable(finalArys);
    }, 100);

    // 还原联动执行的动作
    _me._doRestoreLinkageWithTraces = function () {
      linkageExp.forEach(m => {
        const subtableEffects = [];
        m.effect.forEach(n => {
          //获取字段的初始化权限，并新增临时字段保存
          const pathInit = n.target + 'Init';
          let traceValue = utils["a" /* default */].getValueByPath(pInst, pathInit);
          if (traceValue == undefined) {
            traceValue = _me.traces[n.target];
            if (traceValue !== null && traceValue !== undefined) {
              utils["a" /* default */].setValueByPath(pInst, pathInit, traceValue);
            }
          }
          if (n.target) {
            if (n.target.indexOf('permission.table') != -1) {
              //判断是否是子孙表的配置权限
              if (traceValue !== null && traceValue !== undefined) {
                subtableEffects.push({
                  target: n.target,
                  value: traceValue
                });
              }
            } else {
              let boType = n.boType;
              if (boType && (boType == 'sub' || boType == 'sun')) {
                operationEleByPermission(n, traceValue);
              } else {
                utils["a" /* default */].setValueByPath(pInst, n.target, traceValue);
              }
            }
          }
          if (n.ref && n.ref.indexOf('sub_') != -1) {
            let arr = n.ref.split('.');
            //子表
            if (arr.length == 4) {
              if (n.ref && document.querySelector('[model-name="' + n.ref + '"]')) {
                let idxObj = utils["a" /* default */].getSubScopeElAndIndex(_me.$el); //获取子表对象（含下标)
                let subModeNameArray = document.querySelectorAll('[model-name="' + n.ref + '"]');
                subModeNameArray[idxObj.index].__vue__._data.newValidate = null;
              }
            }
          } else {
            //主表
            if (n.ref && document.querySelector('[model-name="' + n.ref + '"]')) {
              document.querySelector('[model-name="' + n.ref + '"]').__vue__._data.newValidate = null;
            }
          }
        });
        // 隐藏并清空子孙表数据的处理
        hideAndClearSubtable(subtableEffects, true);
      });
    };

    // 隐藏并清空子表数据（节流方法，等待100ms后执行，期间对同一个子表的显示/隐藏操作会互相抵消）
    const hideAndClearSubtable = function (subtables, restore) {
      if (!subtables || subtables.length == 0) {
        return;
      }
      if (restore) {
        _me.subtableRestores = _me.subtableRestores.concat(subtables);
      } else {
        _me.subtableApplies = _me.subtableApplies.concat(subtables);
      }
      hideAndClearSubtableCall();
    };
    linkageExp.forEach(m => {
      m.effect.forEach(n => {
        // 联动会影响字段的显示、隐藏、必填等权限，以及字段的校验规则。
        // 这里先将这两部分信息存放起来作为恢复的轨迹数据
        _me.traces[n.target] = utils["a" /* default */].getValueByPath(pInst, n.target);
      });
    });
    //联动优先级处理，主/子/孙表多选框或下拉框联动，字段权限同时有必填/显示和隐藏时，字段应该显示
    // 必填>显示>隐藏
    const getPermissionByExp = function (linkageExp, target, value) {
      if (_me.inputVal == undefined || !(_me.inputVal instanceof Array)) {
        return value;
      }
      var permissions = [];
      linkageExp.forEach(m => {
        if (_me.inputVal.includes(m.value)) {
          m.effect.forEach(n => {
            if (n.target == target) {
              permissions.push(n.value);
            }
          });
        }
      });
      if (permissions.includes('b')) {
        return 'b';
      }
      if (permissions.includes('w')) {
        return 'w';
      }
      if (permissions.includes('r')) {
        return 'r';
      }
      return value;
    };
    _me.$watch('inputVal', function (newVal, oldVal) {
      if (newVal !== oldVal) {
        // 两个对象是否相等
        if (newVal && newVal.constructor == Object && utils["a" /* default */].objectEquals(newVal, oldVal)) {
          return;
        }
        // 两个数组是否相等
        if (newVal && newVal.constructor == Array && utils["a" /* default */].arrayEquals(newVal, oldVal)) {
          return;
        }
        // 在联动触发之前，先还原一次
        _me._doRestoreLinkageWithTraces();
        linkageExp.forEach(m => {
          // 是否匹配联动要求的值
          let match = false;
          if (newVal) {
            if (newVal.constructor === String) {
              match = newVal === m.value;
            } else if (newVal.constructor === Array) {
              match = newVal.some(v => v === m.value);
              // 如果是复选框触发联动，在复选框只读时返回的是选项的label，需要通过label获取选项value
              if (!match && _me.$isCheckbox && _me.getOptionKeyByValue) {
                match = _me.getOptionKeyByValue(newVal).some(v => v === m.value);
              }
            }
          }
          const subHideArrs = [];
          m.effect.forEach(n => {
            if (match) {
              switch (n.type) {
                // 直接赋值
                case '=':
                  {
                    //如果表单是只读的情况下,控件的必填与可编辑替换成只读
                    let v = getPermissionByExp(linkageExp, n.target, n.value);
                    if (pInst.isLook && (v === 'b' || v === 'w')) {
                      v = 'r';
                    }
                    let boType = n.boType;
                    if (boType && (boType == 'sub' || boType == 'sun')) {
                      operationEleByPermission(n, v);
                    } else {
                      if (n.target && n.target.indexOf('permission.table') != -1) {
                        //判断是否是子孙表的配置权限
                        if (v !== null && v !== undefined && !this.$hideTip) {
                          subHideArrs.push({
                            target: n.target,
                            value: v
                          });
                          // 隐藏并清空子孙表数据的处理
                          hideAndClearSubtable(subHideArrs);
                        }
                      } else {
                        utils["a" /* default */].setValueByPath(pInst, n.target, v);
                      }
                    }
                    break;
                  }
                // 追加验证规则
                case '+':
                  if (!n.value || n.value.constructor !== Object && n.value.constructor !== String) {
                    throw _me.$t('ht.linkage.appendValidationRulesError', {
                      value: n.value
                    });
                  }
                  if (n.target) {
                    // 获取旧的校验规则
                    const oldValid = utils["a" /* default */].getValueByPath(pInst, n.target);
                    // 将旧规则与新规则进行融合
                    const newValid = utils["a" /* default */].mergeValidate(oldValid, n.value);
                    // 更新融合后的规则
                    utils["a" /* default */].setValueByPath(pInst, n.target, newValid);
                  }
                  if (n.ref) {
                    setTimeout(() => {
                      if (document.querySelector('[model-name="' + n.ref + '"]')) {
                        if (n.ref && n.ref.indexOf('sub_') != -1) {
                          let arr = n.ref.split('.');
                          //子表
                          if (arr.length == 4) {
                            let idxObj = utils["a" /* default */].getSubScopeElAndIndex(_me.$el);
                            let subModeNameArray = document.querySelectorAll('[model-name="' + n.ref + '"]');
                            let targetVnode = subModeNameArray[idxObj.index].__vue__;
                            let oldValid = targetVnode.validate;
                            // 将旧规则与新规则进行融合
                            const newValid = utils["a" /* default */].mergeValidate(oldValid, n.value);
                            targetVnode._data.newValidate = newValid;
                          }
                        } else {
                          //主表
                          let targetVnode = document.querySelector('[model-name="' + n.ref + '"]').__vue__;
                          let oldValid = targetVnode.validate;
                          // 将旧规则与新规则进行融合

                          if (n.value !== null && n.value !== undefined && n.value.indexOf('confirmed:') > -1) {
                            let confirmPath = n.value.replace('confirmed:', '');
                            n.value = 'confirmed:' + utils["a" /* default */].getValueByPath(pInst, confirmPath);
                            let confirmVnode = document.querySelector('[model-name="' + confirmPath + '"]').__vue__;
                            confirmVnode.$watch('inputVal', function (n) {
                              const newValid = utils["a" /* default */].mergeValidate(oldValid, 'confirmed:' + n);
                              targetVnode._data.newValidate = newValid;
                            });
                          }
                          const newValid = utils["a" /* default */].mergeValidate(oldValid, n.value);
                          targetVnode._data.newValidate = newValid;
                        }
                      }
                    }, 100);
                  }
                  break;
                // 减少验证规则
                case '-':
                  if (!n.value || n.value.constructor !== Object && n.value.constructor !== String) {
                    throw _me.$t('ht.linkage.decreaseValidationRulesError', {
                      value: n.value
                    });
                  }
                  if (n.target) {
                    // 获取旧的规则
                    const oldV = utils["a" /* default */].getValueByPath(pInst, n.target);
                    // 从旧的规则移除指定规则
                    const newValidate = utils["a" /* default */].reduceValidate(oldV, n.value);
                    // 更新规则
                    utils["a" /* default */].setValueByPath(pInst, n.target, newValidate);
                  }
                  if (n.ref) {
                    const oldValid = pInst.$refs[n.ref].validate;
                    // 将旧规则与新规则进行融合
                    const newValid = utils["a" /* default */].reduceValidate(oldValid, n.value);
                    pInst.$refs[n.ref].newValidate = newValid;
                  }
                  break;
              }
            }
          });
        });
      }
    }, {
      immediate: true
    });
  }
};
/* harmony default export */ var linkage = ({
  props: {
    linkage: Array
  },
  mounted() {
    if (this.linkage) {
      const exp = this.linkage;
      //如果要联动的字段权限是只读“r”,则把联动配置里面要联动的字段权限“w”改为只读“r”
      if (exp && exp.length > 0) {
        const frmInst = utils["a" /* default */].getOnlineFormInstance(this);
        //表单所有字段的初始权限
        if (frmInst && frmInst.permission) {
          exp.forEach(item => {
            let effect = item.effect;
            effect.forEach(effectItem => {
              let initPermission = utils["a" /* default */].getValueByPath(frmInst, effectItem.target);
              if (effectItem.target && effectItem.target.indexOf('permission') != -1 && effectItem.value != 'n' && initPermission == 'r') {
                effectItem.value = initPermission;
              }
            });
          });
        }
      }
      this.$nextTick(() => {
        service.linkageHandler(this, exp);
      });
    }
  }
});
// CONCATENATED MODULE: ./src/mixins/ganged.js


/* harmony default export */ var ganged = ({
  props: {
    ganged: Object,
    props: {
      type: Object,
      default: function () {
        return {
          key: 'key',
          value: 'value'
        };
      }
    }
  },
  data() {
    return {
      _preParamsVal: null,
      isChangePage: false
    };
  },
  computed: {
    propKey: function () {
      if (this.props && this.props.key) {
        return this.props.key;
      }
      return 'key';
    },
    propValue: function () {
      if (this.props && this.props.value) {
        return this.props.value;
      }
      return 'value';
    }
  },
  methods: {
    /**
     * 执行关联查询
     * @param {Object} params 构建好的关联查询条件，传null时会采用默认方法构建查询参数
     * @param {Boolean} morph  是否按照valueBind/labelBind重新组织返回的options
     * @returns Promise  resolve(options)、reject(error)
     */
    doCustomQuery: function (params, morph, config) {
      if (!this.ganged || !this.ganged.alias) {
        return new Promise(resolve => resolve(null));
      }
      const paramsVal = params || this._prepareLoadParams(this.ganged.bind);
      // 查询参数不变时不触发关联查询
      if (utils["a" /* default */].objectEquals(this._preParamsVal, paramsVal)) {
        return new Promise(resolve => resolve(null));
      }
      // 记录上一次关联查询的参数
      this._preParamsVal = paramsVal;
      if (!config) {
        let tempConfig = {
          page: 1
        };
        config = tempConfig;
      }
      paramsVal.page = config.page || 1;
      return new Promise((resolve, reject) => {
        services_CustomQuery.load(this.ganged.alias, paramsVal, config).then(data => {
          this.ganged.needPage = data ? data.needPage : 0;
          const resData = data && data.listKey ? utils["a" /* default */].getValueByPath(data, data.listKey) : data && data.rows;
          if (config.page) {
            const {
              paginationConfig
            } = data;
            this.pageBean = {
              page: this.isChangePage ? config.page : data[paginationConfig.pageKey],
              pageSize: data[paginationConfig.pageSizeKey],
              total: data[paginationConfig.totalKey]
            };
          }
          if (!morph) {
            // 直接返回原始数据
            resolve(config.page ? resData : data);
          } else {
            // 按照回填值来构建选项
            const options = [];
            const currentData = config.page ? resData : data;
            currentData.forEach(m => {
              const opt = {};
              if (this.ganged.valueBind) {
                opt[this.propKey] = m[this.ganged.valueBind];
              }
              if (this.ganged.labelBind) {
                opt[this.propValue] = m[this.ganged.labelBind];
              }
              options.push(opt);
            });
            // 指定了值绑定关系时，按照值对数组进行去重处理。
            if (this.ganged.valueBind) {
              resolve(options.unique(this.propKey));
            } else {
              resolve(options);
            }
          }
        }).catch(error => {
          services_CustomQuery._throwException(error);
          reject(error);
        });
      });
    },
    // 准备查询参数
    _prepareLoadParams: function (condition) {
      let params = {};
      if (condition && !utils["a" /* default */].isEmpty(condition)) {
        // 获取当前控件是否在子表某行中
        let {
          index
        } = utils["a" /* default */].getSubScopeElAndIndex(this.$el);
        const pInst = utils["a" /* default */].getOnlineFormInstance(this);
        Object.keys(condition).forEach(k => {
          const bindSet = condition[k];
          let val = null;
          // 参数绑定是对象
          if (bindSet.constructor == Object) {
            const bindSetKey = bindSet['key'];
            const defaultVal = bindSet['default'];
            const groovyScript = bindSet['groovyScript'];
            if (bindSetKey) {
              val = index == null ? utils["a" /* default */].getValueByPath(pInst, bindSetKey) : utils["a" /* default */].getValueByPath(pInst, bindSetKey, index);
            }
            if (val == null || val == undefined) {
              val = defaultVal;
            }
            if ((val == null || val == undefined) && groovyScript) {
              val = '{"groovyScript":"' + groovyScript + '"}';
            }
          }
          // 参数绑定是字符串
          else if (bindSet.constructor == String) {
            val = index == null ? utils["a" /* default */].getValueByPath(pInst, bindSet) : utils["a" /* default */].getValueByPath(pInst, bindSet, index);
          }
          if (!utils["a" /* default */].isEmpty(val)) {
            params[k] = val;
          }
        });
      }
      return params;
    }
  }
});
// CONCATENATED MODULE: ./src/mixins/formDataUpdate.js

/* harmony default export */ var formDataUpdate = ({
  data() {
    return {
      currentFormInstance: null
    };
  },
  watch: {
    currentFormInstance: function (newVal, oldVal) {
      if (!oldVal && newVal && newVal.$on) {
        newVal.$off('updateData', this.handleUpdateData);
        newVal.$on('updateData', this.handleUpdateData);
      }
    }
  },
  mounted() {
    if (this.currentFormInstance == null) {
      this.currentFormInstance = utils["a" /* default */].getOnlineFormInstance(this);
    }
  },
  beforeDestroy() {
    this.currentFormInstance && this.currentFormInstance.$off && this.currentFormInstance.$off('updateData', this.handleUpdateData);
  },
  methods: {
    handleUpdateData() {
      this.$emit('formDataUpdate');
    }
  }
});
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/Checkbox/src/main.vue?vue&type=script&lang=js
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//









/* harmony default export */ var Checkbox_src_mainvue_type_script_lang_js = ({
  name: 'HtCheckbox',
  components: {
    HtFieldTail: FieldTail
  },
  mixins: [mixins_permission["a" /* default */], inputName["a" /* default */], linkage, ganged, mixins_form["a" /* default */], formDataUpdate],
  props: {
    value: String,
    optionLayout: {
      type: String,
      default: 'horizontal',
      validator: function (value) {
        return ['horizontal', 'vertical'].some(i => i == value);
      }
    },
    options: Array,
    cklist: String,
    readonly: {
      type: Boolean,
      default: false
    },
    disabled: {
      type: Boolean,
      default: false
    },
    min: Number,
    max: Number
  },
  data() {
    return {
      optionsVal: []
    };
  },
  computed: {
    inputVal: {
      get: function () {
        if (utils["a" /* default */].isEmpty(this.value) || !this.optionsVal || this.optionsVal.length == 0) {
          return [];
        }
        if (this.value.constructor == String) {
          const ary = this.value.split(',');
          if (this.inputWriteable) {
            return ary;
          } else {
            let opts = [];
            ary.forEach(m => {
              const currentObj = this.optionsVal.find(opt => opt.key === m);
              currentObj && opts.push(currentObj.value);
            });
            return opts;
          }
        }
        return [];
      },
      set: function () {}
    }
  },
  watch: {
    options: function () {
      this.loadOption();
    }
  },
  created() {
    this.$on('formDataUpdate', () => {
      this.loadOption();
    });
  },
  mounted() {
    this.$isCheckbox = true;
    this.loadOption();
  },
  methods: {
    //加载选项
    loadOption: function () {
      // 动态选项
      if (this.ganged && this.ganged.alias) {
        this.dynamicLoadOption();
      } else {
        // 静态选项
        this.optionsVal = this.cklist ? JSON.parse(this.cklist) : this.options ? this.options : [];
      }
    },
    // 动态加载选项
    dynamicLoadOption() {
      this.doCustomQuery(null, true).then(data => {
        if (data != null || data != undefined) {
          this.optionsVal = data;
        }
      });
    },
    // 通过选项值数组 获取 选项key数组
    getOptionKeyByValue: function (valueAry) {
      const keyAry = [];
      if (!valueAry || valueAry.constructor !== Array || valueAry.length == 0) {
        return keyAry;
      }
      valueAry.forEach(m => {
        const _option = this.optionsVal.find(opt => opt.value === m);
        if (_option) {
          keyAry.push(_option.key);
        }
      });
      return keyAry;
    },
    handleCheckboxChange: function (m, n) {
      let vals = [...this.inputVal];
      const currentVal = n.currentTarget.value;
      if (m) {
        vals.push(currentVal);
      } else {
        vals.remove(currentVal);
      }
      vals = vals.filter(i => i !== '');
      this.$emit('input', vals.join(','));
      this.$emit('change', m, n);
    }
  }
});
// CONCATENATED MODULE: ./packages/Checkbox/src/main.vue?vue&type=script&lang=js
 /* harmony default export */ var packages_Checkbox_src_mainvue_type_script_lang_js = (Checkbox_src_mainvue_type_script_lang_js); 
// EXTERNAL MODULE: ./packages/Checkbox/src/main.vue?vue&type=style&index=0&id=6972e31c&prod&lang=scss&scoped=true
var mainvue_type_style_index_0_id_6972e31c_prod_lang_scss_scoped_true = __webpack_require__("0cfa");

// CONCATENATED MODULE: ./packages/Checkbox/src/main.vue






/* normalize component */

var Checkbox_src_main_component = normalizeComponent(
  packages_Checkbox_src_mainvue_type_script_lang_js,
  mainvue_type_template_id_6972e31c_scoped_true_render,
  mainvue_type_template_id_6972e31c_scoped_true_staticRenderFns,
  false,
  null,
  "6972e31c",
  null
  
)

/* harmony default export */ var Checkbox_src_main = (Checkbox_src_main_component.exports);
// CONCATENATED MODULE: ./packages/Checkbox/index.js

Checkbox_src_main.install = function (Vue) {
  Vue.component(Checkbox_src_main.name, Checkbox_src_main);
};
/* harmony default export */ var Checkbox = (Checkbox_src_main);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"8bdeefa2-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/Table/src/Table.vue?vue&type=template&id=0d10ce15&scoped=true
var Tablevue_type_template_id_0d10ce15_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-main',{ref:"tablePanel",staticClass:"ht-table-panel"},[(!_vm.noHeader && !_vm.justShowSearch)?_c('div',{ref:"toolbarPanel",staticClass:"toolbar-panel"},[(!_vm.justShowSearch)?_c('div',{staticClass:"toolbar-panel__search",class:{ 'ht-quick__search': !_vm.hideTableSearch }},[(_vm.quickSearchConfig && _vm.quickSearchConfig.length > 0)?_c('ht-input',{ref:"quickSearch",staticClass:"quick-search",staticStyle:{"margin-right":"20px"},style:(_vm.quickSearchWidthStyle),attrs:{"placeholder":_vm.quickSearchPlaceholder,"autofocus":true,"disabled":_vm.loading || _vm.showAdvancedSearch,"debounce":2000,"suffix-icon":"el-icon-search"},nativeOn:{"keydown":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,"enter",13,$event.key,"Enter")){ return null; }return _vm.doQuickSearch($event)},"click":function($event){return _vm.clickQuickSearch($event)}},model:{value:(_vm.quickSearchWord),callback:function ($$v) {_vm.quickSearchWord=$$v},expression:"quickSearchWord"}}):_vm._e(),_c('div',{staticClass:"common-tools"},[(_vm.hasSearchPanel && !_vm.justShowSearch)?_c('el-button',{staticClass:"advance-search__button",on:{"click":function($event){_vm.showAdvancedSearch = !_vm.showAdvancedSearch}}},[_vm._v("\n          "+_vm._s(_vm.showAdvancedSearch
              ? _vm.$t('ht.table.baseSearch')
              : _vm.$t('ht.table.baseSearch'))+"\n          "),_c('i',{class:_vm.showAdvancedSearch ? 'el-icon-arrow-up' : 'el-icon-arrow-down'})]):_vm._e(),(_vm.showExport)?_c('el-tooltip',{attrs:{"content":_vm.$t('ht.table.exportData'),"placement":"top"}},[_c('el-button',{on:{"click":function($event){return _vm.$emit('export')}}},[_c('ht-icon',{attrs:{"name":"arrow"}})],1)],1):_vm._e(),_c('el-tooltip',{attrs:{"content":_vm.$t('ht.table.refresh'),"placement":"top"}},[_c('el-button',{staticClass:"refresh-btn-icon",attrs:{"icon":"el-icon-refresh"},on:{"click":function($event){return _vm.load(true)}}})],1),(_vm.showCustomColumn && !_vm.isCardView)?_c('el-tooltip',{attrs:{"content":_vm.$t('ht.table.customColumn'),"placement":"top"}},[_c('el-button',{on:{"click":function($event){_vm.customColumnDialogVisible = true}}},[_c('ht-icon',{attrs:{"name":"setting"}})],1)],1):_vm._e(),(_vm.multiViewSwitch)?_c('el-button-group',{staticClass:"multiview-switcher"},[_c('el-tooltip',{attrs:{"content":_vm.$t('ht.table.cardView'),"placement":"top"}},[_c('el-button',{attrs:{"type":_vm.isCardView ? 'primary' : 'default'},on:{"click":function($event){_vm.isCardView = true}}},[_c('ht-icon',{attrs:{"name":"block"}})],1)],1),_c('el-tooltip',{attrs:{"content":_vm.$t('ht.table.tableView'),"placement":"top"}},[_c('el-button',{attrs:{"type":_vm.isCardView ? 'default' : 'primary'},on:{"click":function($event){_vm.isCardView = false}}},[_c('ht-icon',{attrs:{"name":"line"}})],1)],1)],1):_vm._e()],1)],1):_vm._e()]):_vm._e(),_c('el-collapse-transition',[_c('div',{directives:[{name:"show",rawName:"v-show",value:(_vm.showAdvancedSearch || _vm.justShowSearch),expression:"showAdvancedSearch || justShowSearch"}],ref:"searchPanel",staticClass:"search-panel"},[_vm._t("search")],2)]),(_vm.hasToolBar)?_c('div',{ref:"toolbarContainer",staticClass:"toolbar-container"},[_vm._t("toolbar")],2):_vm._e(),(!_vm.isCardView)?_c('el-table',{directives:[{name:"loading",rawName:"v-loading",value:(_vm.loading && !_vm.noLoading),expression:"loading && !noLoading"}],ref:"htTable",staticClass:"ht-table",class:{ 'no-data-table': _vm.data.length < 1 },style:({
      height: ("" + (_vm.isDataView ? _vm.auto : _vm.tableMaxHeight ? _vm.tableMaxHeight + 'px' : '400px')),
    }),attrs:{"stripe":_vm.stripe,"border":"","data":_vm.data,"size":_vm.size,"empty-text":_vm.emptyText,"show-header":_vm.showHeader,"max-height":_vm.tableMaxHeight ? _vm.tableMaxHeight : 400,"tooltip-effect":_vm.tooltipEffect,"default-querys":_vm.defaultQuerys,"header-row-class-name":_vm.headerRowClassName,"header-cell-class-name":_vm.headerCellClassName,"highlight-current-row":_vm.highlightCurrentRow,"row-class-name":_vm.rowClassName,"cell-class-name":_vm.cellClassName,"row-key":_vm.rowKey},on:{"row-click":_vm.handleRowClick,"select":_vm.handleTableSelect,"select-all":_vm.handleTableSelect,"sort-change":_vm.handleSortChange,"filter-change":_vm.handleFilterChange,"selection-change":function (selection) { return _vm.$emit('selection-change', selection); }}},[(_vm.selectable)?_c('el-table-column',{attrs:{"type":"selection","align":"center","reserve-selection":_vm.reserveSelection,"width":"45"}}):_vm._e(),_vm._t("default"),_c('template',{slot:"empty"},[_c('el-image',{attrs:{"src":_vm.tableNoDataImg}}),_c('p',{staticClass:"no-data-text"},[_vm._v(_vm._s(_vm.emptyText || _vm.t('el.table.emptyText')))])],1)],2):_c('div',{directives:[{name:"loading",rawName:"v-loading",value:(_vm.loading && !_vm.noLoading),expression:"loading && !noLoading"}],staticClass:"ht-card",style:({ height: "" + _vm.tableMaxHeight + 'px' })},[(_vm.loading || (_vm.data && _vm.data.length > 0))?[(_vm.cardItemMode)?_c('div',{staticClass:"ht-card__container"},_vm._l((_vm.data),function(item,index){return _c('el-card',{key:index,attrs:{"shadow":"hover"},nativeOn:{"click":function($event){return _vm.$emit('card-click', item)}}},[_vm._t("card",null,{"item":item})],2)}),1):_c('div',[_vm._t("card",null,{"data":_vm.data})],2)]:_c('div',{staticClass:"el-table__empty-block"},[(_vm.data.length < 1 && !_vm.emptyText)?[_vm._t("empty-card")]:(_vm.emptyText)?_c('span',{staticClass:"el-table__empty-text"},[_vm._v("\n        "+_vm._s(_vm.emptyText || _vm.t('el.table.emptyText'))+"\n      ")]):_vm._e()],2)],2),(!_vm.nopagination)?_c('div',{ref:"paginationPanel",staticClass:"pagination-panel"},[_c('el-row',{attrs:{"type":"flex","justify":_vm.tablePaginationJustify}},[_c('el-pagination',{class:{ 'page-sizes__hidden': _vm.hidePageSizes },attrs:{"small":_vm.small,"disabled":_vm.loading,"current-page":_vm.pagination.page,"page-sizes":_vm.pageSizes,"page-size":_vm.pagination.pageSize,"pager-count":_vm.pagerCount,"background":_vm.$paginationBackground,"layout":_vm.layout,"total":_vm.pagination.total},on:{"size-change":_vm.handleSizeChange,"current-change":_vm.handleCurrentChange}})],1)],1):_vm._e(),_c('custom-column',{attrs:{"custom-columns":_vm.customColumns,"visible":_vm.customColumnDialogVisible},on:{"update:visible":function($event){_vm.customColumnDialogVisible=$event},"apply-custom-column":_vm.handleApplyCustomColumn}})],1)}
var Tablevue_type_template_id_0d10ce15_scoped_true_staticRenderFns = []


// CONCATENATED MODULE: ./packages/Table/src/Table.vue?vue&type=template&id=0d10ce15&scoped=true

// EXTERNAL MODULE: ./src/locale/index.js + 2 modules
var locale = __webpack_require__("fe07");

// CONCATENATED MODULE: ./src/mixins/locale.js

/* harmony default export */ var mixins_locale = ({
  methods: {
    t(...args) {
      return locale["c" /* t */].apply(this, args);
    }
  }
});
// CONCATENATED MODULE: ./src/mixins/emitter.js
function emitter_broadcast(componentName, eventName, params) {
  this.$children.forEach(child => {
    var name = child.$options.componentName;
    if (name === componentName) {
      child.$emit.apply(child, [eventName].concat(params));
    } else {
      emitter_broadcast.apply(child, [componentName, eventName].concat([params]));
    }
  });
}
/* harmony default export */ var emitter = ({
  methods: {
    dispatch(componentName, eventName, params) {
      var parent = this.$parent || this.$root;
      var name = parent.$options.componentName;
      while (parent && (!name || name !== componentName)) {
        parent = parent.$parent;
        if (parent) {
          name = parent.$options.componentName;
        }
      }
      if (parent) {
        parent.$emit.apply(parent, [eventName].concat(params));
      }
    },
    broadcast(componentName, eventName, params) {
      emitter_broadcast.call(this, componentName, eventName, params);
    }
  }
});
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"8bdeefa2-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/Table/src/CustomColumn.vue?vue&type=template&id=4bb2a92e&scoped=true
var CustomColumnvue_type_template_id_4bb2a92e_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{attrs:{"visible":_vm.visible,"width":"700px","custom-class":"custom-column__dialog","append-to-body":"","before-close":_vm.customColumnDialogCancel},on:{"update:visible":function($event){_vm.visible=$event}}},[_c('template',{slot:"title"},[_c('ht-h3',{attrs:{"inline":""}},[_vm._v(_vm._s(_vm.$t('ht.table.customColumn')))]),_c('span',{staticClass:"custom-column__desc"},[_vm._v("\n      "+_vm._s(_vm.$t('ht.table.customColumnDesc'))+"\n    ")])],1),_c('draggable',_vm._b({staticClass:"el-select-dropdown__list",attrs:{"tag":"ul","handle":".custom-column__handle","draggable":".draggable_disable"},model:{value:(_vm.currentCustomColumns),callback:function ($$v) {_vm.currentCustomColumns=$$v},expression:"currentCustomColumns"}},'draggable',_vm.dragOptions,false),[_c('transition-group',{attrs:{"type":"transition","name":"flip-list"}},_vm._l((_vm.currentCustomColumns),function(column,index){return _c('li',{key:column.key,class:[
          'el-select-dropdown__item',
          index == _vm.currentCustomColumns.length - 1 ? '' : 'draggable' ]},[_c('div',[_c('div',{staticClass:"column-name__head"},[_c('el-checkbox',{staticClass:"column-checked",attrs:{"disabled":column.required},model:{value:(column.checked),callback:function ($$v) {_vm.$set(column, "checked", $$v)},expression:"column.checked"}})],1),_c('div',{class:[
              'column-name__container',
              index == _vm.currentCustomColumns.length - 1
                ? ''
                : 'custom-column__handle' ],on:{"click":function($event){return _vm.handleNameClick(column)}}},[_c('div',{staticClass:"column-name__progress",style:(_vm.progressWidth(column.width))},[_c('ht-icon',{staticClass:"column-name__sort",attrs:{"name":"sort"}}),_c('span',[_vm._v(_vm._s(column.value))])],1)]),_c('div',{staticClass:"column-name__tail"},[(column.required)?_c('span',{staticClass:"column-name__required"},[_vm._v("\n              "+_vm._s(_vm.$t('ht.table.required'))+"\n            ")]):_vm._e(),_c('span',[_vm._v(_vm._s(_vm.$t('ht.table.width')))]),_c('input',{directives:[{name:"model",rawName:"v-model",value:(column.width),expression:"column.width"}],attrs:{"type":"text"},domProps:{"value":(column.width)},on:{"input":function($event){if($event.target.composing){ return; }_vm.$set(column, "width", $event.target.value)}}}),_c('span',[_vm._v("px")])])])])}),0)],1),_c('span',{staticClass:"dialog-footer",attrs:{"slot":"footer"},slot:"footer"},[_c('el-button',{attrs:{"size":"small"},on:{"click":_vm.customColumnDialogReset}},[_vm._v("\n      "+_vm._s(_vm.$t('ht.table.restoreDefault'))+"\n    ")]),_c('el-button',{attrs:{"type":"primary","size":"small"},on:{"click":_vm.customColumnDialogSure}},[_vm._v("\n      "+_vm._s(_vm.$t('ht.common.confirm'))+"\n    ")]),_c('el-button',{attrs:{"size":"small"},on:{"click":_vm.customColumnDialogCancel}},[_vm._v("\n      "+_vm._s(_vm.$t('ht.common.cancle'))+"\n    ")])],1)],2)}
var CustomColumnvue_type_template_id_4bb2a92e_scoped_true_staticRenderFns = []


// CONCATENATED MODULE: ./packages/Table/src/CustomColumn.vue?vue&type=template&id=4bb2a92e&scoped=true

// EXTERNAL MODULE: ./src/util/base64.js
var base64 = __webpack_require__("c46f");

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/Table/src/CustomColumn.vue?vue&type=script&lang=js
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//



const draggable = __webpack_require__("289a");
/* harmony default export */ var CustomColumnvue_type_script_lang_js = ({
  name: 'CustomColumn',
  components: {
    draggable
  },
  props: {
    customColumns: {
      type: Array,
      default: () => {
        return null;
      }
    },
    visible: {
      type: Boolean,
      default: false
    }
  },
  data() {
    return {
      customColumnsHashCode: null,
      currentCustomColumns: null,
      storageCustomColumns: null
    };
  },
  computed: {
    dragOptions() {
      return {
        animation: 0,
        group: 'description',
        disabled: false,
        ghostClass: 'ghost'
      };
    },
    progressWidth() {
      return width => {
        return width == 'auto' ? {
          width: '100%'
        } : {
          width: `${width / 500 * 100}%`
        };
      };
    }
  },
  watch: {
    visible: function (newVal) {
      if (newVal) {
        this.initialCurrentCustomColumn();
      } else {
        this.currentCustomColumns = null;
        this.storageCustomColumns = null;
      }
    }
  },
  mounted() {
    setTimeout(() => {
      this.initialCurrentCustomColumn();
      this.applyCustomColumn();
    }, 10);
  },
  methods: {
    handleNameClick(column) {
      if (!column.required) {
        column.checked = !column.checked;
      }
    },
    getCustomColumnsHashCode() {
      if (!this.customColumnsHashCode && this.customColumns && this.customColumns.length > 0) {
        const keys = this.customColumns.reduce((m, n) => m.concat(n.key), []);
        // 获取当前自定义列表项的hashCode
        this.customColumnsHashCode = utils["a" /* default */].hashCode(keys.join(','));
      }
    },
    // 自定义列表项确定按钮
    customColumnDialogSure() {
      this.applyCustomColumn();
      // 同步选中状态到localStorage中
      if (this.customColumnsHashCode) {
        this.setLocalStorage(this.customColumnsHashCode, this.currentCustomColumns);
      }
      this.$emit('update:visible', false);
    },
    // 自定义列表项取消按钮
    customColumnDialogCancel() {
      this.$emit('update:visible', false);
    },
    // 自定义列恢复默认
    customColumnDialogReset() {
      this.currentCustomColumns.forEach(item => {
        if (!item.checked) item.checked = !item.checked;
      });
    },
    // 初始化自定义列表项
    initialCurrentCustomColumn() {
      // 1.根据当前列构建storage存储hash
      this.getCustomColumnsHashCode();
      // 2.通过hash获取localStorage中的设置
      if (this.customColumnsHashCode) {
        this.currentCustomColumns = this.getLocalStorage(this.customColumnsHashCode);
      }
      // 3.没有localStorage时，复制一份传入的数据
      if (!this.currentCustomColumns) {
        this.currentCustomColumns = [...this.customColumns];
      }
    },
    // 将自定义列表项应用到当前表格、自定义列表项数组中
    applyCustomColumn() {
      if (!this.currentCustomColumns || this.currentCustomColumns.length == 0) {
        return;
      }
      this.$emit('apply-custom-column', [this.currentCustomColumns]);
    },
    // 从localStorage中获取用于存放自定义列表项的对象
    getObjectFromLocalStorage() {
      if (localStorage) {
        let customColumnSetting = localStorage.getItem('customColumnSetting');
        if (!customColumnSetting) {
          customColumnSetting = '{}';
        }
        /* eslint-disable */
        try {
          customColumnSetting = JSON.parse(customColumnSetting);
        } catch (e) {}
        /* eslint-enable */
        if (!customColumnSetting || typeof customColumnSetting != 'object') {
          customColumnSetting = {};
        }
        return customColumnSetting;
      }
      return null;
    },
    setLocalStorage(key, value) {
      let customColumnSetting = this.getObjectFromLocalStorage();
      if (customColumnSetting) {
        customColumnSetting[key] = Object(base64["b" /* encode */])(JSON.stringify(value));
        localStorage.setItem('customColumnSetting', JSON.stringify(customColumnSetting));
      }
    },
    getLocalStorage(key) {
      let customColumnSetting = this.getObjectFromLocalStorage();
      if (customColumnSetting) {
        const result = customColumnSetting[key];
        if (result) {
          return JSON.parse(Object(base64["a" /* decode */])(result));
        }
      }
      return null;
    }
  }
});
// CONCATENATED MODULE: ./packages/Table/src/CustomColumn.vue?vue&type=script&lang=js
 /* harmony default export */ var src_CustomColumnvue_type_script_lang_js = (CustomColumnvue_type_script_lang_js); 
// EXTERNAL MODULE: ./packages/Table/src/CustomColumn.vue?vue&type=style&index=0&id=4bb2a92e&prod&lang=scss&scoped=true
var CustomColumnvue_type_style_index_0_id_4bb2a92e_prod_lang_scss_scoped_true = __webpack_require__("6669");

// CONCATENATED MODULE: ./packages/Table/src/CustomColumn.vue






/* normalize component */

var CustomColumn_component = normalizeComponent(
  src_CustomColumnvue_type_script_lang_js,
  CustomColumnvue_type_template_id_4bb2a92e_scoped_true_render,
  CustomColumnvue_type_template_id_4bb2a92e_scoped_true_staticRenderFns,
  false,
  null,
  "4bb2a92e",
  null
  
)

/* harmony default export */ var CustomColumn = (CustomColumn_component.exports);
// EXTERNAL MODULE: external "element-resize-detector"
var external_element_resize_detector_ = __webpack_require__("5f722");
var external_element_resize_detector_default = /*#__PURE__*/__webpack_require__.n(external_element_resize_detector_);

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/Table/src/Table.vue?vue&type=script&lang=js
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//






/* harmony default export */ var Tablevue_type_script_lang_js = ({
  name: 'HtTable',
  components: {
    CustomColumn: CustomColumn
  },
  mixins: [mixins_locale, emitter],
  props: {
    //是否使用小型分页样式
    small: {
      type: Boolean,
      default: false
    },
    size: {
      type: String,
      default: 'mini'
    },
    tooltipEffect: {
      type: String,
      default: 'dark'
    },
    justShowSearch: {
      //为true时只显示高级搜索中的查询条件
      type: Boolean,
      default: false
    },
    paginationJustify: {
      type: String,
      default: 'start',
      validator: function (value) {
        return ['start', 'end', 'center'].indexOf(value) !== -1;
      }
    },
    data: Array,
    showHeader: {
      type: Boolean,
      default: true
    },
    pageResult: {
      type: Object,
      default: () => {
        return {
          page: 1,
          pageSize: 50,
          total: 0
        };
      }
    },
    pageSizes: {
      type: Array,
      default: () => {
        return [10, 20, 50, 100, 200, 300];
      }
    },
    pagerCount: {
      type: Number,
      default: 7
    },
    nopagination: {
      type: Boolean,
      default: false
    },
    highlightCurrentRow: {
      type: Boolean,
      default: false
    },
    selectable: {
      type: Boolean,
      default: true
    },
    quickSearchProps: [String, Array],
    headerRowClassName: [String, Function],
    headerCellClassName: [String, Function],
    rowClassName: [String, Function],
    cellClassName: [String, Function],
    showExport: {
      type: Boolean,
      default: false
    },
    showCustomColumn: {
      type: Boolean,
      default: true
    },
    defaultQuerys: {
      type: Array,
      default() {
        return [];
      }
    },
    defaultSorter: {
      type: Array,
      default() {
        return [];
      }
    },
    isLoadTable: {
      //是否默认在mounted函数中请求table数据
      type: Boolean,
      default: true
    },
    quickSearchWidth: {
      type: Number,
      default: 400
    },
    customTableHeight: {
      type: [String, Number],
      //自定义传入固定高度
      validator: val => {
        if (typeof val == 'number') {
          return val > 0;
        } else if (typeof val == 'string') {
          const numVal = Number(val);
          return !isNaN(numVal) && numVal > 0;
        } else {
          return false;
        }
      }
    },
    multiViewSwitch: {
      // 是否支持多视图切换
      type: Boolean,
      default: false
    },
    cardView: {
      // 是否卡片视图
      type: Boolean,
      default: false
    },
    cardItemMode: {
      // 是否单个卡片模式
      type: Boolean,
      default: true
    },
    noHeader: {
      // 不显示整个工具栏
      type: Boolean,
      default: false
    },
    emptyText: String,
    rowClickSelect: {
      // 单击行时是否选中该行数据
      type: Boolean,
      default: true
    },
    autoFix: {
      //是否在表头高度改变时，触发doLayout操作
      type: Boolean,
      default: false
    },
    hidePageSizes: {
      type: Boolean,
      default: false
    },
    tableNoDataImg: {
      type: String,
      default: __webpack_require__("9f33")
    },
    noLoading: {
      type: Boolean,
      default: false
    },
    rowKey: {
      type: [Function, String]
    },
    reserveSelection: {
      type: Boolean,
      default: false
    },
    stripe: {
      type: Boolean,
      default: false
    },
    layout: {
      type: String,
      default: 'total, sizes, prev, pager, next, jumper'
    },
    isDataView: {
      type: Boolean,
      default: false
    }
  },
  data() {
    return {
      resetDefaultFilter: [],
      // 重置时需把默认筛选条件重置
      querys: [],
      sorter: null,
      quickSearchWord: null,
      quickSearchPlaceholder: this.$t('ht.table.searchPlaceholder'),
      quickSearchConfig: null,
      hasSearchPanel: false,
      filters: {},
      pagination: {
        ...this.pageResult
      },
      tableMaxHeight: 400,
      showAdvancedSearch: false,
      loading: false,
      columns: [],
      customColumns: [],
      customColumnDialogVisible: false,
      selection: [],
      tablePanelHeight: 0,
      isCardView: this.cardView
    };
  },
  computed: {
    calDefaultQuerys: function () {
      let calQuerys = [];
      let query = {
        group: 'defaultQueryGroup',
        operation: 'EQUAL',
        relation: 'AND'
      };
      this.defaultQuerys.forEach(c => {
        // 如果有重置过筛选条件的 需在默认条件中剔除
        if (this.resetDefaultFilter.indexOf(c.property) === -1 && c.property && !this.resetDefaultFilter.some(item => {
          return c.property.includes(item);
        })) {
          calQuerys.push({
            ...query,
            ...c
          });
        }
      });
      return calQuerys;
    },
    hasToolBar() {
      return this.$slots.toolbar && this.$slots.toolbar.length > 0;
    },
    hideTableSearch() {
      const hasQuickSearch = this.quickSearchConfig && this.quickSearchConfig.length > 0;
      return !this.showAdvancedSearch && !this.hasToolBar && !hasQuickSearch;
    },
    customTableHeightNum() {
      return typeof this.customTableHeight == 'number' ? this.customTableHeight : Number(this.customTableHeight);
    },
    quickSearchWidthStyle() {
      return {
        width: `${this.quickSearchWidth}` + 'px'
      };
    },
    tablePaginationJustify() {
      return this.$allPaginationJustify || this.paginationJustify;
    }
  },
  watch: {
    justShowSearch: {
      handler(val) {
        if (val) {
          this.showAdvancedSearch = true;
        }
      },
      immediate: true
    },
    isCardView: function (newVal, oldVal) {
      if (newVal !== oldVal) {
        this.selection = [];
        this.$emit('view-change', newVal);
      }
    },
    customTableHeight() {
      this.calcTableHeight();
    }
  },
  created() {
    this.initCustomColumns();
    this.$on('advance-search', (data, isSearchBtn) => this.advanceSearch(data, isSearchBtn));
    setTimeout(() => {
      this.quickSearchProps && this.generateQuickSearchConfig();
    }, 100);
  },
  activated() {
    this.doLayout();
  },
  mounted() {
    // 判断是否有高级搜索面板
    this.hasSearchPanel = !!this.$scopedSlots.search;
    if (this.isLoadTable) {
      this.load();
    }
    this.calcTableHeight();
    this.$watch('showAdvancedSearch', (n, o) => {
      if (n !== o) {
        if (n) {
          this.quickSearchWord = null;
        }
        // 显示或收起搜索面板时，重新计算表格高度
        this.calcTableHeight(300);
        this.$emit('advanced-show', n);
      }
    });
    this.$watch('pageResult', (n, o) => {
      if (n !== o) {
        this.pagination = {
          ...n
        };
      }
    });
    this.$root.$on('resize', () => {
      this.tablePanelHeight = 0;
      this.calcTableHeight(300);
    });
    if (this.autoFix) {
      this.addResizeListener();
    }
  },
  methods: {
    setColumns(n) {
      if (n && n.componentOptions) {
        this.columns.push(n.componentOptions.propsData);
      }
      if (n && n.componentOptions && n.componentOptions.children) {
        n.componentOptions.children.forEach(i => {
          this.setColumns(i);
        });
      }
    },
    initCustomColumns() {
      const me = this;
      const ary = [];
      setTimeout(() => {
        if (!me.$slots || !me.$slots.default || me.$slots.default.length == 0) {
          return;
        }
        const count = me.$slots.default.length;
        // 从插槽中获取到当前表格的所有列
        me.$slots.default && me.$slots.default.forEach((n, index) => {
          // 将当前表格的列放入一个数组 多表头时需递归改造
          me.setColumns(n);
          if (n && n.componentOptions) {
            const pd = n.componentOptions.propsData;
            // 将当前有有prop和label的列放入自定义列表项的数组中
            if (pd.label) {
              const hasChildren = n.componentOptions.children && n.componentOptions.children.length > 0;
              ary.push({
                key: pd.prop || pd.label,
                value: pd.label,
                checked: !(pd.hidden === true || pd.hidden === '') || pd.required === true || pd.required === '' || index == count - 1 || hasChildren,
                required: pd.required === true || pd.required === '' || index == count - 1 || hasChildren,
                width: pd.width || 'auto'
              });
            }
          }
        });
        me.customColumns = ary;
      }, 0);
    },
    handleApplyCustomColumn(columns) {
      this.broadcast('HtTableColumn', 'customColumn', columns);
      this.$nextTick(() => {
        setTimeout(() => this.doLayout(), 200);
      });
    },
    doQuickSearch() {
      // 先删除快速查询的查询条件
      this.clearQueryByGroupName('quick');
      this.clearQueryByGroupName('advance');
      this.quickSearchWord && this.quickSearchConfig.forEach(c => {
        let query = {
          property: c.prop,
          value: this.quickSearchWord.trim(),
          group: 'quick',
          relation: 'OR',
          operation: 'LIKE'
        };
        this.querys.push(query);
      });
      this.load();
    },
    clickQuickSearch($event) {
      if (!(this.loading || this.showAdvancedSearch) && $event && $event.target && $event.target.tagName == 'I') {
        this.$nextTick(() => {
          this.doQuickSearch();
        });
      }
    },
    advanceSearch(data, isSearchBtn) {
      if (this.loading || !this.showAdvancedSearch) {
        return;
      }
      this.clearQueryByGroupName('quick');
      this.clearQueryByGroupName('advance');
      data && data.forEach(d => {
        const shouldPush = d.value != null && d.value != undefined && d.value != '';
        // 高级搜索中支持一个搜索框中关联多个属性进行搜索
        if (d.prop.indexOf(',') > 0) {
          const propAry = utils["a" /* default */].stringSplit(d.prop, ',');
          if (propAry && propAry.length > 0) {
            const groupName = `group_${propAry[0]}`;
            this.clearQueryByGroupName(groupName);
            shouldPush && propAry.forEach(p => {
              this.querys.push({
                property: p,
                value: d.value,
                group: groupName,
                relation: 'OR',
                operation: d.operation
              });
            });
          }
        } else {
          shouldPush && this.querys.push({
            property: d.prop,
            value: d.value,
            group: 'advance',
            relation: d.relation,
            operation: d.operation
          });
        }
      });
      this.load('', isSearchBtn);
    },
    // 加载数据
    load(doNotResetPage, isSearchBtn) {
      this.loading = true;
      // 默认重置页码为第一页
      if (!doNotResetPage) {
        this.pagination.page = 1;
      }
      let param = {
        pageBean: this.pagination,
        sorter: []
      };
      if (this.sorter && this.sorter.length > 0) {
        param.sorter = this.sorter;
      }
      // 处理默认排序字段。只有当用户没有选择排序字段才使用默认排序
      if (this.defaultSorter.length > 0 && param.sorter.length == 0) {
        param.sorter = [...this.defaultSorter];
      }
      // 处理过滤条件
      this.handleFilters();
      if (this.querys && this.querys.length > 0) {
        param.querys = this.querys;
      }

      // 处理查询条件
      if (this.calDefaultQuerys.length > 0) {
        if (!param.querys) {
          param.querys = [];
        }
        this.calDefaultQuerys.forEach(item => {
          param.querys.remove(item);
        });
        // 默认查询条件和当前查询条件重复时，取消默认条件
        param.querys = param.querys.concat(this.calDefaultQuerys.filter(item => {
          let index = param.querys.findIndex(sub => {
            return sub.property === item.property || item.property && item.property.includes(sub.property);
          });
          return index === -1;
        }));
      }
      const me = this;
      // 防止外部没有回调，设置10秒后自动取消加载中的状态
      let waitTime = 10000;
      if (!this._events || !this._events.load || !this._events.load.length) {
        // 如果没有绑定在当前组件里的load事件，即组件仅仅作展示数据用 直接取消loading
        waitTime = 0;
      }
      const finalTickCB = setTimeout(function () {
        me.loading = false;
        this.selection = [];
      }, waitTime);
      if (this.nopagination) {
        param.pageBean = {};
      }
      const loadedHandler = () => {
        // 外部已经回调的情况下，取消倒计时
        clearTimeout(finalTickCB);
        me.loading = false;
        this.selection = [];
        // setTimeout(() => {
        //   me.$refs.quickSearch &&
        //     me.$refs.quickSearch.$children[0].$el.children[0].focus()
        // })
      };
      this.$emit('load', {
        ...param
      }, loadedHandler, isSearchBtn);
      this.$emit('loading', {
        ...param
      }, loadedHandler, isSearchBtn);
    },
    // 通过列属性获取列标签
    getColumnLabelByProp(prop) {
      let label = null;
      if (!prop) {
        return label;
      }
      this.columns.forEach(c => {
        if (c.prop && c.prop === prop) {
          label = c.label;
        }
      });
      return label;
    },
    // 构建快速搜索配置项
    generateQuickSearchConfig() {
      let labelAry = [];
      if (typeof this.quickSearchProps == 'string') {
        const props = utils["a" /* default */].stringSplit(this.quickSearchProps, ',');
        this.quickSearchConfig = [];
        props.forEach(prop => {
          const label = this.getColumnLabelByProp(prop);
          if (label) {
            labelAry.push(label);
            this.quickSearchConfig.push({
              prop,
              label
            });
          }
        });
      }
      if (typeof this.quickSearchProps == 'object') {
        this.quickSearchProps.forEach(prop => {
          if (prop && prop.label) {
            labelAry.push(prop.label);
          }
        });
        this.quickSearchConfig = [...this.quickSearchProps];
      }
      this.quickSearchPlaceholder = `${this.t('ht.common.enter')}${labelAry.join(',')}${this.t('ht.common.toSearch')}`;
    },
    // 通过分组名称清除对应查询条件
    clearQueryByGroupName(groupName) {
      // 待删除的查询条件
      let toDelete = [];
      this.querys && this.querys.forEach(query => {
        if (query.group == groupName) {
          toDelete.push(query);
        }
      });
      toDelete.forEach(d => {
        this.querys.remove(d);
      });
    },
    handleFilters() {
      this.clearQueryByGroupName('filter');
      // 将过滤条件添加查询参数数组中
      if (this.filters && Object.keys(this.filters).length > 0) {
        Object.keys(this.filters).forEach(k => {
          const filter = this.filters[k];
          let query = {
            property: k,
            value: filter[0],
            group: 'filter',
            relation: 'AND'
          };
          if (filter.length == 1) {
            query.operation = 'EQUAL';
            this.querys.push(query);
          } else if (filter.length > 1) {
            query.operation = 'IN';
            query.value = filter;
            this.querys.push(query);
          }
        });
      }
    },
    handleSizeChange(pageSize) {
      this.pagination = {
        ...this.pagination,
        pageSize
      };
      this.$emit('size-change', pageSize);
      this.load();
    },
    handleCurrentChange(page) {
      this.pagination = {
        ...this.pagination,
        page
      };
      // 翻页时不重置页码
      this.$emit('current-change', page);
      this.load(true);
    },
    handleRowClick(row, column, event) {
      if (this.rowClickSelect) {
        if (this.selection.some(s => s === row)) {
          this.selection.remove(row);
        } else {
          this.selection.push(row);
        }
        this.$refs.htTable.toggleRowSelection(row);
      }
      this.$emit('row-click', row, column, event);
    },
    handleTableSelect(selection, row) {
      this.selection = selection;
      if (row) {
        this.$emit('select', selection, row);
      } else {
        this.$emit('select-all', selection);
      }
    },
    handleSortChange(column) {
      if (!column.order) {
        this.sorter = null;
      } else {
        this.sorter = [{
          property: column.prop,
          direction: column.order == 'ascending' ? 'ASC' : 'DESC'
        }];
      }
      this.load(true);
      this.$emit('sort-change', column);
    },
    handleFilterChange(m) {
      // 如果是点击的是重置 筛选条件 需把默认的筛选条件里数据也删除掉
      if (m) {
        Object.keys(m).forEach(key => {
          if (m[key] && m[key].length == 0 && this.resetDefaultFilter.indexOf(key) === -1) {
            this.resetDefaultFilter.push(key);
          }
        });
      }
      this.filters = {
        ...this.filters,
        ...m
      };
      Object.keys(this.filters).forEach(k => {
        if (!this.filters[k] || this.filters[k].length == 0) {
          delete this.filters[k];
        }
      });
      this.load();
      this.$emit('filter-change', m);
    },
    doLayout() {
      this.$nextTick(() => {
        this.$refs.htTable && this.$refs.htTable.doLayout();
      });
    },
    initTablePanelHeight() {
      this.tablePanelHeight = this.$refs.tablePanel.$el.clientHeight;
    },
    calcTableHeight(delay) {
      // 动态计算表格的高度，自适应当前容器
      setTimeout(() => {
        const toolbarPanelHeight = this.$refs.toolbarPanel && this.$refs.toolbarPanel.clientHeight || 0;
        const searchPanelHeight = this.$refs.searchPanel && this.$refs.searchPanel.clientHeight || 0;
        const toolbarContainerHeight = this.$refs.toolbarContainer && this.$refs.toolbarContainer.clientHeight || 0;
        const paginationPanelHeight = this.$refs.paginationPanel && this.$refs.paginationPanel.clientHeight || 0;
        // 下外边距
        const searchPanelBottom = searchPanelHeight > 0 ? 20 : 0;
        const toolbarPanelBottom = toolbarPanelHeight > 0 ? 20 : 0;
        const toolbarContainerBottom = toolbarContainerHeight > 0 ? 20 : 0;

        //2为边框
        // 表格之外的高度
        const tableOuterHeight = toolbarPanelHeight + toolbarPanelBottom + searchPanelHeight + searchPanelBottom + toolbarContainerHeight + toolbarContainerBottom + paginationPanelHeight + 15;
        if (this.$refs.tablePanel) {
          this.tablePanelHeight = this.$refs.tablePanel.$el.clientHeight || 0;
        }
        if (this.customTableHeightNum) {
          this.tableMaxHeight = this.customTableHeightNum - tableOuterHeight;
        } else {
          if (!this.$refs.tablePanel) {
            return;
          }
          if (this.tablePanelHeight == 0) {
            this.initTablePanelHeight();
          }
          const tableHeight = this.tablePanelHeight - tableOuterHeight;
          this.tableMaxHeight = tableHeight;
        }
      }, delay || 0);
    },
    addResizeListener() {
      //监听表头高度变化，如果
      this.$nextTick(() => {
        let erd = external_element_resize_detector_default()();
        erd.listenTo(this.$refs.htTable.$refs.headerWrapper.getElementsByTagName('tr')[0], this.doLayout);
      });
    }
  }
});
// CONCATENATED MODULE: ./packages/Table/src/Table.vue?vue&type=script&lang=js
 /* harmony default export */ var src_Tablevue_type_script_lang_js = (Tablevue_type_script_lang_js); 
// EXTERNAL MODULE: ./packages/Table/src/Table.vue?vue&type=style&index=0&id=0d10ce15&prod&lang=scss&scoped=true
var Tablevue_type_style_index_0_id_0d10ce15_prod_lang_scss_scoped_true = __webpack_require__("42de");

// CONCATENATED MODULE: ./packages/Table/src/Table.vue






/* normalize component */

var Table_component = normalizeComponent(
  src_Tablevue_type_script_lang_js,
  Tablevue_type_template_id_0d10ce15_scoped_true_render,
  Tablevue_type_template_id_0d10ce15_scoped_true_staticRenderFns,
  false,
  null,
  "0d10ce15",
  null
  
)

/* harmony default export */ var Table = (Table_component.exports);
// CONCATENATED MODULE: ./packages/Table/index.js

Table.install = function (Vue) {
  Vue.component(Table.name, Table);
};
/* harmony default export */ var packages_Table = (Table);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"8bdeefa2-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/TableColumn/src/main.vue?vue&type=template&id=69279f9e
var mainvue_type_template_id_69279f9e_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (!_vm.hiddenCol)?_c('el-table-column',{attrs:{"type":_vm.type,"align":_vm.align,"prop":_vm.prop,"label":_vm.label,"width":_vm.widthVal,"min-width":_vm.minWidth,"index":_vm.index,"sortable":_vm.columnSortable,"filters":_vm.filters,"filtered-value":_vm.filteredValue,"filter-method":_vm.filterMethod,"column-key":_vm.prop,"formatter":_vm.columnFormatter,"render-header":_vm.columnRenderHeader,"show-overflow-tooltip":_vm.showOverflowTooltip,"class-name":_vm.className,"fixed":_vm.fixed,"reserve-selection":_vm.reserveSelection,"resizable":_vm.resizable}}):_vm._e()}
var mainvue_type_template_id_69279f9e_staticRenderFns = []


// CONCATENATED MODULE: ./packages/TableColumn/src/main.vue?vue&type=template&id=69279f9e

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/TableColumn/src/main.vue?vue&type=script&lang=js
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//

/* harmony default export */ var TableColumn_src_mainvue_type_script_lang_js = ({
  name: 'HtTableColumn',
  componentName: 'HtTableColumn',
  props: {
    resizable: {
      type: Boolean,
      default: true
    },
    type: {
      type: String,
      validator: val => {
        return ['selection', 'index', 'expand'].indexOf(val) !== -1;
      }
    },
    align: {
      default: 'center',
      validator: val => {
        return ['left', 'center', 'right'].indexOf(val) !== -1;
      }
    },
    prop: String,
    label: String,
    width: String,
    minWidth: String,
    index: [Number, Function],
    sortable: {
      type: Boolean,
      default: false
    },
    filters: Array,
    showOverflowTooltip: {
      type: Boolean,
      default: false
    },
    fixed: {
      type: [Boolean, String],
      default: false,
      validator: val => [true, false, 'left', 'right'].indexOf(val) != -1
    },
    formatter: Function,
    renderHeader: Function,
    hidden: {
      type: Boolean,
      default: false
    },
    required: {
      type: Boolean,
      default: false
    },
    filteredValue: Array,
    filterMethod: Function,
    className: String,
    reserveSelection: {
      type: Boolean,
      default: false
    }
  },
  data() {
    return {
      hiddenCol: null,
      formatterObj: null,
      renderHeaderObj: null,
      curWidth: null
    };
  },
  computed: {
    hiddenVal() {
      return this.required ? false : this.hiddenCol != null ? this.hiddenCol : this.hidden;
    },
    widthVal() {
      return this.curWidth ? this.curWidth : this.width;
    },
    columnSortable: {
      get() {
        return this.sortable ? 'custom' : this.sortable;
      }
    },
    columnFormatter: {
      get() {
        if (this.formatter || this.formatterObj || !this.$scopedSlots.default) {
          let formatter = this.formatter ? this.formatter : this.formatterObj;
          if (this.$scopedSlots.default) {
            /* eslint-disable */
            this.formatterObj = (row, column, cellValue, index) => {
              return this.$scopedSlots.default({
                row,
                column,
                cellValue: formatter(row, column, cellValue, index),
                index
              });
            };
            return this.formatterObj;
          } else {
            return formatter;
          }
        } else {
          /* eslint-disable */
          this.formatterObj = (row, column, cellValue, index) => {
            return this.$scopedSlots.default({
              row,
              column,
              cellValue,
              index
            });
          };
          /* eslint-disable */
          return this.formatterObj;
        }
      }
    },
    columnRenderHeader: {
      get() {
        if (this.renderHeader || this.renderHeaderObj || !this.$scopedSlots.header) {
          return this.renderHeader ? this.renderHeader : this.renderHeaderObj;
        } else {
          const headerCB = this.$scopedSlots.header;
          /* eslint-disable */
          this.renderHeaderObj = (h, {
            column,
            $index
          }) => {
            return headerCB({
              column,
              $index
            });
          };
          /* eslint-disable */
          return this.renderHeaderObj;
        }
      }
    }
  },
  created() {
    this.$on('customColumn', columns => {
      const column = columns.find(c => this.prop && this.prop == c.key || !this.prop && this.label && this.label == c.value);
      if (column && !column.checked) {
        this.hiddenCol = true;
      } else {
        this.hiddenCol = null;
      }
      if (column && column.width && this.width !== column.width) {
        const oldHiddenCol = this.hiddenCol;
        this.curWidth = column.width;
        this.hiddenCol = true;
        // 调整宽度时内容可能没有适配新宽度，通过先隐藏再显示列的方式实现适配
        this.$nextTick(() => {
          this.hiddenCol = oldHiddenCol;
        });
      }
    });
  }
});
// CONCATENATED MODULE: ./packages/TableColumn/src/main.vue?vue&type=script&lang=js
 /* harmony default export */ var packages_TableColumn_src_mainvue_type_script_lang_js = (TableColumn_src_mainvue_type_script_lang_js); 
// CONCATENATED MODULE: ./packages/TableColumn/src/main.vue





/* normalize component */

var TableColumn_src_main_component = normalizeComponent(
  packages_TableColumn_src_mainvue_type_script_lang_js,
  mainvue_type_template_id_69279f9e_render,
  mainvue_type_template_id_69279f9e_staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* harmony default export */ var TableColumn_src_main = (TableColumn_src_main_component.exports);
// CONCATENATED MODULE: ./packages/TableColumn/index.js

TableColumn_src_main.install = function (Vue) {
  Vue.component(TableColumn_src_main.name, TableColumn_src_main);
};
/* harmony default export */ var TableColumn = (TableColumn_src_main);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"8bdeefa2-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/TableSearchPanel/src/main.vue?vue&type=template&id=427ae34c&scoped=true
var mainvue_type_template_id_427ae34c_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-form',{directives:[{name:"form",rawName:"v-form"}],attrs:{"data-vv-scope":"searchForm"}},[_c('div',{staticClass:"search-panel__container"},[_c(_vm.isFlexLayout ? 'div' : 'el-row',{tag:"component",staticClass:"search-panel__row",class:{ 'search-field__row': _vm.isFlexLayout }},[_vm._t("default")],2)],1),_c('div',{staticClass:"search-btn__wrap",class:{ 'flex-search__group': _vm.isFlexLayout }},[_c('el-button',{attrs:{"type":"primary","size":"small","icon":"el-icon-search"},on:{"click":function($event){return _vm.search(true)}}},[_vm._v("\n      "+_vm._s(_vm.$t('ht.common.searchFor'))+"\n    ")]),_c('el-button',{attrs:{"size":"small","icon":"el-icon-refresh-left"},on:{"click":_vm.reset}},[_vm._v("\n      "+_vm._s(_vm.$t('ht.common.reset'))+"\n    ")])],1)])}
var mainvue_type_template_id_427ae34c_scoped_true_staticRenderFns = []


// CONCATENATED MODULE: ./packages/TableSearchPanel/src/main.vue?vue&type=template&id=427ae34c&scoped=true

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/TableSearchPanel/src/main.vue?vue&type=script&lang=js
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//




/* harmony default export */ var TableSearchPanel_src_mainvue_type_script_lang_js = ({
  name: 'HtTableSearchPanel',
  componentName: 'HtTableSearchPanel',
  mixins: [emitter],
  props: {
    value: Object,
    divide: {
      type: Number,
      default: 4,
      validator: value => {
        return value > 0 && value < 5;
      }
    },
    labelWidth: {
      type: Number,
      default: 70
    },
    isFlexLayout: {
      type: Boolean,
      default: false
    },
    displayStyle: String
  },
  data() {
    return {
      fieldVms: [],
      fieldArray: [],
      formModelExpression: null,
      data: {},
      defaultData: {}
    };
  },
  computed: {
    calcSpan: {
      get() {
        return 24 / this.divide;
      }
    }
  },
  created() {
    if (this.$vnode.data.model && this.$vnode.data.model.expression) {
      this.formModelExpression = this.$vnode.data.model.expression;
    }
    this.$slots.default.forEach(v => {
      if (!v.componentOptions) {
        return;
      }
      this.fieldArray.push({
        ...v.componentOptions.propsData
      });
    });
    this.$on('field-loaded', ref => {
      // 搜索条件挂载完成后，添加其实例到数组中
      this.fieldVms.push(ref);
    });
    this.$on('input-change', (obj, prop) => {
      this.fieldArray = this.fieldArray.map(field => {
        return field.prop == prop ? {
          ...field,
          ...obj
        } : field;
      });
    });
    this.$on('search', isSearchBtn => this.search(isSearchBtn));
  },
  mounted() {
    if (this.formModelExpression) {
      this.$set(this.data, this.formModelExpression, this.value);
      this.defaultData = external_lodash_default.a.cloneDeep(this.value);
    }
    this.broadcast('HtTableSearchField', 'panel-props', [this.labelWidth, this.calcSpan, this.isFlexLayout, this.displayStyle]);
  },
  methods: {
    search(isSearchBtn) {
      if (isSearchBtn) {
        utils["a" /* default */].validateForm(this, 'searchForm').then(result => {
          this.$parent.$parent.$emit('advance-search', this.fieldArray, isSearchBtn);
        }).catch(items => {
          this.$message.error(this.$t('ht.table.validateErrorMsg', {
            itemsLength: items.length
          }));
          this.multipleTemplateTableloading = false;
        }).finally(() => {
          this.multipleTemplateTableloading = false;
        });
      } else {
        this.$parent.$parent.$emit('advance-search', this.fieldArray, isSearchBtn);
      }
    },
    reset() {
      if (this.formModelExpression) {
        Object.keys(this.data[this.formModelExpression]).forEach(key => {
          this.$set(this.data[this.formModelExpression], key, this.defaultData[key] ? this.defaultData[key] : null);
        });
      }
      this.fieldVms.forEach(vm => {
        vm.$emit('input-reset');
      });
      this.$nextTick(() => {
        this.search();
      });
    }
  }
});
// CONCATENATED MODULE: ./packages/TableSearchPanel/src/main.vue?vue&type=script&lang=js
 /* harmony default export */ var packages_TableSearchPanel_src_mainvue_type_script_lang_js = (TableSearchPanel_src_mainvue_type_script_lang_js); 
// EXTERNAL MODULE: ./packages/TableSearchPanel/src/main.vue?vue&type=style&index=0&id=427ae34c&prod&lang=scss&scoped=true
var mainvue_type_style_index_0_id_427ae34c_prod_lang_scss_scoped_true = __webpack_require__("20cd");

// CONCATENATED MODULE: ./packages/TableSearchPanel/src/main.vue






/* normalize component */

var TableSearchPanel_src_main_component = normalizeComponent(
  packages_TableSearchPanel_src_mainvue_type_script_lang_js,
  mainvue_type_template_id_427ae34c_scoped_true_render,
  mainvue_type_template_id_427ae34c_scoped_true_staticRenderFns,
  false,
  null,
  "427ae34c",
  null
  
)

/* harmony default export */ var TableSearchPanel_src_main = (TableSearchPanel_src_main_component.exports);
// CONCATENATED MODULE: ./packages/TableSearchPanel/index.js

TableSearchPanel_src_main.install = function (Vue) {
  Vue.component(TableSearchPanel_src_main.name, TableSearchPanel_src_main);
};
/* harmony default export */ var TableSearchPanel = (TableSearchPanel_src_main);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"8bdeefa2-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/TableSearchField/src/main.vue?vue&type=template&id=923094ca&scoped=true
var mainvue_type_template_id_923094ca_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(_vm.panelIsFlexLayout ? 'div' : 'el-col',{tag:"component",class:[
    'search-field__container',
    _vm.panelIsFlexLayout ? 'search-field__container-flex' : '' ],style:(_vm.containerStyle),attrs:{"span":_vm.colSpanVal}},[(!_vm.hideLabel)?_c('div',{staticClass:"field-label-panel",class:{ 'is-align-right': _vm.isAlignRight },style:({ width: _vm.finalLabelWidth + 'px' })},[(_vm.label)?_c('label',{directives:[{name:"ellipsis",rawName:"v-ellipsis"}],staticClass:"search-field-label",attrs:{"title":_vm.label}},[_vm._v("\n      "+_vm._s(_vm.label)+"\n    ")]):_vm._e()]):_vm._e(),_c('div',{staticClass:"field-input-panel",class:{ 'unset-width': _vm.isAlignRight },style:({ width: ("calc(100% - " + _vm.inputDivJudgeWidth + "px)") })},[(!_vm.hasDefaultSlot)?[(_vm.type == 'text')?_c('ht-input',{attrs:{"placeholder":_vm.placeholder,"display-style":_vm.finalDisplayStyle,"prefix-icon":_vm.prefixIcon,"suffix-icon":_vm.suffixIcon},nativeOn:{"keydown":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,"enter",13,$event.key,"Enter")){ return null; }return _vm.textInputEnter($event)}},model:{value:(_vm.data),callback:function ($$v) {_vm.data=$$v},expression:"data"}}):_vm._e(),(_vm.type == 'date')?_c('ht-date',{attrs:{"value-format":_vm.valueFormat,"placeholder":_vm.placeholder,"default-time":_vm.defaultTime,"display-style":_vm.finalDisplayStyle},model:{value:(_vm.data),callback:function ($$v) {_vm.data=$$v},expression:"data"}}):_vm._e(),(['datetimerange', 'daterange'].includes(_vm.type))?_c('el-date-picker',{attrs:{"size":"small","type":_vm.type,"default-time":['00:00:00', '23:59:59'],"value-format":_vm.valueFormat,"align":"right","unlink-panels":_vm.unlinkPanels,"range-separator":_vm.$t('ht.date.to'),"start-placeholder":_vm.$t('ht.date.startDate'),"end-placeholder":_vm.$t('ht.date.endDate'),"picker-options":_vm.pickerOptions},model:{value:(_vm.data),callback:function ($$v) {_vm.data=$$v},expression:"data"}}):_vm._e(),(_vm.type == 'select')?_c('ht-select',{attrs:{"placeholder":_vm.placeholder,"options":_vm.options,"props":_vm.props,"display-style":_vm.finalDisplayStyle},model:{value:(_vm.data),callback:function ($$v) {_vm.data=$$v},expression:"data"}}):_vm._e()]:_vm._t("default")],2)])}
var mainvue_type_template_id_923094ca_scoped_true_staticRenderFns = []


// CONCATENATED MODULE: ./packages/TableSearchField/src/main.vue?vue&type=template&id=923094ca&scoped=true

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/TableSearchField/src/main.vue?vue&type=script&lang=js
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//

/* eslint-disable */


/* harmony default export */ var TableSearchField_src_mainvue_type_script_lang_js = ({
  name: 'HtTableSearchField',
  componentName: 'HtTableSearchField',
  mixins: [emitter],
  props: {
    value: [String, Number, Boolean, Object, Array],
    defaultTime: {
      type: String,
      default: '00:00:00'
    },
    unlinkPanels: {
      type: Boolean,
      default: true
    },
    isAlignRight: {
      type: Boolean,
      default: false
    },
    span: {
      type: Number,
      default: 0
    },
    prop: {
      type: String,
      required: true
    },
    props: {
      type: Object,
      default: null
    },
    operation: {
      type: String,
      default: 'LIKE',
      validator: value => ['EQUAL', 'EQUAL_IGNORE_CASE', 'LESS', 'GREAT', 'LESS_EQUAL', 'GREAT_EQUAL', 'NOT_EQUAL', 'LIKE', 'LEFT_LIKE', 'RIGHT_LIKE', 'IS_NULL', 'NOTNULL', 'IN', 'BETWEEN'].indexOf(value) != -1
    },
    relation: {
      type: String,
      default: 'AND',
      validator: value => ['AND', 'OR'].indexOf(value) != -1
    },
    label: String,
    type: {
      type: String,
      default: 'text',
      validator: value => ['text', 'date', 'daterange', 'datetimerange', 'select'].indexOf(value) != -1
    },
    options: Array,
    placeholder: {
      type: String,
      default() {
        return `${Object(locale["c" /* t */])('ht.common.enter')}${this.label}`;
      }
    },
    valueFormat: {
      type: String,
      default: 'yyyy-MM-dd HH:mm:ss'
    },
    hideLabel: {
      type: Boolean,
      default: false
    },
    labelWidth: {
      type: Number,
      default: 0
    },
    width: {
      type: Number,
      default: 0
    },
    prefixIcon: String,
    suffixIcon: String,
    displayStyle: String,
    enterToSearch: {
      type: Boolean,
      default: false
    }
  },
  data() {
    return {
      data: null,
      colspan: 8,
      panelDisplayStyle: null,
      panelLabelWidth: 70,
      panelIsFlexLayout: false,
      //面板是否流式布局
      pickerOptions: {
        shortcuts: [{
          text: this.$t('ht.date.lastWeek'),
          onClick(picker) {
            const end = new Date();
            const start = new Date();
            start.setTime(start.getTime() - 3600 * 1000 * 24 * 7);
            picker.$emit('pick', [start, end]);
          }
        }, {
          text: this.$t('ht.date.lastMonth'),
          onClick(picker) {
            const end = new Date();
            const start = new Date();
            start.setTime(start.getTime() - 3600 * 1000 * 24 * 30);
            picker.$emit('pick', [start, end]);
          }
        }, {
          text: this.$t('ht.date.lastThreeMonths'),
          onClick(picker) {
            const end = new Date();
            const start = new Date();
            start.setTime(start.getTime() - 3600 * 1000 * 24 * 90);
            picker.$emit('pick', [start, end]);
          }
        }]
      }
    };
  },
  computed: {
    hasDefaultSlot() {
      return this.$slots.default && this.$slots.default.length > 0;
    },
    colSpanVal() {
      return this.span > 0 ? this.span : this.colspan;
    },
    finalLabelWidth() {
      return this.labelWidth > 0 ? this.labelWidth : this.panelLabelWidth;
    },
    inputDivJudgeWidth() {
      return this.hideLabel ? 0 : this.finalLabelWidth + (this.panelIsFlexLayout ? 0 : 30);
    },
    containerStyle() {
      return this.width > 0 ? {
        width: `${this.width}px`
      } : '';
    },
    finalDisplayStyle() {
      const partDisplayStyle = this.span == 0 ? this.displayStyle : this.displayStyle ? this.displayStyle : 'block';
      return partDisplayStyle || this.panelDisplayStyle;
    }
  },
  watch: {
    data: function (newVal) {
      this.handleInputChange(newVal);
    },
    value: function (newVal) {
      this.handleInputChange(newVal);
    }
  },
  created() {
    this.$on('input-reset', () => {
      this.data = null;
    });
    this.$on('panel-props', (m, n, o, d) => {
      this.panelLabelWidth = m;
      this.colspan = n;
      this.panelIsFlexLayout = o;
      this.panelDisplayStyle = d;
    });
  },
  mounted() {
    // 挂载完成后，将本实例注册到高级搜索面板对应的搜索条件列表中
    this.dispatch('HtTableSearchPanel', 'field-loaded', [this]);
  },
  methods: {
    handleInputChange(inputVal) {
      this.dispatch('HtTableSearchPanel', 'input-change', [{
        value: inputVal,
        operation: this.operation,
        relation: this.relation
      }, this.prop]);
    },
    textInputEnter() {
      this.enterToSearch && this.dispatch('HtTableSearchPanel', 'search', [this]);
    }
  }
});
// CONCATENATED MODULE: ./packages/TableSearchField/src/main.vue?vue&type=script&lang=js
 /* harmony default export */ var packages_TableSearchField_src_mainvue_type_script_lang_js = (TableSearchField_src_mainvue_type_script_lang_js); 
// EXTERNAL MODULE: ./packages/TableSearchField/src/main.vue?vue&type=style&index=0&id=923094ca&prod&lang=scss&scoped=true
var mainvue_type_style_index_0_id_923094ca_prod_lang_scss_scoped_true = __webpack_require__("80a3");

// CONCATENATED MODULE: ./packages/TableSearchField/src/main.vue






/* normalize component */

var TableSearchField_src_main_component = normalizeComponent(
  packages_TableSearchField_src_mainvue_type_script_lang_js,
  mainvue_type_template_id_923094ca_scoped_true_render,
  mainvue_type_template_id_923094ca_scoped_true_staticRenderFns,
  false,
  null,
  "923094ca",
  null
  
)

/* harmony default export */ var TableSearchField_src_main = (TableSearchField_src_main_component.exports);
// CONCATENATED MODULE: ./packages/TableSearchField/index.js

TableSearchField_src_main.install = function (Vue) {
  Vue.component(TableSearchField_src_main.name, TableSearchField_src_main);
};
/* harmony default export */ var TableSearchField = (TableSearchField_src_main);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"8bdeefa2-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/Radio/src/main.vue?vue&type=template&id=80451624&scoped=true
var mainvue_type_template_id_80451624_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:[
    'inputs',
    _vm.formInputsDisplay == 'block'
      ? 'ht-form-inputs__block'
      : 'ht-form-inputs__inline' ]},[(_vm.inputWriteable)?_c('el-radio-group',{directives:[{name:"validate",rawName:"v-validate",value:(_vm.inputValidate),expression:"inputValidate"}],style:(_vm.styles),attrs:{"size":_vm.inputSize,"name":_vm.inputName},on:{"change":_vm.change},model:{value:(_vm.inputVal),callback:function ($$v) {_vm.inputVal=$$v},expression:"inputVal"}},_vm._l((_vm.optionsVal),function(item){return _c('el-radio',{key:item[_vm.propKey],class:{
        'el-radio-vertical': _vm.optionLayout == 'vertical',
        'el-radio-horizontal': _vm.optionLayout == 'horizontal',
      },attrs:{"label":item[_vm.propKey],"disabled":_vm.readonly || _vm.disabled || item.disabled}},[_vm._v("\n      "+_vm._s(item[_vm.propValue])+"\n    ")])}),1):_vm._e(),(_vm.permission != 'n')?_c('ht-field-tail',{attrs:{"field-name":_vm.inputName,"readonly":!_vm.inputWriteable,"input-value":_vm.formatValue || _vm.inputVal}}):_vm._e()],1)}
var mainvue_type_template_id_80451624_scoped_true_staticRenderFns = []


// CONCATENATED MODULE: ./packages/Radio/src/main.vue?vue&type=template&id=80451624&scoped=true

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/Radio/src/main.vue?vue&type=script&lang=js
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//









/* harmony default export */ var Radio_src_mainvue_type_script_lang_js = ({
  name: 'HtRadio',
  components: {
    HtFieldTail: FieldTail
  },
  mixins: [mixins_permission["a" /* default */], inputName["a" /* default */], linkage, ganged, mixins_form["a" /* default */], formDataUpdate],
  props: {
    value: [String, Number, Boolean],
    options: Array,
    optionLayout: {
      type: String,
      default: 'horizontal',
      validator: function (value) {
        return ['horizontal', 'vertical'].some(i => i == value);
      }
    },
    readonly: {
      type: Boolean,
      default: false
    },
    disabled: {
      type: Boolean,
      default: false
    },
    rdlist: String,
    styles: Object
  },
  data() {
    return {
      formatValue: '',
      optionsVal: []
    };
  },
  computed: {
    inputVal: {
      get: function () {
        if (utils["a" /* default */].isEmpty(this.value)) {
          return '';
        }
        if (this.value !== null && this.value !== undefined && !this.inputWriteable && this.optionsVal && this.optionsVal.length > 0) {
          // eslint-disable-next-line
          this.formatValue = this.optionsVal.find(
          // eslint-disable-next-line
          opt => opt[this.propKey] == this.value).value;
        }
        return this.value;
      },
      set: function (val) {
        this.$emit('input', val);
      }
    }
  },
  watch: {
    options() {
      this.loadOption();
    }
  },
  created() {
    this.$on('formDataUpdate', () => {
      this.loadOption();
    });
  },
  mounted() {
    this.$nextTick(() => {
      this.loadOption();
    });
  },
  methods: {
    change(radioLabel) {
      this.$emit('change', radioLabel);
    },
    //加载选项
    loadOption() {
      // 动态选项
      if (this.ganged && this.ganged.alias) {
        this.dynamicLoadOption();
      } else {
        // 静态选项
        this.optionsVal = this.rdlist ? JSON.parse(this.rdlist) : this.options ? this.options : [];
      }
    },
    // 动态加载选项
    dynamicLoadOption() {
      this.doCustomQuery(null, true).then(data => {
        if (data != null || data != undefined) {
          this.optionsVal = data;
        }
      });
    }
  }
});
// CONCATENATED MODULE: ./packages/Radio/src/main.vue?vue&type=script&lang=js
 /* harmony default export */ var packages_Radio_src_mainvue_type_script_lang_js = (Radio_src_mainvue_type_script_lang_js); 
// EXTERNAL MODULE: ./packages/Radio/src/main.vue?vue&type=style&index=0&id=80451624&prod&lang=scss&scoped=true
var mainvue_type_style_index_0_id_80451624_prod_lang_scss_scoped_true = __webpack_require__("690d");

// CONCATENATED MODULE: ./packages/Radio/src/main.vue






/* normalize component */

var Radio_src_main_component = normalizeComponent(
  packages_Radio_src_mainvue_type_script_lang_js,
  mainvue_type_template_id_80451624_scoped_true_render,
  mainvue_type_template_id_80451624_scoped_true_staticRenderFns,
  false,
  null,
  "80451624",
  null
  
)

/* harmony default export */ var Radio_src_main = (Radio_src_main_component.exports);
// CONCATENATED MODULE: ./packages/Radio/index.js

Radio_src_main.install = function (Vue) {
  Vue.component(Radio_src_main.name, Radio_src_main);
};
/* harmony default export */ var Radio = (Radio_src_main);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"8bdeefa2-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/Date/src/main.vue?vue&type=template&id=02b03061&scoped=true
var mainvue_type_template_id_02b03061_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.permission != 'n')?_c('div',{class:[
    'inputs',
    _vm.formInputsDisplay == 'block'
      ? 'ht-form-inputs__block'
      : 'ht-form-inputs__inline' ]},[(_vm.inputWriteable)?_c('el-date-picker',{directives:[{name:"validate",rawName:"v-validate",value:(_vm.inputValidate),expression:"inputValidate"}],attrs:{"size":_vm.inputSize,"name":_vm.inputName,"type":_vm.type,"format":_vm.dateFormat,"clearable":_vm.clearable,"value-format":_vm.valueFormat,"placeholder":_vm.placeholder,"disabled":_vm.disabled,"readonly":_vm.readonly,"default-time":_vm.defaultTime,"picker-options":_vm.pickerOptions},on:{"blur":_vm.handleBlur},model:{value:(_vm.inputVal),callback:function ($$v) {_vm.inputVal=$$v},expression:"inputVal"}}):_vm._e(),_c('ht-field-tail',{attrs:{"field-name":_vm.inputName,"readonly":!_vm.inputWriteable,"input-value":_vm.inputVal}})],1):_vm._e()}
var mainvue_type_template_id_02b03061_scoped_true_staticRenderFns = []


// CONCATENATED MODULE: ./packages/Date/src/main.vue?vue&type=template&id=02b03061&scoped=true

// EXTERNAL MODULE: ./src/mixins/mobileMode.js
var mobileMode = __webpack_require__("ddb2");

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/Date/src/main.vue?vue&type=script&lang=js
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//






/* harmony default export */ var Date_src_mainvue_type_script_lang_js = ({
  name: 'HtDate',
  components: {
    HtFieldTail: FieldTail
  },
  mixins: [mixins_permission["a" /* default */], inputName["a" /* default */], mixins_form["a" /* default */], mobileMode["a" /* default */]],
  props: {
    value: String,
    defaultTime: {
      type: String
    },
    showDate: {
      type: Boolean,
      default: false
    },
    day: Number,
    format: {
      type: String,
      default: 'yyyy-MM-dd HH:mm:ss'
    },
    valueFormat: {
      type: String,
      default: 'yyyy-MM-dd HH:mm:ss'
    },
    readonly: {
      type: Boolean,
      default: false
    },
    clearable: {
      type: Boolean,
      default: true
    },
    disabled: {
      type: Boolean,
      default: false
    },
    isServerDate: {
      type: Boolean,
      default: false
    },
    pickerOptions: {
      type: Object,
      default() {
        return {};
      }
    }
  },
  data() {
    return {
      type: 'datetime'
    };
  },
  computed: {
    dateFormat: function () {
      const format = this.format ? this.format : this.valueFormat;
      return this.userAgentMobile ? format.replace(/-/g, '/') : format;
    },
    inputVal: {
      get: function () {
        // 只读情况
        if (!this.inputWriteable) {
          let date = this.value;
          if (this.value && this.value.constructor == String) {
            let showV = this.value.replace(/-/g, '/');
            return new Date(showV).format(this.format);
          }
          return date && date.constructor == Date ? date.format(this.format) : date;
        }
        return this.value;
      },
      set: function (val) {
        if (val && val.constructor == Date) {
          this.$emit('input', val.format(this.valueFormat));
        } else {
          this.$emit('input', val);
        }
      }
    }
  },
  watch: {
    format: {
      handler(val) {
        // 通过日期格式来判断控件类型：日期、日期时间
        if (/^\w{4}-\w{1,2}-\w{1,2}$/.test(val)) {
          this.type = 'date';
        }
      },
      immediate: true
    }
  },
  created() {
    this.initDate();
    setTimeout(() => {
      console.log(this.inputValidate);
    }, 3000);
  },
  methods: {
    handleBlur() {
      // element会触发blur事件，且参数为vue实例对象，在veeValidate中会将该对象识别为日期的值导致必填校验失效。
      // 这里再次触发校验，让其对该控件的值再做一次校验。
      setTimeout(() => {
        this.$validator.validate();
        console.log(this.$validator);
      }, 10);
    },
    // 初始化日期
    initDate() {
      //是否显示当前日期
      if (!this.value && this.showDate) {
        // 设定为获取服务器当前时间 并且 提供了获取的方法
        if (this.isServerDate && this.$requestConfig.getCurrentServerTime) {
          this.$requestConfig.getCurrentServerTime(this.dateFormat).then(resp => this.formatAndSetDate(new Date(resp)));
        } else {
          this.formatAndSetDate(new Date());
        }
      }
    },
    formatAndSetDate(date) {
      if (this.day) {
        //是否指定了相隔的天数
        date = new Date(date.getTime() + this.day * 24 * 60 * 60 * 1000);
      }
      this.inputVal = date.format(this.valueFormat);
    }
  }
});
// CONCATENATED MODULE: ./packages/Date/src/main.vue?vue&type=script&lang=js
 /* harmony default export */ var packages_Date_src_mainvue_type_script_lang_js = (Date_src_mainvue_type_script_lang_js); 
// EXTERNAL MODULE: ./packages/Date/src/main.vue?vue&type=style&index=0&id=02b03061&prod&lang=scss&scoped=true
var mainvue_type_style_index_0_id_02b03061_prod_lang_scss_scoped_true = __webpack_require__("55f3");

// CONCATENATED MODULE: ./packages/Date/src/main.vue






/* normalize component */

var Date_src_main_component = normalizeComponent(
  packages_Date_src_mainvue_type_script_lang_js,
  mainvue_type_template_id_02b03061_scoped_true_render,
  mainvue_type_template_id_02b03061_scoped_true_staticRenderFns,
  false,
  null,
  "02b03061",
  null
  
)

/* harmony default export */ var Date_src_main = (Date_src_main_component.exports);
// CONCATENATED MODULE: ./packages/Date/index.js

Date_src_main.install = function (Vue) {
  Vue.component(Date_src_main.name, Date_src_main);
};
/* harmony default export */ var packages_Date = (Date_src_main);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"8bdeefa2-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/TimeSelect/src/main.vue?vue&type=template&id=7a4b8789&scoped=true
var mainvue_type_template_id_7a4b8789_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.permission !== 'n')?_c('div',{class:[
    'inputs',
    _vm.formInputsDisplay == 'block'
      ? 'ht-form-inputs__block'
      : 'ht-form-inputs__inline' ]},[(_vm.inputWriteable)?_c('el-time-select',{directives:[{name:"validate",rawName:"v-validate",value:(_vm.inputValidate),expression:"inputValidate"}],attrs:{"name":_vm.inputName,"clearable":_vm.clearable,"picker-options":_vm.pickerOptions,"placeholder":_vm.placeholder,"disabled":_vm.disabled,"readonly":_vm.readonly,"size":_vm.inputSize,"editable":_vm.editable},on:{"blur":_vm.handleBlur},model:{value:(_vm.inputVal),callback:function ($$v) {_vm.inputVal=$$v},expression:"inputVal"}}):_vm._e(),_c('ht-field-tail',{attrs:{"field-name":_vm.inputName,"readonly":!_vm.inputWriteable,"input-value":_vm.inputVal}})],1):_vm._e()}
var mainvue_type_template_id_7a4b8789_scoped_true_staticRenderFns = []


// CONCATENATED MODULE: ./packages/TimeSelect/src/main.vue?vue&type=template&id=7a4b8789&scoped=true

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/TimeSelect/src/main.vue?vue&type=script&lang=js
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//





/* harmony default export */ var TimeSelect_src_mainvue_type_script_lang_js = ({
  name: 'HtTimeSelect',
  components: {
    HtFieldTail: FieldTail
  },
  mixins: [mixins_permission["a" /* default */], inputName["a" /* default */], mixins_form["a" /* default */]],
  props: {
    value: String,
    pickerOptions: {
      type: Object,
      default() {
        return {
          start: '00:00',
          step: '00:15',
          end: '23:59'
        };
      }
    },
    clearable: {
      type: Boolean,
      default: true
    },
    readonly: {
      type: Boolean,
      default: false
    },
    disabled: {
      type: Boolean,
      default: false
    },
    editable: {
      type: Boolean,
      default: true
    }
  },
  computed: {
    inputVal: {
      get: function () {
        return this.value;
      },
      set: function (val) {
        this.$emit('input', val);
      }
    }
  },
  methods: {
    handleBlur() {
      // element会触发blur事件，且参数为vue实例对象，在veeValidate中会将该对象识别为日期的值导致必填校验失效。
      // 这里再次触发校验，让其对该控件的值再做一次校验。
      setTimeout(() => {
        this.$validator.validate();
      }, 10);
    }
  }
});
// CONCATENATED MODULE: ./packages/TimeSelect/src/main.vue?vue&type=script&lang=js
 /* harmony default export */ var packages_TimeSelect_src_mainvue_type_script_lang_js = (TimeSelect_src_mainvue_type_script_lang_js); 
// EXTERNAL MODULE: ./packages/TimeSelect/src/main.vue?vue&type=style&index=0&id=7a4b8789&prod&lang=scss&scoped=true
var mainvue_type_style_index_0_id_7a4b8789_prod_lang_scss_scoped_true = __webpack_require__("e50a");

// CONCATENATED MODULE: ./packages/TimeSelect/src/main.vue






/* normalize component */

var TimeSelect_src_main_component = normalizeComponent(
  packages_TimeSelect_src_mainvue_type_script_lang_js,
  mainvue_type_template_id_7a4b8789_scoped_true_render,
  mainvue_type_template_id_7a4b8789_scoped_true_staticRenderFns,
  false,
  null,
  "7a4b8789",
  null
  
)

/* harmony default export */ var TimeSelect_src_main = (TimeSelect_src_main_component.exports);
// CONCATENATED MODULE: ./packages/TimeSelect/index.js

TimeSelect_src_main.install = function (Vue) {
  Vue.component(TimeSelect_src_main.name, TimeSelect_src_main);
};
/* harmony default export */ var TimeSelect = (TimeSelect_src_main);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"8bdeefa2-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/TimePicker/src/main.vue?vue&type=template&id=efda4800&scoped=true
var mainvue_type_template_id_efda4800_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.permission != 'n')?_c('div',{class:[
    'inputs',
    _vm.formInputsDisplay == 'block'
      ? 'ht-form-inputs__block'
      : 'ht-form-inputs__inline' ]},[(_vm.inputWriteable)?_c('el-time-picker',{directives:[{name:"validate",rawName:"v-validate",value:(_vm.inputValidate),expression:"inputValidate"}],attrs:{"append-to-body":false,"arrow-control":_vm.arrowControl,"name":_vm.inputName,"picker-options":_vm.pickerOptions,"disabled":_vm.disabled,"readonly":_vm.readonly,"editable":_vm.editable,"clearable":_vm.clearable,"size":_vm.inputSize,"start-placeholder":_vm.startPlaceholderVal,"end-placeholder":_vm.endPlaceholderVal,"is-range":_vm.isRange,"range-separator":_vm.rangeSeparator,"value-format":_vm.valueFormat,"default-value":_vm.defaultValue,"placeholder":_vm.placeholder},on:{"blur":_vm.handleBlur},model:{value:(_vm.inputVal),callback:function ($$v) {_vm.inputVal=$$v},expression:"inputVal"}}):_vm._e(),_c('ht-field-tail',{attrs:{"field-name":_vm.inputName,"readonly":!_vm.inputWriteable,"input-value":_vm.value}})],1):_vm._e()}
var mainvue_type_template_id_efda4800_scoped_true_staticRenderFns = []


// CONCATENATED MODULE: ./packages/TimePicker/src/main.vue?vue&type=template&id=efda4800&scoped=true

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/TimePicker/src/main.vue?vue&type=script&lang=js
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//






/* harmony default export */ var TimePicker_src_mainvue_type_script_lang_js = ({
  name: 'HtTimePicker',
  components: {
    HtFieldTail: FieldTail
  },
  mixins: [mixins_locale, mixins_permission["a" /* default */], inputName["a" /* default */], mixins_form["a" /* default */]],
  props: {
    value: String,
    readonly: {
      type: Boolean,
      default: false
    },
    disabled: {
      type: Boolean,
      default: false
    },
    clearable: {
      type: Boolean,
      default: true
    },
    editable: {
      type: Boolean,
      default: true
    },
    defaultValue: {
      type: [String, Date]
    },
    valueFormat: {
      type: String,
      default: 'HH:mm:ss'
    },
    rangeSeparator: {
      type: String,
      default: '-'
    },
    pickerOptions: {
      type: Object,
      default() {
        return {};
      }
    },
    arrowControl: {
      type: Boolean,
      default: false
    },
    isRange: {
      type: Boolean,
      default: false
    },
    endPlaceholder: {
      type: String
    },
    startPlaceholder: {
      type: String
    }
  },
  computed: {
    startPlaceholderVal() {
      return this.startPlaceholder ? this.startPlaceholder : this.t('ht.date.startTime');
    },
    endPlaceholderVal() {
      return this.endPlaceholder ? this.endPlaceholder : this.t('ht.date.endTime');
    },
    inputVal: {
      get: function () {
        if (this.value && this.isRange && this.value.constructor == String) {
          return this.value.split(',');
        }
        return this.value;
      },
      set: function (val) {
        if (val && this.isRange && val.constructor == Array) {
          this.$emit('input', val.join(','));
          return;
        }
        this.$emit('input', val);
      }
    }
  },
  methods: {
    handleBlur() {
      // element会触发blur事件，且参数为vue实例对象，在veeValidate中会将该对象识别为日期的值导致必填校验失效。
      // 这里再次触发校验，让其对该控件的值再做一次校验。
      setTimeout(() => {
        this.$validator.validate();
      }, 10);
    }
  }
});
// CONCATENATED MODULE: ./packages/TimePicker/src/main.vue?vue&type=script&lang=js
 /* harmony default export */ var packages_TimePicker_src_mainvue_type_script_lang_js = (TimePicker_src_mainvue_type_script_lang_js); 
// EXTERNAL MODULE: ./packages/TimePicker/src/main.vue?vue&type=style&index=0&id=efda4800&prod&lang=scss&scoped=true
var mainvue_type_style_index_0_id_efda4800_prod_lang_scss_scoped_true = __webpack_require__("9c1f");

// CONCATENATED MODULE: ./packages/TimePicker/src/main.vue






/* normalize component */

var TimePicker_src_main_component = normalizeComponent(
  packages_TimePicker_src_mainvue_type_script_lang_js,
  mainvue_type_template_id_efda4800_scoped_true_render,
  mainvue_type_template_id_efda4800_scoped_true_staticRenderFns,
  false,
  null,
  "efda4800",
  null
  
)

/* harmony default export */ var TimePicker_src_main = (TimePicker_src_main_component.exports);
// CONCATENATED MODULE: ./packages/TimePicker/index.js

TimePicker_src_main.install = function (Vue) {
  Vue.component(TimePicker_src_main.name, TimePicker_src_main);
};
/* harmony default export */ var TimePicker = (TimePicker_src_main);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"8bdeefa2-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/Select/src/main.vue?vue&type=template&id=591a5978&scoped=true
var mainvue_type_template_id_591a5978_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.permission != 'n')?_c('div',{class:[
    'inputs',
    _vm.formInputsDisplay == 'block'
      ? 'ht-form-inputs__block'
      : 'ht-form-inputs__inline' ]},[(_vm.inputWriteable)?_c('el-select',{directives:[{name:"validate",rawName:"v-validate",value:(_vm.inputValidate),expression:"inputValidate"}],class:_vm.filterable ? 'filterable' : '',staticStyle:{"width":"100%"},attrs:{"name":_vm.inputName,"size":_vm.inputSize,"clearable":_vm.clearable,"disabled":_vm.readonly || _vm.disabled,"placeholder":_vm.placeholder,"filterable":_vm.filterable,"allow-create":_vm.allowCreate,"multiple":_vm.multiple,"multiple-limit":_vm.limitCount,"collapse-tags":_vm.collapseTags,"popper-class":_vm.popperClass},on:{"change":_vm.change,"visible-change":_vm.visibleChange,"remove-tag":_vm.removeTag,"clear":_vm.handleClear,"blur":_vm.handleBlur,"focus":_vm.handleFocus},model:{value:(_vm.inputVal),callback:function ($$v) {_vm.inputVal=$$v},expression:"inputVal"}},[(
        _vm.optionsAry && _vm.optionsAry.constructor == Array && _vm.optionsAry.length > 0
      )?_vm._t("default",[_c('div',{staticClass:"select-options"},_vm._l((_vm.optionsAry),function(item){return _c('el-option',{key:item[_vm.propKey],attrs:{"label":item[_vm.propValue],"value":item[_vm.propKey]}})}),1)],{"options":_vm.optionsAry,"propKey":_vm.propKey,"propValue":_vm.propValue}):_vm._e(),(_vm.isShowPage)?_c('el-pagination',{attrs:{"current-page":_vm.pageBean.page,"page-size":_vm.pageBean.pageSize,"layout":"total, prev, pager, next","total":_vm.pageBean.total,"pager-count":5,"hide-on-single-page":false,"small":""},on:{"update:currentPage":function($event){return _vm.$set(_vm.pageBean, "page", $event)},"update:current-page":function($event){return _vm.$set(_vm.pageBean, "page", $event)},"current-change":_vm.handleCurrentChange}}):_vm._e()],2):_vm._e(),_c('ht-field-tail',{attrs:{"writeable":_vm.writeable,"field-name":_vm.inputName,"readonly":!_vm.inputWriteable,"input-value":_vm.inputVal,"tag-format-value":_vm.tagFormatValue},on:{"update:writeable":function($event){_vm.writeable=$event}}})],1):_vm._e()}
var mainvue_type_template_id_591a5978_scoped_true_staticRenderFns = []


// CONCATENATED MODULE: ./packages/Select/src/main.vue?vue&type=template&id=591a5978&scoped=true

// EXTERNAL MODULE: external "deepmerge"
var external_deepmerge_ = __webpack_require__("dab3");
var external_deepmerge_default = /*#__PURE__*/__webpack_require__.n(external_deepmerge_);

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/Select/src/main.vue?vue&type=script&lang=js
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//









/* harmony default export */ var Select_src_mainvue_type_script_lang_js = ({
  name: 'HtSelect',
  mixins: [mixins_permission["a" /* default */], inputName["a" /* default */], linkage, ganged, mixins_form["a" /* default */], formDataUpdate],
  props: {
    value: [String, Number, Boolean, Array],
    options: Array,
    selectlist: Array,
    disabled: {
      type: Boolean,
      default: false
    },
    readonly: {
      type: Boolean,
      default: false
    },
    multiple: {
      type: Boolean,
      default: false
    },
    clearable: {
      type: Boolean,
      default: true
    },
    filterable: {
      type: Boolean,
      default: false
    },
    allowCreate: {
      type: Boolean,
      default: false
    },
    remoteMethod: Function,
    remote: {
      type: Boolean,
      default: false
    },
    relatedQuery: {
      type: Array,
      default: function () {
        return [];
      }
    },
    limitCount: {
      type: Number,
      default: 0
    },
    collapseTags: {
      type: Boolean,
      default: false
    },
    popperClass: {
      type: String,
      default: 'ht-select__dropdown'
    }
  },
  data() {
    return {
      optionsAry: [],
      tagFormatValue: [],
      queryVersion: 0,
      pageBean: {
        page: 1,
        pageSize: 20,
        total: 0
      }
    };
  },
  computed: {
    inputVal: {
      get() {
        if (utils["a" /* default */].isEmpty(this.value)) {
          return '';
        }
        this.relatedQueryLoad(); // 触发绑定的关联查询
        if (this.value.constructor == String) {
          const ary = this.value === '' ? [] : this.value.split(',');
          if (this.inputWriteable) {
            if (this.multiple) {
              return ary;
            } else {
              return this.value;
            }
          } else {
            // 只读 多选
            if (this.multiple) {
              const ary = this.value === '' ? [] : this.value.split(',');
              let optionVals = [];
              let tempAry = external_deepmerge_default()([], ary, {
                clone: true
              });
              ary.forEach(m => {
                this.optionsAry.find(opt => {
                  if (opt[this.propKey] && opt[this.propKey].toString() === m) {
                    optionVals.push(opt[this.propValue]);
                    tempAry.remove(m);
                  }
                  if (opt.children && opt.children.length > 0) {
                    opt.children.find(childOpt => {
                      if (childOpt[this.propKey] && childOpt[this.propKey].toString() === m) {
                        optionVals.push(childOpt[this.propValue]);
                        tempAry.remove(m);
                      }
                    });
                  }
                });
              });
              optionVals = optionVals.concat(tempAry);
              this.tagFormatValue = optionVals; // eslint-disable-line
              return ary;
            }
            if (this.optionsAry && this.optionsAry.length > 0) {
              let optionVals = [];
              let tempAry = external_deepmerge_default()([], ary, {
                clone: true
              });
              ary.forEach(m => {
                this.optionsAry.find(opt => {
                  if (opt[this.propKey] && opt[this.propKey].toString() === m) {
                    optionVals.push(opt[this.propValue]);
                    tempAry.remove(m);
                  }
                  if (opt.children && opt.children.length > 0) {
                    opt.children.find(childOpt => {
                      if (childOpt[this.propKey] && childOpt[this.propKey].toString() === m) {
                        optionVals.push(childOpt[this.propValue]);
                        tempAry.remove(m);
                      }
                    });
                  }
                });
              });
              optionVals = optionVals.concat(tempAry);
              this.tagFormatValue = optionVals; // eslint-disable-line
              return this.value;
            }
          }
        }
        return this.value;
      },
      set(val) {
        let result = '';
        if (this.multiple) {
          if (val && val.constructor === Array && val.length > 0) {
            if (val[0].constructor === Number) {
              throw this.$t('ht.select.errorMsg');
            }
            result = val.join(',');
          }
        } else {
          result = val;
        }
        if (result != '') {
          this.relatedQueryLoad(); // 触发绑定的关联查询
        }
        this.$emit('input', result);
      }
    },
    isShowPage() {
      return this.ganged && this.ganged.alias && this.ganged.needPage == 1 && this.pageBean.page;
    }
  },
  watch: {
    options: function () {
      this.loadOption();
    }
  },
  created() {
    this.$on('formDataUpdate', () => {
      if (!this.isShowPage) {
        this.loadOption(true);
      }
    });
  },
  mounted() {
    this.loadOption(false, 'init');
  },
  methods: {
    //加载选项
    loadOption: function (resetValue, isInit = '') {
      // 动态选项
      if (this.ganged && this.ganged.alias) {
        // 如果初始化时不需加载选择时
        if (isInit === 'init' && this.ganged.noInit === 'true') {
          return;
        }
        this.dynamicLoadOption(resetValue);
      } else {
        // 静态选项
        this.optionsAry = this.selectlist ? this.selectlist : this.options ? this.options : [];
      }
    },
    // 动态加载选项
    dynamicLoadOption(resetValue) {
      this.queryVersion += 1;
      let versionFlag = this.queryVersion;
      this.doCustomQuery(null, true, {
        page: this.pageBean.page,
        isChangePage: this.isChangePage
      }).then(data => {
        // 如果同一个动态加载项，同时出发多次时，后面的请求会被拦截，所以此处需要将标识减1
        if (data === null) {
          this.queryVersion -= 1;
        }
        if (versionFlag < this.queryVersion) {
          return;
        }
        if (data != null || data != undefined) {
          // 之前的选项是否是空的
          const preOptionsAryIsEmpty = !this.optionsAry || this.optionsAry.length == 0;
          // 动态选项是否相同
          const optionsAryEquals = utils["a" /* default */].arrayEquals(data, this.optionsAry);
          this.optionsAry = data;
          // 选项中是否包含旧值
          const isIncludeOldVal = this.checkValue(data);
          if (resetValue && this.inputWriteable && !preOptionsAryIsEmpty && !optionsAryEquals && !isIncludeOldVal) {
            this.$nextTick(() => {
              this.$emit('input', '');
            });
          }
        }
      });
    },
    change: function (data) {
      let selectObj = this.optionsAry.find(opt => opt[this.propKey] === data);
      this.$emit('change', data, selectObj);
    },
    visibleChange: function (m) {
      this.pageBean.page = 1;
      this.loadOption();
      this.$emit('visible-change', m);
    },
    removeTag: function (tag) {
      this.$emit('remove-tag', tag);
    },
    handleClear: function () {
      this.$emit('clear');
    },
    handleBlur: function (event) {
      this.$emit('blur', event);
    },
    handleFocus: function (event) {
      this.$emit('focus', event);
      if (this.ganged && this.ganged.alias && this.ganged.noInit === 'true' && !this.optionsAry.length) {
        this.dynamicLoadOption();
      }
    },
    // 准备查询参数
    prepareLoadParams: function (condition) {
      let params = {};
      if (condition && !utils["a" /* default */].isEmpty(condition)) {
        // 获取当前控件是否在子表某行中
        let {
          index
        } = utils["a" /* default */].getSubScopeElAndIndex(this.$el);
        if (this.$el) {
          const pInst = utils["a" /* default */].getOnlineFormInstance(this);
          Object.keys(condition).forEach(k => {
            let val = null;
            // 主表
            if (index == null) {
              val = utils["a" /* default */].getValueByPath(pInst, condition[k]);
            }
            // 子表
            else {
              val = utils["a" /* default */].getValueByPath(pInst, condition[k], index);
            }
            if (!utils["a" /* default */].isEmpty(val)) {
              params[k] = val;
            }
          });
        }
      }
      return params;
    },
    // 触发绑定的关联查询
    relatedQueryLoad: function () {
      if (this.relatedQuery && this.relatedQuery.constructor == Array && this.relatedQuery.length > 0) {
        const pInst = utils["a" /* default */].getOnlineFormInstance(this);
        // 遍历所有的关联查询，逐个触发
        this.relatedQuery.forEach(q => {
          const params = this.prepareLoadParams(q.condition);
          pInst.$emit('related-query:load', q.alias, params, q.result);
        });
      }
    },
    // 判断当前选项是否包含value值
    checkValue(data) {
      let flag = false;
      data.forEach(item => {
        if (this.value.split(',').includes(item[this.propKey])) {
          flag = true;
        }
      });
      return flag;
    },
    handleCurrentChange(page) {
      this.isChangePage = true;
      this.pageBean.page = page;
      this.dynamicLoadOption();
    }
  }
});
// CONCATENATED MODULE: ./packages/Select/src/main.vue?vue&type=script&lang=js
 /* harmony default export */ var packages_Select_src_mainvue_type_script_lang_js = (Select_src_mainvue_type_script_lang_js); 
// EXTERNAL MODULE: ./packages/Select/src/main.vue?vue&type=style&index=0&id=591a5978&prod&lang=scss&scoped=true
var mainvue_type_style_index_0_id_591a5978_prod_lang_scss_scoped_true = __webpack_require__("45b3");

// CONCATENATED MODULE: ./packages/Select/src/main.vue






/* normalize component */

var Select_src_main_component = normalizeComponent(
  packages_Select_src_mainvue_type_script_lang_js,
  mainvue_type_template_id_591a5978_scoped_true_render,
  mainvue_type_template_id_591a5978_scoped_true_staticRenderFns,
  false,
  null,
  "591a5978",
  null
  
)

/* harmony default export */ var Select_src_main = (Select_src_main_component.exports);
// CONCATENATED MODULE: ./packages/Select/index.js

Select_src_main.install = function (Vue) {
  Vue.component(Select_src_main.name, Select_src_main);
};
/* harmony default export */ var Select = (Select_src_main);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"8bdeefa2-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/File/src/main.vue?vue&type=template&id=332faf92&scoped=true
var mainvue_type_template_id_332faf92_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:[
    'inputs',
    _vm.formInputsDisplay == 'block'
      ? 'ht-form-inputs__block'
      : 'ht-form-inputs__inline' ],style:(_vm.inputsContainerWidth)},[_c('input',{directives:[{name:"model",rawName:"v-model",value:(_vm.value),expression:"value"},{name:"validate",rawName:"v-validate",value:(_vm.inputValidate),expression:"inputValidate"}],attrs:{"type":"hidden","name":_vm.inputName},domProps:{"value":(_vm.value)},on:{"input":function($event){if($event.target.composing){ return; }_vm.value=$event.target.value}}}),(_vm.inputWriteable)?_c('file-upload',{ref:"fileUpload",attrs:{"list-type":_vm.pictureWall ? 'picture-card' : null,"action-url":_vm.actionUrlVal,"multiple":_vm.multiple,"accept":_vm.acceptType,"before-upload":_vm.beforeUploadMethod,"on-success":_vm.uploadSuccess,"on-error":_vm.onError,"limit":_vm.limit,"header":_vm.headerVal,"size":_vm.size,"readonly":!_vm.inputWriteable,"with-credentials":_vm.withCredentials},on:{"on-progress":_vm.handleProgress,"handle-error":_vm.handleError,"clear":_vm.handleClear},model:{value:(_vm.inputVal),callback:function ($$v) {_vm.inputVal=$$v},expression:"inputVal"}},[_vm._t("append",null,{"slot":"append"})],2):_vm._e(),(_vm.isMobile && _vm.inputWriteable)?_c('div',{staticClass:"upload-tooltip"},[_vm._v("\n    "+_vm._s(_vm.$t('ht.file.accept', {
        acceptType: _vm.acceptType ? _vm.acceptType : _vm.$t('ht.file.all'),
      }))+","+_vm._s(_vm.$t('ht.file.limitFileSize', { size: _vm.size ? _vm.size : '50MB' }))+","+_vm._s(_vm.$t('ht.file.limitCount', { limit: _vm.limit ? _vm.limit : 5 }))+"\n  ")]):_vm._e(),_c('ht-field-tail',{attrs:{"writeable":_vm.writeable,"field-name":_vm.inputName,"input-value":_vm.value},on:{"update:writeable":function($event){_vm.writeable=$event}}}),(_vm.typeVal == 'table' && _vm.value && JSON.parse(_vm.value).length > 0)?_c('file-table',{attrs:{"data":_vm.inputVal,"permission":_vm.permission_sub,"size":_vm.sizeType,"previewable":_vm.previewableVal,"column-show":_vm.columnShow,"prop-conf":_vm.propConf,"downloadable":_vm.downloadableVal,"sortable":_vm.sortable,"input-writeable":_vm.inputWriteable},on:{"preview":_vm.preview,"download":_vm.download,"move":_vm.move,"remove":_vm.removeFile}}):(_vm.typeVal == 'list')?_c('file-list',{attrs:{"data":_vm.inputVal,"previewable":_vm.previewableVal,"downloadable":_vm.downloadableVal,"sortable":_vm.sortable,"input-writeable":_vm.inputWriteable},on:{"preview":_vm.preview,"download":_vm.download,"move":_vm.move,"remove":_vm.removeFile,"sort":_vm.handleSort}}):(_vm.typeVal == 'card')?_c('file-card',{attrs:{"data":_vm.inputVal,"previewable":_vm.previewableVal,"downloadable":_vm.downloadableVal,"sortable":_vm.sortable,"input-writeable":_vm.inputWriteable,"headers":_vm.headerVal,"action-url":_vm.actionUrlVal,"card-badge":_vm.cardBadge,"thumbnail":_vm.thumbnail},on:{"preview":_vm.preview,"download":_vm.download,"move":_vm.move,"remove":_vm.removeFile,"sort":_vm.handleSort}}):_vm._e()],1)}
var mainvue_type_template_id_332faf92_scoped_true_staticRenderFns = []


// CONCATENATED MODULE: ./packages/File/src/main.vue?vue&type=template&id=332faf92&scoped=true

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"8bdeefa2-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/FileUpload/src/main.vue?vue&type=template&id=1d7709e8&scoped=true
var mainvue_type_template_id_1d7709e8_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:"file-upload-container"},[_c('el-upload',{ref:"elUploadEl",attrs:{"list-type":_vm.listType,"action":_vm.actionUrl,"file-list":_vm.files,"headers":_vm.header,"show-file-list":false,"accept":_vm.accept,"limit":_vm.limit,"multiple":_vm.multiple,"before-upload":_vm.handleBeforeUpload,"on-progress":_vm.handleProgress,"on-exceed":_vm.handleExceed,"on-success":_vm.handleSuccess,"on-error":_vm.handleError,"with-credentials":_vm.withCredentials}},[_c('el-tooltip',{attrs:{"placement":"top","effect":"light"}},[_c('div',{attrs:{"slot":"content"},slot:"content"},[_c('span',[_vm._v(_vm._s(_vm.$t('ht.file.fileAcceptType'))+"："+_vm._s(_vm.acceptLabel))]),_c('br'),_c('span',[_vm._v(_vm._s(_vm.$t('ht.file.fileSizeLimit'))+_vm._s(_vm.size)+"MB")]),_c('br'),_c('span',[_vm._v(_vm._s(_vm.$t('ht.file.fileCountLimit', { limit: _vm.limit })))])]),(!_vm.readonly)?_c('el-button',{attrs:{"size":"mini","round":"","icon":"el-icon-plus"}},[_vm._v("\n        "+_vm._s(_vm.$t('ht.picture.uploadButtonText'))+"\n      ")]):_vm._e()],1)],1),(!_vm.readonly && _vm.files.length > 0)?_c('el-button',{directives:[{name:"popconfirm",rawName:"v-popconfirm",value:({
      content: _vm.$t('ht.file.confirmClear'),
      confirm: _vm.handleClear,
    }),expression:"{\n      content: $t('ht.file.confirmClear'),\n      confirm: handleClear,\n    }"}],attrs:{"size":"mini","round":"","icon":"el-icon-delete"}},[_vm._v("\n    "+_vm._s(_vm.$t('ht.common.clear'))+"\n  ")]):_vm._e(),_vm._t("append")],2)}
var mainvue_type_template_id_1d7709e8_scoped_true_staticRenderFns = []


// CONCATENATED MODULE: ./packages/FileUpload/src/main.vue?vue&type=template&id=1d7709e8&scoped=true

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/FileUpload/src/main.vue?vue&type=script&lang=js
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//

/* harmony default export */ var FileUpload_src_mainvue_type_script_lang_js = ({
  name: 'HtFileUpload',
  props: {
    withCredentials: {
      type: Boolean,
      default: false
    },
    value: {
      type: Array,
      required: true
    },
    actionUrl: {
      type: String,
      required: true
    },
    listType: {
      type: String
    },
    multiple: {
      type: Boolean
    },
    accept: {
      type: String
    },
    limit: {
      type: Number,
      default: 5
    },
    header: {
      type: Object
    },
    size: {
      type: Number,
      default: 50
    },
    readonly: {
      type: Boolean,
      default: false
    },
    beforeUpload: {
      type: Function
    },
    onSuccess: {
      type: Function
    },
    onExceed: {
      type: Function
    },
    onError: {
      type: Function
    }
  },
  data() {
    return {
      files: []
    };
  },
  computed: {
    acceptLabel: function () {
      return this.accept ? this.accept : this.$t('ht.file.all');
    }
  },
  watch: {
    value: {
      handler(val) {
        if (val && val.length < 1) {
          this.files = [];
        } else {
          this.files = val;
        }
      },
      deep: true,
      immediate: true
    }
  },
  created() {
    this.files = this.value || [];
  },
  methods: {
    reload(files) {
      this.files = files;
    },
    // 附件是否超过最大尺寸
    exceedFileSize(file) {
      return file.size > this.size * 1024 * 1024;
    },
    handleBeforeUpload(file) {
      let resultVal = false;
      if (this.exceedFileSize(file)) {
        let computerSize = this.$options.filters['computerSize'](file.size);
        this.$message({
          message: `${this.$t('ht.file.fileSizeErrorMsg', {
            computerSize: computerSize
          })}${this.size}MB.`,
          type: 'warning'
        });
        resultVal = false;
      } else {
        resultVal = true;
      }
      if (this.beforeUpload && this.beforeUpload.constructor == Function && resultVal) {
        resultVal = this.beforeUpload(file);
      }
      if (resultVal) {
        this.files.push(file);
      }
      return resultVal;
    },
    handleProgress(event, file, fileList) {
      const index = this.files.findIndex(m => m === file);
      index > -1 && this.$set(this.files, index, file);
      this.$emit('on-progress', event, file, fileList);
    },
    handleExceed(files, fileList) {
      if (this.onExceed && this.onExceed.constructor == Function) {
        this.onExceed(files, fileList);
      } else {
        this.$message({
          message: this.$t('ht.file.fileLimitErrorMsg', {
            limit: this.limit
          }),
          type: 'warning'
        });
      }
    },
    handleSuccess(response, file, fileList) {
      if (this.onSuccess && this.onSuccess.constructor == Function) {
        this.onSuccess(response, file, fileList);
      }
      const index = this.files.findIndex(m => m === file);
      file.state = 'success';
      index > -1 && this.$set(this.files, index, file);
    },
    handleError(err, file, fileList) {
      if (this.onError && this.onError.constructor == Function) {
        this.onError(err, file, fileList);
      }
      this.$emit('handle-error', err, file, fileList);
      const index = this.files.findIndex(m => m === file);
      file.state = 'exception';
      index > -1 && this.$set(this.files, index, file);
      this.$message({
        message: this.$t('ht.file.fileUploadErrorMsg', {
          fileName: file.name
        }),
        type: 'error',
        onClose: () => {
          this.files.remove(file);
        }
      });
    },
    handleClear() {
      this.files.forEach(m => {
        this.abort(m);
      });
      this.$refs.elUploadEl.clearFiles();
      this.files = [];
      this.$emit('clear');
    },
    abort(file) {
      // 附件还在上传中，则中止上传。
      if (file && file.status === 'uploading') {
        this.$refs.elUploadEl.abort(file);
      }
    },
    remove(file) {
      this.abort(file);
      this.files.remove(file);
      for (var i = 0; i < this.files.length; i++) {
        if (this.files[i].uid == file.uid) {
          this.files.splice(i, 1); //删除数组某一项
        }
      }
    }
  }
});
// CONCATENATED MODULE: ./packages/FileUpload/src/main.vue?vue&type=script&lang=js
 /* harmony default export */ var packages_FileUpload_src_mainvue_type_script_lang_js = (FileUpload_src_mainvue_type_script_lang_js); 
// EXTERNAL MODULE: ./packages/FileUpload/src/main.vue?vue&type=style&index=0&id=1d7709e8&prod&lang=scss&scoped=true
var mainvue_type_style_index_0_id_1d7709e8_prod_lang_scss_scoped_true = __webpack_require__("0cbd");

// CONCATENATED MODULE: ./packages/FileUpload/src/main.vue






/* normalize component */

var FileUpload_src_main_component = normalizeComponent(
  packages_FileUpload_src_mainvue_type_script_lang_js,
  mainvue_type_template_id_1d7709e8_scoped_true_render,
  mainvue_type_template_id_1d7709e8_scoped_true_staticRenderFns,
  false,
  null,
  "1d7709e8",
  null
  
)

/* harmony default export */ var FileUpload_src_main = (FileUpload_src_main_component.exports);
// CONCATENATED MODULE: ./packages/FileUpload/index.js

FileUpload_src_main.install = function (Vue) {
  Vue.component(FileUpload_src_main.name, FileUpload_src_main);
};
/* harmony default export */ var FileUpload = (FileUpload_src_main);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"8bdeefa2-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/File/src/FileTable.vue?vue&type=template&id=5b18c246&scoped=true
var FileTablevue_type_template_id_5b18c246_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-table',{staticClass:"file__upload-table",attrs:{"data":_vm.data,"row-key":"uid","border":"","size":_vm.size}},[_c('el-table-column',{attrs:{"label":_vm.$t('ht.common.index'),"align":"center","type":"index","width":"50"}}),_c('el-table-column',{attrs:{"label":_vm.$t('ht.file.fileName'),"min-width":"150","align":"center"},scopedSlots:_vm._u([{key:"default",fn:function(scope){return [_c('span',{class:{ 'done-subject': _vm.previewable },on:{"click":function($event){return _vm.$emit('preview', scope.row)}}},[_vm._v("\n        "+_vm._s(scope.row.name ||
            (scope.row.response && scope.row.response.fileName))+"\n      ")])]}}])}),(_vm.calColumnShow.fileType)?_c('el-table-column',{attrs:{"prop":"type","align":"center","lalign":"center","width":"100","label":_vm.$t('ht.file.fileType')}}):_vm._e(),(_vm.calColumnShow.fileSize)?_c('el-table-column',{attrs:{"align":"center","lalign":"center","width":"100","label":_vm.$t('ht.file.fileSize')},scopedSlots:_vm._u([{key:"default",fn:function(scope){return [_vm._v("\n      "+_vm._s(_vm._f("computerSize")(scope.row.size))+"\n    ")]}}],null,false,1213810979)}):_vm._e(),_c('el-table-column',{attrs:{"align":"center","label":_vm.$t('ht.file.uploader'),"width":"120","prop":"username"}}),(_vm.inputWriteable)?_c('el-table-column',{attrs:{"align":"center","label":_vm.$t('ht.common.status'),"width":"80"},scopedSlots:_vm._u([{key:"default",fn:function(scope){return [_c('el-progress',{attrs:{"type":"circle","width":25,"stroke-width":2,"percentage":scope.row.percentage,"status":_vm.getProgressStatus(scope.row.state)}})]}}],null,false,799110027)}):_vm._e(),_vm._l((_vm.propConfList),function(con){return _c('el-table-column',{key:con.name,attrs:{"prop":con.name,"label":con.desc,"width":"200","align":"center"},scopedSlots:_vm._u([{key:"default",fn:function(scope){return [_c('ht-input',{attrs:{"name":con.desc,"permission":_vm.permission == 'w' || _vm.permission == 'b'
            ? con.requried
              ? 'b'
              : 'w'
            : _vm.permission},model:{value:(_vm.data[scope.$index][con.name]),callback:function ($$v) {_vm.$set(_vm.data[scope.$index], con.name, $$v)},expression:"data[scope.$index][con.name]"}})]}}],null,true)})}),(_vm.inputWriteable || _vm.downloadable)?_c('el-table-column',{attrs:{"align":"center","label":_vm.$t('ht.common.operation'),"width":_vm.operateWidth},scopedSlots:_vm._u([{key:"default",fn:function(scope){return [(_vm.sortable && _vm.inputWriteable)?_c('el-button',{attrs:{"size":"small","icon":"el-icon-arrow-up","plain":""},on:{"click":function($event){return _vm.$emit('move', scope.row, 'up')}}}):_vm._e(),(_vm.sortable && _vm.inputWriteable)?_c('el-button',{attrs:{"size":"small","icon":"el-icon-arrow-down","plain":""},on:{"click":function($event){return _vm.$emit('move', scope.row, 'down')}}}):_vm._e(),(_vm.downloadable)?_c('el-button',{attrs:{"disabled":scope.row.status !== 'success',"size":"small","icon":"el-icon-download","plain":""},on:{"click":function($event){return _vm.$emit('download', scope.row)}}}):_vm._e(),(_vm.inputWriteable)?_c('el-popconfirm',{staticClass:"table-delete__button",attrs:{"title":_vm.$t('ht.file.confirmDelete')},on:{"confirm":function($event){return _vm.$emit('remove', scope.row)}}},[_c('el-button',{attrs:{"slot":"reference","plain":"","type":"danger","size":"small","icon":"el-icon-delete"},slot:"reference"})],1):_vm._e()]}}],null,false,655253710)}):_vm._e()],2)}
var FileTablevue_type_template_id_5b18c246_scoped_true_staticRenderFns = []


// CONCATENATED MODULE: ./packages/File/src/FileTable.vue?vue&type=template&id=5b18c246&scoped=true

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/File/src/FileTable.vue?vue&type=script&lang=js
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//


/* harmony default export */ var FileTablevue_type_script_lang_js = ({
  name: 'FileTable',
  mixins: [mixins_locale],
  props: {
    data: {
      type: Array
    },
    size: {
      type: String,
      default: 'small',
      validator: function (value) {
        return ['medium', 'small', 'mini'].indexOf(value) !== -1;
      }
    },
    permission: {
      type: String,
      default: 'w',
      validator: function (value) {
        return ['b', 'w', 'r', 'n'].indexOf(value) !== -1;
      }
    },
    previewable: {
      type: Boolean,
      default: true
    },
    columnShow: {
      type: Object
    },
    propConf: [Array, String],
    inputWriteable: {
      type: Boolean,
      default: true
    },
    downloadable: {
      type: Boolean,
      default: true
    },
    sortable: {
      type: Boolean,
      default: true
    }
  },
  computed: {
    operateWidth() {
      return !this.inputWriteable ? '70' : this.sortable ? '260' : '130';
    },
    calColumnShow: function () {
      let defaultSetting = {
        fileType: true,
        fileSize: true
      };
      return {
        ...defaultSetting,
        ...this.columnShow
      };
    },
    propConfList() {
      const filePropConf = typeof this.propConf === 'string' && this.propConf ? JSON.parse(this.propConf) : this.propConf;
      return filePropConf && filePropConf.filter(item => item.desc) || [];
    }
  },
  methods: {
    //附件状态转换为progress的状态
    getProgressStatus(status) {
      return status == 'success' ? 'success' : status == 'fail' ? 'exception' : 'warning';
    }
  }
});
// CONCATENATED MODULE: ./packages/File/src/FileTable.vue?vue&type=script&lang=js
 /* harmony default export */ var src_FileTablevue_type_script_lang_js = (FileTablevue_type_script_lang_js); 
// EXTERNAL MODULE: ./packages/File/src/FileTable.vue?vue&type=style&index=0&id=5b18c246&prod&lang=scss&scoped=true
var FileTablevue_type_style_index_0_id_5b18c246_prod_lang_scss_scoped_true = __webpack_require__("3f39");

// CONCATENATED MODULE: ./packages/File/src/FileTable.vue






/* normalize component */

var FileTable_component = normalizeComponent(
  src_FileTablevue_type_script_lang_js,
  FileTablevue_type_template_id_5b18c246_scoped_true_render,
  FileTablevue_type_template_id_5b18c246_scoped_true_staticRenderFns,
  false,
  null,
  "5b18c246",
  null
  
)

/* harmony default export */ var FileTable = (FileTable_component.exports);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"8bdeefa2-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/File/src/FileList.vue?vue&type=template&id=2f5080d3&scoped=true
var FileListvue_type_template_id_2f5080d3_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('draggable',_vm._b({staticClass:"file-list__wrap",attrs:{"tag":"ul","handle":".handle"},on:{"start":function($event){_vm.isDragging = true},"end":function($event){_vm.isDragging = false}},model:{value:(_vm.dataVal),callback:function ($$v) {_vm.dataVal=$$v},expression:"dataVal"}},'draggable',_vm.dragOptions,false),[_c('transition-group',{attrs:{"type":"transition","name":"flip-list"}},_vm._l((_vm.dataVal),function(file){return _c('li',{key:file.uid,class:[
        'file-item',
        'el-upload-list__item',
        {
          'is-success': file.status == 'success',
          'is-uploading': file.status == 'uploading',
        } ]},[(_vm.sortable && _vm.inputWriteable)?_c('ht-icon',{staticClass:"handle",attrs:{"name":"sort"}}):_vm._e(),_c('ht-icon',{staticClass:"file_icon",attrs:{"name":"file"}}),_c('p',{staticClass:"file__name",class:{ 'done-subject': _vm.previewable },attrs:{"title":file.name},on:{"click":function($event){return _vm.$emit('preview', file)}}},[_vm._v("\n        "+_vm._s(file.name || (file.response && file.response.fileName))+"\n      ")]),(file.status == 'uploading')?_c('el-progress',{staticClass:"el-progress--line",attrs:{"stroke-width":4,"percentage":Math.floor(file.percentage)}}):_vm._e(),(_vm.downloadable && file.status == 'success')?_c('ht-icon',{staticClass:"file-hover__icon",attrs:{"name":"arrow","scale":"0.9","title":_vm.t('ht.file.download')},on:{"click":function($event){return _vm.$emit('download', file)}}}):_vm._e(),(_vm.inputWriteable)?_c('el-popconfirm',{attrs:{"title":_vm.$t('ht.file.confirmDelete')},on:{"confirm":function($event){return _vm.$emit('remove', file)}}},[_c('ht-icon',{staticClass:"file-hover__icon",attrs:{"slot":"reference","name":"close","title":_vm.t('ht.common.remove')},slot:"reference"})],1):_vm._e()],1)}),0)],1)}
var FileListvue_type_template_id_2f5080d3_scoped_true_staticRenderFns = []


// CONCATENATED MODULE: ./packages/File/src/FileList.vue?vue&type=template&id=2f5080d3&scoped=true

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/File/src/FileList.vue?vue&type=script&lang=js
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//


const FileListvue_type_script_lang_js_draggable = __webpack_require__("289a");
/* harmony default export */ var FileListvue_type_script_lang_js = ({
  name: 'FileList',
  components: {
    draggable: FileListvue_type_script_lang_js_draggable
  },
  mixins: [mixins_locale],
  props: {
    data: {
      type: Array
    },
    previewable: {
      type: Boolean,
      default: true
    },
    inputWriteable: {
      type: Boolean,
      default: true
    },
    downloadable: {
      type: Boolean,
      default: true
    },
    sortable: {
      type: Boolean,
      default: true
    }
  },
  data() {
    return {
      isDragging: false
    };
  },
  computed: {
    dataVal: {
      get() {
        return this.data;
      },
      set(val) {
        // 只有在拖拽排序时才通过inputVal对value进行更新
        if (this.isDragging && val.constructor == Array && val.length > 0) {
          this.$emit('sort', val);
        }
      }
    },
    dragOptions() {
      return {
        animation: 0,
        group: 'description',
        disabled: false,
        ghostClass: 'ghost'
      };
    }
  }
});
// CONCATENATED MODULE: ./packages/File/src/FileList.vue?vue&type=script&lang=js
 /* harmony default export */ var src_FileListvue_type_script_lang_js = (FileListvue_type_script_lang_js); 
// EXTERNAL MODULE: ./packages/File/src/FileList.vue?vue&type=style&index=0&id=2f5080d3&prod&lang=scss&scoped=true
var FileListvue_type_style_index_0_id_2f5080d3_prod_lang_scss_scoped_true = __webpack_require__("9093");

// CONCATENATED MODULE: ./packages/File/src/FileList.vue






/* normalize component */

var FileList_component = normalizeComponent(
  src_FileListvue_type_script_lang_js,
  FileListvue_type_template_id_2f5080d3_scoped_true_render,
  FileListvue_type_template_id_2f5080d3_scoped_true_staticRenderFns,
  false,
  null,
  "2f5080d3",
  null
  
)

/* harmony default export */ var FileList = (FileList_component.exports);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"8bdeefa2-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/File/src/FileCard.vue?vue&type=template&id=8ed44bf8
var FileCardvue_type_template_id_8ed44bf8_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('draggable',_vm._b({staticClass:"el-upload-list el-upload-list--picture-card",attrs:{"tag":"ul","handle":".handle"},on:{"start":function($event){_vm.isDragging = true},"end":function($event){_vm.isDragging = false}},model:{value:(_vm.dataVal),callback:function ($$v) {_vm.dataVal=$$v},expression:"dataVal"}},'draggable',_vm.dragOptions,false),[_c('transition-group',{attrs:{"type":"transition","name":"flip-list"}},_vm._l((_vm.dataVal),function(file){return _c('li',{key:file.uid,class:[
        'file-item',
        'el-upload-list__item',
        {
          'is-success': file.status == 'success',
          'is-uploading': file.status == 'uploading',
        } ]},[(file.status == 'success')?_c('img',{staticClass:"el-upload-list__item-thumbnail",attrs:{"src":_vm.thumbnailComp(file, _vm.actionUrl)},on:{"error":_vm.defaultImg}}):(file.status == 'uploading')?_c('el-progress',{attrs:{"type":"circle","percentage":Math.floor(file.percentage)}}):_vm._e(),(_vm.inputWriteable || _vm.previewable)?_c('span',{staticClass:"el-upload-list__item-actions"},[(_vm.sortable && _vm.inputWriteable)?_c('span',{staticClass:"handle",attrs:{"title":_vm.t('ht.file.sort')}},[_c('i',{staticClass:"el-icon-rank"})]):_vm._e(),(_vm.previewable)?_c('span',{staticClass:"el-upload-list__item-preview",attrs:{"title":_vm.t('ht.file.preview')},on:{"click":function($event){return _vm.$emit('preview', file)}}},[_c('i',{staticClass:"el-icon-zoom-in"})]):_vm._e(),(_vm.inputWriteable)?_c('el-popconfirm',{attrs:{"title":_vm.$t('ht.file.confirmDelete')},on:{"confirm":function($event){return _vm.$emit('remove', file)}}},[_c('span',{staticClass:"el-upload-list__item-delete",attrs:{"slot":"reference","title":_vm.t('ht.common.remove')},slot:"reference"},[_c('i',{staticClass:"el-icon-delete"})])]):_vm._e()],1):_vm._e()],1)}),0)],1)}
var FileCardvue_type_template_id_8ed44bf8_staticRenderFns = []


// CONCATENATED MODULE: ./packages/File/src/FileCard.vue?vue&type=template&id=8ed44bf8

// CONCATENATED MODULE: ./src/util/path.js
function extract(url) {
  const reg = new RegExp(/^(http.*?\/\/.*?)\/.*$/);
  return reg.test(url) ? reg.exec(url)[1] : '';
}
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/File/src/FileCard.vue?vue&type=script&lang=js
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//



const FileCardvue_type_script_lang_js_draggable = __webpack_require__("289a");
const defaultThumbnailUrl = __webpack_require__("76ce");
/* harmony default export */ var FileCardvue_type_script_lang_js = ({
  name: 'FileCard',
  components: {
    draggable: FileCardvue_type_script_lang_js_draggable
  },
  mixins: [mixins_locale],
  props: {
    data: {
      type: Array
    },
    headers: {
      type: Object
    },
    actionUrl: {
      type: String
    },
    previewable: {
      type: Boolean,
      default: true
    },
    inputWriteable: {
      type: Boolean,
      default: true
    },
    downloadable: {
      type: Boolean,
      default: true
    },
    sortable: {
      type: Boolean,
      default: true
    },
    cardBadge: {
      type: Boolean,
      default: true
    },
    thumbnail: {
      type: Function,
      default: null
    }
  },
  data() {
    return {
      isDragging: false
    };
  },
  computed: {
    dataVal: {
      get() {
        return this.data;
      },
      set(val) {
        // 只有在拖拽排序时才通过inputVal对value进行更新
        if (this.isDragging && val.constructor == Array && val.length > 0) {
          this.$emit('sort', val);
        }
      }
    },
    dragOptions() {
      return {
        animation: 0,
        group: 'description',
        disabled: false,
        ghostClass: 'ghost'
      };
    },
    thumbnailComp() {
      return this.thumbnail ? this.thumbnail : this.$requestConfig.thumbnail ? this.$requestConfig.thumbnail : (file, actionUrl) => {
        const path = extract(actionUrl);
        return file.response && file.response.fileId ? `${path}/file/onlinePreviewController/v1/getFileById_${file.response.fileId}` : defaultThumbnailUrl;
      };
    }
  },
  methods: {
    defaultImg(event) {
      const img = event.srcElement;
      img.src = defaultThumbnailUrl;
      img.onerror = null;
    }
  }
});
// CONCATENATED MODULE: ./packages/File/src/FileCard.vue?vue&type=script&lang=js
 /* harmony default export */ var src_FileCardvue_type_script_lang_js = (FileCardvue_type_script_lang_js); 
// CONCATENATED MODULE: ./packages/File/src/FileCard.vue





/* normalize component */

var FileCard_component = normalizeComponent(
  src_FileCardvue_type_script_lang_js,
  FileCardvue_type_template_id_8ed44bf8_render,
  FileCardvue_type_template_id_8ed44bf8_staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* harmony default export */ var FileCard = (FileCard_component.exports);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/File/src/main.vue?vue&type=script&lang=js
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//













const {
  saveAs
} = __webpack_require__("9588");
/* harmony default export */ var File_src_mainvue_type_script_lang_js = ({
  name: 'HtFile',
  components: {
    HtFieldTail: FieldTail,
    FileUpload: FileUpload,
    FileTable: FileTable,
    FileList: FileList,
    FileCard: FileCard
  },
  mixins: [mixins_locale, mixins_permission["a" /* default */], inputName["a" /* default */], mixins_form["a" /* default */], mobileMode["a" /* default */]],
  props: {
    type: {
      type: String,
      default: 'table',
      validator: function (value) {
        return ['table', 'list', 'card'].indexOf(value) !== -1;
      }
    },
    isSimple: {
      type: Boolean,
      default: false
    },
    simplicity: {
      type: Boolean,
      default: false
    },
    withCredentials: {
      type: Boolean,
      default: false
    },
    actionUrl: {
      type: String,
      default: null
    },
    value: {
      type: String
    },
    multiple: {
      type: Boolean,
      default: false
    },
    accept: {
      type: String
    },
    limit: {
      type: Number
    },
    pictureWall: {
      type: Boolean,
      default: false
    },
    header: {
      type: Object
    },
    size: {
      type: Number
    },
    sizeType: {
      type: String
    },
    previewable: {
      type: Boolean,
      default: true
    },
    allowPreview: {
      type: Boolean,
      default: false
    },
    downloadable: {
      type: Boolean,
      default: true
    },
    allowDownload: {
      type: Boolean,
      default: false
    },
    sortable: {
      type: Boolean,
      default: true
    },
    propConf: [Array, String],
    beforeUpload: {
      type: Function
    },
    onSuccess: {
      type: Function
    },
    onError: {
      type: Function
    },
    columnShow: {
      type: Object,
      default() {
        return {};
      }
    },
    cardBadge: {
      type: Boolean,
      default: true
    },
    thumbnail: {
      type: Function
    },
    flowData: {
      type: Object,
      default: () => {
        return {};
      }
    },
    uploading: {
      type: Boolean,
      default: false
    }
  },
  data() {
    return {
      writeable: true,
      temp: null,
      refreshFileUploadDebounce: external_lodash_default.a.debounce(this.refreshFileUpload, 200),
      inputVal: []
    };
  },
  computed: {
    typeVal: function () {
      return this.isSimple || this.simplicity ? 'list' : this.type;
    },
    inputsContainerWidth() {
      return this.typeVal !== 'list' && this.formInputsDisplay !== 'block' ? {
        width: 'auto'
      } : {};
    },
    actionUrlVal: function () {
      return this.actionUrl ? this.actionUrl : this.$requestConfig.uploadUrl ? this.handlerUploadUrl : 'https://jsonplaceholder.typicode.com/posts/';
    },
    handlerUploadUrl() {
      const baseUrl = this.$requestConfig.uploadUrl;
      if (!this.flowData.defId) {
        return baseUrl;
      }
      const indexOfMark = baseUrl.indexOf('?');
      if (indexOfMark == -1) {
        return `${baseUrl}?defId=${this.flowData.defId}`;
      }
      if (indexOfMark > -1 && indexOfMark == baseUrl.length - 1) {
        return `${baseUrl}defId=${this.flowData.defId}`;
      }
      if (indexOfMark > -1 && indexOfMark < baseUrl.length - 1) {
        return `${baseUrl}&defId=${this.flowData.defId}`;
      }
      return baseUrl;
    },
    headerVal: function () {
      return this.header ? this.header : this.$requestConfig.header ? this.$requestConfig.header() : null;
    },
    acceptType: function () {
      if (this.accept) {
        const ary = [];
        this.accept.split(',').forEach(m => {
          if (m.startsWith('.')) {
            ary.push(m);
          } else {
            ary.push(`.${m}`);
          }
        });
        return ary.join(',');
      }
      return null;
    },
    previewableVal: function () {
      return this.inputWriteable && this.previewable || this.allowPreview;
    },
    downloadableVal: function () {
      return this.inputWriteable && this.downloadable || this.allowDownload;
    }
  },
  watch: {
    value(val) {
      if (utils["a" /* default */].isEmpty(val)) {
        this.inputVal = [];
      } else if (val.constructor == String) {
        this.inputVal = [...JSON.parse(val)];
      }
      this.uploadingJudge(this.inputVal);
    },
    inputVal: {
      handler(val) {
        this.$emit('input', val.length > 0 ? JSON.stringify(val) : '');
      },
      deep: true
    }
  },
  created() {
    if (this.value) {
      this.inputVal = JSON.parse(this.value);
    }
  },
  methods: {
    // 上传前做校验
    beforeUploadMethod(file) {
      if (file.name && this.accept && !this.accept.split(',').includes(file.name.split('.')[1])) {
        this.$message(this.$t('ht.file.validateMsg'));
        return false;
      }
      if (this.beforeUpload) {
        return this.beforeUpload(file);
      }
      return true;
    },
    //获取指定字符串点最后一个字符
    substringType(str) {
      let valueArr = str.split('.');
      return valueArr[valueArr.length - 1];
    },
    // 将文件对象转换为附件对象
    convertFile2Item(file) {
      let name = file.name || file.response && file.response.fileName;
      const item = {
        name: name,
        size: file.size || file.response && file.response.size,
        percentage: file.percentage,
        status: file.status,
        state: file.status,
        type: name && name.split('.') ? this.substringType(name) : file.type,
        uid: file.uid,
        prop1: '',
        prop2: '',
        prop3: '',
        prop4: '',
        prop5: '',
        prop6: ''
      };
      if (file.response) {
        item.response = {
          ...file.response
        };
        item.username = file.response.username || '';
      }
      return item;
    },
    // 对附件对象的操作，包括：添加、更新、删除、清空、调整顺序
    valueOpration(item, opType = 'update', direct) {
      if (opType == 'clear') {
        this.$emit('input', '');
        this.refreshFileUploadDebounce();
        return;
      }
      let ary = utils["a" /* default */].isEmpty(this.value) ? [] : JSON.parse(this.value);
      const index = ary.findIndex(m => m.uid == item.uid);
      switch (opType) {
        case 'update':
          {
            if (index > -1) {
              ary[index] = item;
            } else {
              ary.push(item);
            }
            break;
          }
        case 'remove':
          ary.splice(index, 1);
          break;
        case 'move':
          {
            const realItem = ary.find(m => m.uid == item.uid);
            ary = utils["a" /* default */].arrayMove(ary, realItem, direct);
            break;
          }
      }
      this.$emit('input', ary.length > 0 ? JSON.stringify(ary) : '');
      this.refreshFileUploadDebounce();
    },
    // 当前是否有附件正在上传中的判定
    uploadingJudge(ary) {
      let loadingStatus = false;
      if (!ary || ary.constructor != Array || ary.length == 0) {
        loadingStatus = false;
      } else {
        ary.forEach(m => {
          if (m.status === 'success' && m.hasOwnProperty('percentage') && m.percentage === undefined || m.status === 'uploading') {
            loadingStatus = true;
          }
        });
      }
      this.$emit('update:uploading', loadingStatus);
    },
    // 同步附件数据到上传组件
    refreshFileUpload() {
      this.$nextTick(() => {
        this.$refs.fileUpload.reload(this.inputVal);
      });
    },
    handleError(err, file) {
      this.valueOpration(this.convertFile2Item(file));
      //上传失败的附件在3秒后自动移除
      setTimeout(() => {
        this.valueOpration(this.convertFile2Item(file), 'remove');
      }, 3000);
    },
    handleProgress(event, file) {
      this.valueOpration(this.convertFile2Item(file));
    },
    handleClear() {
      this.valueOpration(null, 'clear');
    },
    move(item, direct) {
      this.valueOpration(item, 'move', direct);
    },
    uploadSuccess(response, file, fileList) {
      this.valueOpration(this.convertFile2Item(file));
      this.$emit('onSuccess', response, file, fileList);
    },
    removeFile(file) {
      this.$refs.fileUpload.abort(file);
      this.valueOpration(this.convertFile2Item(file), 'remove');
      this.$emit('remove', file, this.inputVal);
    },
    download(file) {
      // 组件单独绑定了download事件
      if (this.$options._parentListeners.download) {
        this.$emit('download', file, this.inputVal);
      }
      // 未绑定时触发全局download事件处理函数
      else if (this.$requestConfig.download) {
        this.$requestConfig.download(file.response.fileId).then(({
          data,
          headers
        }) => {
          if (data && headers) {
            // 附件下载
            const fileName = decodeURIComponent(headers['content-disposition'].split(';')[1].split('filename=')[1]);
            const blob = new Blob([data]);
            saveAs(blob, fileName);
          }
        }).catch(err => {
          this.$message.error(`${this.$t('ht.file.fileDownloadError')}:${err}`);
        });
      }
    },
    preview(file) {
      if (file.status !== 'success') {
        this.$message.warning(this.t('ht.file.forbiddenPreview'));
        return;
      }
      if (this.previewableVal) {
        // 当前组件未添加preview事件监听 并且 设置了全局预览方法
        if (!this._events.preview && this.$preview) {
          this.$preview(file);
        } else {
          this.$emit('preview', file, this.inputVal);
        }
      } else {
        let msg = this.t('ht.file.nopreview');
        this.$message.warning(msg);
      }
    },
    handleSort(data) {
      this.$emit('input', JSON.stringify(data));
      this.refreshFileUploadDebounce();
    }
  }
});
// CONCATENATED MODULE: ./packages/File/src/main.vue?vue&type=script&lang=js
 /* harmony default export */ var packages_File_src_mainvue_type_script_lang_js = (File_src_mainvue_type_script_lang_js); 
// EXTERNAL MODULE: ./packages/File/src/main.vue?vue&type=style&index=0&id=332faf92&prod&lang=scss&scoped=true
var mainvue_type_style_index_0_id_332faf92_prod_lang_scss_scoped_true = __webpack_require__("1989");

// CONCATENATED MODULE: ./packages/File/src/main.vue






/* normalize component */

var File_src_main_component = normalizeComponent(
  packages_File_src_mainvue_type_script_lang_js,
  mainvue_type_template_id_332faf92_scoped_true_render,
  mainvue_type_template_id_332faf92_scoped_true_staticRenderFns,
  false,
  null,
  "332faf92",
  null
  
)

/* harmony default export */ var File_src_main = (File_src_main_component.exports);
// CONCATENATED MODULE: ./packages/File/index.js

File_src_main.install = function (Vue) {
  Vue.component(File_src_main.name, File_src_main);
};
/* harmony default export */ var File = (File_src_main);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"8bdeefa2-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/Demension/src/main.vue?vue&type=template&id=9e19fd4e&scoped=true
var mainvue_type_template_id_9e19fd4e_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:"inputs"},[_c('div',{staticClass:"el-select",staticStyle:{"width":"100%","min-width":"180px"},on:{"click":_vm.showDialog}},[_c('div',{ref:"tagSpans",class:{
        'el-select__tags_readonly': !_vm.inputWriteable,
        'el-select__tags': _vm.inputWriteable,
      },staticStyle:{"width":"calc(100% - 25px)"}},[_c('span',_vm._l((_vm.demensions),function(item,index){return _c('span',{key:index,staticClass:"el-tag el-tag--info el-tag--small",on:{"click":function($event){$event.stopPropagation();}}},[_c('span',{staticClass:"el-select__tags-text"},[_vm._v(_vm._s(item.name))]),(_vm.inputWriteable)?_c('i',{staticClass:"el-tag__close el-icon-close",on:{"click":function($event){return _vm.handleRemove(item)}}}):_vm._e()])}),0)]),(_vm.inputWriteable)?_c('div',{staticClass:"el-input el-input--suffix"},[_c('input',{directives:[{name:"model",rawName:"v-model",value:(_vm.value),expression:"value"},{name:"validate",rawName:"v-validate",value:(_vm.inputValidate),expression:"inputValidate"}],ref:"inputEl",staticClass:"el-input__inner",style:({
          height: _vm.inputSuffixHeight + 'px',
          lineHeight: _vm.inputSuffixHeight + 'px',
        }),attrs:{"type":"text","readonly":"readonly","name":_vm.inputName,"autocomplete":"off","placeholder":_vm.placeholder},domProps:{"value":(_vm.value)},on:{"input":function($event){if($event.target.composing){ return; }_vm.value=$event.target.value}}}),_c('span',{staticClass:"el-input__suffix"},[_c('span',{staticClass:"el-input__suffix-inner"},[_c('ht-icon',{attrs:{"name":"users"}})],1)])]):_vm._e()]),_c('ht-field-tail',{attrs:{"writeable":_vm.writeable,"field-name":_vm.inputName,"input-value":_vm.value},on:{"update:writeable":function($event){_vm.writeable=$event}}}),_c('el-dialog',{staticClass:"dialog-selector__wrapper",attrs:{"title":_vm.$t('ht.selector.dimensionTitle'),"visible":_vm.dialogVisible,"top":"6vh","before-close":_vm.handleClose,"close-on-click-modal":false,"append-to-body":_vm.appendToBody},on:{"update:visible":function($event){_vm.dialogVisible=$event}}},[_c('ht-selector',{ref:"selector",attrs:{"data":_vm.data,"pagination":_vm.pagination,"table-columns":_vm.tableColumns,"select-label":_vm.selectLabel,"quick-search-props":_vm.quickSearchProps,"single":_vm.single,"search-placeholder":_vm.searchPlaceholder,"primary-field":_vm.primaryField},on:{"load":_vm.load,"select":_vm.select,"row-click":_vm.rowClick},model:{value:(_vm.demensions),callback:function ($$v) {_vm.demensions=$$v},expression:"demensions"}}),_c('div',{staticClass:"dialog-footer",attrs:{"slot":"footer"},slot:"footer"},[_c('el-button',{attrs:{"type":"primary","size":"small"},on:{"click":_vm.handleDialogSure}},[_vm._v("\n        "+_vm._s(_vm.$t('ht.common.confirm'))+"\n      ")]),_c('el-button',{attrs:{"size":"small"},on:{"click":_vm.handleDialogCancel}},[_vm._v("\n        "+_vm._s(_vm.$t('ht.common.cancle'))+"\n      ")])],1)],1)],1)}
var mainvue_type_template_id_9e19fd4e_scoped_true_staticRenderFns = []


// CONCATENATED MODULE: ./packages/Demension/src/main.vue?vue&type=template&id=9e19fd4e&scoped=true

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"8bdeefa2-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/Selector/src/main.vue?vue&type=template&id=758fd0ba&scoped=true
var mainvue_type_template_id_758fd0ba_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-container',{staticClass:"e_c auto_height fullheight"},[_c('el-container',{staticClass:"fullheight"},[_c('div',{staticClass:"ht-header__search"},[_c('el-input',{staticClass:"ht-header__input",staticStyle:{"max-width":"200px"},attrs:{"size":"small","clearable":"","placeholder":_vm.searchPlaceholder,"prefix-icon":"el-icon-search"},on:{"clear":_vm.clear},nativeOn:{"keyup":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,"enter",13,$event.key,"Enter")){ return null; }return _vm.search($event)}},model:{value:(_vm.searchWord),callback:function ($$v) {_vm.searchWord=$$v},expression:"searchWord"}}),_c('div',{staticClass:"ht-search__btn"},[_c('el-button',{attrs:{"size":"small","type":"primary","icon":"el-icon-search","disabled":_vm.loading},on:{"click":_vm.search}},[_vm._v("\n          "+_vm._s(_vm.t('ht.common.search'))+"\n        ")]),(!_vm.isMobile)?_c('el-button',{attrs:{"size":"small","disabled":_vm.loading,"icon":"el-icon-refresh"},on:{"click":_vm.reset}},[_vm._v("\n          "+_vm._s(_vm.t('ht.common.reset'))+"\n        ")]):_vm._e(),_vm._t("customBtn")],2)],1),_c('el-main',{staticClass:"ht-selector__main"},[_c('el-table',{directives:[{name:"loading",rawName:"v-loading",value:(_vm.loading),expression:"loading"}],ref:"selectorTable",staticClass:"ht-selector__table",staticStyle:{"width":"100%"},attrs:{"data":_vm.data,"stripe":"","border":"","size":_vm.sizeType,"highlight-current-row":_vm.single},on:{"row-click":_vm.handleRowClick,"select":_vm.handleTableSelect,"select-all":_vm.handleTableSelect}},[(!_vm.single)?_c('el-table-column',{attrs:{"type":"selection","align":"center","width":"45"}}):_vm._e(),(_vm.single)?_c('el-table-column',{attrs:{"align":"center","width":"50"},scopedSlots:_vm._u([{key:"default",fn:function(scope){return [_c('el-radio',{attrs:{"label":scope.row.id},model:{value:(_vm.selectedId),callback:function ($$v) {_vm.selectedId=$$v},expression:"selectedId"}})]}}],null,false,2510255007)}):_vm._e(),(_vm.sizeType == 'small')?_c('el-table-column',{attrs:{"type":"index","width":"60","align":"center","label":_vm.t('ht.common.index')}}):_vm._e(),_vm._l((_vm.tableColumns),function(column,index){return _c('el-table-column',{key:index,attrs:{"align":"center","prop":column.prop,"label":column.label,"width":column.width},scopedSlots:_vm._u([{key:"default",fn:function(scope){return [(column.type == 'timestamp')?_c('el-tooltip',{staticClass:"item",attrs:{"effect":"light","disabled":_vm.hideTip(column.tipField, scope.row[column.tipField]),"content":scope.row[column.tipField],"placement":"top-end"}},[_c('div',{staticClass:"cell"},[_vm._v("\n                "+_vm._s(_vm._f("dateFormat")(scope.row[column.prop],'YYYY-MM-DD HH:mm:ss'))+"\n              ")])]):(column.prop == 'orgname')?_c('div',{staticClass:"cell"},[_c('el-tooltip',{staticClass:"item",attrs:{"effect":"light","disabled":_vm.hideTip(column.tipField, scope.row[column.tipField]),"content":scope.row[column.tipField],"placement":"top-end"}},[_c('span',[_vm._v(_vm._s(scope.row[column.prop]))])])],1):_c('div',{staticClass:"cell"},[_vm._v(_vm._s(scope.row[column.prop]))])]}}],null,true)})})],2)],1),_c('el-footer',{staticClass:"ht-footer__pagination",attrs:{"height":"auto"}},[_c('el-row',{attrs:{"type":"flex","justify":"end"}},[_c('el-pagination',{attrs:{"small":"","layout":_vm.isMobile ? _vm.mobileLayout : _vm.pcLayout,"disabled":_vm.loading,"page-sizes":_vm.pageSizeArr,"page-size":_vm.pagination.pageSize,"pager-count":5,"total":_vm.pagination.total,"current-page":_vm.pagination.page},on:{"size-change":_vm.handleSizeChange,"current-change":_vm.handleCurrentChange}})],1)],1)],1),(!_vm.isMobile)?_c('el-aside',{staticClass:"right-aside",attrs:{"width":"80px"}},[_c('div',{staticClass:"selector-button-group"},[_c('el-button',{attrs:{"size":_vm.sizeType},on:{"click":function($event){return _vm.move('up')}}},[_vm._v("\n        "+_vm._s(_vm.t('ht.common.up'))+"\n      ")]),_c('el-button',{attrs:{"size":_vm.sizeType},on:{"click":function($event){return _vm.move('down')}}},[_vm._v("\n        "+_vm._s(_vm.t('ht.common.down'))+"\n      ")]),_c('el-button',{attrs:{"size":_vm.sizeType},on:{"click":_vm.removeSelected}},[_vm._v("\n        "+_vm._s(_vm.t('ht.common.remove'))+"\n      ")]),_c('el-button',{attrs:{"size":_vm.sizeType},on:{"click":_vm.clearAllSelects}},[_vm._v("\n        "+_vm._s(_vm.t('ht.common.clear'))+"\n      ")])],1)]):_vm._e(),(!_vm.isMobile)?_c('el-aside',{staticClass:"select-aside",attrs:{"width":"140px"}},[_c('el-header',{staticClass:"select-header"},[_c('span',{staticStyle:{"font-size":"14px"}},[_vm._v(_vm._s(_vm.t('ht.common.selected')))])]),_c('div',{staticClass:"select-tree-div"},[_c('el-tree',{ref:"selectTree",attrs:{"small":"","node-key":"id","indent":_vm.indent,"props":_vm.treeProps,"data":_vm.selects,"default-checked-keys":_vm.defaultCheckedKeys,"show-checkbox":"","check-on-click-node":""}})],1)],1):_vm._e()],1)}
var mainvue_type_template_id_758fd0ba_scoped_true_staticRenderFns = []


// CONCATENATED MODULE: ./packages/Selector/src/main.vue?vue&type=template&id=758fd0ba&scoped=true

// EXTERNAL MODULE: ./node_modules/timers-browserify/main.js
var timers_browserify_main = __webpack_require__("5118");

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/Selector/src/main.vue?vue&type=script&lang=js
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//





/* harmony default export */ var Selector_src_mainvue_type_script_lang_js = ({
  name: 'HtSelector',
  mixins: [mixins_locale, mobileMode["a" /* default */]],
  props: {
    searchPlaceholder: {
      type: String,
      default: ''
    },
    selectLabel: {
      type: String,
      default: 'name'
    },
    tableColumns: {
      type: Array,
      default: () => {
        return [];
      }
    },
    value: {
      type: Array,
      default: () => {
        return [];
      }
    },
    data: Array,
    single: {
      type: Boolean,
      default: false
    },
    //服务端分页
    pagination: {
      type: Object,
      default: () => {
        return {
          page: 1,
          pageSize: 10,
          total: 31214,
          showTotal: true
        };
      }
    },
    quickSearchProps: {
      type: [String, Array],
      required: true
    },
    //唯一标识字段
    primaryField: {
      type: String,
      default: ''
    },
    indent: {
      type: Number,
      default: 8
    }
  },
  data() {
    return {
      sizeType: 'small',
      loading: false,
      searchWord: null,
      //客户端分页
      paging: {
        page: 1,
        pageSize: 10
      },
      selectedId: null,
      selects: [],
      defaultCheckedKeys: [],
      currentSelectData: [],
      pageSizeArr: [10, 50, 100, 200, 300],
      pcLayout: 'total, sizes, prev, pager, next ,jumper',
      mobileLayout: 'total, prev, pager, next'
    };
  },
  computed: {
    treeProps: function () {
      return {
        label: this.selectLabel
      };
    }
  },
  watch: {
    data: function (newVal) {
      if (newVal && newVal.length > 0) {
        this.syncCheckedStatus();
      }
    },
    selects: {
      handler(val) {
        this.currentSelectData = val;
        this.$emit('current-selected', val);
      },
      deep: true
    }
  },
  created() {
    if (this.pagination.pageSize) {
      this.paging.pageSize = this.pagination.pageSize;
      if (this.pageSizeArr.indexOf(this.paging.pageSize) === -1) {
        this.pageSizeArr.push(this.paging.pageSize);
      }
    }
    // 组件初始化时，复制一份分页信息
    this.oldPaging = {
      ...this.paging
    };
    if (this.$smallScreenDialog) {
      this.sizeType = 'mini';
    }
  },
  methods: {
    hideTip(tipField, val) {
      if (!tipField || !val) {
        return true;
      }
      return false;
    },
    getSelectedData() {
      return this.currentSelectData;
    },
    // 同步已选行到已选数据中去
    syncSelection2selects() {
      // 复制一份当前已选数据
      let tmpSelects = [...this.selects];
      // 先将当前页中的数据从已选数据中移除
      this.data.forEach(m => {
        tmpSelects.remove(m);
      });
      // 将剩余的已选数据与当前页选中的数据合并
      tmpSelects = [...tmpSelects, ...this.$refs.selectorTable.selection];
      // 数组去重
      this.selects = tmpSelects.unique(this.primaryField ? this.primaryField : 'id');
      this.defaultCheckedKeys = this.defaultCheckedKeys.concat(this.$refs.selectorTable.selection.extractByKey('id'));
    },
    // 同步已选数据在Table中的选中状态
    syncCheckedStatus() {
      this.selectedId = null;
      if (this.single) {
        this.selects.length === 1 && (this.selectedId = this.selects[0].id);
      } else {
        if (!this.$refs.selectorTable || !this.$refs.selectorTable.selection) {
          throw this.$t('ht.selector.notGetData');
        }
        this.$refs.selectorTable.clearSelection();
        this.selects.length > 0 && Object(timers_browserify_main["setTimeout"])(() => {
          this.selects.forEach(m => {
            if (this.data.some(n => {
              return utils["a" /* default */].objectEquals(m, n);
            })) {
              this.$refs.selectorTable.toggleRowSelection(m);
            }
          });
        });
      }
    },
    onShow(initSelectors) {
      // 每一次显示选择器时，重置当前选中数据为外部的v-model对象
      if (!initSelectors) {
        this.selects = [...this.value];
      } else {
        this.selects = initSelectors;
      }
      this.defaultCheckedKeys = this.selects.extractByKey('id');
      this.reset();
    },
    onHide(sure) {
      // 在隐藏选择器时，如果点击的是确定按钮，则将当前选中数据更新到外部的v-model对象上
      if (sure) {
        this.$emit('input', this.selects);
      }
    },
    getQueryFilter(isPageChange) {
      let queryFilter = {
        querys: [],
        pageBean: this.paging
      };
      if (this.quickSearchProps && this.quickSearchProps.constructor == String && this.searchWord) {
        //有搜索条件并且不是切换分页的时候，重置分页
        if (!isPageChange) {
          queryFilter.pageBean.page = 1;
        }
        let props = this.quickSearchProps.split(',');
        props.forEach(item => {
          let query = {
            property: item,
            value: this.searchWord,
            group: 'main',
            operation: 'LIKE',
            relation: 'OR'
          };
          queryFilter.querys.push(query);
        });
      }
      return queryFilter;
    },
    // 加载数据，根据当前的搜索关键词及分页条件
    load(isPageChange) {
      this.loading = true;
      this.$emit('load', this.getQueryFilter(isPageChange), () => {
        this.loading = false;
      });
    },
    // 搜索事件
    search() {
      if (this.loading) {
        return;
      }
      this.paging = this.oldPaging;
      this.load();
    },
    // 重置事件
    reset() {
      this.$emit('reset');
      this.searchWord = null;
      this.paging = this.oldPaging;
      this.load();
    },
    clear() {
      this.reset();
    },
    handleRowClick(row, column, event) {
      if (this.single) {
        this.selects = [row];
        this.selectedId = row.id;
        this.defaultCheckedKeys = [];
        this.defaultCheckedKeys.push(this.selectedId);
      } else {
        if (!this.$refs.selectorTable || !this.$refs.selectorTable.selection) {
          throw this.$t('ht.selector.notGetData');
        }
        let _tag = true;
        this.$refs.selectorTable.selection.forEach(m => {
          if (m === row) {
            // 已选中该行时，取消选中状态
            this.$refs.selectorTable.toggleRowSelection(row, false);
            _tag = false;
          }
        });
        // 非取消选中情况下，将当前行设置为选中状态
        _tag && this.$refs.selectorTable.toggleRowSelection(row);
        this.syncSelection2selects();
      }
      this.$emit('row-click', row, column, event);
    },
    handleTableSelect(selection, row) {
      this.syncSelection2selects();
      this.$emit('select', selection, row);
    },
    handleSizeChange(size) {
      this.paging.pageSize = size;
      this.load();
    },
    handleCurrentChange(currentPage) {
      this.paging.page = currentPage;
      this.load(true);
    },
    move(direct) {
      let selectedAry = this.$refs.selectTree.getCheckedNodes();
      // 将调整顺序之后的数组赋值给Tree
      this.selects = utils["a" /* default */].arrayMove(this.selects, selectedAry, direct);
      Object(timers_browserify_main["setTimeout"])(() => {
        // 调整顺序后恢复勾选状态
        this.$refs.selectTree.setCheckedNodes(selectedAry);
      });
    },
    removeSelected() {
      let selectedAry = this.$refs.selectTree.getCheckedNodes();
      selectedAry.forEach(item => {
        this.selects.remove(item);
      });
      this.syncCheckedStatus();
    },
    clearAllSelects() {
      this.selects = [];
      this.syncCheckedStatus();
    }
  }
});
// CONCATENATED MODULE: ./packages/Selector/src/main.vue?vue&type=script&lang=js
 /* harmony default export */ var packages_Selector_src_mainvue_type_script_lang_js = (Selector_src_mainvue_type_script_lang_js); 
// EXTERNAL MODULE: ./packages/Selector/src/main.vue?vue&type=style&index=0&id=758fd0ba&prod&lang=scss&scoped=true
var mainvue_type_style_index_0_id_758fd0ba_prod_lang_scss_scoped_true = __webpack_require__("b391");

// CONCATENATED MODULE: ./packages/Selector/src/main.vue






/* normalize component */

var Selector_src_main_component = normalizeComponent(
  packages_Selector_src_mainvue_type_script_lang_js,
  mainvue_type_template_id_758fd0ba_scoped_true_render,
  mainvue_type_template_id_758fd0ba_scoped_true_staticRenderFns,
  false,
  null,
  "758fd0ba",
  null
  
)

/* harmony default export */ var Selector_src_main = (Selector_src_main_component.exports);
// CONCATENATED MODULE: ./packages/Selector/index.js

Selector_src_main.install = function (Vue) {
  Vue.component(Selector_src_main.name, Selector_src_main);
};
/* harmony default export */ var Selector = (Selector_src_main);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/Demension/src/main.vue?vue&type=script&lang=js
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//






/* harmony default export */ var Demension_src_mainvue_type_script_lang_js = ({
  name: 'HtDemension',
  components: {
    HtFieldTail: FieldTail,
    HtSelector: Selector
  },
  props: {
    searchPlaceholder: {
      type: String,
      default() {
        return Object(locale["c" /* t */])('ht.selector.nameCode');
      }
    },
    validate: [String, Object],
    value: String,
    name: String,
    selectLabel: String,
    placeholder: {
      type: String,
      default() {
        return Object(locale["c" /* t */])('ht.common.enter');
      }
    },
    permission: {
      type: String,
      default: 'w',
      validator: function (value) {
        return ['b', 'w', 'r', 'n'].indexOf(value) !== -1;
      }
    },
    single: {
      type: Boolean,
      default: false
    },
    config: Object,
    data: {
      type: Array,
      default: () => {
        return [];
      }
    },
    tableColumns: {
      type: Array,
      default: () => {
        return [];
      }
    },
    pagination: {
      type: Object,
      default: () => {
        return {
          page: 1,
          pageSize: 50,
          total: 0
        };
      }
    },
    quickSearchProps: {
      type: String,
      required: true
    },
    appendToBody: {
      type: Boolean,
      default: false
    }
  },
  data() {
    return {
      inputName: null,
      writeable: true,
      inputSuffixHeight: 30,
      demensions: [],
      dialogVisible: false
    };
  },
  computed: {
    inputWriteable: function () {
      return this.writeable ? utils["a" /* default */].getWriteable(this.permission) : this.writeable;
    },
    inputValidate: function () {
      return utils["a" /* default */].addRequiredOrNot(this.permission, this.validate, this);
    },
    primaryField: function () {
      return this.config && this.config.hasOwnProperty('id') ? 'id' : this.config && this.config.hasOwnProperty('code') ? 'code' : this.selectLabel;
    }
  },
  watch: {
    // 当所选择的数据发生变化时，同步到v-model中
    demensions: function (newVal) {
      let ary = [],
        idAry = [],
        demNameAry = [],
        codeAry = [];
      if (newVal && newVal.constructor === Array && newVal.length > 0) {
        newVal.forEach(m => {
          ary.push(m.name);
          if (m.hasOwnProperty('id')) {
            idAry.push(m.id);
          }
          if (m.hasOwnProperty('code')) {
            codeAry.push(m.code);
          }
          if (m.hasOwnProperty('demName')) {
            demNameAry.push(m.demName);
          }
        });
      }
      if (this.config) {
        // 配置了id的绑定关系，则回填到指定属性上
        if (this.config.hasOwnProperty('id')) {
          utils["a" /* default */].setValueByConfigKey(this, this.config, 'id', idAry.join(','));
        }
        // 配置了code的绑定关系，则回填到指定的属性上
        if (this.config.hasOwnProperty('code')) {
          utils["a" /* default */].setValueByConfigKey(this, this.config, 'code', codeAry.join(','));
        }
        // 配置了demName的绑定关系，则回填到指定属性上
        if (this.config.hasOwnProperty('demName')) {
          utils["a" /* default */].setValueByConfigKey(this, this.config, 'demName', demNameAry.join(','));
        }
      }
      // 通过valueChange事件发布值变更消息
      this.$emit('valueChange', ary.join(','), newVal);
      Object(timers_browserify_main["setTimeout"])(() => {
        this.calacInputSuffixHeight();
        if (this.$refs.inputEl) {
          this.$refs.inputEl.focus();
          this.$refs.inputEl.blur();
        }
      }, 10);
    },
    value: function () {
      // 父级传递进来的value发生变更时，需要同步到当前所选数据中
      this.valueInit();
    }
  },
  mounted() {
    // 组件第一次挂载时，同步value到当前所选数据中
    this.valueInit();
  },
  created() {
    this.inputName = this.name ? this.name : utils["a" /* default */].getName();
    this.$validator = this.$root.$validator;
  },
  methods: {
    // 同步value到当前所选数据中
    valueInit() {
      let tmpAry = [];
      if (this.value) {
        let idAry = [],
          demNameAry = [],
          codeAry = [];
        if (this.config) {
          // 配置了id绑定关系，则获取id的值
          if (this.config.hasOwnProperty('id')) {
            let idVal = utils["a" /* default */].getValueByConfigKey(this, this.config, 'id');
            if (idVal) {
              idAry = idVal.split(',').trim();
            }
          }
          // 配置了code绑定关系，则获取code的值
          if (this.config.hasOwnProperty('code')) {
            let codeVal = utils["a" /* default */].getValueByConfigKey(this, this.config, 'code');
            if (codeVal) {
              codeAry = codeVal.split(',').trim();
            }
          }
          // 配置了demName绑定关系，则获取demName的值
          if (this.config.hasOwnProperty('demName')) {
            let demNameVal = utils["a" /* default */].getValueByConfigKey(this, this.config, 'demName');
            if (demNameVal) {
              demNameAry = demNameVal.split(',').trim();
            }
          }
        }
        // 将name、id、code从逗号分割的字符串解析为json对象格式的数组
        let valAry = this.value.split(',').trim();
        valAry.forEach((m, index) => {
          let item = {
            name: m
          };
          if (idAry.length > index) {
            item['id'] = idAry[index];
          }
          if (codeAry.length > index) {
            item['code'] = codeAry[index];
          }
          if (demNameAry.length > index) {
            item['demName'] = demNameAry[index];
          }
          tmpAry.push(item);
        });
      }
      // 对数组做深度对比，如果值不完全相等，则进行赋值操作
      if (!utils["a" /* default */].arrayEquals(tmpAry, this.demensions)) {
        this.demensions = tmpAry;
      }
    },
    showDialog() {
      if (!this.inputWriteable) {
        return;
      }
      this.dialogVisible = true;
      Object(timers_browserify_main["setTimeout"])(() => {
        this.$refs.selector.onShow();
      });
    },
    handleClose(done) {
      this.$refs.selector.onHide();
      done && done();
    },
    handleDialogSure() {
      this.$emit('select-data', this.$refs.selector.getSelectedData());
      this.dialogVisible = false;
      this.$refs.selector.onHide(true);
    },
    handleDialogCancel() {
      this.dialogVisible = false;
      this.$refs.selector.onHide();
    },
    handleRemove(item) {
      this.demensions.remove(item);
    },
    // 更新当前输入框的高度来适配已选数据的高度
    calacInputSuffixHeight() {
      if (!this.$refs.tagSpans) return;
      if (this.$refs.tagSpans.offsetHeight) {
        this.inputSuffixHeight = this.$refs.tagSpans.offsetHeight + 5;
      } else {
        this.inputSuffixHeight = 30;
      }
    },
    load(param, cb) {
      this.$emit('load', param, cb);
    },
    select(selection, row) {
      this.$emit('select', selection, row);
    },
    rowClick(row, column, event) {
      this.$emit('row-click', row, column, event);
    }
  }
});
// CONCATENATED MODULE: ./packages/Demension/src/main.vue?vue&type=script&lang=js
 /* harmony default export */ var packages_Demension_src_mainvue_type_script_lang_js = (Demension_src_mainvue_type_script_lang_js); 
// EXTERNAL MODULE: ./packages/Demension/src/main.vue?vue&type=style&index=0&id=9e19fd4e&prod&lang=scss&scoped=true
var mainvue_type_style_index_0_id_9e19fd4e_prod_lang_scss_scoped_true = __webpack_require__("2ee6");

// CONCATENATED MODULE: ./packages/Demension/src/main.vue






/* normalize component */

var Demension_src_main_component = normalizeComponent(
  packages_Demension_src_mainvue_type_script_lang_js,
  mainvue_type_template_id_9e19fd4e_scoped_true_render,
  mainvue_type_template_id_9e19fd4e_scoped_true_staticRenderFns,
  false,
  null,
  "9e19fd4e",
  null
  
)

/* harmony default export */ var Demension_src_main = (Demension_src_main_component.exports);
// CONCATENATED MODULE: ./packages/Demension/index.js

Demension_src_main.install = function (Vue) {
  Vue.component(Demension_src_main.name, Demension_src_main);
};
/* harmony default export */ var Demension = (Demension_src_main);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"8bdeefa2-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/Tree/src/main.vue?vue&type=template&id=ae0439a0&scoped=true
var mainvue_type_template_id_ae0439a0_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{style:(_vm.containerStyle)},[(_vm.supportFilter)?_c('div',{staticClass:"tree-header flex"},[_vm._t("custom-prefix"),_c('el-input',{attrs:{"placeholder":_vm.t('ht.tree.filterText'),"clearable":""},model:{value:(_vm.filterText),callback:function ($$v) {_vm.filterText=$$v},expression:"filterText"}},[_c('i',{staticClass:"el-input__icon el-icon-search",attrs:{"slot":"prefix"},slot:"prefix"})]),_c('div',{class:_vm.isIeExplorer
          ? 'tree-button-group is-ie-explorer flex'
          : 'tree-button-group flex'},[_vm._t("custom-button"),_c('ht-icon',{staticClass:"tree-icon",attrs:{"name":_vm.isExpand ? 'simple-collapse' : 'simple-expand',"title":_vm.isExpand ? _vm.$t('ht.tree.collapse') : _vm.$t('ht.tree.expand'),"scale":"1.2"},on:{"click":_vm.handleExpandCollapse}}),_c('ht-icon',{staticClass:"tree-icon refresh",attrs:{"name":"refresh","pulse":_vm.loading,"scale":"1.1","title":_vm.$t('ht.tree.refresh')},on:{"click":_vm.refresh}})],2)],2):_vm._e(),(_vm.isShowEmpty)?_c('el-empty',{attrs:{"image":_vm.treeNoDataImg,"image-size":_vm.imageSize}}):_c('el-tree',{ref:"elTree",staticClass:"el-tree__wrapper",style:(_vm.elTreeStyle),attrs:{"data":_vm.data ? _vm.data : _vm.treeData,"props":_vm.props,"empty-text":_vm.emptyText,"default-expand-all":_vm.defaultExpandAll,"filter-node-method":_vm.filterNode,"load":_vm.load,"lazy":_vm.lazy,"show-checkbox":_vm.showCheckbox,"accordion":_vm.accordion,"node-key":_vm.nodeKey,"default-expanded-keys":_vm.defaultExpandedKeys,"highlight-current":_vm.highlightCurrent,"render-after-expand":_vm.renderAfterExpand,"render-content":_vm.renderContent,"check-on-click-node":_vm.checkOnClickNode,"auto-expand-parent":_vm.autoExpandParent,"check-strictly":_vm.checkStrictly,"current-node-key":_vm.currentNodeKey,"indent":_vm.indent,"icon-class":_vm.iconClass,"draggable":_vm.draggable,"allow-drag":_vm.allowDrag,"allow-drop":_vm.allowDrop,"expand-on-click-node":_vm.expandOnClickNode,"default-checked-keys":_vm.defaultCheckedKeys},on:{"node-click":_vm.handleNodeClick,"node-contextmenu":_vm.nodeContextmenu,"check-change":_vm.checkChange,"check":_vm.check,"current-change":_vm.currentChange,"node-expand":_vm.nodeExpand,"node-collapse":_vm.nodeCollapse,"node-drag-start":_vm.nodeDragStart,"node-drag-enter":_vm.nodeDragEnter,"node-drag-leave":_vm.nodeDragLeave,"node-drag-over":_vm.nodeDragOver,"node-drag-end":_vm.nodeDragEnd,"node-drop":_vm.nodeDrop},scopedSlots:_vm._u([{key:"default",fn:function(ref){
          var node = ref.node;
          var subData = ref.data;
return (_vm.$scopedSlots['default'])?_vm._t("default",null,{"node":node,"data":subData}):[_c('span',{staticClass:"el-tree-node__label show-ellipsis",class:{ 'full-width': !_vm.showMoreButton },attrs:{"title":node.label}},[_vm._v("\n        "+_vm._s(node.label)+"\n      ")])]}}],null,true)})],1)}
var mainvue_type_template_id_ae0439a0_scoped_true_staticRenderFns = []


// CONCATENATED MODULE: ./packages/Tree/src/main.vue?vue&type=template&id=ae0439a0&scoped=true

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/Tree/src/main.vue?vue&type=script&lang=js
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//

/* eslint-disable */


/* harmony default export */ var Tree_src_mainvue_type_script_lang_js = ({
  name: 'HtTree',
  mixins: [mixins_locale],
  props: {
    data: Array,
    treeData: Array,
    load: {
      type: Function
    },
    lazy: {
      type: Boolean,
      default: false
    },
    accordion: {
      type: Boolean,
      default: false
    },
    showCheckbox: {
      type: Boolean,
      default: false
    },
    defaultExpandAll: {
      type: Boolean,
      default: false
    },
    props: {
      type: Object,
      default: function () {
        return {
          children: 'children',
          label: 'label'
        };
      }
    },
    supportFilter: {
      type: Boolean,
      default: false
    },
    showMoreButton: {
      type: Boolean,
      default: false
    },
    iconClass: {
      type: String
    },
    nodeKey: {
      type: String
    },
    defaultExpandedKeys: {
      type: Array
    },
    highlightCurrent: {
      type: Boolean,
      default: false
    },
    renderAfterExpand: {
      type: Boolean,
      default: true
    },
    renderContent: {
      type: Function
    },
    filterNodeMethod: Function,
    checkOnClickNode: {
      type: Boolean,
      default: false
    },
    autoExpandParent: {
      type: Boolean,
      default: true
    },
    checkStrictly: {
      type: Boolean,
      default: false
    },
    currentNodeKey: {
      type: [String, Number]
    },
    indent: {
      type: Number,
      default: 8
    },
    draggable: {
      type: Boolean,
      default: false
    },
    allowDrag: {
      type: Function
    },
    allowDrop: {
      type: Function
    },
    expandOnClickNode: {
      type: Boolean,
      default: true
    },
    defaultCheckedKeys: {
      type: Array,
      default() {
        return [];
      }
    },
    emptyText: String,
    height: {
      type: [String, Number],
      default: 0,
      validator: val => {
        if (typeof val == 'number') {
          return val > -1;
        } else if (typeof val == 'string') {
          const numVal = Number(val);
          return !isNaN(numVal) && numVal > -1;
        } else {
          return false;
        }
      }
    },
    treeNoDataImg: {
      type: String,
      default: __webpack_require__("9f33")
    },
    imageSize: {
      type: Number,
      default: 122
    }
  },
  data() {
    return {
      filterText: '',
      isExpand: this.defaultExpandAll,
      isIeExplorer: false,
      loading: false,
      defaultProps: {
        children: 'children',
        label: 'label'
      }
    };
  },
  computed: {
    heightNum() {
      return typeof this.height == 'number' ? this.height : Number(this.height);
    },
    containerStyle() {
      return this.heightNum > 0 ? {
        height: `${this.heightNum}px`
      } : {};
    },
    elTreeStyle() {
      let style = {
        background: this.supportFilter ? '#fafafa' : ''
      };
      if (this.heightNum > 0) {
        Object.assign(style, {
          height: this.supportFilter ? `calc(100% - 40px)` : '100%',
          overflow: 'auto'
        });
      }
      return style;
    },
    isShowEmpty() {
      return this.data && this.data.length < 1 && this.treeData && this.treeData.length < 1;
    }
  },
  watch: {
    filterText(val) {
      if (this.lazy) {
        this.$emit('loadALL', val);
      } else {
        this.$refs.elTree.filter(val);
      }
    },
    defaultCheckedKeys(val) {
      this.$refs.elTree.setCheckedKeys(val);
    }
  },
  mounted() {
    if (!!window.ActiveXObject || 'ActiveXObject' in window) {
      this.isIeExplorer = true;
    }
  },
  methods: {
    setCurrentKey(key) {
      this.$refs.elTree.setCurrentKey(key);
    },
    filterNode(value, data, node) {
      if (this.filterNodeMethod && this.filterNodeMethod.constructor == Function) {
        return this.filterNodeMethod(value, data, node);
      }
      if (!value) return true;
      return data[this.props.label].indexOf(value) !== -1;
    },
    handleNodeClick(data, node, nodeComponent) {
      this.$emit('node-click', data, node, nodeComponent);
    },
    nodeContextmenu(event, data, node, nodeComponent) {
      this.$emit('node-contextmenu', event, data, node, nodeComponent);
    },
    checkChange(data, isChecked, hasChildChecked) {
      this.$emit('check-change', data, isChecked, hasChildChecked);
    },
    check(data, checkedObj) {
      this.$emit('check', data, checkedObj);
    },
    currentChange(data, node) {
      this.$emit('current-change', data, node);
    },
    nodeExpand(data, node, nodeComponent) {
      this.$emit('node-expand', data, node, nodeComponent);
    },
    nodeCollapse(data, node, nodeComponent) {
      this.$emit('node-collapse', data, node, nodeComponent);
    },
    nodeDragStart(node, event) {
      this.$emit('node-drag-start', node, event);
    },
    nodeDragEnter(dragNode, enterNode, event) {
      this.$emit('node-drag-enter', dragNode, enterNode, event);
    },
    nodeDragLeave(dragNode, enterNode, event) {
      this.$emit('node-drag-leave', dragNode, enterNode, event);
    },
    nodeDragOver(dragNode, enterNode, event) {
      this.$emit('node-drag-over', dragNode, enterNode, event);
    },
    nodeDragEnd(dragNode, endNode, position, event) {
      this.$emit('node-drag-end', dragNode, endNode, position, event);
    },
    nodeDrop(dragNode, endNode, position, event) {
      this.$emit('node-drop', dragNode, endNode, position, event);
    },
    // 树状菜单的全部展开和收起
    handleExpandCollapse() {
      this.isExpand = !this.isExpand;
      let elTree = this.$refs.elTree;
      this.setNodesExpand(elTree.root.childNodes);
    },
    //设置节点展开收起
    setNodesExpand(nodes) {
      if (nodes && nodes.length > 0) {
        nodes.map(item => {
          item.expanded = this.isExpand;
          if (item.childNodes && item.childNodes.length > 0) {
            this.setNodesExpand(item.childNodes);
          }
        });
      }
    },
    refresh() {
      this.loading = true;
      this.$emit('refresh', () => {
        this.loading = false;
        this.isExpand = this.defaultExpandAll;
      });
      Object(timers_browserify_main["setTimeout"])(() => {
        this.loading = false;
        this.isExpand = this.defaultExpandAll;
      }, 5000);
    }
  }
});
// CONCATENATED MODULE: ./packages/Tree/src/main.vue?vue&type=script&lang=js
 /* harmony default export */ var packages_Tree_src_mainvue_type_script_lang_js = (Tree_src_mainvue_type_script_lang_js); 
// EXTERNAL MODULE: ./packages/Tree/src/main.vue?vue&type=style&index=0&id=ae0439a0&prod&lang=scss&scoped=true
var mainvue_type_style_index_0_id_ae0439a0_prod_lang_scss_scoped_true = __webpack_require__("afdf");

// CONCATENATED MODULE: ./packages/Tree/src/main.vue






/* normalize component */

var Tree_src_main_component = normalizeComponent(
  packages_Tree_src_mainvue_type_script_lang_js,
  mainvue_type_template_id_ae0439a0_scoped_true_render,
  mainvue_type_template_id_ae0439a0_scoped_true_staticRenderFns,
  false,
  null,
  "ae0439a0",
  null
  
)

/* harmony default export */ var Tree_src_main = (Tree_src_main_component.exports);
// CONCATENATED MODULE: ./packages/Tree/index.js

Tree_src_main.install = function (Vue) {
  Vue.component(Tree_src_main.name, Tree_src_main);
};
/* harmony default export */ var Tree = (Tree_src_main);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"8bdeefa2-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/AddQueryStrategy/src/main.vue?vue&type=template&id=4999ba4f&scoped=true
var mainvue_type_template_id_4999ba4f_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{attrs:{"title":_vm.t('ht.addQueryStrategy.title'),"visible":_vm.dialogVisible,"width":"60%","before-close":_vm.handleClose},on:{"update:visible":function($event){_vm.dialogVisible=$event}}},[_c('el-form',{ref:"form",attrs:{"model":_vm.form,"label-width":"80px"}},[_c('el-form-item',{attrs:{"label":_vm.t('ht.addQueryStrategy.strategyName')}},[_c('el-input',{directives:[{name:"validate",rawName:"v-validate",value:('required'),expression:"'required'"}],attrs:{"size":"mini"},model:{value:(_vm.form.strategyName),callback:function ($$v) {_vm.$set(_vm.form, "strategyName", $$v)},expression:"form.strategyName"}})],1),_c('el-form-item',{attrs:{"label":_vm.t('ht.addQueryStrategy.searchQuery')}},[_vm._l((_vm.form.querys),function(item,index){return _c('el-row',{key:index},[_c('el-col',{attrs:{"span":6}},[_c('el-select',{attrs:{"size":"mini","clearable":"","placeholder":_vm.t('ht.common.select')},on:{"change":function($event){return _vm.changeField(item)}},model:{value:(item.field),callback:function ($$v) {_vm.$set(item, "field", $$v)},expression:"item.field"}},_vm._l((_vm.fieldOptions),function(option,subIndex){return _c('el-option',{key:subIndex,attrs:{"label":option.label,"value":option}})}),1)],1),_c('el-col',{attrs:{"span":6}},[_c('el-select',{attrs:{"size":"mini","clearable":"","placeholder":_vm.t('ht.common.select'),"disabled":item.field &&
                item.field.options &&
                item.field.options.length > 0},model:{value:(item.operation),callback:function ($$v) {_vm.$set(item, "operation", $$v)},expression:"item.operation"}},_vm._l((_vm.queryOPs),function(queryOP,subIndex){return _c('el-option',{key:subIndex,attrs:{"label":queryOP.label,"value":queryOP.value}})}),1)],1),_c('el-col',{attrs:{"span":9}},[(
              item.field &&
                item.field.options &&
                item.field.options.length > 0
            )?_c('el-select',{attrs:{"size":"mini","clearable":"","placeholder":_vm.t('ht.common.select')},model:{value:(item.value),callback:function ($$v) {_vm.$set(item, "value", $$v)},expression:"item.value"}},_vm._l((item.field.options),function(value,subIndex){return _c('el-option',{key:subIndex,attrs:{"label":value,"value":value}})}),1):_c('el-input',{attrs:{"size":"mini","placeholder":"2019-10-21 - 2019-11-19"},model:{value:(item.value),callback:function ($$v) {_vm.$set(item, "value", $$v)},expression:"item.value"}})],1),_c('el-col',{attrs:{"span":3}},[_c('el-button',{attrs:{"size":"mini","type":"danger","icon":"el-icon-delete","circle":""},on:{"click":function($event){return _vm.removeQuerys(item)}}})],1)],1)}),_c('el-link',{attrs:{"type":"primary","underline":false},on:{"click":_vm.addQuerys}},[_c('i',{staticClass:"el-icon-plus"}),_vm._v("\n        "+_vm._s(_vm.t('ht.addQueryStrategy.addSearchQuery'))+"\n      ")])],2),_c('el-form-item',{attrs:{"label":_vm.t('ht.addQueryStrategy.isDefault')}},[_c('el-switch',{attrs:{"size":"mini"},model:{value:(_vm.form.isDefault),callback:function ($$v) {_vm.$set(_vm.form, "isDefault", $$v)},expression:"form.isDefault"}})],1)],1),_c('div',{staticClass:"dialog-footer",attrs:{"slot":"footer"},slot:"footer"},[_c('el-button',{attrs:{"size":"mini"},on:{"click":_vm.handleCancle}},[_vm._v("\n      "+_vm._s(_vm.t('ht.common.cancle'))+"\n    ")]),_c('el-button',{attrs:{"size":"mini","type":"primary"},on:{"click":_vm.save}},[_vm._v("\n      "+_vm._s(_vm.t('ht.common.confirm'))+"\n    ")])],1)],1)}
var mainvue_type_template_id_4999ba4f_scoped_true_staticRenderFns = []


// CONCATENATED MODULE: ./packages/AddQueryStrategy/src/main.vue?vue&type=template&id=4999ba4f&scoped=true

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/AddQueryStrategy/src/main.vue?vue&type=script&lang=js
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//


/* harmony default export */ var AddQueryStrategy_src_mainvue_type_script_lang_js = ({
  name: 'HtAddQueryStrategy',
  mixins: [mixins_locale],
  props: {
    fieldOptions: Array,
    dialogVisible: {
      type: Boolean,
      default: false
    },
    tableCode: String
  },
  data() {
    return {
      form: {
        querys: [{}],
        tableCode: this.tableCode
      },
      queryOPs: [{
        label: this.t('ht.common.equal'),
        value: 'EQ'
      }, {
        label: this.t('ht.addQueryStrategy.equalIgnoreCase'),
        value: 'EIC'
      }, {
        label: this.t('ht.common.lessThan'),
        value: 'LT'
      }, {
        label: this.t('ht.common.greaterThan'),
        value: 'GT'
      }, {
        label: `${this.t('ht.common.lessThan')}${this.t('ht.common.equal')}`,
        value: 'LE'
      }, {
        label: `${this.t('ht.common.greaterThan')}${this.t('ht.common.equal')}`,
        value: 'GE'
      }, {
        label: this.t('ht.common.notEqual'),
        value: 'NE'
      }, {
        label: this.t('ht.common.like'),
        value: 'LK'
      }, {
        label: `${this.t('ht.common.left')}${this.t('ht.common.like')}`,
        value: 'LFK'
      }, {
        label: `${this.t('ht.common.right')}${this.t('ht.common.like')}`,
        value: 'RHK'
      }, {
        label: this.t('ht.common.isNull'),
        value: 'ISNULL'
      }, {
        label: this.t('ht.common.notNull'),
        value: 'NOTNULL'
      }, {
        label: this.t('ht.common.between'),
        value: 'BETWEEN'
      }, {
        label: this.t('ht.common.in'),
        value: 'IN'
      }]
    };
  },
  methods: {
    onSubmit: function () {},
    handleClose(done) {
      this.$confirm(`${this.t('ht.common.confirm')}${this.t('ht.common.close')}？`).then(() => {
        done();
        this.$emit('queryStrategyCancle');
      }).catch(() => {});
    },
    handleCancle() {
      this.$emit('queryStrategyCancle');
    },
    save() {
      this.$validator.validateAll().then(validate => {
        if (validate) {
          this.$emit('queryStrategySave', this.form);
        } else {
          this.$message.error(this.t('ht.addQueryStrategy.errorMsg'));
        }
      });
    },
    addQuerys() {
      this.form.querys.push({});
    },
    removeQuerys(item) {
      this.form.querys.remove(item);
    },
    changeField(item) {
      if (item.field.options && item.field.options.length > 0) {
        item.operation = 'EQ';
      }
      item.property = item.field.value;
    }
  }
});
// CONCATENATED MODULE: ./packages/AddQueryStrategy/src/main.vue?vue&type=script&lang=js
 /* harmony default export */ var packages_AddQueryStrategy_src_mainvue_type_script_lang_js = (AddQueryStrategy_src_mainvue_type_script_lang_js); 
// EXTERNAL MODULE: ./packages/AddQueryStrategy/src/main.vue?vue&type=style&index=0&id=4999ba4f&prod&lang=scss&scoped=true
var mainvue_type_style_index_0_id_4999ba4f_prod_lang_scss_scoped_true = __webpack_require__("cd59");

// CONCATENATED MODULE: ./packages/AddQueryStrategy/src/main.vue






/* normalize component */

var AddQueryStrategy_src_main_component = normalizeComponent(
  packages_AddQueryStrategy_src_mainvue_type_script_lang_js,
  mainvue_type_template_id_4999ba4f_scoped_true_render,
  mainvue_type_template_id_4999ba4f_scoped_true_staticRenderFns,
  false,
  null,
  "4999ba4f",
  null
  
)

/* harmony default export */ var AddQueryStrategy_src_main = (AddQueryStrategy_src_main_component.exports);
// CONCATENATED MODULE: ./packages/AddQueryStrategy/index.js

AddQueryStrategy_src_main.install = function (Vue) {
  Vue.component(AddQueryStrategy_src_main.name, AddQueryStrategy_src_main);
};
/* harmony default export */ var AddQueryStrategy = (AddQueryStrategy_src_main);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"8bdeefa2-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/SidebarDialog/src/main.vue?vue&type=template&id=5e644546&scoped=true
var mainvue_type_template_id_5e644546_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{staticClass:"right-dialog",attrs:{"width":_vm.width,"height":"100%","title":_vm.title,"visible":_vm.dialogVisible,"before-close":_vm.beforeClose,"append-to-body":_vm.appendToBody,"custom-class":_vm.customClass,"close-on-click-modal":_vm.closeOnClickModal,"close-on-press-escape":_vm.closeOnPressEscape,"show-close":_vm.showClose,"destroy-on-close":_vm.destroyOnClose,"center":_vm.center,"fullscreen":_vm.fullscreen,"top":_vm.top},on:{"update:visible":function($event){_vm.dialogVisible=$event},"open":_vm.open,"opened":_vm.opened,"close":_vm.close,"closed":_vm.closed}},[_vm._t("title",null,{"slot":"title"}),_vm._t("default"),_vm._t("footer",null,{"slot":"footer"})],2)}
var mainvue_type_template_id_5e644546_scoped_true_staticRenderFns = []


// CONCATENATED MODULE: ./packages/SidebarDialog/src/main.vue?vue&type=template&id=5e644546&scoped=true

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/SidebarDialog/src/main.vue?vue&type=script&lang=js
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//

/* harmony default export */ var SidebarDialog_src_mainvue_type_script_lang_js = ({
  name: 'HtSidebarDialog',
  props: {
    width: {
      type: String,
      default: () => {
        return '80%';
      }
    },
    title: {
      type: String,
      default: ''
    },
    visible: {
      type: Boolean,
      default: false
    },
    beforeClose: {
      type: Function
    },
    appendToBody: {
      type: Boolean,
      default: false
    },
    customClass: {
      type: String
    },
    closeOnClickModal: {
      type: Boolean,
      default: false
    },
    closeOnPressEscape: {
      type: Boolean,
      default: true
    },
    showClose: {
      type: Boolean,
      default: true
    },
    destroyOnClose: {
      type: Boolean,
      default: false
    },
    center: {
      type: Boolean,
      default: false
    },
    fullscreen: {
      type: Boolean,
      default: false
    },
    top: {
      type: String,
      default: '0vh'
    },
    open: {
      type: Function,
      default() {
        return () => {};
      }
    },
    opened: {
      type: Function,
      default() {
        return () => {};
      }
    },
    close: {
      type: Function,
      default() {
        return () => {};
      }
    },
    closed: {
      type: Function,
      default() {
        return () => {};
      }
    }
  },
  data() {
    return {};
  },
  computed: {
    dialogVisible: {
      get() {
        return this.visible;
      },
      set(val) {
        this.$emit('update:visible', val);
      }
    }
  },
  watch: {},
  created() {},
  methods: {}
});
// CONCATENATED MODULE: ./packages/SidebarDialog/src/main.vue?vue&type=script&lang=js
 /* harmony default export */ var packages_SidebarDialog_src_mainvue_type_script_lang_js = (SidebarDialog_src_mainvue_type_script_lang_js); 
// EXTERNAL MODULE: ./packages/SidebarDialog/src/main.vue?vue&type=style&index=0&id=5e644546&prod&lang=scss&scoped=true
var mainvue_type_style_index_0_id_5e644546_prod_lang_scss_scoped_true = __webpack_require__("d222");

// CONCATENATED MODULE: ./packages/SidebarDialog/src/main.vue






/* normalize component */

var SidebarDialog_src_main_component = normalizeComponent(
  packages_SidebarDialog_src_mainvue_type_script_lang_js,
  mainvue_type_template_id_5e644546_scoped_true_render,
  mainvue_type_template_id_5e644546_scoped_true_staticRenderFns,
  false,
  null,
  "5e644546",
  null
  
)

/* harmony default export */ var SidebarDialog_src_main = (SidebarDialog_src_main_component.exports);
// CONCATENATED MODULE: ./packages/SidebarDialog/index.js

SidebarDialog_src_main.install = function (Vue) {
  Vue.component(SidebarDialog_src_main.name, SidebarDialog_src_main);
};
/* harmony default export */ var SidebarDialog = (SidebarDialog_src_main);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"8bdeefa2-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/RoleSelector/src/main.vue?vue&type=template&id=54e0cb71&scoped=true
var mainvue_type_template_id_54e0cb71_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.permission !== 'n')?_c('div',{class:[
    'inputs',
    _vm.formInputsDisplay == 'block'
      ? 'ht-form-inputs__block'
      : 'ht-form-inputs__inline' ]},[_c('div',{staticClass:"el-select",class:{ 'has-value': _vm.selectors.length > 0 },staticStyle:{"width":"100%","min-width":"180px"},on:{"click":_vm.showDialog}},[_c('div',{ref:"tagSpans",class:{
        'el-select__tags_readonly': !_vm.inputWriteable,
        'el-select__tags': _vm.inputWriteable,
      },staticStyle:{"width":"calc(100% - 25px)"}},[_c('span',{staticClass:"tag-wrap"},_vm._l((_vm.selectors),function(item,index){return _c('span',{key:index,staticClass:"el-tag el-tag--info el-tag--small",on:{"click":function($event){$event.stopPropagation();}}},[_c('span',{staticClass:"el-select__tags-text"},[_vm._v(_vm._s(item.name))]),(_vm.inputWriteable)?_c('i',{staticClass:"el-tag__close el-icon-close",on:{"click":function($event){return _vm.handleRemove(item)}}}):_vm._e()])}),0)]),(_vm.inputWriteable)?_c('div',{staticClass:"el-input el-input--suffix"},[_c('input',{directives:[{name:"model",rawName:"v-model",value:(_vm.value),expression:"value"},{name:"validate",rawName:"v-validate",value:(_vm.inputValidate),expression:"inputValidate"}],ref:"inputEl",staticClass:"el-input__inner",style:({
          height: _vm.inputSuffixHeight + 'px',
          lineHeight: _vm.inputSuffixHeight + 'px',
        }),attrs:{"type":"text","readonly":"readonly","name":_vm.inputName,"autocomplete":"off","placeholder":_vm.placeholder},domProps:{"value":(_vm.value)},on:{"input":function($event){if($event.target.composing){ return; }_vm.value=$event.target.value}}}),_c('span',{staticClass:"el-input__suffix"},[_c('span',{staticClass:"el-input__suffix-inner"},[_c('i',{staticClass:"el-icon-circle-close clear-icon",on:{"click":function($event){$event.stopPropagation();return _vm.clear($event)}}}),_c('ht-icon',{staticClass:"user-icon",attrs:{"name":"users"}})],1)])]):_vm._e()]),_c('ht-field-tail',{attrs:{"field-name":_vm.inputName,"input-value":_vm.value}}),(_vm.isMobile)?_c('role-selector-mobile-dialog',{ref:"roleSelectorMobileDialog",attrs:{"search-placeholder":_vm.searchPlaceholder,"single":_vm.single,"data":_vm.data,"table-columns":_vm.tableColumns,"pagination":_vm.pagination,"select-label":_vm.selectLabel,"quick-search-props":_vm.quickSearchProps,"append-to-body":_vm.appendToBody,"title":_vm.title,"primary-field":_vm.primaryField},on:{"search":function (word) { return _vm.$emit('search', word); },"reset":function () { return _vm.$emit('reset'); },"row-click":function (row) { return _vm.$emit('row-click', row); },"select-data":function (data) { return _vm.$emit('select-data', data); },"page-change":function (page) { return _vm.$emit('page-change', page); }},model:{value:(_vm.selectors),callback:function ($$v) {_vm.selectors=$$v},expression:"selectors"}}):_c('role-selector-dialog',{ref:"roleSelectorDialog",attrs:{"title":_vm.title,"append-to-body":_vm.appendToBody,"data":_vm.data,"pagination":_vm.pagination,"select-label":_vm.selectLabel,"quick-search-props":_vm.quickSearchProps,"single":_vm.single,"search-placeholder":_vm.searchPlaceholder,"primary-field":_vm.primaryField,"mode":_vm.mode},on:{"filter-type-change":function (type) { return _vm.$emit('filter-type-change', type); },"search":function (word) { return _vm.$emit('search', word); },"reset":function () { return _vm.$emit('reset'); },"row-click":function (row) { return _vm.$emit('row-click', row); },"select-data":function (data) { return _vm.$emit('select-data', data); },"page-change":function (page) { return _vm.$emit('page-change', page); },"size-change":function (size) { return _vm.$emit('size-change', size); }},model:{value:(_vm.selectors),callback:function ($$v) {_vm.selectors=$$v},expression:"selectors"}})],1):_vm._e()}
var mainvue_type_template_id_54e0cb71_scoped_true_staticRenderFns = []


// CONCATENATED MODULE: ./packages/RoleSelector/src/main.vue?vue&type=template&id=54e0cb71&scoped=true

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"8bdeefa2-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/RoleSelector/src/RoleSelectorDialog.vue?vue&type=template&id=35f02c57&scoped=true
var RoleSelectorDialogvue_type_template_id_35f02c57_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{staticClass:"roledialog-selector__wrapper",attrs:{"title":_vm.title,"width":"900px","visible":_vm.dialogVisible,"before-close":_vm.handleClose,"close-on-click-modal":false,"append-to-body":_vm.appendToBody},on:{"update:visible":function($event){_vm.dialogVisible=$event}}},[_c('div',{staticClass:"dialog-selector__body"},[_c('el-input',{attrs:{"size":"small","clearable":"","placeholder":_vm.searchPlaceholder},on:{"clear":_vm.reset},nativeOn:{"keyup":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,"enter",13,$event.key,"Enter")){ return null; }return _vm.search($event)}},model:{value:(_vm.searchWord),callback:function ($$v) {_vm.searchWord=$$v},expression:"searchWord"}},[_c('i',{staticClass:"el-input__icon el-icon-search",attrs:{"slot":"prefix","title":_vm.t('ht.common.search')},on:{"click":_vm.search},slot:"prefix"})]),_c('ht-list-selector',{ref:"selector",staticClass:"post-selector",attrs:{"title":_vm.$t('ht.selector.roleList'),"data":_vm.data,"pagination":_vm.pagination,"select-label":_vm.selectLabel,"quick-search-props":_vm.quickSearchProps,"single":_vm.single,"search-placeholder":_vm.searchPlaceholder,"primary-field":_vm.primaryField,"mode":_vm.mode},on:{"reset":_vm.reset,"row-click":function (row) { return _vm.$emit('row-click', row); },"page-change":function (page) { return _vm.$emit('page-change', page); },"size-change":function (size) { return _vm.$emit('size-change', size); }},scopedSlots:_vm._u([{key:"detail",fn:function(ref){
var item = ref.item;
return [_c('ht-icon',{staticClass:"follow-theme-color",staticStyle:{"margin-left":"15px","width":"36px","height":"36px"},attrs:{"name":"role"}}),_c('div',{staticClass:"selector-item__detail"},[_c('div',{staticClass:"selector-detail__name"},[_c('label',[_vm._v(_vm._s(item[_vm.selectLabel]))]),_c('span',[_vm._v("("+_vm._s(item['code'])+")")])])])]}},{key:"selected",fn:function(ref){
var select = ref.select;
return [_c('ht-icon',{staticClass:"follow-theme-color",staticStyle:{"margin-left":"15px","width":"36px","height":"36px"},attrs:{"name":"role"}}),_c('p',{staticClass:"selector-selected__label",attrs:{"title":("" + (select[_vm.selectLabel]) + (select['code'] ? ("(" + (select['code']) + ")") : ''))}},[_vm._v("\n          "+_vm._s(("" + (select[_vm.selectLabel]) + (select['code'] ? ("(" + (select['code']) + ")") : '')))+"\n        ")])]}}]),model:{value:(_vm.selectors),callback:function ($$v) {_vm.selectors=$$v},expression:"selectors"}})],1),_c('div',{staticClass:"dialog-footer",attrs:{"slot":"footer"},slot:"footer"},[_c('el-button',{attrs:{"type":"primary","size":"small"},on:{"click":_vm.handleDialogSure}},[_vm._v("\n      "+_vm._s(_vm.$t('ht.common.confirm'))+"\n    ")]),_c('el-button',{attrs:{"size":"small"},on:{"click":_vm.handleDialogCancel}},[_vm._v("\n      "+_vm._s(_vm.$t('ht.common.cancle'))+"\n    ")])],1)])}
var RoleSelectorDialogvue_type_template_id_35f02c57_scoped_true_staticRenderFns = []


// CONCATENATED MODULE: ./packages/RoleSelector/src/RoleSelectorDialog.vue?vue&type=template&id=35f02c57&scoped=true

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"8bdeefa2-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/ListSelector/src/ListSelector.vue?vue&type=template&id=ea9c0d06&scoped=true
var ListSelectorvue_type_template_id_ea9c0d06_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-row',{staticClass:"list-selector__container",attrs:{"gutter":20}},[_c('el-col',{directives:[{name:"show",rawName:"v-show",value:(!_vm.isSearchMode),expression:"!isSearchMode"}],staticClass:"list-selector__range",attrs:{"span":_vm.rangeSpan}},[_vm._t("range")],2),_c('el-col',{staticClass:"list-selector__main",attrs:{"span":_vm.mainSpan}},[_c('el-card',{attrs:{"shadow":"hover"}},[_c('div',{staticClass:"selector-main__header",attrs:{"slot":"header"},slot:"header"},[_c('span',[_vm._v(_vm._s(("" + _vm.title + _vm.userListCount)))])]),_c('div',{staticClass:"selector-main__body"},[(_vm.data.length > 0)?_c('el-scrollbar',{staticClass:"selector-list__scroll"},[(!_vm.single)?_c('el-checkbox',{staticClass:"check-all",attrs:{"indeterminate":_vm.isIndeterminate},on:{"change":_vm.handleCheckAllChange},model:{value:(_vm.checkAll),callback:function ($$v) {_vm.checkAll=$$v},expression:"checkAll"}},[_vm._v("\n            全选\n          ")]):_vm._e(),_c('ul',{staticClass:"selector-main__list",class:{ 'two-columns': _vm.isSearchMode }},_vm._l((_vm.data),function(item,index){return _c('li',{key:item[_vm.primaryFieldProp] + index + item.code},[_c('div',{staticClass:"selector-main__item",on:{"click":function($event){return _vm.handleRowClick(item)}}},[(_vm.single)?_c('el-radio',{attrs:{"label":item[_vm.primaryFieldProp]},model:{value:(_vm.singleSelectedPrimary),callback:function ($$v) {_vm.singleSelectedPrimary=$$v},expression:"singleSelectedPrimary"}}):_c('el-checkbox',{attrs:{"label":item[_vm.primaryFieldProp]},model:{value:(_vm.multipleSelectedPrimary),callback:function ($$v) {_vm.multipleSelectedPrimary=$$v},expression:"multipleSelectedPrimary"}}),_vm._t("detail",null,{"item":item})],2)])}),0)],1):_c('div',{staticClass:"list-selector__nodata"},[_c('el-image',{attrs:{"src":_vm.noDataImg}}),_c('span',[_vm._v(_vm._s(_vm.t('el.table.emptyText')))])],1),(_vm.data.length > 0)?_c('div',{staticClass:"selector-main__pager"},[_c('el-pagination',{attrs:{"layout":"sizes,prev, pager, next","disabled":_vm.loading,"page-sizes":_vm.pageSizeArr,"page-size":_vm.pagination.pageSize,"pager-count":5,"total":_vm.pagination.total,"current-page":_vm.pagination.page},on:{"current-change":_vm.handleCurrentChange,"size-change":_vm.handleSizeChange}})],1):_vm._e()],1)])],1),_c('el-col',{staticClass:"list-selector__selected",attrs:{"span":7}},[_c('el-card',{attrs:{"shadow":"hover"}},[_c('div',{staticClass:"selector-selected__header",attrs:{"slot":"header"},slot:"header"},[_c('span',[_vm._v(_vm._s(_vm.$t('ht.common.selected'))+"("+_vm._s(_vm.selectsCount)+")")]),_c('el-button',{attrs:{"type":"text"},on:{"click":_vm.clearAllSelects}},[_vm._v("\n          "+_vm._s(_vm.$t('ht.common.clear'))+"\n        ")])],1),(_vm.selectsCount > 0)?_c('el-scrollbar',{staticClass:"selector-selected__scroll"},[_c('draggable',_vm._b({staticClass:"selector-selected__wrap",attrs:{"tag":"ul","handle":".list-selector__handle"},on:{"start":function($event){_vm.isDragging = true},"end":function($event){_vm.isDragging = false}},model:{value:(_vm.selects),callback:function ($$v) {_vm.selects=$$v},expression:"selects"}},'draggable',_vm.dragOptions,false),[_c('transition-group',{attrs:{"type":"transition","name":"flip-list"}},_vm._l((_vm.selects),function(select,selectIndex){return _c('li',{key:select[_vm.primaryFieldProp] + selectIndex,staticClass:"selector-selected__item"},[_c('div',{staticClass:"selector-selected__item-left",on:{"dblclick":function($event){return _vm.removeSelected(select)}}},[(!_vm.single)?_c('ht-icon',{staticClass:"list-selector__handle",attrs:{"name":"sort"}}):_vm._e(),_vm._t("selected",null,{"select":select})],2),_c('ht-icon',{staticClass:"selector-selected__remove",attrs:{"name":"close","title":_vm.t('ht.common.remove')},on:{"click":function($event){return _vm.removeSelected(select)}}})],1)}),0)],1)],1):_c('div',{staticClass:"el-tree__empty-block"},[_c('span',{staticClass:"el-tree__empty-text"},[_vm._v(_vm._s(_vm.t('el.table.emptyText')))])])],1)],1)],1)}
var ListSelectorvue_type_template_id_ea9c0d06_scoped_true_staticRenderFns = []


// CONCATENATED MODULE: ./packages/ListSelector/src/ListSelector.vue?vue&type=template&id=ea9c0d06&scoped=true

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/ListSelector/src/ListSelector.vue?vue&type=script&lang=js
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//





const ListSelectorvue_type_script_lang_js_draggable = __webpack_require__("289a");
/* harmony default export */ var ListSelectorvue_type_script_lang_js = ({
  name: 'HtListSelector',
  components: {
    draggable: ListSelectorvue_type_script_lang_js_draggable
  },
  mixins: [mixins_locale, mobileMode["a" /* default */]],
  props: {
    selectLabel: {
      type: String,
      default: 'name'
    },
    tableColumns: {
      type: Array,
      default: () => {
        return [];
      }
    },
    title: {
      type: String
    },
    value: {
      type: Array,
      default: () => {
        return [];
      }
    },
    data: Array,
    single: {
      type: Boolean,
      default: false
    },
    //服务端分页
    pagination: {
      type: Object,
      default: () => {
        return {
          page: 1,
          pageSize: 50,
          total: 0
        };
      }
    },
    //唯一标识字段
    primaryField: {
      type: String,
      default: ''
    },
    mode: {
      type: String
    }
  },
  data() {
    return {
      isDragging: false,
      loading: false,
      selects: [],
      currentSelectData: [],
      noDataImg: __webpack_require__("5c25"),
      pageSizeArr: [10, 20, 50, 100, 200, 300],
      checkAll: false,
      isIndeterminate: false
    };
  },
  computed: {
    isSearchMode: function () {
      return this.mode && this.mode == 'search';
    },
    singleSelectedPrimary: {
      get() {
        return this.selects && this.selects.length == 1 ? this.selects[0][this.primaryFieldProp] : null;
      },
      set() {}
    },
    multipleSelectedPrimary: {
      get() {
        return this.selects.map(select => select[this.primaryFieldProp]);
      },
      set() {}
    },
    primaryFieldProp: function () {
      return this.primaryField ? this.primaryField : 'id';
    },
    dragOptions() {
      return {
        animation: 0,
        group: 'description',
        disabled: false,
        ghostClass: 'ghost'
      };
    },
    rangeSpan() {
      return this.isSearchMode ? 0 : 6;
    },
    mainSpan() {
      return this.isSearchMode ? 17 : 11;
    },
    currentPageSelectedCount() {
      return this.single ? this.singleSelectedPrimary ? 1 : 0 : this.multipleSelectedPrimary.length > 0 && this.data.length > 0 ? this.data.filter(d => this.multipleSelectedPrimary.indexOf(d[this.primaryFieldProp]) > -1).length : 0;
    },
    selectsCount() {
      return this.selects && this.selects.length > 0 ? this.selects.length : 0;
    },
    userListCount() {
      return this.pagination.total > 0 ? `(${this.currentPageSelectedCount}/${this.pagination.total})` : '';
    }
  },
  watch: {
    selects: {
      handler(val) {
        this.currentSelectData = val;
        this.$emit('current-selected', val);
      },
      deep: true
    },
    currentPageSelectedCount(val) {
      this.checkAll = val === this.data.length;
      this.isIndeterminate = val > 0 && val < this.data.length;
    },
    data: {
      handler(val) {
        this.checkAll = this.currentPageSelectedCount === val.length;
        this.isIndeterminate = this.currentPageSelectedCount > 0 && this.currentPageSelectedCount < val.length;
      },
      deep: true
    }
  },
  methods: {
    getSelectedData() {
      return this.currentSelectData;
    },
    // 同步已选行到已选数据中去
    syncSelection2selects(row) {
      // 当前在已选数组中，则移除选中状态
      const index = this.selects.findIndex(select => select[this.primaryFieldProp] == row[this.primaryFieldProp]);
      if (index > -1) {
        this.selects.splice(index, 1);
      } else {
        // 复制一份当前已选数据
        let tmpSelects = [...this.selects];
        // 将剩余的已选数据与当前选中的数据合并
        tmpSelects = [...tmpSelects, row];
        // 数组去重
        this.selects = tmpSelects.unique(this.primaryFieldProp);
      }
    },
    onShow(initSelectors) {
      // 每一次显示选择器时，重置当前选中数据为外部的v-model对象
      if (!initSelectors) {
        this.selects = [...this.value];
      } else {
        this.selects = initSelectors;
      }
    },
    onHide(sure) {
      // 在隐藏选择器时，如果点击的是确定按钮，则将当前选中数据更新到外部的v-model对象上
      if (sure) {
        this.$emit('input', this.selects);
      }
    },
    // 处理单击数据行的事件(加上防抖，避免用户点击复选框时因为连续触发2次导致无法选中)
    handleRowClick: Object(external_lodash_["debounce"])(function (row) {
      if (this.single) {
        this.selects = [row];
      } else {
        this.syncSelection2selects(row);
      }
      this.$emit('row-click', row);
    }, 10),
    handleCurrentChange(currentPage) {
      this.$emit('page-change', currentPage);
    },
    handleSizeChange(size) {
      this.$emit('size-change', size);
    },
    removeSelected(item) {
      this.selects.remove(item);
    },
    clearAllSelects() {
      this.selects = [];
    },
    handleCheckAllChange(val) {
      if (val) {
        const currentPageData = Object(external_lodash_["cloneDeep"])(this.data);
        this.selects = this.selects.length ? utils["a" /* default */].uniqueArrayObject([...this.selects, ...currentPageData], this.primaryFieldProp) : currentPageData;
      } else {
        if (this.selects.length > this.data.length) {
          const cancelSelectedIds = this.data.map(it => it.id);
          this.selects = this.selects.filter(item => !cancelSelectedIds.includes(item.id));
        } else {
          this.selects = [];
        }
      }
    }
  }
});
// CONCATENATED MODULE: ./packages/ListSelector/src/ListSelector.vue?vue&type=script&lang=js
 /* harmony default export */ var src_ListSelectorvue_type_script_lang_js = (ListSelectorvue_type_script_lang_js); 
// EXTERNAL MODULE: ./packages/ListSelector/src/ListSelector.vue?vue&type=style&index=0&id=ea9c0d06&prod&lang=scss&scoped=true
var ListSelectorvue_type_style_index_0_id_ea9c0d06_prod_lang_scss_scoped_true = __webpack_require__("91b7");

// CONCATENATED MODULE: ./packages/ListSelector/src/ListSelector.vue






/* normalize component */

var ListSelector_component = normalizeComponent(
  src_ListSelectorvue_type_script_lang_js,
  ListSelectorvue_type_template_id_ea9c0d06_scoped_true_render,
  ListSelectorvue_type_template_id_ea9c0d06_scoped_true_staticRenderFns,
  false,
  null,
  "ea9c0d06",
  null
  
)

/* harmony default export */ var ListSelector = (ListSelector_component.exports);
// CONCATENATED MODULE: ./packages/ListSelector/index.js

ListSelector.install = function (Vue) {
  Vue.component(ListSelector.name, ListSelector);
};
/* harmony default export */ var packages_ListSelector = (ListSelector);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/RoleSelector/src/RoleSelectorDialog.vue?vue&type=script&lang=js
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//




/* harmony default export */ var RoleSelectorDialogvue_type_script_lang_js = ({
  name: 'RoleSelectorDialog',
  components: {
    HtListSelector: packages_ListSelector
  },
  mixins: [mixins_locale],
  props: {
    searchPlaceholder: {
      type: String,
      default() {
        return Object(locale["c" /* t */])('ht.selector.roleTitle');
      }
    },
    value: {
      type: Array,
      default: () => {
        return [];
      }
    },
    single: {
      type: Boolean,
      default: false
    },
    data: {
      type: Array,
      default: () => {
        return [];
      }
    },
    tableColumns: {
      type: Array,
      default: () => {
        return [];
      }
    },
    pagination: {
      type: Object,
      default: () => {
        return {
          page: 1,
          pageSize: 50,
          total: 0
        };
      }
    },
    selectLabel: {
      type: String,
      default: 'name'
    },
    quickSearchProps: {
      type: String,
      required: true
    },
    appendToBody: {
      type: Boolean,
      default: false
    },
    title: {
      type: String,
      default() {
        return Object(locale["c" /* t */])('ht.selector.roleTitle');
      }
    },
    primaryField: {
      type: String,
      default: ''
    },
    mode: {
      type: String
    }
  },
  data() {
    return {
      dialogVisible: false,
      searchWord: null,
      loading: false
    };
  },
  computed: {
    selectors: {
      get: function () {
        return this.value;
      },
      set: function (val) {
        this.$emit('input', val);
      }
    }
  },
  methods: {
    search() {
      if (this.loading) {
        return;
      }
      this.$emit('search', this.searchWord);
    },
    reset() {
      this.$emit('reset');
      this.searchWord = null;
    },
    showDialog() {
      this.dialogVisible = true;
      setTimeout(() => {
        this.$refs.selector.onShow();
      });
    },
    handleClose(done) {
      this.$refs.selector.onHide();
      done && done();
    },
    handleDialogSure() {
      this.$emit('select-data', this.$refs.selector.getSelectedData());
      this.dialogVisible = false;
      this.$refs.selector.onHide(true);
    },
    handleDialogCancel() {
      this.dialogVisible = false;
      this.$refs.selector.onHide();
    }
  }
});
// CONCATENATED MODULE: ./packages/RoleSelector/src/RoleSelectorDialog.vue?vue&type=script&lang=js
 /* harmony default export */ var src_RoleSelectorDialogvue_type_script_lang_js = (RoleSelectorDialogvue_type_script_lang_js); 
// EXTERNAL MODULE: ./packages/RoleSelector/src/RoleSelectorDialog.vue?vue&type=style&index=0&id=35f02c57&prod&lang=scss&scoped=true
var RoleSelectorDialogvue_type_style_index_0_id_35f02c57_prod_lang_scss_scoped_true = __webpack_require__("4538");

// CONCATENATED MODULE: ./packages/RoleSelector/src/RoleSelectorDialog.vue






/* normalize component */

var RoleSelectorDialog_component = normalizeComponent(
  src_RoleSelectorDialogvue_type_script_lang_js,
  RoleSelectorDialogvue_type_template_id_35f02c57_scoped_true_render,
  RoleSelectorDialogvue_type_template_id_35f02c57_scoped_true_staticRenderFns,
  false,
  null,
  "35f02c57",
  null
  
)

/* harmony default export */ var RoleSelectorDialog = (RoleSelectorDialog_component.exports);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"8bdeefa2-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/RoleSelector/src/RoleSelectorMobileDialog.vue?vue&type=template&id=0858f998&scoped=true
var RoleSelectorMobileDialogvue_type_template_id_0858f998_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.dialogVisible)?_c('van-action-sheet',{staticClass:"role-mobile__selector",attrs:{"cancel-text":_vm.sureButtonText,"closeable":false,"get-container":"body"},on:{"cancel":_vm.handleDialogSure,"close":_vm.handleDialogClose,"click-overlay":_vm.handleDialogClose},scopedSlots:_vm._u([{key:"description",fn:function(){return [_c('span',{staticClass:"role-mobile__title"},[_vm._v(_vm._s(_vm.title))]),_c('ht-icon',{staticClass:"role-mobile__close",attrs:{"name":"close"},on:{"click":_vm.handleDialogClose}})]},proxy:true}],null,false,3266133914),model:{value:(_vm.dialogVisible),callback:function ($$v) {_vm.dialogVisible=$$v},expression:"dialogVisible"}},[_c('van-search',{attrs:{"placeholder":_vm.searchPlaceholder},on:{"search":_vm.onRefresh,"clear":_vm.reset},model:{value:(_vm.searchWord),callback:function ($$v) {_vm.searchWord=$$v},expression:"searchWord"}}),_c('van-pull-refresh',{on:{"refresh":_vm.onRefresh},model:{value:(_vm.isLoading),callback:function ($$v) {_vm.isLoading=$$v},expression:"isLoading"}},[_c('van-list',{staticClass:"role-data__list",attrs:{"finished":_vm.finished,"finished-text":_vm.$t('ht.common.noMore')},on:{"load":_vm.loadMore},model:{value:(_vm.isLoading),callback:function ($$v) {_vm.isLoading=$$v},expression:"isLoading"}},[_c('van-checkbox-group',{model:{value:(_vm.selectIds),callback:function ($$v) {_vm.selectIds=$$v},expression:"selectIds"}},_vm._l((_vm.data),function(item){return _c('van-cell',{key:item[_vm.primaryFieldProp],attrs:{"clickable":""},on:{"click":function($event){return _vm.rowClick(item, null, $event)}},scopedSlots:_vm._u([{key:"icon",fn:function(){return [_c('van-checkbox',{attrs:{"name":item[_vm.primaryFieldProp],"shape":_vm.single ? 'round' : 'square'}})]},proxy:true}],null,true)},[_c('div',{staticClass:"role-list__container"},[_c('ht-icon',{staticClass:"follow-theme-color",staticStyle:{"margin-left":"15px","width":"36px","height":"36px"},attrs:{"name":"role"}}),_c('div',{staticClass:"selector-item__detail"},[_c('div',{staticClass:"selector-detail__name"},[_c('label',[_vm._v(_vm._s(item[_vm.selectLabel]))]),_c('span',[_vm._v("("+_vm._s(item['code'])+")")])])])],1)])}),1)],1)],1)],1):_vm._e()}
var RoleSelectorMobileDialogvue_type_template_id_0858f998_scoped_true_staticRenderFns = []


// CONCATENATED MODULE: ./packages/RoleSelector/src/RoleSelectorMobileDialog.vue?vue&type=template&id=0858f998&scoped=true

// EXTERNAL MODULE: ./src/styles/index.scss
var styles = __webpack_require__("b20f");
var styles_default = /*#__PURE__*/__webpack_require__.n(styles);

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/RoleSelector/src/RoleSelectorMobileDialog.vue?vue&type=script&lang=js
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//




/* harmony default export */ var RoleSelectorMobileDialogvue_type_script_lang_js = ({
  name: 'RoleSelectorMobileDialog',
  mixins: [mixins_locale],
  props: {
    searchPlaceholder: {
      type: String,
      default() {
        return Object(locale["c" /* t */])('ht.selector.rolePlaceholder');
      }
    },
    value: {
      type: Array,
      default: () => {
        return [];
      }
    },
    single: {
      type: Boolean,
      default: false
    },
    data: {
      type: Array,
      default: () => {
        return [];
      }
    },
    pagination: {
      type: Object,
      default: () => {
        return {
          page: 1,
          pageSize: 50,
          total: 0
        };
      }
    },
    selectLabel: {
      type: String,
      default: 'name'
    },
    appendToBody: {
      type: Boolean,
      default: false
    },
    title: {
      type: String,
      default() {
        return Object(locale["c" /* t */])('ht.selector.roleTitle');
      }
    },
    primaryField: {
      type: String,
      default: ''
    }
  },
  data() {
    return {
      dialogVisible: false,
      isLoading: false,
      finished: false,
      searchWord: null,
      selectIds: [],
      selectedData: []
    };
  },
  computed: {
    primaryColor() {
      return styles_default.a.primary_color;
    },
    sureButtonText() {
      const selectedText = this.selectIds.length > 0 ? `(${this.selectIds.length})` : '';
      return `${this.$t('ht.common.confirm')}${selectedText}`;
    },
    primaryFieldProp: function () {
      return this.primaryField ? this.primaryField : 'id';
    }
  },
  watch: {
    pagination: function (newVal, oldVal) {
      this.isLoading = false;
      if (newVal !== oldVal) {
        const {
          page,
          pageSize,
          total
        } = newVal;
        if (page > 0 && pageSize > 0 && total > 0) {
          this.finished = page * pageSize >= total;
        } else {
          this.finished = true;
        }
      }
    }
  },
  methods: {
    onRefresh() {
      this.isloading = true;
      this.$emit('search', this.searchWord);
    },
    reset() {
      this.$emit('reset');
    },
    loadMore() {
      if (this.data && this.data.length > 0) {
        this.$emit('page-change', ++this.pagination.page);
      } else {
        this.isLoading = false;
      }
    },
    showDialog() {
      if (this.value && this.value.length > 0) {
        this.selectIds = this.value.map(item => item[this.primaryFieldProp]);
        this.selectedData = this.value;
      }
      this.dialogVisible = true;
    },
    handleDialogSure() {
      this.$emit('input', this.selectedData);
      this.$emit('select-data', this.selectedData);
      this.selectIds = [];
      this.selectedData = [];
      this.dialogVisible = false;
    },
    handleDialogClose() {
      this.dialogVisible = false;
      this.selectIds = [];
      this.selectedData = [];
    },
    select(selection, row) {
      this.$emit('select', selection, row);
    },
    rowClick(row, column, event) {
      // 单选
      if (this.single) {
        this.selectIds = [row[this.primaryFieldProp]];
        this.selectedData = [row];
      } else {
        // 多选
        if (this.selectIds.some(m => m == row[this.primaryFieldProp])) {
          this.selectIds.remove(row[this.primaryFieldProp]);
          this.selectedData = this.selectedData.filter(item => item[this.primaryFieldProp] !== row[this.primaryFieldProp]);
        } else {
          this.selectIds.push(row[this.primaryFieldProp]);
          this.selectedData.push(row);
        }
      }
      this.$emit('row-click', row, column, event);
    }
  }
});
// CONCATENATED MODULE: ./packages/RoleSelector/src/RoleSelectorMobileDialog.vue?vue&type=script&lang=js
 /* harmony default export */ var src_RoleSelectorMobileDialogvue_type_script_lang_js = (RoleSelectorMobileDialogvue_type_script_lang_js); 
// EXTERNAL MODULE: ./packages/RoleSelector/src/RoleSelectorMobileDialog.vue?vue&type=style&index=0&id=0858f998&prod&lang=scss&scoped=true
var RoleSelectorMobileDialogvue_type_style_index_0_id_0858f998_prod_lang_scss_scoped_true = __webpack_require__("cfcd");

// CONCATENATED MODULE: ./packages/RoleSelector/src/RoleSelectorMobileDialog.vue






/* normalize component */

var RoleSelectorMobileDialog_component = normalizeComponent(
  src_RoleSelectorMobileDialogvue_type_script_lang_js,
  RoleSelectorMobileDialogvue_type_template_id_0858f998_scoped_true_render,
  RoleSelectorMobileDialogvue_type_template_id_0858f998_scoped_true_staticRenderFns,
  false,
  null,
  "0858f998",
  null
  
)

/* harmony default export */ var RoleSelectorMobileDialog = (RoleSelectorMobileDialog_component.exports);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/RoleSelector/src/main.vue?vue&type=script&lang=js
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//










/* harmony default export */ var RoleSelector_src_mainvue_type_script_lang_js = ({
  name: 'HtRoleSelector',
  components: {
    HtFieldTail: FieldTail,
    RoleSelectorDialog: RoleSelectorDialog,
    RoleSelectorMobileDialog: RoleSelectorMobileDialog
  },
  mixins: [inputName["a" /* default */], mixins_permission["a" /* default */], mobileMode["a" /* default */]],
  props: {
    searchPlaceholder: {
      type: String,
      default() {
        return Object(locale["c" /* t */])('ht.selector.rolePlaceholder');
      }
    },
    value: String,
    selectLabel: String,
    single: {
      type: Boolean,
      default: false
    },
    config: Object,
    data: {
      type: Array,
      default: () => {
        return [];
      }
    },
    tableColumns: {
      type: Array,
      default: () => {
        return [];
      }
    },
    pagination: {
      type: Object,
      default: () => {
        return {
          page: 1,
          pageSize: 50,
          total: 0
        };
      }
    },
    quickSearchProps: {
      type: String,
      required: true
    },
    appendToBody: {
      type: Boolean,
      default: false
    },
    formInputsDisplay: {
      type: String,
      default: 'inline'
    },
    title: {
      type: String,
      default() {
        return Object(locale["c" /* t */])('ht.selector.roleTitle');
      }
    },
    mode: {
      type: String
    }
  },
  data() {
    return {
      inputSuffixHeight: 30,
      selectors: []
    };
  },
  computed: {
    primaryField: function () {
      return this.config && this.config.hasOwnProperty('id') ? 'id' : this.config && this.config.hasOwnProperty('code') ? 'code' : this.selectLabel;
    }
  },
  watch: {
    // 当所选择的数据发生变化时，同步到v-model中
    selectors: function (newVal) {
      let ary = [],
        idAry = [],
        nameAry = [],
        codeAry = [];
      if (newVal && newVal.constructor === Array && newVal.length > 0) {
        newVal.forEach(m => {
          ary.push(m.name);
          if (m.hasOwnProperty('id')) {
            idAry.push(m.id);
          }
          if (m.hasOwnProperty('code')) {
            codeAry.push(m.code);
          }
          if (m.hasOwnProperty('name')) {
            nameAry.push(m.name);
          }
        });
      }
      if (this.config) {
        // 配置了id的绑定关系，则回填到指定属性上
        if (this.config.hasOwnProperty('id')) {
          utils["a" /* default */].setValueByConfigKey(this, this.config, 'id', idAry.join(','));
        }
        // 配置了code的绑定关系，则回填到指定的属性上
        if (this.config.hasOwnProperty('code')) {
          utils["a" /* default */].setValueByConfigKey(this, this.config, 'code', codeAry.join(','));
        }
        // 配置了name的绑定关系，则回填到指定的属性上
        if (this.config.hasOwnProperty('name')) {
          utils["a" /* default */].setValueByConfigKey(this, this.config, 'name', nameAry.join(','));
        }
      } else {
        this.$emit('change', newVal);
      }
      // 通过valueChange事件发布值变更消息
      this.$emit('valueChange', ary.join(','), newVal);
      Object(timers_browserify_main["setTimeout"])(() => {
        if (newVal.length > 0) {
          this.calacInputSuffixHeight();
        } else {
          this.inputSuffixHeight = 30;
        }
        if (this.$refs.inputEl) {
          this.$refs.inputEl.focus();
          this.$refs.inputEl.blur();
        }
      }, 10);
    },
    value: function () {
      // 父级传递进来的value发生变更时，需要同步到当前所选数据中
      this.valueInit();
    }
  },
  mounted() {
    // 组件第一次挂载时，同步value到当前所选数据中
    this.valueInit();
  },
  methods: {
    // 同步value到当前所选数据中
    valueInit() {
      let tmpAry = [];
      if (this.value) {
        let idAry = [],
          nameAry = [],
          codeAry = [];
        if (this.config) {
          // 配置了id绑定关系，则获取id的值
          if (this.config.hasOwnProperty('id')) {
            let idVal = utils["a" /* default */].getValueByConfigKey(this, this.config, 'id');
            if (idVal) {
              idAry = idVal.split(',').trim();
            }
          }
          // 配置了code绑定关系，则获取code的值
          if (this.config.hasOwnProperty('code')) {
            let codeVal = utils["a" /* default */].getValueByConfigKey(this, this.config, 'code');
            if (codeVal) {
              codeAry = codeVal.split(',').trim();
            }
          }
          // 配置了name绑定关系，则获取name的值
          if (this.config.hasOwnProperty('name')) {
            let nameVal = utils["a" /* default */].getValueByConfigKey(this, this.config, 'name');
            if (nameVal) {
              nameAry = nameVal.split(',').trim();
            }
          }
        }
        // 将name、id、code从逗号分割的字符串解析为json对象格式的数组
        let valAry = this.value.split(',').trim();
        valAry.forEach((m, index) => {
          let item = {
            name: m
          };
          if (idAry.length > index) {
            item['id'] = idAry[index];
          }
          if (codeAry.length > index) {
            item['code'] = codeAry[index];
          }
          if (nameAry.length > index) {
            item['name'] = nameAry[index];
          }
          tmpAry.push(item);
        });
      }
      // 对数组做深度对比，如果值不完全相等，则进行赋值操作
      if (!utils["a" /* default */].arrayEquals(tmpAry, this.selectors)) {
        this.selectors = tmpAry;
      }
    },
    showDialog() {
      if (!this.inputWriteable) {
        return;
      }
      if (this.isMobile) {
        this.$refs.roleSelectorMobileDialog.showDialog();
      } else {
        this.$refs.roleSelectorDialog.showDialog();
      }
    },
    handleRemove(item) {
      this.selectors.remove(item);
    },
    clear() {
      this.selectors = [];
      this.inputSuffixHeight = 30;
    },
    // 更新当前输入框的高度来适配已选数据的高度
    calacInputSuffixHeight() {
      if (!this.$refs.tagSpans) return;
      if (this.$refs.tagSpans.offsetHeight) {
        this.inputSuffixHeight = this.$refs.tagSpans.offsetHeight + 5;
      } else {
        this.inputSuffixHeight = 30;
      }
    }
  }
});
// CONCATENATED MODULE: ./packages/RoleSelector/src/main.vue?vue&type=script&lang=js
 /* harmony default export */ var packages_RoleSelector_src_mainvue_type_script_lang_js = (RoleSelector_src_mainvue_type_script_lang_js); 
// EXTERNAL MODULE: ./packages/RoleSelector/src/main.vue?vue&type=style&index=0&id=54e0cb71&prod&lang=scss&scoped=true
var mainvue_type_style_index_0_id_54e0cb71_prod_lang_scss_scoped_true = __webpack_require__("da2c");

// CONCATENATED MODULE: ./packages/RoleSelector/src/main.vue






/* normalize component */

var RoleSelector_src_main_component = normalizeComponent(
  packages_RoleSelector_src_mainvue_type_script_lang_js,
  mainvue_type_template_id_54e0cb71_scoped_true_render,
  mainvue_type_template_id_54e0cb71_scoped_true_staticRenderFns,
  false,
  null,
  "54e0cb71",
  null
  
)

/* harmony default export */ var RoleSelector_src_main = (RoleSelector_src_main_component.exports);
// CONCATENATED MODULE: ./packages/RoleSelector/index.js

RoleSelector_src_main.install = function (Vue) {
  Vue.component(RoleSelector_src_main.name, RoleSelector_src_main);
};
/* harmony default export */ var RoleSelector = (RoleSelector_src_main);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"8bdeefa2-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/UserSelector/src/main.vue?vue&type=template&id=d448fc40&scoped=true
var mainvue_type_template_id_d448fc40_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.permission !== 'n')?_c('div',{class:[
    'inputs',
    _vm.formInputsDisplay == 'block'
      ? 'ht-form-inputs__block'
      : 'ht-form-inputs__inline' ]},[_c('div',{staticClass:"el-select",class:{ 'has-value': _vm.value },staticStyle:{"width":"100%","min-width":"180px"},on:{"click":_vm.showDialog}},[_c('div',{ref:"tagSpans",staticClass:"user-selector_block",class:{
        'el-select__tags_readonly': !_vm.inputWriteable,
        'el-select__tags': _vm.inputWriteable,
      }},[_c('span',{staticClass:"tag-wrap"},[_vm._l((_vm.selectors),function(item,index){return _c('span',{key:index,staticClass:"el-tag el-tag--info el-tag--small",on:{"click":function($event){$event.stopPropagation();}}},[_c('span',{staticClass:"el-select__tags-text"},[_vm._v(_vm._s(item.fullname))]),(_vm.inputWriteable)?_c('i',{staticClass:"el-tag__close el-icon-close",on:{"click":function($event){return _vm.handleRemove(item)}}}):_vm._e()])}),(!_vm.selectors.length && _vm.value)?_vm._l((_vm.value.split(',')),function(item,index){return _c('span',{key:index,staticClass:"el-tag el-tag--info el-tag--small",on:{"click":function($event){$event.stopPropagation();}}},[_c('span',{staticClass:"el-select__tags-text"},[_vm._v(_vm._s(item))]),(_vm.inputWriteable)?_c('i',{staticClass:"el-tag__close el-icon-close",on:{"click":function($event){return _vm.handleRemoveText(index)}}}):_vm._e()])}):_vm._e()],2)]),(_vm.inputWriteable)?_c('div',{staticClass:"el-input el-input--suffix"},[_c('input',{directives:[{name:"model",rawName:"v-model",value:(_vm.value),expression:"value"},{name:"validate",rawName:"v-validate",value:(_vm.inputValidate),expression:"inputValidate"}],ref:"inputEl",staticClass:"el-input__inner",style:({
          height: _vm.inputSuffixHeight + 'px',
          lineHeight: _vm.inputSuffixHeight + 'px',
        }),attrs:{"type":"text","readonly":"readonly","name":_vm.inputName,"autocomplete":"off","placeholder":_vm.placeholder},domProps:{"value":(_vm.value)},on:{"input":function($event){if($event.target.composing){ return; }_vm.value=$event.target.value}}}),_c('span',{staticClass:"el-input__suffix"},[_c('span',{staticClass:"el-input__suffix-inner"},[_c('i',{staticClass:"el-icon-circle-close clear-icon",on:{"click":function($event){$event.stopPropagation();return _vm.clear($event)}}}),_c('ht-icon',{staticClass:"user-icon",attrs:{"name":"user"}})],1)])]):_vm._e()]),_c('ht-field-tail',{attrs:{"field-name":_vm.inputName,"input-value":_vm.value}}),(!_vm.isMobile)?_c('user-selector-dialog',{ref:"userSelectorDialog",attrs:{"title":_vm.title,"append-to-body":_vm.appendToBody,"data":_vm.data,"pagination":_vm.pagination,"select-label":_vm.selectLabel,"quick-search-props":_vm.quickSearchProps,"single":_vm.single,"search-placeholder":_vm.searchPlaceholder,"primary-field":_vm.primaryField,"mode":_vm.mode},on:{"filter-type-change":function (type) { return _vm.$emit('filter-type-change', type); },"search":function (word) { return _vm.$emit('search', word); },"reset":function () { return _vm.$emit('reset'); },"row-click":function (row) { return _vm.$emit('row-click', row); },"select-data":function (data) { return _vm.$emit('select-data', data); },"page-change":function (page) { return _vm.$emit('page-change', page); },"size-change":function (size) { return _vm.$emit('size-change', size); },"contact-group-change":function (group) { return _vm.$emit('contact-group-change', group); },"load-org-user":function (org) { return _vm.$emit('load-org-user', org); },"load-policy-user":function (policy) { return _vm.$emit('load-policy-user', policy); },"load-role-user":function (role) { return _vm.$emit('load-role-user', role); }},model:{value:(_vm.selectors),callback:function ($$v) {_vm.selectors=$$v},expression:"selectors"}}):_c('user-selector-mobile-dialog',{ref:"userSelectorMobileDialog",attrs:{"title":_vm.title,"append-to-body":_vm.appendToBody,"data":_vm.data,"pagination":_vm.pagination,"select-label":_vm.selectLabel,"quick-search-props":_vm.quickSearchProps,"single":_vm.single,"search-placeholder":_vm.searchPlaceholder,"primary-field":_vm.primaryField},on:{"search":function (word) { return _vm.$emit('search', word); },"reset":function () { return _vm.$emit('reset'); },"row-click":function (row) { return _vm.$emit('row-click', row); },"select-data":function (data) { return _vm.$emit('select-data', data); },"page-change":function (page) { return _vm.$emit('page-change', page); }},model:{value:(_vm.selectors),callback:function ($$v) {_vm.selectors=$$v},expression:"selectors"}})],1):_vm._e()}
var mainvue_type_template_id_d448fc40_scoped_true_staticRenderFns = []


// CONCATENATED MODULE: ./packages/UserSelector/src/main.vue?vue&type=template&id=d448fc40&scoped=true

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"8bdeefa2-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/UserSelector/src/UserSelectorDialog.vue?vue&type=template&id=4acd9d43&scoped=true
var UserSelectorDialogvue_type_template_id_4acd9d43_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{staticClass:"userdialog-selector__wrapper",attrs:{"width":"1060px","title":_vm.title,"visible":_vm.dialogVisible,"before-close":_vm.handleClose,"close-on-click-modal":false,"append-to-body":_vm.appendToBody},on:{"update:visible":function($event){_vm.dialogVisible=$event}}},[_c('div',{staticClass:"dialog-selector__body"},[_c('el-input',{attrs:{"size":"small","clearable":"","placeholder":_vm.searchPlaceholder},on:{"clear":_vm.reset},nativeOn:{"keyup":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,"enter",13,$event.key,"Enter")){ return null; }return _vm.search($event)}},model:{value:(_vm.searchWord),callback:function ($$v) {_vm.searchWord=$$v},expression:"searchWord"}},[_c('i',{staticClass:"el-input__icon el-icon-search",attrs:{"slot":"prefix","title":_vm.t('ht.common.search')},on:{"click":_vm.search},slot:"prefix"})]),_c('ht-list-selector',{ref:"selector",staticClass:"user-selector",attrs:{"title":_vm.$t('ht.selector.userList'),"data":_vm.data,"pagination":_vm.pagination,"select-label":_vm.selectLabel,"quick-search-props":_vm.quickSearchProps,"single":_vm.single,"search-placeholder":_vm.searchPlaceholder,"primary-field":_vm.primaryField,"mode":_vm.mode},on:{"reset":_vm.reset,"row-click":function (row) { return _vm.$emit('row-click', row); },"page-change":function (page) { return _vm.$emit('page-change', page); },"size-change":function (size) { return _vm.$emit('size-change', size); }},scopedSlots:_vm._u([{key:"detail",fn:function(ref){
var item = ref.item;
return [_c('ht-avatar-image',{staticClass:"follow-theme-background-color",staticStyle:{"margin-left":"15px"},attrs:{"username":item[_vm.selectLabel],"background-color":"#409EFF","color":"#fff","size":36}}),_c('div',{staticClass:"selector-item__detail"},[_c('div',{staticClass:"selector-detail__name"},[_c('label',[_vm._v(_vm._s(item[_vm.selectLabel]))]),_c('span',[_vm._v("("+_vm._s(item['account'])+")")])]),_c('div',{staticClass:"selector-detail__desc"},[_c('span',{attrs:{"title":item.pathname}},[_c('ht-icon',{attrs:{"name":"org-tree"}}),_vm._v("\n              "+_vm._s(item.orgname || _vm.$t('ht.selector.not'))+"\n            ")],1),_c('span',{attrs:{"title":item.postname}},[_c('ht-icon',{attrs:{"name":"users"}}),_vm._v("\n              "+_vm._s(item.postname || _vm.$t('ht.selector.not'))+"\n            ")],1)])])]}},{key:"selected",fn:function(ref){
var select = ref.select;
return [_c('ht-avatar-image',{staticClass:"follow-theme-background-color",staticStyle:{"margin-left":"15px"},attrs:{"username":select[_vm.selectLabel],"background-color":"#409EFF","color":"#fff","size":30}}),_c('p',{staticClass:"selector-selected__label",attrs:{"title":("" + (select[_vm.selectLabel]) + (select['account'] ? ("(" + (select['account']) + ")") : ''))}},[_vm._v("\n          "+_vm._s(("" + (select[_vm.selectLabel]) + (select['account'] ? ("(" + (select['account']) + ")") : '')))+"\n        ")])]}}]),model:{value:(_vm.selectors),callback:function ($$v) {_vm.selectors=$$v},expression:"selectors"}},[_c('el-card',{staticClass:"selector-range__card",attrs:{"slot":"range","shadow":"hover"},slot:"range"},[_c('el-tabs',{model:{value:(_vm.activeRange),callback:function ($$v) {_vm.activeRange=$$v},expression:"activeRange"}},[_c('el-tab-pane',{attrs:{"label":_vm.$t('ht.selector.topContacts'),"name":"contact"}},[_c('top-contact-user',{attrs:{"mode":_vm.mode},on:{"contact-group-change":function (group) { return _vm.$emit('contact-group-change', group); }}})],1),_c('el-tab-pane',{attrs:{"label":_vm.$t('ht.selector.org'),"name":"org"}},[_c('organization',{attrs:{"mode":_vm.mode},on:{"load-org-user":function (org) { return _vm.$emit('load-org-user', org); }}})],1),_c('el-tab-pane',{attrs:{"label":_vm.$t('ht.selector.tactics'),"name":"policy"}},[_c('policy-user',{attrs:{"mode":_vm.mode},on:{"load-policy-user":function (policy) { return _vm.$emit('load-policy-user', policy); }}})],1),_c('el-tab-pane',{attrs:{"label":_vm.$t('ht.selector.role'),"name":"role"}},[_c('role-user',{attrs:{"mode":_vm.mode},on:{"load-role-user":function (role) { return _vm.$emit('load-role-user', role); }}})],1)],1)],1)],1)],1),_c('div',{staticClass:"dialog-footer",attrs:{"slot":"footer"},slot:"footer"},[_c('el-button',{attrs:{"type":"primary","size":"small"},on:{"click":_vm.handleDialogSure}},[_vm._v("\n      "+_vm._s(_vm.$t('ht.common.confirm'))+"\n    ")]),_c('el-button',{attrs:{"size":"small"},on:{"click":_vm.handleDialogCancel}},[_vm._v("\n      "+_vm._s(_vm.$t('ht.common.cancle'))+"\n    ")])],1)])}
var UserSelectorDialogvue_type_template_id_4acd9d43_scoped_true_staticRenderFns = []


// CONCATENATED MODULE: ./packages/UserSelector/src/UserSelectorDialog.vue?vue&type=template&id=4acd9d43&scoped=true

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"8bdeefa2-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/UserSelector/src/TopContactUser.vue?vue&type=template&id=89cfe2a2&scoped=true
var TopContactUservue_type_template_id_89cfe2a2_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:"contact-user__container"},[(_vm.contactGroups.length > 0)?_c('el-scrollbar',{staticClass:"selector-list__scroll"},[_c('ht-radio',{attrs:{"display-style":"block","option-layout":"vertical","props":{ key: 'id', value: 'name' },"options":_vm.contactGroups},model:{value:(_vm.currentContactGroup),callback:function ($$v) {_vm.currentContactGroup=$$v},expression:"currentContactGroup"}})],1):_c('div',{staticClass:"el-tree__empty-block"},[_c('span',{staticClass:"el-tree__empty-text"},[_vm._v(_vm._s(_vm.t('el.table.emptyText')))])])],1)}
var TopContactUservue_type_template_id_89cfe2a2_scoped_true_staticRenderFns = []


// CONCATENATED MODULE: ./packages/UserSelector/src/TopContactUser.vue?vue&type=template&id=89cfe2a2&scoped=true

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/UserSelector/src/TopContactUser.vue?vue&type=script&lang=js
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//


/* harmony default export */ var TopContactUservue_type_script_lang_js = ({
  name: 'TopContactUser',
  mixins: [mixins_locale],
  props: {
    mode: {
      type: String
    }
  },
  data() {
    return {
      contactGroups: [],
      currentContactGroup: ''
    };
  },
  watch: {
    mode: function (newVal, oldVal) {
      if (newVal !== oldVal && newVal == 'search') {
        this.currentContactGroup = '';
      }
    },
    currentContactGroup: function (newVal, oldVal) {
      if (newVal !== oldVal) {
        this.$emit('contact-group-change', newVal);
      }
    }
  },
  mounted() {
    this.loadContactGroup();
  },
  methods: {
    loadContactGroup() {
      if (this.contactGroups.length == 0) {
        if (this.$requestConfig.getContactGroup) {
          this.$requestConfig.getContactGroup({
            pageBean: {
              page: 1,
              pageSize: 100,
              total: 0
            }
          }).then(data => {
            if (data && data.rows.length > 0) {
              this.contactGroups = [{
                id: 'all',
                name: this.$t('ht.selector.all')
              }].concat(data.rows);
              this.defaultContactGroup = 'all';
            } else {
              this.data = [];
              this.defaultContactGroup = null;
            }
          }).catch(() => {
            this.defaultContactGroup = null;
          });
        } else {
          this.defaultContactGroup = null;
        }
      }
    }
  }
});
// CONCATENATED MODULE: ./packages/UserSelector/src/TopContactUser.vue?vue&type=script&lang=js
 /* harmony default export */ var src_TopContactUservue_type_script_lang_js = (TopContactUservue_type_script_lang_js); 
// EXTERNAL MODULE: ./packages/UserSelector/src/TopContactUser.vue?vue&type=style&index=0&id=89cfe2a2&prod&lang=scss&scoped=true
var TopContactUservue_type_style_index_0_id_89cfe2a2_prod_lang_scss_scoped_true = __webpack_require__("702f");

// CONCATENATED MODULE: ./packages/UserSelector/src/TopContactUser.vue






/* normalize component */

var TopContactUser_component = normalizeComponent(
  src_TopContactUservue_type_script_lang_js,
  TopContactUservue_type_template_id_89cfe2a2_scoped_true_render,
  TopContactUservue_type_template_id_89cfe2a2_scoped_true_staticRenderFns,
  false,
  null,
  "89cfe2a2",
  null
  
)

/* harmony default export */ var TopContactUser = (TopContactUser_component.exports);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"8bdeefa2-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/UserSelector/src/Organization.vue?vue&type=template&id=47f30d0f&scoped=true
var Organizationvue_type_template_id_47f30d0f_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:"organization-container"},[_c('div',{staticClass:"demension__container"},[_c('ht-select',{attrs:{"size":"small","clearable":false,"options":_vm.demensions,"display-style":"block","props":{ key: 'id', value: 'demName' }},model:{value:(_vm.currentDemension),callback:function ($$v) {_vm.currentDemension=$$v},expression:"currentDemension"}})],1),_c('el-scrollbar',{staticClass:"organization-list__scroll"},[_c('ht-tree',{ref:"tree",staticClass:"org-tree",attrs:{"lazy":"","display-style":"block","load":_vm.loadOrgTree,"data":_vm.orgs,"default-expand-all":false,"highlight-current":true,"props":{
        children: 'children',
        label: 'name',
        isLeaf: 'leaf',
      },"node-key":"id","accordion":""},on:{"node-click":function (org) { return _vm.$emit('load-org-user', org); }}})],1)],1)}
var Organizationvue_type_template_id_47f30d0f_scoped_true_staticRenderFns = []


// CONCATENATED MODULE: ./packages/UserSelector/src/Organization.vue?vue&type=template&id=47f30d0f&scoped=true

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/UserSelector/src/Organization.vue?vue&type=script&lang=js
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//


/* harmony default export */ var Organizationvue_type_script_lang_js = ({
  name: 'Organization',
  props: {
    mode: {
      type: String
    }
  },
  data() {
    return {
      demensions: [],
      currentDemension: '',
      orgs: []
    };
  },
  watch: {
    mode: function (newVal, oldVal) {
      if (newVal !== oldVal && newVal == 'search') {
        this.$refs.tree.setCurrentKey(null);
      }
    },
    currentDemension: function (newVal, oldVal) {
      if (newVal && newVal !== oldVal) {
        this.changeDemension(newVal);
      }
    }
  },
  mounted() {
    this.loadDemensions();
  },
  methods: {
    // 加载维度数据
    loadDemensions() {
      if (!this.demensions || this.demensions.length == 0) {
        this.$requestConfig.getAllDemensions().then(data => {
          this.demensions = data;
          data.forEach(element => {
            if (element.isDefault == 1) {
              this.currentDemension = element.id;
            }
          });
          if (!this.currentDemension) {
            this.currentDemension = data[0].id;
          }
        });
      }
    },
    // 维度改变 重新获取组织
    changeDemension(currentDemensionId) {
      this.$requestConfig.getOrgTree({
        demId: currentDemensionId ? currentDemensionId : this.currentDemension
      }).then(data => {
        this.orgs = utils["a" /* default */].tile2nest(data);
      });
    },
    // 加载组织数据
    loadOrgTree(node, resolve) {
      if (node && node.data && node.data.isParent) {
        if (node.data.children) {
          resolve(node.data.children);
        } else {
          this.$requestConfig.getOrgTree({
            demId: node.data.demId,
            parentId: node.data.id
          }).then(data => {
            resolve(data);
          });
        }
      } else {
        resolve([]);
      }
    }
  }
});
// CONCATENATED MODULE: ./packages/UserSelector/src/Organization.vue?vue&type=script&lang=js
 /* harmony default export */ var src_Organizationvue_type_script_lang_js = (Organizationvue_type_script_lang_js); 
// EXTERNAL MODULE: ./packages/UserSelector/src/Organization.vue?vue&type=style&index=0&id=47f30d0f&prod&lang=scss&scoped=true
var Organizationvue_type_style_index_0_id_47f30d0f_prod_lang_scss_scoped_true = __webpack_require__("535b");

// CONCATENATED MODULE: ./packages/UserSelector/src/Organization.vue






/* normalize component */

var Organization_component = normalizeComponent(
  src_Organizationvue_type_script_lang_js,
  Organizationvue_type_template_id_47f30d0f_scoped_true_render,
  Organizationvue_type_template_id_47f30d0f_scoped_true_staticRenderFns,
  false,
  null,
  "47f30d0f",
  null
  
)

/* harmony default export */ var Organization = (Organization_component.exports);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"8bdeefa2-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/UserSelector/src/PolicyUser.vue?vue&type=template&id=cc4d2050&scoped=true
var PolicyUservue_type_template_id_cc4d2050_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:"policy-user__container"},[(_vm.policies.length > 0)?_c('el-scrollbar',{staticClass:"selector-list__scroll"},[_c('ht-radio',{attrs:{"display-style":"block","option-layout":"vertical","props":{ key: 'id', value: 'name' },"options":_vm.policies},model:{value:(_vm.currentPolicy),callback:function ($$v) {_vm.currentPolicy=$$v},expression:"currentPolicy"}})],1):_c('div',{staticClass:"el-tree__empty-block"},[_c('span',{staticClass:"el-tree__empty-text"},[_vm._v(_vm._s(_vm.t('el.table.emptyText')))])])],1)}
var PolicyUservue_type_template_id_cc4d2050_scoped_true_staticRenderFns = []


// CONCATENATED MODULE: ./packages/UserSelector/src/PolicyUser.vue?vue&type=template&id=cc4d2050&scoped=true

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/UserSelector/src/PolicyUser.vue?vue&type=script&lang=js
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//


/* harmony default export */ var PolicyUservue_type_script_lang_js = ({
  name: 'PolicyUser',
  mixins: [mixins_locale],
  props: {
    mode: {
      type: String
    }
  },
  data() {
    return {
      policies: [{
        id: '1',
        name: this.$t('ht.selector.MyDepartment')
      }, {
        id: '2',
        name: this.$t('ht.selector.MyDepartmentAndSub')
      }, {
        id: '3',
        name: this.$t('ht.selector.myAllDepartment')
      }, {
        id: '4',
        name: this.$t('ht.selector.myAllDepartmentAndSub')
      }],
      currentPolicy: '',
      currentUserOrgs: []
    };
  },
  watch: {
    mode: function (newVal, oldVal) {
      if (newVal !== oldVal && newVal == 'search') {
        this.currentPolicy = '';
      }
    },
    currentPolicy: function (newVal, oldVal) {
      if (newVal && newVal !== oldVal) {
        this.loadUserWithPolicy(newVal);
      }
    }
  },
  methods: {
    // 按照指定策略加载数据
    loadUserWithPolicy(policy) {
      this.loadCurrentUserOrgs().then(() => {
        const param = this.getOrgIdWithPolicy(policy);
        this.$emit('load-policy-user', param);
      }).catch(() => {
        this.$message.error(this.$t('ht.selector.notGetDepartmentData'));
        this.currentPolicy = '';
      });
    },
    // 根据策略构建不同的查询参数
    getOrgIdWithPolicy(policy) {
      let result = {
        type: policy
      };
      const masterOrg = this.currentUserOrgs.find(org => org.isMaster == 1);
      switch (policy) {
        case '1':
          result.id = masterOrg ? masterOrg.id : null;
          break;
        case '2':
          result.path = masterOrg ? masterOrg.path : null;
          break;
        case '3':
          result.ids = this.currentUserOrgs.map(org => org.id);
          break;
        case '4':
          result.paths = this.currentUserOrgs.map(org => org.path);
          break;
      }
      return result;
    },
    // 获取当前用户所属部门数据
    loadCurrentUserOrgs() {
      return new Promise((resolve, reject) => {
        if (this.currentUserOrgs && this.currentUserOrgs.length > 0) {
          resolve();
        } else if (this.$requestConfig.getUserId() && this.$requestConfig.getOrgListByUserId) {
          this.$requestConfig.getOrgListByUserId(this.$requestConfig.getUserId()).then(orgs => {
            if (orgs && orgs.constructor == Array && orgs.length > 0) {
              this.currentUserOrgs = orgs;
              resolve();
            } else {
              reject();
            }
          }).catch(() => reject());
        } else {
          reject();
        }
      });
    }
  }
});
// CONCATENATED MODULE: ./packages/UserSelector/src/PolicyUser.vue?vue&type=script&lang=js
 /* harmony default export */ var src_PolicyUservue_type_script_lang_js = (PolicyUservue_type_script_lang_js); 
// EXTERNAL MODULE: ./packages/UserSelector/src/PolicyUser.vue?vue&type=style&index=0&id=cc4d2050&prod&lang=scss&scoped=true
var PolicyUservue_type_style_index_0_id_cc4d2050_prod_lang_scss_scoped_true = __webpack_require__("a548");

// CONCATENATED MODULE: ./packages/UserSelector/src/PolicyUser.vue






/* normalize component */

var PolicyUser_component = normalizeComponent(
  src_PolicyUservue_type_script_lang_js,
  PolicyUservue_type_template_id_cc4d2050_scoped_true_render,
  PolicyUservue_type_template_id_cc4d2050_scoped_true_staticRenderFns,
  false,
  null,
  "cc4d2050",
  null
  
)

/* harmony default export */ var PolicyUser = (PolicyUser_component.exports);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"8bdeefa2-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/UserSelector/src/RoleUser.vue?vue&type=template&id=c5d361e6&scoped=true
var RoleUservue_type_template_id_c5d361e6_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:"role-user__container"},[_c('div',{staticClass:"role-user__search"},[_c('el-input',{attrs:{"size":"small","clearable":"","placeholder":_vm.$t('ht.selector.roleName')},on:{"clear":_vm.reset},nativeOn:{"keyup":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,"enter",13,$event.key,"Enter")){ return null; }return _vm.loadRoleWithParam($event)}},model:{value:(_vm.searchWord),callback:function ($$v) {_vm.searchWord=$$v},expression:"searchWord"}},[_c('i',{staticClass:"el-input__icon el-icon-search",attrs:{"slot":"prefix","title":_vm.t('ht.common.search')},on:{"click":_vm.loadRoleWithParam},slot:"prefix"})])],1),(_vm.roles.length > 0)?_c('el-scrollbar',{staticClass:"selector-list__scroll"},[_c('ht-radio',{attrs:{"display-style":"block","option-layout":"vertical","props":{ key: 'id', value: 'name' },"options":_vm.roles},model:{value:(_vm.currentRole),callback:function ($$v) {_vm.currentRole=$$v},expression:"currentRole"}})],1):_c('div',{staticClass:"el-tree__empty-block"},[_c('span',{staticClass:"el-tree__empty-text"},[_vm._v(_vm._s(_vm.t('el.table.emptyText')))])])],1)}
var RoleUservue_type_template_id_c5d361e6_scoped_true_staticRenderFns = []


// CONCATENATED MODULE: ./packages/UserSelector/src/RoleUser.vue?vue&type=template&id=c5d361e6&scoped=true

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/UserSelector/src/RoleUser.vue?vue&type=script&lang=js
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//


/* harmony default export */ var RoleUservue_type_script_lang_js = ({
  name: 'RoleUser',
  mixins: [mixins_locale],
  props: {
    mode: {
      type: String
    }
  },
  data() {
    return {
      currentRole: '',
      roles: [],
      searchWord: null
    };
  },
  watch: {
    mode: function (newVal, oldVal) {
      if (newVal !== oldVal && newVal == 'search') {
        this.currentRole = '';
      }
    },
    currentRole: function (newVal, oldVal) {
      if (newVal && newVal !== oldVal) {
        this.$emit('load-role-user', newVal);
      }
    }
  },
  mounted() {
    if (!this.roles || this.roles.length == 0) {
      this.loadRoleWithParam();
    }
  },
  methods: {
    reset() {
      this.searchWord = null;
      this.$nextTick(() => this.loadRoleWithParam());
    },
    // 按照指定策略加载数据
    loadRoleWithParam() {
      this.$requestConfig.getRoleList(this.getParam()).then(data => {
        const {
          rows
        } = data;
        this.roles = rows;
      });
    },
    getParam() {
      const queryFilter = {
        querys: [],
        pageBean: {
          page: 1,
          pageSize: 50,
          showTotal: true
        }
      };
      if (this.searchWord) {
        let query = {
          property: 'name',
          value: this.searchWord,
          group: 'main',
          operation: 'LIKE',
          relation: 'OR'
        };
        queryFilter.querys.push(query);
      }
      return queryFilter;
    }
  }
});
// CONCATENATED MODULE: ./packages/UserSelector/src/RoleUser.vue?vue&type=script&lang=js
 /* harmony default export */ var src_RoleUservue_type_script_lang_js = (RoleUservue_type_script_lang_js); 
// EXTERNAL MODULE: ./packages/UserSelector/src/RoleUser.vue?vue&type=style&index=0&id=c5d361e6&prod&lang=scss&scoped=true
var RoleUservue_type_style_index_0_id_c5d361e6_prod_lang_scss_scoped_true = __webpack_require__("6bde");

// CONCATENATED MODULE: ./packages/UserSelector/src/RoleUser.vue






/* normalize component */

var RoleUser_component = normalizeComponent(
  src_RoleUservue_type_script_lang_js,
  RoleUservue_type_template_id_c5d361e6_scoped_true_render,
  RoleUservue_type_template_id_c5d361e6_scoped_true_staticRenderFns,
  false,
  null,
  "c5d361e6",
  null
  
)

/* harmony default export */ var RoleUser = (RoleUser_component.exports);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/UserSelector/src/UserSelectorDialog.vue?vue&type=script&lang=js
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//








/* harmony default export */ var UserSelectorDialogvue_type_script_lang_js = ({
  name: 'UserSelectorDialog',
  components: {
    HtListSelector: packages_ListSelector,
    TopContactUser: TopContactUser,
    Organization: Organization,
    PolicyUser: PolicyUser,
    RoleUser: RoleUser
  },
  mixins: [mixins_locale],
  props: {
    value: {
      type: Array,
      default: () => {
        return [];
      }
    },
    title: {
      type: String,
      default() {
        return Object(locale["c" /* t */])('ht.selector.userTitle');
      }
    },
    appendToBody: {
      type: Boolean,
      default: false
    },
    data: {
      type: Array,
      default: () => {
        return [];
      }
    },
    pagination: {
      type: Object,
      default: () => {
        return {
          page: 1,
          pageSize: 50,
          total: 0
        };
      }
    },
    selectLabel: {
      type: String,
      default: 'fullname'
    },
    quickSearchProps: {
      type: String,
      required: true
    },
    single: {
      type: Boolean,
      default: false
    },
    searchPlaceholder: {
      type: String,
      default() {
        return Object(locale["c" /* t */])('ht.selector.userAndAccount');
      }
    },
    primaryField: {
      type: String,
      default: ''
    },
    mode: {
      type: String
    }
  },
  data() {
    return {
      dialogVisible: false,
      activeRange: 'contact',
      searchWord: null,
      loading: false
    };
  },
  computed: {
    selectors: {
      get: function () {
        return this.value;
      },
      set: function (val) {
        this.$emit('input', val);
      }
    }
  },
  watch: {
    activeRange: function (newVal, oldVal) {
      if (newVal !== oldVal) {
        this.$emit('filter-type-change', newVal);
      }
    }
  },
  methods: {
    search() {
      if (this.loading) {
        return;
      }
      this.$emit('search', this.searchWord);
    },
    reset() {
      this.$emit('reset');
      this.searchWord = null;
    },
    showDialog() {
      this.dialogVisible = true;
      setTimeout(() => {
        this.$refs.selector.onShow();
      }, 10);
    },
    handleClose(done) {
      this.$refs.selector.onHide();
      done && done();
    },
    handleDialogSure() {
      this.$emit('select-data', this.$refs.selector.getSelectedData());
      this.dialogVisible = false;
      this.$refs.selector.onHide(true);
    },
    handleDialogCancel() {
      this.dialogVisible = false;
      this.$refs.selector.onHide();
    }
  }
});
// CONCATENATED MODULE: ./packages/UserSelector/src/UserSelectorDialog.vue?vue&type=script&lang=js
 /* harmony default export */ var src_UserSelectorDialogvue_type_script_lang_js = (UserSelectorDialogvue_type_script_lang_js); 
// EXTERNAL MODULE: ./packages/UserSelector/src/UserSelectorDialog.vue?vue&type=style&index=0&id=4acd9d43&prod&lang=scss&scoped=true
var UserSelectorDialogvue_type_style_index_0_id_4acd9d43_prod_lang_scss_scoped_true = __webpack_require__("5422");

// CONCATENATED MODULE: ./packages/UserSelector/src/UserSelectorDialog.vue






/* normalize component */

var UserSelectorDialog_component = normalizeComponent(
  src_UserSelectorDialogvue_type_script_lang_js,
  UserSelectorDialogvue_type_template_id_4acd9d43_scoped_true_render,
  UserSelectorDialogvue_type_template_id_4acd9d43_scoped_true_staticRenderFns,
  false,
  null,
  "4acd9d43",
  null
  
)

/* harmony default export */ var UserSelectorDialog = (UserSelectorDialog_component.exports);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"8bdeefa2-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/UserSelector/src/UserSelectorMobileDialog.vue?vue&type=template&id=2e94f7ce&scoped=true
var UserSelectorMobileDialogvue_type_template_id_2e94f7ce_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.dialogVisible)?_c('van-action-sheet',{staticClass:"user-mobile__selector",attrs:{"cancel-text":_vm.sureButtonText,"closeable":false,"get-container":"body"},on:{"cancel":_vm.handleDialogSure,"close":_vm.handleDialogClose,"click-overlay":_vm.handleDialogClose},scopedSlots:_vm._u([{key:"description",fn:function(){return [_c('span',{staticClass:"user-mobile__title"},[_vm._v(_vm._s(_vm.title))]),_c('ht-icon',{staticClass:"user-mobile__close",attrs:{"name":"close"},on:{"click":_vm.handleDialogClose}})]},proxy:true}],null,false,2060288890),model:{value:(_vm.dialogVisible),callback:function ($$v) {_vm.dialogVisible=$$v},expression:"dialogVisible"}},[_c('van-search',{attrs:{"placeholder":_vm.searchPlaceholder},on:{"input":_vm.onSearchInput,"clear":_vm.reset},model:{value:(_vm.searchWord),callback:function ($$v) {_vm.searchWord=$$v},expression:"searchWord"}}),_c('van-pull-refresh',{on:{"refresh":_vm.onRefresh},model:{value:(_vm.isLoading),callback:function ($$v) {_vm.isLoading=$$v},expression:"isLoading"}},[_c('van-list',{staticClass:"user-data__list",attrs:{"finished":_vm.finished,"finished-text":_vm.$t('ht.common.noMore')},on:{"load":_vm.loadMore},model:{value:(_vm.isLoading),callback:function ($$v) {_vm.isLoading=$$v},expression:"isLoading"}},[_c('van-checkbox-group',{model:{value:(_vm.selectIds),callback:function ($$v) {_vm.selectIds=$$v},expression:"selectIds"}},_vm._l((_vm.data),function(item){return _c('van-cell',{key:item[_vm.primaryFieldProp],attrs:{"clickable":""},on:{"click":function($event){return _vm.rowClick(item, null, $event)}},scopedSlots:_vm._u([{key:"icon",fn:function(){return [_c('van-checkbox',{attrs:{"name":item[_vm.primaryFieldProp],"shape":_vm.single ? 'round' : 'square'}})]},proxy:true}],null,true)},[_c('div',{staticClass:"user-list__container"},[_c('ht-avatar-image',{staticClass:"follow-theme-background-color",attrs:{"username":item[_vm.selectLabel],"background-color":"#409EFF","color":"#fff","size":36}}),_c('div',{staticClass:"selector-item__detail"},[_c('div',{staticClass:"selector-detail__name"},[_c('label',[_vm._v(_vm._s(item[_vm.selectLabel]))]),_c('span',[_vm._v("("+_vm._s(item['account'])+")")])]),_c('div',{staticClass:"selector-detail__desc"},[_c('span',{attrs:{"title":item.orgname}},[_c('ht-icon',{attrs:{"name":"org-tree"}}),_vm._v("\n                  "+_vm._s(item.orgname || _vm.$t('ht.selector.not'))+"\n                ")],1),_c('span',{attrs:{"title":item.postname}},[_c('ht-icon',{attrs:{"name":"users"}}),_vm._v("\n                  "+_vm._s(item.postname || _vm.$t('ht.selector.not'))+"\n                ")],1)])])],1)])}),1)],1)],1)],1):_vm._e()}
var UserSelectorMobileDialogvue_type_template_id_2e94f7ce_scoped_true_staticRenderFns = []


// CONCATENATED MODULE: ./packages/UserSelector/src/UserSelectorMobileDialog.vue?vue&type=template&id=2e94f7ce&scoped=true

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/UserSelector/src/UserSelectorMobileDialog.vue?vue&type=script&lang=js
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//





/* harmony default export */ var UserSelectorMobileDialogvue_type_script_lang_js = ({
  name: 'UserSelectorMobileDialog',
  mixins: [mixins_locale],
  props: {
    value: {
      type: Array,
      default: () => {
        return [];
      }
    },
    title: {
      type: String,
      default() {
        return Object(locale["c" /* t */])('ht.selector.userTitle');
      }
    },
    appendToBody: {
      type: Boolean,
      default: false
    },
    data: {
      type: Array,
      default: () => {
        return [];
      }
    },
    pagination: {
      type: Object,
      default: () => {
        return {
          page: 1,
          pageSize: 50,
          total: 0
        };
      }
    },
    selectLabel: {
      type: String,
      default: 'fullname'
    },
    single: {
      type: Boolean,
      default: false
    },
    searchPlaceholder: {
      type: String,
      default() {
        return Object(locale["c" /* t */])('ht.selector.userAndAccount');
      }
    },
    primaryField: {
      type: String,
      default: ''
    }
  },
  data() {
    return {
      dialogVisible: false,
      isLoading: false,
      searchWord: null,
      selectIds: [],
      selectedData: [],
      finished: false
    };
  },
  computed: {
    primaryColor() {
      return styles_default.a.primary_color;
    },
    sureButtonText() {
      const selectedText = this.selectIds.length > 0 ? `(${this.selectIds.length})` : '';
      return `${this.$t('ht.common.confirm')}${selectedText}`;
    },
    primaryFieldProp: function () {
      return this.primaryField ? this.primaryField : 'id';
    }
  },
  watch: {
    pagination: function (newVal, oldVal) {
      this.isLoading = false;
      if (newVal !== oldVal) {
        const {
          page,
          pageSize,
          total
        } = newVal;
        if (page > 0 && pageSize > 0 && total > 0) {
          this.finished = page * pageSize >= total;
        } else {
          this.finished = true;
        }
      }
    }
  },
  methods: {
    onSearchInput: Object(external_lodash_["debounce"])(function () {
      this.onRefresh();
    }, 800),
    onRefresh() {
      this.isloading = true;
      this.$emit('search', this.searchWord);
    },
    reset() {
      this.$emit('reset');
    },
    loadMore() {
      if (this.data && this.data.length > 0) {
        this.$emit('page-change', ++this.pagination.page);
      } else {
        this.isLoading = false;
      }
    },
    showDialog() {
      this.$nextTick(() => {
        if (this.value && this.value.length > 0) {
          this.selectIds = this.value.map(item => item[this.primaryFieldProp]);
          this.selectedData = this.value;
        }
        this.dialogVisible = true;
      });
    },
    handleDialogSure() {
      this.$emit('input', this.selectedData);
      this.$emit('select-data', this.selectedData);
      this.selectIds = [];
      this.selectedData = [];
      this.dialogVisible = false;
    },
    handleDialogClose() {
      this.dialogVisible = false;
      this.selectIds = [];
      this.selectedData = [];
    },
    select(selection, row) {
      this.$emit('select', selection, row);
    },
    rowClick(row, column, event) {
      // 单选
      if (this.single) {
        this.selectIds = [row[this.primaryFieldProp]];
        this.selectedData = [row];
      } else {
        // 多选
        if (this.selectIds.some(m => m == row[this.primaryFieldProp])) {
          this.selectIds.remove(row[this.primaryFieldProp]);
          this.selectedData = this.selectedData.filter(item => item[this.primaryFieldProp] !== row[this.primaryFieldProp]);
        } else {
          this.selectIds.push(row[this.primaryFieldProp]);
          this.selectedData.push(row);
        }
      }
      this.$emit('row-click', row, column, event);
    }
  }
});
// CONCATENATED MODULE: ./packages/UserSelector/src/UserSelectorMobileDialog.vue?vue&type=script&lang=js
 /* harmony default export */ var src_UserSelectorMobileDialogvue_type_script_lang_js = (UserSelectorMobileDialogvue_type_script_lang_js); 
// EXTERNAL MODULE: ./packages/UserSelector/src/UserSelectorMobileDialog.vue?vue&type=style&index=0&id=2e94f7ce&prod&lang=scss&scoped=true
var UserSelectorMobileDialogvue_type_style_index_0_id_2e94f7ce_prod_lang_scss_scoped_true = __webpack_require__("b820");

// CONCATENATED MODULE: ./packages/UserSelector/src/UserSelectorMobileDialog.vue






/* normalize component */

var UserSelectorMobileDialog_component = normalizeComponent(
  src_UserSelectorMobileDialogvue_type_script_lang_js,
  UserSelectorMobileDialogvue_type_template_id_2e94f7ce_scoped_true_render,
  UserSelectorMobileDialogvue_type_template_id_2e94f7ce_scoped_true_staticRenderFns,
  false,
  null,
  "2e94f7ce",
  null
  
)

/* harmony default export */ var UserSelectorMobileDialog = (UserSelectorMobileDialog_component.exports);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/UserSelector/src/main.vue?vue&type=script&lang=js
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//










/* harmony default export */ var UserSelector_src_mainvue_type_script_lang_js = ({
  name: 'HtUserSelector',
  components: {
    HtFieldTail: FieldTail,
    UserSelectorDialog: UserSelectorDialog,
    UserSelectorMobileDialog: UserSelectorMobileDialog
  },
  mixins: [inputName["a" /* default */], mixins_permission["a" /* default */], mobileMode["a" /* default */]],
  props: {
    searchPlaceholder: {
      type: String,
      default() {
        return Object(locale["c" /* t */])('ht.selector.userAndAccount');
      }
    },
    value: String,
    single: {
      type: Boolean,
      default: false
    },
    config: Object,
    data: {
      type: Array,
      default: () => {
        return [];
      }
    },
    pagination: {
      type: Object,
      default: () => {
        return {
          page: 1,
          pageSize: 50,
          total: 0
        };
      }
    },
    selectLabel: {
      type: String,
      default: 'fullname'
    },
    quickSearchProps: {
      type: String,
      required: true
    },
    appendToBody: {
      type: Boolean,
      default: false
    },
    formInputsDisplay: {
      type: String,
      default: 'inline'
    },
    title: {
      type: String,
      default() {
        return Object(locale["c" /* t */])('ht.selector.userTitle');
      }
    },
    mode: {
      type: String
    }
  },
  data() {
    return {
      inputSuffixHeight: 30,
      selectors: []
    };
  },
  computed: {
    primaryField: function () {
      return this.config && this.config.hasOwnProperty('id') ? 'id' : this.config && this.config.hasOwnProperty('account') ? 'account' : this.selectLabel;
    }
  },
  watch: {
    // 当所选择的数据发生变化时，同步到v-model中
    selectors: function (newVal) {
      let ary = [],
        idAry = [],
        fullnameAry = [],
        mobileAry = [],
        emailAry = [],
        postNameAry = [],
        orgNameAry = [],
        accountAry = [];
      if (newVal && newVal.constructor === Array && newVal.length > 0) {
        newVal.forEach(m => {
          ary.push(m.fullname);
          if (m.hasOwnProperty('id')) {
            idAry.push(m.id);
          }
          if (m.hasOwnProperty('fullname')) {
            fullnameAry.push(m.fullname);
          }
          if (m.hasOwnProperty('account')) {
            accountAry.push(m.account);
          }
          if (m.hasOwnProperty('mobile')) {
            mobileAry.push(m.mobile);
          }
          if (m.hasOwnProperty('email')) {
            emailAry.push(m.email);
          }
          if (m.hasOwnProperty('postName')) {
            postNameAry.push(m.postName);
          }
          if (m.hasOwnProperty('orgName')) {
            orgNameAry.push(m.orgName);
          }
        });
      }
      if (this.config) {
        // 配置了id的绑定关系，则回填到指定属性上
        if (this.config.hasOwnProperty('id')) {
          utils["a" /* default */].setValueByConfigKey(this, this.config, 'id', idAry.join(','));
        }
        // 配置了fullname的绑定关系，则回填到指定的属性上
        if (this.config.hasOwnProperty('fullname')) {
          utils["a" /* default */].setValueByConfigKey(this, this.config, 'fullname', fullnameAry.join(','));
        }
        // 配置了account的绑定关系，则回填到指定的属性上
        if (this.config.hasOwnProperty('account')) {
          utils["a" /* default */].setValueByConfigKey(this, this.config, 'account', accountAry.join(','));
        }
        // 配置了mobile的绑定关系，则回填到指定的属性上
        if (this.config.hasOwnProperty('mobile')) {
          utils["a" /* default */].setValueByConfigKey(this, this.config, 'mobile', mobileAry.join(','));
        }
        // 配置了email的绑定关系，则回填到指定的属性上
        if (this.config.hasOwnProperty('email')) {
          utils["a" /* default */].setValueByConfigKey(this, this.config, 'email', emailAry.join(','));
        }

        // 配置了post绑定关系，则回填到指定的属性上
        if (this.config.hasOwnProperty('postName')) {
          utils["a" /* default */].setValueByConfigKey(this, this.config, 'postName', postNameAry.join(','));
        }

        // 配置了org绑定关系，则回填到指定的属性上
        if (this.config.hasOwnProperty('orgName')) {
          utils["a" /* default */].setValueByConfigKey(this, this.config, 'orgName', orgNameAry.join(','));
        }
      } else {
        this.$emit('change', newVal);
      }
      // 通过valueChange事件发布值变更消息
      Object(timers_browserify_main["setTimeout"])(() => {
        this.$emit('valueChange', ary.join(','), newVal);
        if (newVal.length > 0) {
          this.calacInputSuffixHeight();
        } else {
          this.inputSuffixHeight = 30;
        }
        if (this.$refs.inputEl) {
          this.$refs.inputEl.focus();
          this.$refs.inputEl.blur();
        }
      }, 10);
    },
    value: function () {
      // 父级传递进来的value发生变更时，需要同步到当前所选数据中
      this.valueInit();
    }
  },
  mounted() {
    // 组件第一次挂载时，同步value到当前所选数据中
    this.valueInit();
  },
  methods: {
    // 同步value到当前所选数据中
    valueInit() {
      let tmpAry = [];
      if (this.value) {
        let idAry = [],
          accountAry = [],
          fullnameAry = [],
          mobileAry = [],
          postNameAry = [],
          orgNameAry = [],
          emailAry = [];
        if (this.config) {
          // 配置了id绑定关系，则获取id的值
          if (this.config.hasOwnProperty('id')) {
            let idVal = utils["a" /* default */].getValueByConfigKey(this, this.config, 'id');
            if (idVal) {
              idAry = idVal.split(',').trim();
            }
          }
          // 配置了fullname绑定关系，则获取fullname的值
          if (this.config.hasOwnProperty('fullname')) {
            let fullnameVal = utils["a" /* default */].getValueByConfigKey(this, this.config, 'fullname');
            if (fullnameVal) {
              fullnameAry = fullnameVal.split(',').trim();
            }
          }

          // 配置了account绑定关系，则获取account的值
          if (this.config.hasOwnProperty('account')) {
            let accountVal = utils["a" /* default */].getValueByConfigKey(this, this.config, 'account');
            if (accountVal) {
              accountAry = accountVal.split(',').trim();
            }
          }

          // 配置了mobile绑定关系，则获取mobile的值
          if (this.config.hasOwnProperty('mobile')) {
            let mobileVal = utils["a" /* default */].getValueByConfigKey(this, this.config, 'mobile');
            if (mobileVal) {
              mobileAry = mobileVal.split(',').trim();
            }
          }

          // 配置了post绑定关系，则获取post的值
          if (this.config.hasOwnProperty('postName')) {
            let postVal = utils["a" /* default */].getValueByConfigKey(this, this.config, 'postName');
            if (postVal) {
              postNameAry = postVal.split(',').trim();
            }
          }

          // 配置了org绑定关系，则获取org的值
          if (this.config.hasOwnProperty('orgName')) {
            let orgVal = utils["a" /* default */].getValueByConfigKey(this, this.config, 'orgName');
            if (orgVal) {
              orgNameAry = orgVal.split(',').trim();
            }
          }

          // 配置了email绑定关系，则获取email的值
          if (this.config.hasOwnProperty('email')) {
            let emailVal = utils["a" /* default */].getValueByConfigKey(this, this.config, 'email');
            if (emailVal) {
              emailAry = emailVal.split(',').trim();
            }
          }
        }
        // 将fullname、id、code从逗号分割的字符串解析为json对象格式的数组
        let valAry = this.value.split(',').trim();
        valAry.forEach((m, index) => {
          let item = {
            fullname: m
          };
          if (idAry.length > index) {
            item['id'] = idAry[index];
          }
          if (accountAry.length > index) {
            item['account'] = accountAry[index];
          }
          if (fullnameAry.length > index) {
            item['fullname'] = fullnameAry[index];
          }
          if (mobileAry.length > index) {
            item['mobile'] = mobileAry[index];
          }
          if (emailAry.length > index) {
            item['email'] = emailAry[index];
          }
          if (postNameAry.length > index) {
            item['postName'] = postNameAry[index];
          }
          if (orgNameAry.length > index) {
            item['orgName'] = orgNameAry[index];
          }
          tmpAry.push(item);
        });
      }
      // 对数组做深度对比，如果值不完全相等，则进行赋值操作
      if (!utils["a" /* default */].arrayEquals(tmpAry, this.selectors)) {
        this.selectors = tmpAry;
      }
    },
    showDialog() {
      if (!this.inputWriteable) {
        return;
      }
      if (this.isMobile) {
        this.$refs.userSelectorMobileDialog.showDialog();
      } else {
        this.$refs.userSelectorDialog.showDialog();
      }
    },
    handleRemove(item) {
      this.selectors.remove(item);
    },
    clear() {
      this.selectors = [];
      this.inputSuffixHeight = 30;
    },
    // 更新当前输入框的高度来适配已选数据的高度
    calacInputSuffixHeight() {
      if (!this.$refs.tagSpans) return;
      if (this.$refs.tagSpans.offsetHeight) {
        this.inputSuffixHeight = this.$refs.tagSpans.offsetHeight + 5;
      } else {
        this.inputSuffixHeight = 30;
      }
    },
    handleRemoveText(index) {
      if (!this.value) {
        return;
      }
      let values = this.value.split(',');
      values.splice(index, 1);
      this.$emit('input', values.join(','));
    }
  }
});
// CONCATENATED MODULE: ./packages/UserSelector/src/main.vue?vue&type=script&lang=js
 /* harmony default export */ var packages_UserSelector_src_mainvue_type_script_lang_js = (UserSelector_src_mainvue_type_script_lang_js); 
// EXTERNAL MODULE: ./packages/UserSelector/src/main.vue?vue&type=style&index=0&id=d448fc40&prod&lang=scss&scoped=true
var mainvue_type_style_index_0_id_d448fc40_prod_lang_scss_scoped_true = __webpack_require__("5421");

// CONCATENATED MODULE: ./packages/UserSelector/src/main.vue






/* normalize component */

var UserSelector_src_main_component = normalizeComponent(
  packages_UserSelector_src_mainvue_type_script_lang_js,
  mainvue_type_template_id_d448fc40_scoped_true_render,
  mainvue_type_template_id_d448fc40_scoped_true_staticRenderFns,
  false,
  null,
  "d448fc40",
  null
  
)

/* harmony default export */ var UserSelector_src_main = (UserSelector_src_main_component.exports);
// CONCATENATED MODULE: ./packages/UserSelector/index.js

UserSelector_src_main.install = function (Vue) {
  Vue.component(UserSelector_src_main.name, UserSelector_src_main);
};
/* harmony default export */ var UserSelector = (UserSelector_src_main);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"8bdeefa2-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/OrgSelector/src/main.vue?vue&type=template&id=27f4d8e1&scoped=true
var mainvue_type_template_id_27f4d8e1_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.permission !== 'n')?_c('div',{class:[
    'inputs',
    _vm.formInputsDisplay == 'block'
      ? 'ht-form-inputs__block'
      : 'ht-form-inputs__inline' ]},[_c('div',{staticClass:"el-select",class:{ 'has-value': _vm.selectors.length > 0 },staticStyle:{"width":"100%","min-width":"180px"},on:{"click":_vm.showDialog}},[_c('div',{ref:"tagSpans",class:{
        'el-select__tags_readonly': !_vm.inputWriteable,
        'el-select__tags': _vm.inputWriteable,
      },staticStyle:{"width":"calc(100% - 25px)"}},[_c('span',{staticClass:"tag-wrap"},_vm._l((_vm.selectors),function(item,index){return _c('span',{key:index,staticClass:"el-tag el-tag--info el-tag--small",on:{"click":function($event){$event.stopPropagation();}}},[_c('span',{staticClass:"el-select__tags-text"},[_vm._v("\n            "+_vm._s(_vm.showPath ? item.pathName : item.name)+"\n          ")]),(_vm.inputWriteable)?_c('i',{staticClass:"el-tag__close el-icon-close",on:{"click":function($event){return _vm.handleRemove(item)}}}):_vm._e()])}),0)]),(_vm.inputWriteable)?_c('div',{staticClass:"el-input el-input--suffix"},[_c('input',{directives:[{name:"model",rawName:"v-model",value:(_vm.value),expression:"value"},{name:"validate",rawName:"v-validate",value:(_vm.inputValidate),expression:"inputValidate"}],ref:"inputEl",staticClass:"el-input__inner",style:({
          height: _vm.inputSuffixHeight + 'px',
          lineHeight: _vm.inputSuffixHeight + 'px',
        }),attrs:{"type":"text","readonly":"readonly","name":_vm.inputName,"autocomplete":"off","placeholder":_vm.placeholder},domProps:{"value":(_vm.value)},on:{"input":function($event){if($event.target.composing){ return; }_vm.value=$event.target.value}}}),_c('span',{staticClass:"el-input__suffix"},[_c('span',{staticClass:"el-input__suffix-inner"},[_c('i',{staticClass:"el-icon-circle-close clear-icon",on:{"click":function($event){$event.stopPropagation();return _vm.clear($event)}}}),_c('ht-icon',{staticClass:"org-icon",attrs:{"name":"org","scale":"0.9"}})],1)])]):_vm._e()]),_c('ht-field-tail',{attrs:{"field-name":_vm.inputName,"input-value":_vm.value}}),(!_vm.isMobile)?_c('org-selector-dialog',{ref:"orgSelectorDialog",attrs:{"title":_vm.title,"append-to-body":_vm.appendToBody,"data":_vm.data,"pagination":_vm.pagination,"select-label":_vm.selectLabel,"quick-search-props":_vm.quickSearchProps,"single":_vm.single,"search-placeholder":_vm.searchPlaceholder,"primary-field":_vm.primaryField,"mode":_vm.mode},on:{"filter-type-change":function (type) { return _vm.$emit('filter-type-change', type); },"search":function (word) { return _vm.$emit('search', word); },"reset":function () { return _vm.$emit('reset'); },"row-click":function (row) { return _vm.$emit('row-click', row); },"select-data":function (data) { return _vm.$emit('select-data', data); },"page-change":function (page) { return _vm.$emit('page-change', page); },"size-change":function (size) { return _vm.$emit('size-change', size); },"contact-group-change":function (group) { return _vm.$emit('contact-group-change', group); },"load-org":function (org) { return _vm.$emit('load-org', org); },"load-policy-org":function (policy) { return _vm.$emit('load-policy-org', policy); }},model:{value:(_vm.selectors),callback:function ($$v) {_vm.selectors=$$v},expression:"selectors"}}):_c('org-selector-mobile-dialog',{ref:"orgSelectorMobileDialog",attrs:{"title":_vm.title,"append-to-body":_vm.appendToBody,"data":_vm.data,"pagination":_vm.pagination,"select-label":_vm.selectLabel,"single":_vm.single,"search-placeholder":_vm.searchPlaceholder,"primary-field":_vm.primaryField},on:{"search":function (word) { return _vm.$emit('search', word); },"reset":function () { return _vm.$emit('reset'); },"row-click":function (row) { return _vm.$emit('row-click', row); },"select-data":function (data) { return _vm.$emit('select-data', data); },"page-change":function (page) { return _vm.$emit('page-change', page); }},model:{value:(_vm.selectors),callback:function ($$v) {_vm.selectors=$$v},expression:"selectors"}})],1):_vm._e()}
var mainvue_type_template_id_27f4d8e1_scoped_true_staticRenderFns = []


// CONCATENATED MODULE: ./packages/OrgSelector/src/main.vue?vue&type=template&id=27f4d8e1&scoped=true

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"8bdeefa2-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/OrgSelector/src/OrgSelectorDialog.vue?vue&type=template&id=85094ef4&scoped=true
var OrgSelectorDialogvue_type_template_id_85094ef4_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{staticClass:"orgdialog-selector__wrapper",attrs:{"width":"1060px","title":_vm.title,"visible":_vm.dialogVisible,"before-close":_vm.handleClose,"close-on-click-modal":false,"append-to-body":_vm.appendToBody},on:{"update:visible":function($event){_vm.dialogVisible=$event}}},[_c('div',{staticClass:"dialog-selector__body"},[_c('el-input',{attrs:{"size":"small","clearable":"","placeholder":_vm.searchPlaceholder},on:{"clear":_vm.reset},nativeOn:{"keyup":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,"enter",13,$event.key,"Enter")){ return null; }return _vm.search($event)}},model:{value:(_vm.searchWord),callback:function ($$v) {_vm.searchWord=$$v},expression:"searchWord"}},[_c('i',{staticClass:"el-input__icon el-icon-search",attrs:{"slot":"prefix","title":_vm.t('ht.common.search')},on:{"click":_vm.search},slot:"prefix"})]),_c('ht-list-selector',{ref:"selector",staticClass:"user-selector",attrs:{"title":_vm.$t('ht.selector.orgList'),"data":_vm.data,"pagination":_vm.pagination,"select-label":_vm.selectLabel,"quick-search-props":_vm.quickSearchProps,"single":_vm.single,"search-placeholder":_vm.searchPlaceholder,"primary-field":_vm.primaryField,"mode":_vm.mode},on:{"reset":_vm.reset,"row-click":function (row) { return _vm.$emit('row-click', row); },"page-change":function (page) { return _vm.$emit('page-change', page); },"size-change":function (size) { return _vm.$emit('size-change', size); }},scopedSlots:_vm._u([{key:"detail",fn:function(ref){
var item = ref.item;
return [_c('ht-icon',{staticClass:"follow-theme-color",staticStyle:{"margin-left":"15px","width":"36px","height":"36px"},attrs:{"name":"org-tree2"}}),_c('div',{staticClass:"selector-item__detail"},[_c('div',{staticClass:"selector-detail__name"},[_c('label',[_vm._v(_vm._s(item[_vm.selectLabel]))]),_c('span',[_vm._v("("+_vm._s(item['code'])+")")])]),(item.pathName)?_c('div',{staticClass:"selector-detail__desc"},[_c('span',{attrs:{"title":item.pathName}},[_vm._v("\n              "+_vm._s(item.pathName)+"\n            ")])]):_vm._e()])]}},{key:"selected",fn:function(ref){
var select = ref.select;
return [_c('ht-icon',{staticClass:"follow-theme-color",staticStyle:{"margin-left":"15px","width":"36px","height":"36px"},attrs:{"name":"org-tree2"}}),_c('p',{staticClass:"selector-selected__label",attrs:{"title":("" + (select[_vm.selectLabel]) + (select['code'] ? ("(" + (select['code']) + ")") : ''))}},[_vm._v("\n          "+_vm._s(("" + (select[_vm.selectLabel]) + (select['code'] ? ("(" + (select['code']) + ")") : '')))+"\n        ")])]}}]),model:{value:(_vm.selectors),callback:function ($$v) {_vm.selectors=$$v},expression:"selectors"}},[_c('el-card',{staticClass:"selector-range__card",attrs:{"slot":"range","shadow":"hover"},slot:"range"},[_c('el-tabs',{model:{value:(_vm.activeRange),callback:function ($$v) {_vm.activeRange=$$v},expression:"activeRange"}},[_c('el-tab-pane',{attrs:{"label":_vm.$t('ht.selector.org'),"name":"org"}},[_c('organization',{attrs:{"mode":_vm.mode},on:{"loadOrg":function (org) { return _vm.$emit('load-org', org); }}})],1),_c('el-tab-pane',{attrs:{"label":_vm.$t('ht.selector.tactics'),"name":"policy"}},[_c('policy-user',{attrs:{"mode":_vm.mode},on:{"load-policy-org":function (policy) { return _vm.$emit('load-policy-org', policy); }}})],1)],1)],1)],1)],1),_c('div',{staticClass:"dialog-footer",attrs:{"slot":"footer"},slot:"footer"},[_c('el-button',{attrs:{"type":"primary","size":"small"},on:{"click":_vm.handleDialogSure}},[_vm._v("\n      "+_vm._s(_vm.$t('ht.common.confirm'))+"\n    ")]),_c('el-button',{attrs:{"size":"small"},on:{"click":_vm.handleDialogCancel}},[_vm._v("\n      "+_vm._s(_vm.$t('ht.common.cancle'))+"\n    ")])],1)])}
var OrgSelectorDialogvue_type_template_id_85094ef4_scoped_true_staticRenderFns = []


// CONCATENATED MODULE: ./packages/OrgSelector/src/OrgSelectorDialog.vue?vue&type=template&id=85094ef4&scoped=true

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"8bdeefa2-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/OrgSelector/src/Organization.vue?vue&type=template&id=4738080b&scoped=true
var Organizationvue_type_template_id_4738080b_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:"organization-container"},[_c('div',{staticClass:"demension__container"},[_c('ht-select',{attrs:{"size":"small","clearable":false,"options":_vm.demensions,"display-style":"block","props":{ key: 'id', value: 'demName' }},model:{value:(_vm.currentDemension),callback:function ($$v) {_vm.currentDemension=$$v},expression:"currentDemension"}})],1),_c('el-scrollbar',{staticClass:"organization-list__scroll"},[_c('ht-tree',{ref:"tree",staticClass:"org-tree",attrs:{"lazy":"","display-style":"block","load":_vm.loadOrgTree,"data":_vm.orgs,"default-expand-all":false,"highlight-current":true,"props":{
        children: 'children',
        label: 'name',
        isLeaf: 'leaf',
      },"node-key":"id","accordion":""},on:{"node-click":function (org) { return _vm.$emit('loadOrg', org); }}})],1)],1)}
var Organizationvue_type_template_id_4738080b_scoped_true_staticRenderFns = []


// CONCATENATED MODULE: ./packages/OrgSelector/src/Organization.vue?vue&type=template&id=4738080b&scoped=true

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/OrgSelector/src/Organization.vue?vue&type=script&lang=js
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//


/* harmony default export */ var OrgSelector_src_Organizationvue_type_script_lang_js = ({
  name: 'Organization',
  props: {
    mode: {
      type: String
    }
  },
  data() {
    return {
      demensions: [],
      currentDemension: '',
      orgs: []
    };
  },
  watch: {
    mode: function (newVal, oldVal) {
      if (newVal !== oldVal && newVal == 'search') {
        this.$refs.tree.setCurrentKey(null);
      }
    },
    currentDemension: function (newVal, oldVal) {
      if (newVal && newVal !== oldVal) {
        this.changeDemension(newVal);
      }
    }
  },
  mounted() {
    this.loadDemensions();
  },
  methods: {
    // 加载维度数据
    loadDemensions() {
      if (!this.demensions || this.demensions.length == 0) {
        this.$requestConfig.getAllDemensions().then(data => {
          this.demensions = data;
          data.forEach(element => {
            if (element.isDefault == 1) {
              this.currentDemension = element.id;
            }
          });
          if (!this.currentDemension) {
            this.currentDemension = data[0].id;
          }
        });
      }
    },
    // 维度改变 重新获取组织
    changeDemension(currentDemensionId) {
      this.$requestConfig.getOrgTree({
        demId: currentDemensionId ? currentDemensionId : this.currentDemension
      }).then(data => {
        this.orgs = utils["a" /* default */].tile2nest(data);
      });
    },
    // 加载组织数据
    loadOrgTree(node, resolve) {
      if (node && node.data && node.data.isParent) {
        if (node.data.children) {
          resolve(node.data.children);
        } else {
          this.$requestConfig.getOrgTree({
            demId: node.data.demId,
            parentId: node.data.id
          }).then(data => {
            resolve(data);
          });
        }
      } else {
        resolve([]);
      }
    }
  }
});
// CONCATENATED MODULE: ./packages/OrgSelector/src/Organization.vue?vue&type=script&lang=js
 /* harmony default export */ var packages_OrgSelector_src_Organizationvue_type_script_lang_js = (OrgSelector_src_Organizationvue_type_script_lang_js); 
// EXTERNAL MODULE: ./packages/OrgSelector/src/Organization.vue?vue&type=style&index=0&id=4738080b&prod&lang=scss&scoped=true
var Organizationvue_type_style_index_0_id_4738080b_prod_lang_scss_scoped_true = __webpack_require__("6d96");

// CONCATENATED MODULE: ./packages/OrgSelector/src/Organization.vue






/* normalize component */

var src_Organization_component = normalizeComponent(
  packages_OrgSelector_src_Organizationvue_type_script_lang_js,
  Organizationvue_type_template_id_4738080b_scoped_true_render,
  Organizationvue_type_template_id_4738080b_scoped_true_staticRenderFns,
  false,
  null,
  "4738080b",
  null
  
)

/* harmony default export */ var src_Organization = (src_Organization_component.exports);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"8bdeefa2-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/OrgSelector/src/PolicyUser.vue?vue&type=template&id=8a53b5e8&scoped=true
var PolicyUservue_type_template_id_8a53b5e8_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:"policy-user__container"},[(_vm.policies.length > 0)?_c('el-scrollbar',{staticClass:"selector-list__scroll"},[_c('ht-radio',{attrs:{"display-style":"block","option-layout":"vertical","props":{ key: 'id', value: 'name' },"options":_vm.policies},model:{value:(_vm.currentPolicy),callback:function ($$v) {_vm.currentPolicy=$$v},expression:"currentPolicy"}})],1):_c('div',{staticClass:"el-tree__empty-block"},[_c('span',{staticClass:"el-tree__empty-text"},[_vm._v(_vm._s(_vm.t('el.table.emptyText')))])])],1)}
var PolicyUservue_type_template_id_8a53b5e8_scoped_true_staticRenderFns = []


// CONCATENATED MODULE: ./packages/OrgSelector/src/PolicyUser.vue?vue&type=template&id=8a53b5e8&scoped=true

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/OrgSelector/src/PolicyUser.vue?vue&type=script&lang=js
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//


/* harmony default export */ var OrgSelector_src_PolicyUservue_type_script_lang_js = ({
  name: 'PolicyUser',
  mixins: [mixins_locale],
  props: {
    mode: {
      type: String
    }
  },
  data() {
    return {
      policies: [{
        id: '1',
        name: this.$t('ht.selector.MyDepartment')
      }, {
        id: '2',
        name: this.$t('ht.selector.MyDepartmentAndSub')
      }, {
        id: '3',
        name: this.$t('ht.selector.myAllDepartment')
      }, {
        id: '4',
        name: this.$t('ht.selector.myAllDepartmentAndSub')
      }],
      currentPolicy: '',
      currentUserOrgs: []
    };
  },
  watch: {
    mode: function (newVal, oldVal) {
      if (newVal !== oldVal && newVal == 'search') {
        this.currentPolicy = '';
      }
    },
    currentPolicy: function (newVal, oldVal) {
      if (newVal && newVal !== oldVal) {
        this.loadUserWithPolicy(newVal);
      }
    }
  },
  methods: {
    // 按照指定策略加载数据
    loadUserWithPolicy(policy) {
      this.loadCurrentUserOrgs().then(() => {
        const param = this.getOrgIdWithPolicy(policy);
        this.$emit('load-policy-org', param);
      }).catch(() => {
        this.$message.error(this.$t('ht.selector.notGetDepartmentData'));
        this.currentPolicy = '';
      });
    },
    // 根据策略构建不同的查询参数
    getOrgIdWithPolicy(policy) {
      let result = {
        type: policy
      };
      const masterOrg = this.currentUserOrgs.find(org => org.isMaster == 1);
      switch (policy) {
        case '1':
          result.id = masterOrg ? masterOrg.id : null;
          break;
        case '2':
          result.path = masterOrg ? masterOrg.path : null;
          break;
        case '3':
          result.ids = this.currentUserOrgs.map(org => org.id);
          break;
        case '4':
          result.paths = this.currentUserOrgs.map(org => org.path);
          break;
      }
      return result;
    },
    // 获取当前用户所属部门数据
    loadCurrentUserOrgs() {
      return new Promise((resolve, reject) => {
        if (this.currentUserOrgs && this.currentUserOrgs.length > 0) {
          resolve();
        } else if (this.$requestConfig.getUserId() && this.$requestConfig.getOrgListByUserId) {
          this.$requestConfig.getOrgListByUserId(this.$requestConfig.getUserId()).then(orgs => {
            if (orgs && orgs.constructor == Array && orgs.length > 0) {
              this.currentUserOrgs = orgs;
              resolve();
            } else {
              reject();
            }
          }).catch(() => reject());
        } else {
          reject();
        }
      });
    }
  }
});
// CONCATENATED MODULE: ./packages/OrgSelector/src/PolicyUser.vue?vue&type=script&lang=js
 /* harmony default export */ var packages_OrgSelector_src_PolicyUservue_type_script_lang_js = (OrgSelector_src_PolicyUservue_type_script_lang_js); 
// EXTERNAL MODULE: ./packages/OrgSelector/src/PolicyUser.vue?vue&type=style&index=0&id=8a53b5e8&prod&lang=scss&scoped=true
var PolicyUservue_type_style_index_0_id_8a53b5e8_prod_lang_scss_scoped_true = __webpack_require__("d0ab");

// CONCATENATED MODULE: ./packages/OrgSelector/src/PolicyUser.vue






/* normalize component */

var src_PolicyUser_component = normalizeComponent(
  packages_OrgSelector_src_PolicyUservue_type_script_lang_js,
  PolicyUservue_type_template_id_8a53b5e8_scoped_true_render,
  PolicyUservue_type_template_id_8a53b5e8_scoped_true_staticRenderFns,
  false,
  null,
  "8a53b5e8",
  null
  
)

/* harmony default export */ var src_PolicyUser = (src_PolicyUser_component.exports);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/OrgSelector/src/OrgSelectorDialog.vue?vue&type=script&lang=js
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//






/* harmony default export */ var OrgSelectorDialogvue_type_script_lang_js = ({
  name: 'UserSelectorDialog',
  components: {
    HtListSelector: packages_ListSelector,
    Organization: src_Organization,
    PolicyUser: src_PolicyUser
  },
  mixins: [mixins_locale],
  props: {
    searchPlaceholder: {
      type: String,
      default() {
        return Object(locale["c" /* t */])('ht.selector.orgDefaultPlaceholder');
      }
    },
    value: {
      type: Array,
      default: () => {
        return [];
      }
    },
    title: {
      type: String,
      default() {
        return Object(locale["c" /* t */])('ht.selector.orgTitle');
      }
    },
    appendToBody: {
      type: Boolean,
      default: false
    },
    data: {
      type: Array,
      default: () => {
        return [];
      }
    },
    pagination: {
      type: Object,
      default: () => {
        return {
          page: 1,
          pageSize: 50,
          total: 0
        };
      }
    },
    selectLabel: {
      type: String,
      default: 'name'
    },
    quickSearchProps: {
      type: String,
      required: true
    },
    single: {
      type: Boolean,
      default: false
    },
    primaryField: {
      type: String,
      default: ''
    },
    mode: {
      type: String
    }
  },
  data() {
    return {
      dialogVisible: false,
      activeRange: 'org',
      searchWord: null,
      loading: false
    };
  },
  computed: {
    selectors: {
      get: function () {
        return this.value;
      },
      set: function (val) {
        this.$emit('input', val);
      }
    }
  },
  watch: {
    activeRange: function (newVal, oldVal) {
      if (newVal !== oldVal) {
        this.$emit('filter-type-change', newVal);
      }
    }
  },
  methods: {
    search() {
      if (this.loading) {
        return;
      }
      this.$emit('search', this.searchWord);
    },
    reset() {
      this.$emit('reset');
      this.searchWord = null;
    },
    showDialog() {
      this.dialogVisible = true;
      setTimeout(() => {
        this.$refs.selector.onShow();
      }, 10);
    },
    handleClose(done) {
      this.$refs.selector.onHide();
      done && done();
    },
    handleDialogSure() {
      this.$emit('select-data', this.$refs.selector.getSelectedData());
      this.dialogVisible = false;
      this.$refs.selector.onHide(true);
    },
    handleDialogCancel() {
      this.dialogVisible = false;
      this.$refs.selector.onHide();
    }
  }
});
// CONCATENATED MODULE: ./packages/OrgSelector/src/OrgSelectorDialog.vue?vue&type=script&lang=js
 /* harmony default export */ var src_OrgSelectorDialogvue_type_script_lang_js = (OrgSelectorDialogvue_type_script_lang_js); 
// EXTERNAL MODULE: ./packages/OrgSelector/src/OrgSelectorDialog.vue?vue&type=style&index=0&id=85094ef4&prod&lang=scss&scoped=true
var OrgSelectorDialogvue_type_style_index_0_id_85094ef4_prod_lang_scss_scoped_true = __webpack_require__("fa5c");

// CONCATENATED MODULE: ./packages/OrgSelector/src/OrgSelectorDialog.vue






/* normalize component */

var OrgSelectorDialog_component = normalizeComponent(
  src_OrgSelectorDialogvue_type_script_lang_js,
  OrgSelectorDialogvue_type_template_id_85094ef4_scoped_true_render,
  OrgSelectorDialogvue_type_template_id_85094ef4_scoped_true_staticRenderFns,
  false,
  null,
  "85094ef4",
  null
  
)

/* harmony default export */ var OrgSelectorDialog = (OrgSelectorDialog_component.exports);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"8bdeefa2-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/OrgSelector/src/OrgSelectorMobileDialog.vue?vue&type=template&id=01f4cbdb&scoped=true
var OrgSelectorMobileDialogvue_type_template_id_01f4cbdb_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.dialogVisible)?_c('van-action-sheet',{staticClass:"org-mobile__selector",attrs:{"cancel-text":_vm.sureButtonText,"closeable":false,"get-container":"body"},on:{"cancel":_vm.handleDialogSure,"close":_vm.handleDialogClose,"click-overlay":_vm.handleDialogClose},scopedSlots:_vm._u([{key:"description",fn:function(){return [_c('span',{staticClass:"org-mobile__title"},[_vm._v(_vm._s(_vm.title))]),_c('ht-icon',{staticClass:"org-mobile__close",attrs:{"name":"close"},on:{"click":_vm.handleDialogClose}})]},proxy:true}],null,false,2462900794),model:{value:(_vm.dialogVisible),callback:function ($$v) {_vm.dialogVisible=$$v},expression:"dialogVisible"}},[_c('van-search',{attrs:{"placeholder":_vm.searchPlaceholder},on:{"search":_vm.onRefresh,"clear":_vm.reset},model:{value:(_vm.searchWord),callback:function ($$v) {_vm.searchWord=$$v},expression:"searchWord"}}),_c('van-pull-refresh',{on:{"refresh":_vm.onRefresh},model:{value:(_vm.isLoading),callback:function ($$v) {_vm.isLoading=$$v},expression:"isLoading"}},[_c('van-list',{staticClass:"org-data__list",attrs:{"finished":_vm.finished,"finished-text":_vm.$t('ht.common.noMore')},on:{"load":_vm.loadMore},model:{value:(_vm.isLoading),callback:function ($$v) {_vm.isLoading=$$v},expression:"isLoading"}},[_c('van-checkbox-group',{model:{value:(_vm.selectIds),callback:function ($$v) {_vm.selectIds=$$v},expression:"selectIds"}},_vm._l((_vm.data),function(item){return _c('van-cell',{key:item[_vm.primaryFieldProp],attrs:{"clickable":""},on:{"click":function($event){return _vm.rowClick(item, null, $event)}},scopedSlots:_vm._u([{key:"icon",fn:function(){return [_c('van-checkbox',{attrs:{"name":item[_vm.primaryFieldProp],"shape":_vm.single ? 'round' : 'square'}})]},proxy:true}],null,true)},[_c('div',{staticClass:"org-list__container"},[_c('ht-icon',{staticClass:"follow-theme-color",staticStyle:{"margin-left":"15px","width":"36px","height":"36px"},attrs:{"name":"org-tree2"}}),_c('div',{staticClass:"selector-item__detail"},[_c('div',{staticClass:"selector-detail__name"},[_c('label',[_vm._v(_vm._s(item[_vm.selectLabel]))]),_c('span',[_vm._v("("+_vm._s(item['code'])+")")])]),_c('div',{staticClass:"selector-detail__desc"},[_c('span',{attrs:{"title":item.pathName}},[_vm._v("\n                  "+_vm._s(item.pathName || _vm.$t('ht.selector.not'))+"\n                ")])])])],1)])}),1)],1)],1)],1):_vm._e()}
var OrgSelectorMobileDialogvue_type_template_id_01f4cbdb_scoped_true_staticRenderFns = []


// CONCATENATED MODULE: ./packages/OrgSelector/src/OrgSelectorMobileDialog.vue?vue&type=template&id=01f4cbdb&scoped=true

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/OrgSelector/src/OrgSelectorMobileDialog.vue?vue&type=script&lang=js
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//




/* harmony default export */ var OrgSelectorMobileDialogvue_type_script_lang_js = ({
  name: 'OrgSelectorMobileDialog',
  mixins: [mixins_locale],
  props: {
    searchPlaceholder: {
      type: String,
      default() {
        return Object(locale["c" /* t */])('ht.selector.orgDefaultPlaceholder');
      }
    },
    value: {
      type: Array,
      default: () => {
        return [];
      }
    },
    single: {
      type: Boolean,
      default: false
    },
    data: {
      type: Array,
      default: () => {
        return [];
      }
    },
    pagination: {
      type: Object,
      default: () => {
        return {
          page: 1,
          pageSize: 50,
          total: 0
        };
      }
    },
    selectLabel: {
      type: String,
      default: 'fullname'
    },
    appendToBody: {
      type: Boolean,
      default: false
    },
    title: {
      type: String,
      default() {
        return Object(locale["c" /* t */])('ht.selector.orgTitle');
      }
    },
    primaryField: {
      type: String,
      default: ''
    }
  },
  data() {
    return {
      dialogVisible: false,
      isLoading: false,
      finished: false,
      searchWord: null,
      selectIds: [],
      selectedData: []
    };
  },
  computed: {
    primaryColor() {
      return styles_default.a.primary_color;
    },
    sureButtonText() {
      const selectedText = this.selectIds.length > 0 ? `(${this.selectIds.length})` : '';
      return `${this.$t('ht.common.confirm')}${selectedText}`;
    },
    primaryFieldProp: function () {
      return this.primaryField ? this.primaryField : 'id';
    }
  },
  watch: {
    pagination: function (newVal, oldVal) {
      this.isLoading = false;
      if (newVal !== oldVal) {
        const {
          page,
          pageSize,
          total
        } = newVal;
        if (page > 0 && pageSize > 0 && total > 0) {
          this.finished = page * pageSize >= total;
        } else {
          this.finished = true;
        }
      }
    }
  },
  methods: {
    onRefresh() {
      this.isloading = true;
      this.$emit('search', this.searchWord);
    },
    reset() {
      this.$emit('reset');
    },
    loadMore() {
      if (this.data && this.data.length > 0) {
        this.$emit('page-change', ++this.pagination.page);
      } else {
        this.isLoading = false;
      }
    },
    showDialog() {
      if (this.value && this.value.length > 0) {
        this.selectIds = this.value.map(item => item[this.primaryFieldProp]);
        this.selectedData = this.value;
      }
      this.dialogVisible = true;
    },
    handleDialogSure() {
      this.$emit('input', this.selectedData);
      this.$emit('select-data', this.selectedData);
      this.selectIds = [];
      this.selectedData = [];
      this.dialogVisible = false;
    },
    handleDialogClose() {
      this.dialogVisible = false;
      this.selectIds = [];
      this.selectedData = [];
    },
    select(selection, row) {
      this.$emit('select', selection, row);
    },
    rowClick(row, column, event) {
      // 单选
      if (this.single) {
        this.selectIds = [row[this.primaryFieldProp]];
        this.selectedData = [row];
      } else {
        // 多选
        if (this.selectIds.some(m => m == row[this.primaryFieldProp])) {
          this.selectIds.remove(row[this.primaryFieldProp]);
          this.selectedData = this.selectedData.filter(item => item[this.primaryFieldProp] !== row[this.primaryFieldProp]);
        } else {
          this.selectIds.push(row[this.primaryFieldProp]);
          this.selectedData.push(row);
        }
      }
      this.$emit('row-click', row, column, event);
    }
  }
});
// CONCATENATED MODULE: ./packages/OrgSelector/src/OrgSelectorMobileDialog.vue?vue&type=script&lang=js
 /* harmony default export */ var src_OrgSelectorMobileDialogvue_type_script_lang_js = (OrgSelectorMobileDialogvue_type_script_lang_js); 
// EXTERNAL MODULE: ./packages/OrgSelector/src/OrgSelectorMobileDialog.vue?vue&type=style&index=0&id=01f4cbdb&prod&lang=scss&scoped=true
var OrgSelectorMobileDialogvue_type_style_index_0_id_01f4cbdb_prod_lang_scss_scoped_true = __webpack_require__("9232");

// CONCATENATED MODULE: ./packages/OrgSelector/src/OrgSelectorMobileDialog.vue






/* normalize component */

var OrgSelectorMobileDialog_component = normalizeComponent(
  src_OrgSelectorMobileDialogvue_type_script_lang_js,
  OrgSelectorMobileDialogvue_type_template_id_01f4cbdb_scoped_true_render,
  OrgSelectorMobileDialogvue_type_template_id_01f4cbdb_scoped_true_staticRenderFns,
  false,
  null,
  "01f4cbdb",
  null
  
)

/* harmony default export */ var OrgSelectorMobileDialog = (OrgSelectorMobileDialog_component.exports);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/OrgSelector/src/main.vue?vue&type=script&lang=js
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//










/* harmony default export */ var OrgSelector_src_mainvue_type_script_lang_js = ({
  name: 'HtOrgSelector',
  components: {
    HtFieldTail: FieldTail,
    OrgSelectorDialog: OrgSelectorDialog,
    OrgSelectorMobileDialog: OrgSelectorMobileDialog
  },
  mixins: [inputName["a" /* default */], mixins_permission["a" /* default */], mobileMode["a" /* default */]],
  props: {
    showPath: {
      type: Boolean,
      default: false
    },
    searchPlaceholder: {
      type: String,
      default() {
        return Object(locale["c" /* t */])('ht.selector.orgDefaultPlaceholder');
      }
    },
    value: String,
    single: {
      type: Boolean,
      default: false
    },
    config: Object,
    data: {
      type: Array,
      default: () => {
        return [];
      }
    },
    pagination: {
      type: Object,
      default: () => {
        return {
          page: 1,
          pageSize: 50,
          total: 0
        };
      }
    },
    selectLabel: {
      type: String,
      default: 'name'
    },
    quickSearchProps: {
      type: String,
      required: true
    },
    appendToBody: {
      type: Boolean,
      default: false
    },
    formInputsDisplay: {
      type: String,
      default: 'inline'
    },
    title: {
      type: String,
      default() {
        return Object(locale["c" /* t */])('ht.selector.orgTitle');
      }
    },
    mode: {
      type: String
    }
  },
  data() {
    return {
      inputSuffixHeight: 30,
      selectors: []
    };
  },
  computed: {
    primaryField: function () {
      return this.config && this.config.hasOwnProperty('id') ? 'id' : this.config && this.config.hasOwnProperty('code') ? 'code' : this.selectLabel;
    }
  },
  watch: {
    // 当所选择的数据发生变化时，同步到v-model中
    selectors: function (newVal) {
      let ary = [],
        idAry = [],
        codeAry = [],
        nameAry = [],
        pathNameAry = [];
      if (newVal && newVal.constructor === Array && newVal.length > 0) {
        newVal.forEach(m => {
          ary.push(this.showPath ? m.pathName : m.name);
          if (m.hasOwnProperty('id')) {
            idAry.push(m.id);
          }
          if (m.hasOwnProperty('code')) {
            codeAry.push(m.code);
          }
          if (m.hasOwnProperty('name')) {
            nameAry.push(m.name);
          }
          if (m.hasOwnProperty('pathName')) {
            pathNameAry.push(m.pathName);
          }
        });
      }
      if (this.config) {
        // 配置了id的绑定关系，则回填到指定属性上
        if (this.config.hasOwnProperty('id')) {
          utils["a" /* default */].setValueByConfigKey(this, this.config, 'id', idAry.join(','));
        }
        // 配置了code的绑定关系，则回填到指定的属性上
        if (this.config.hasOwnProperty('code')) {
          utils["a" /* default */].setValueByConfigKey(this, this.config, 'code', codeAry.join(','));
        }
        // 配置了name的绑定关系，则回填到指定的属性上
        if (this.config.hasOwnProperty('name')) {
          utils["a" /* default */].setValueByConfigKey(this, this.config, 'name', nameAry.join(','));
        }
        // 配置了pathName的绑定关系，则回填到指定的属性上
        if (this.config.hasOwnProperty('pathName')) {
          utils["a" /* default */].setValueByConfigKey(this, this.config, 'pathName', pathNameAry.join(','));
        }
      } else {
        this.$emit('change', newVal);
      }
      // 通过valueChange事件发布值变更消息
      this.$emit('valueChange', ary.join(','), newVal);
      Object(timers_browserify_main["setTimeout"])(() => {
        if (newVal.length > 0) {
          this.calacInputSuffixHeight();
        } else {
          this.inputSuffixHeight = 30;
        }
        if (this.$refs.inputEl) {
          this.$refs.inputEl.focus();
          this.$refs.inputEl.blur();
        }
      }, 10);
    },
    value: function () {
      // 父级传递进来的value发生变更时，需要同步到当前所选数据中
      this.valueInit();
    }
  },
  mounted() {
    // 组件第一次挂载时，同步value到当前所选数据中
    this.valueInit();
  },
  methods: {
    // 同步value到当前所选数据中
    valueInit() {
      let tmpAry = [];
      if (this.value) {
        let idAry = [],
          codeAry = [],
          nameAry = [],
          pathNameAry = [];
        if (this.config) {
          // 配置了id绑定关系，则获取id的值
          if (this.config.hasOwnProperty('id')) {
            let idVal = utils["a" /* default */].getValueByConfigKey(this, this.config, 'id');
            if (idVal) {
              idAry = idVal.split(',').trim();
            }
          }
          // 配置了name绑定关系，则获取name的值
          if (this.config.hasOwnProperty('name')) {
            let nameVal = utils["a" /* default */].getValueByConfigKey(this, this.config, 'name');
            if (nameVal) {
              nameAry = nameVal.split(',').trim();
            }
          }

          // 配置了code绑定关系，则获取code的值
          if (this.config.hasOwnProperty('code')) {
            let codeVal = utils["a" /* default */].getValueByConfigKey(this, this.config, 'code');
            if (codeVal) {
              codeAry = codeVal.split(',').trim();
            }
          }
          // 配置了pathName绑定关系，则获取code的值
          if (this.config.hasOwnProperty('pathName')) {
            let pathNameVal = utils["a" /* default */].getValueByConfigKey(this, this.config, 'pathName');
            if (pathNameVal) {
              pathNameAry = pathNameVal.split(',').trim();
            }
          }
        }
        // 将name、id、code,pathName从逗号分割的字符串解析为json对象格式的数组
        let valAry = this.value.split(',').trim();
        valAry.forEach((m, index) => {
          let item = this.showPath ? {
            pathName: m
          } : {
            name: m
          };
          if (idAry.length > index) {
            item['id'] = idAry[index];
          }
          if (nameAry.length > index) {
            item['name'] = nameAry[index];
          }
          if (codeAry.length > index) {
            item['code'] = codeAry[index];
          }
          if (pathNameAry.length > index) {
            item['pathName'] = pathNameAry[index];
          }
          tmpAry.push(item);
        });
      }
      // 对数组做深度对比，如果值不完全相等，则进行赋值操作
      if (!utils["a" /* default */].arrayEquals(tmpAry, this.selectors)) {
        this.selectors = tmpAry;
      }
    },
    showDialog() {
      if (!this.inputWriteable) {
        return;
      }
      if (this.isMobile) {
        this.$refs.orgSelectorMobileDialog.showDialog();
      } else {
        this.$refs.orgSelectorDialog.showDialog();
      }
    },
    handleRemove(item) {
      this.selectors.remove(item);
    },
    clear() {
      this.selectors = [];
      this.inputSuffixHeight = 30;
    },
    // 更新当前输入框的高度来适配已选数据的高度
    calacInputSuffixHeight() {
      if (!this.$refs.tagSpans) return;
      if (this.$refs.tagSpans.offsetHeight) {
        this.inputSuffixHeight = this.$refs.tagSpans.offsetHeight + 5;
      } else {
        this.inputSuffixHeight = 30;
      }
    }
  }
});
// CONCATENATED MODULE: ./packages/OrgSelector/src/main.vue?vue&type=script&lang=js
 /* harmony default export */ var packages_OrgSelector_src_mainvue_type_script_lang_js = (OrgSelector_src_mainvue_type_script_lang_js); 
// EXTERNAL MODULE: ./packages/OrgSelector/src/main.vue?vue&type=style&index=0&id=27f4d8e1&prod&lang=scss&scoped=true
var mainvue_type_style_index_0_id_27f4d8e1_prod_lang_scss_scoped_true = __webpack_require__("83ee");

// CONCATENATED MODULE: ./packages/OrgSelector/src/main.vue






/* normalize component */

var OrgSelector_src_main_component = normalizeComponent(
  packages_OrgSelector_src_mainvue_type_script_lang_js,
  mainvue_type_template_id_27f4d8e1_scoped_true_render,
  mainvue_type_template_id_27f4d8e1_scoped_true_staticRenderFns,
  false,
  null,
  "27f4d8e1",
  null
  
)

/* harmony default export */ var OrgSelector_src_main = (OrgSelector_src_main_component.exports);
// CONCATENATED MODULE: ./packages/OrgSelector/index.js

OrgSelector_src_main.install = function (Vue) {
  Vue.component(OrgSelector_src_main.name, OrgSelector_src_main);
};
/* harmony default export */ var OrgSelector = (OrgSelector_src_main);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"8bdeefa2-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/JobSelector/src/main.vue?vue&type=template&id=56aac0ee&scoped=true
var mainvue_type_template_id_56aac0ee_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.permission !== 'n')?_c('div',{class:[
    'inputs',
    _vm.formInputsDisplay == 'block'
      ? 'ht-form-inputs__block'
      : 'ht-form-inputs__inline' ]},[_c('div',{staticClass:"el-select",class:{ 'has-value': _vm.value },staticStyle:{"width":"100%","min-width":"180px"},on:{"click":_vm.showDialog}},[_c('div',{ref:"tagSpans",class:{
        'el-select__tags_readonly': !_vm.inputWriteable,
        'el-select__tags': _vm.inputWriteable,
      },staticStyle:{"width":"calc(100% - 25px)"}},[_c('span',{staticClass:"tag-wrap"},_vm._l((_vm.selectors),function(item,index){return _c('span',{key:index,staticClass:"el-tag el-tag--info el-tag--small",on:{"click":function($event){$event.stopPropagation();}}},[_c('span',{staticClass:"el-select__tags-text"},[_vm._v(_vm._s(item.name))]),(_vm.inputWriteable)?_c('i',{staticClass:"el-tag__close el-icon-close",on:{"click":function($event){return _vm.handleRemove(item)}}}):_vm._e()])}),0)]),(_vm.inputWriteable)?_c('div',{staticClass:"el-input el-input--suffix"},[_c('input',{directives:[{name:"model",rawName:"v-model",value:(_vm.value),expression:"value"},{name:"validate",rawName:"v-validate",value:(_vm.inputValidate),expression:"inputValidate"}],ref:"inputEl",staticClass:"el-input__inner",style:({
          height: _vm.inputSuffixHeight + 'px',
          lineHeight: _vm.inputSuffixHeight + 'px',
        }),attrs:{"type":"text","readonly":"readonly","name":_vm.inputName,"autocomplete":"off","placeholder":_vm.placeholder},domProps:{"value":(_vm.value)},on:{"input":function($event){if($event.target.composing){ return; }_vm.value=$event.target.value}}}),_c('span',{staticClass:"el-input__suffix"},[_c('span',{staticClass:"el-input__suffix-inner"},[_c('i',{staticClass:"el-icon-circle-close clear-icon",on:{"click":function($event){$event.stopPropagation();return _vm.clear($event)}}}),_c('ht-icon',{staticClass:"user-icon",attrs:{"name":"users"}})],1)])]):_vm._e()]),_c('ht-field-tail',{attrs:{"field-name":_vm.inputName,"input-value":_vm.value}}),(_vm.isMobile)?_c('job-selector-mobile-dialog',{ref:"jobSelectorMobileDialog",attrs:{"search-placeholder":_vm.searchPlaceholder,"single":_vm.single,"data":_vm.data,"pagination":_vm.pagination,"select-label":_vm.selectLabel,"quick-search-props":_vm.quickSearchProps,"append-to-body":_vm.appendToBody,"title":_vm.title,"primary-field":_vm.primaryField},on:{"search":function (word) { return _vm.$emit('search', word); },"reset":function () { return _vm.$emit('reset'); },"row-click":function (row) { return _vm.$emit('row-click', row); },"select-data":function (data) { return _vm.$emit('select-data', data); },"page-change":function (page) { return _vm.$emit('page-change', page); }},model:{value:(_vm.selectors),callback:function ($$v) {_vm.selectors=$$v},expression:"selectors"}}):_c('job-selector-dialog',{ref:"jobSelectorDialog",attrs:{"search-placeholder":_vm.searchPlaceholder,"single":_vm.single,"data":_vm.data,"table-columns":_vm.tableColumns,"pagination":_vm.pagination,"select-label":_vm.selectLabel,"quick-search-props":_vm.quickSearchProps,"append-to-body":_vm.appendToBody,"title":_vm.title,"primary-field":_vm.primaryField,"mode":_vm.mode},on:{"search":function (word) { return _vm.$emit('search', word); },"reset":function () { return _vm.$emit('reset'); },"row-click":function (row) { return _vm.$emit('row-click', row); },"select-data":function (data) { return _vm.$emit('select-data', data); },"page-change":function (page) { return _vm.$emit('page-change', page); },"size-change":function (size) { return _vm.$emit('size-change', size); }},model:{value:(_vm.selectors),callback:function ($$v) {_vm.selectors=$$v},expression:"selectors"}})],1):_vm._e()}
var mainvue_type_template_id_56aac0ee_scoped_true_staticRenderFns = []


// CONCATENATED MODULE: ./packages/JobSelector/src/main.vue?vue&type=template&id=56aac0ee&scoped=true

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"8bdeefa2-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/JobSelector/src/JobSelectorDialog.vue?vue&type=template&id=68d2dfdc&scoped=true
var JobSelectorDialogvue_type_template_id_68d2dfdc_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{staticClass:"jobdialog-selector__wrapper",attrs:{"title":_vm.title,"width":"900px","visible":_vm.dialogVisible,"before-close":_vm.handleClose,"close-on-click-modal":false,"append-to-body":_vm.appendToBody},on:{"update:visible":function($event){_vm.dialogVisible=$event}}},[_c('div',{staticClass:"dialog-selector__body"},[_c('el-input',{attrs:{"size":"small","clearable":"","placeholder":_vm.searchPlaceholder},on:{"clear":_vm.reset},nativeOn:{"keyup":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,"enter",13,$event.key,"Enter")){ return null; }return _vm.search($event)}},model:{value:(_vm.searchWord),callback:function ($$v) {_vm.searchWord=$$v},expression:"searchWord"}},[_c('i',{staticClass:"el-input__icon el-icon-search",attrs:{"slot":"prefix","title":_vm.t('ht.common.search')},on:{"click":_vm.search},slot:"prefix"})]),_c('ht-list-selector',{ref:"selector",staticClass:"post-selector",attrs:{"title":_vm.$t('ht.selector.jobList'),"data":_vm.data,"pagination":_vm.pagination,"select-label":_vm.selectLabel,"quick-search-props":_vm.quickSearchProps,"single":_vm.single,"search-placeholder":_vm.searchPlaceholder,"primary-field":_vm.primaryField,"mode":_vm.mode},on:{"reset":_vm.reset,"row-click":function (row) { return _vm.$emit('row-click', row); },"page-change":function (page) { return _vm.$emit('page-change', page); },"size-change":function (size) { return _vm.$emit('size-change', size); }},scopedSlots:_vm._u([{key:"detail",fn:function(ref){
var item = ref.item;
return [_c('ht-icon',{staticClass:"follow-theme-color",staticStyle:{"margin-left":"15px","width":"36px","height":"36px"},attrs:{"name":"job"}}),_c('div',{staticClass:"selector-item__detail"},[_c('div',{staticClass:"selector-detail__name"},[_c('label',[_vm._v(_vm._s(item[_vm.selectLabel]))]),_c('span',[_vm._v("("+_vm._s(item['code'])+")")])])])]}},{key:"selected",fn:function(ref){
var select = ref.select;
return [_c('ht-icon',{staticClass:"follow-theme-color",staticStyle:{"margin-left":"15px","width":"36px","height":"36px"},attrs:{"name":"job"}}),_c('p',{staticClass:"selector-selected__label",attrs:{"title":("" + (select[_vm.selectLabel]) + (select['code'] ? ("(" + (select['code']) + ")") : ''))}},[_vm._v("\n          "+_vm._s(("" + (select[_vm.selectLabel]) + (select['code'] ? ("(" + (select['code']) + ")") : '')))+"\n        ")])]}}]),model:{value:(_vm.selectors),callback:function ($$v) {_vm.selectors=$$v},expression:"selectors"}})],1),_c('div',{staticClass:"dialog-footer",attrs:{"slot":"footer"},slot:"footer"},[_c('el-button',{attrs:{"type":"primary","size":"small"},on:{"click":_vm.handleDialogSure}},[_vm._v("\n      "+_vm._s(_vm.$t('ht.common.confirm'))+"\n    ")]),_c('el-button',{attrs:{"size":"small"},on:{"click":_vm.handleDialogCancel}},[_vm._v("\n      "+_vm._s(_vm.$t('ht.common.cancle'))+"\n    ")])],1)])}
var JobSelectorDialogvue_type_template_id_68d2dfdc_scoped_true_staticRenderFns = []


// CONCATENATED MODULE: ./packages/JobSelector/src/JobSelectorDialog.vue?vue&type=template&id=68d2dfdc&scoped=true

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/JobSelector/src/JobSelectorDialog.vue?vue&type=script&lang=js
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//




/* harmony default export */ var JobSelectorDialogvue_type_script_lang_js = ({
  name: 'JobSelectorDialog',
  components: {
    HtListSelector: packages_ListSelector
  },
  mixins: [mixins_locale],
  props: {
    searchPlaceholder: {
      type: String,
      default() {
        return Object(locale["c" /* t */])('ht.selector.nameCode');
      }
    },
    value: {
      type: Array,
      default: () => {
        return [];
      }
    },
    single: {
      type: Boolean,
      default: false
    },
    data: {
      type: Array,
      default: () => {
        return [];
      }
    },
    tableColumns: {
      type: Array,
      default: () => {
        return [];
      }
    },
    pagination: {
      type: Object,
      default: () => {
        return {
          page: 1,
          pageSize: 50,
          total: 0
        };
      }
    },
    selectLabel: {
      type: String,
      default: 'name'
    },
    quickSearchProps: {
      type: String,
      required: true
    },
    appendToBody: {
      type: Boolean,
      default: false
    },
    title: {
      type: String,
      default() {
        return Object(locale["c" /* t */])('ht.selector.jobTitle');
      }
    },
    primaryField: {
      type: String,
      default: ''
    },
    mode: {
      type: String
    }
  },
  data() {
    return {
      dialogVisible: false,
      searchWord: null,
      loading: false
    };
  },
  computed: {
    selectors: {
      get: function () {
        return this.value;
      },
      set: function (val) {
        this.$emit('input', val);
      }
    }
  },
  methods: {
    search() {
      if (this.loading) {
        return;
      }
      this.$emit('search', this.searchWord);
    },
    reset() {
      this.$emit('reset');
      this.searchWord = null;
    },
    showDialog() {
      this.dialogVisible = true;
      setTimeout(() => {
        this.$refs.selector.onShow();
      });
    },
    handleClose(done) {
      this.$refs.selector.onHide();
      done && done();
    },
    handleDialogSure() {
      this.$emit('select-data', this.$refs.selector.getSelectedData());
      this.dialogVisible = false;
      this.$refs.selector.onHide(true);
    },
    handleDialogCancel() {
      this.dialogVisible = false;
      this.$refs.selector.onHide();
    }
  }
});
// CONCATENATED MODULE: ./packages/JobSelector/src/JobSelectorDialog.vue?vue&type=script&lang=js
 /* harmony default export */ var src_JobSelectorDialogvue_type_script_lang_js = (JobSelectorDialogvue_type_script_lang_js); 
// EXTERNAL MODULE: ./packages/JobSelector/src/JobSelectorDialog.vue?vue&type=style&index=0&id=68d2dfdc&prod&lang=scss&scoped=true
var JobSelectorDialogvue_type_style_index_0_id_68d2dfdc_prod_lang_scss_scoped_true = __webpack_require__("565f");

// CONCATENATED MODULE: ./packages/JobSelector/src/JobSelectorDialog.vue






/* normalize component */

var JobSelectorDialog_component = normalizeComponent(
  src_JobSelectorDialogvue_type_script_lang_js,
  JobSelectorDialogvue_type_template_id_68d2dfdc_scoped_true_render,
  JobSelectorDialogvue_type_template_id_68d2dfdc_scoped_true_staticRenderFns,
  false,
  null,
  "68d2dfdc",
  null
  
)

/* harmony default export */ var JobSelectorDialog = (JobSelectorDialog_component.exports);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"8bdeefa2-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/JobSelector/src/JobSelectorMobileDialog.vue?vue&type=template&id=6362ca66&scoped=true
var JobSelectorMobileDialogvue_type_template_id_6362ca66_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.dialogVisible)?_c('van-action-sheet',{staticClass:"job-mobile__selector",attrs:{"cancel-text":_vm.sureButtonText,"closeable":false,"get-container":"body"},on:{"cancel":_vm.handleDialogSure,"close":_vm.handleDialogClose,"click-overlay":_vm.handleDialogClose},scopedSlots:_vm._u([{key:"description",fn:function(){return [_c('span',{staticClass:"job-mobile__title"},[_vm._v(_vm._s(_vm.title))]),_c('ht-icon',{staticClass:"job-mobile__close",attrs:{"name":"close"},on:{"click":_vm.handleDialogClose}})]},proxy:true}],null,false,3177687802),model:{value:(_vm.dialogVisible),callback:function ($$v) {_vm.dialogVisible=$$v},expression:"dialogVisible"}},[_c('van-search',{attrs:{"placeholder":_vm.searchPlaceholder},on:{"search":_vm.onRefresh,"clear":_vm.reset},model:{value:(_vm.searchWord),callback:function ($$v) {_vm.searchWord=$$v},expression:"searchWord"}}),_c('van-pull-refresh',{on:{"refresh":_vm.onRefresh},model:{value:(_vm.isLoading),callback:function ($$v) {_vm.isLoading=$$v},expression:"isLoading"}},[_c('van-list',{staticClass:"job-data__list",attrs:{"finished":_vm.finished,"finished-text":_vm.t('ht.common.noMore')},on:{"load":_vm.loadMore},model:{value:(_vm.isLoading),callback:function ($$v) {_vm.isLoading=$$v},expression:"isLoading"}},[_c('van-checkbox-group',{model:{value:(_vm.selectIds),callback:function ($$v) {_vm.selectIds=$$v},expression:"selectIds"}},_vm._l((_vm.data),function(item){return _c('van-cell',{key:item[_vm.primaryFieldProp],attrs:{"clickable":""},on:{"click":function($event){return _vm.rowClick(item, null, $event)}},scopedSlots:_vm._u([{key:"icon",fn:function(){return [_c('van-checkbox',{attrs:{"name":item[_vm.primaryFieldProp],"shape":_vm.single ? 'round' : 'square'}})]},proxy:true}],null,true)},[_c('div',{staticClass:"job-list__container"},[_c('ht-icon',{staticClass:"follow-theme-color",staticStyle:{"margin-left":"15px","width":"36px","height":"36px"},attrs:{"name":"job"}}),_c('div',{staticClass:"selector-item__detail"},[_c('div',{staticClass:"selector-detail__name"},[_c('label',[_vm._v(_vm._s(item[_vm.selectLabel]))]),_c('span',[_vm._v("("+_vm._s(item['code'])+")")])])])],1)])}),1)],1)],1)],1):_vm._e()}
var JobSelectorMobileDialogvue_type_template_id_6362ca66_scoped_true_staticRenderFns = []


// CONCATENATED MODULE: ./packages/JobSelector/src/JobSelectorMobileDialog.vue?vue&type=template&id=6362ca66&scoped=true

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/JobSelector/src/JobSelectorMobileDialog.vue?vue&type=script&lang=js
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//




/* harmony default export */ var JobSelectorMobileDialogvue_type_script_lang_js = ({
  name: 'JobSelectorMobileDialog',
  mixins: [mixins_locale],
  props: {
    searchPlaceholder: {
      type: String,
      default() {
        return Object(locale["c" /* t */])('ht.selector.nameCode');
      }
    },
    value: {
      type: Array,
      default: () => {
        return [];
      }
    },
    single: {
      type: Boolean,
      default: false
    },
    data: {
      type: Array,
      default: () => {
        return [];
      }
    },
    pagination: {
      type: Object,
      default: () => {
        return {
          page: 1,
          pageSize: 50,
          total: 0
        };
      }
    },
    selectLabel: {
      type: String,
      default: 'name'
    },
    appendToBody: {
      type: Boolean,
      default: false
    },
    title: {
      type: String,
      default() {
        return Object(locale["c" /* t */])('ht.selector.roleTitle');
      }
    },
    primaryField: {
      type: String,
      default: ''
    }
  },
  data() {
    return {
      dialogVisible: false,
      isLoading: false,
      finished: false,
      searchWord: null,
      selectIds: [],
      selectedData: []
    };
  },
  computed: {
    primaryColor() {
      return styles_default.a.primary_color;
    },
    sureButtonText() {
      const selectedText = this.selectIds.length > 0 ? `(${this.selectIds.length})` : '';
      return `${this.$t('ht.common.confirm')}${selectedText}`;
    },
    primaryFieldProp: function () {
      return this.primaryField ? this.primaryField : 'id';
    }
  },
  watch: {
    pagination: function (newVal, oldVal) {
      this.isLoading = false;
      if (newVal !== oldVal) {
        const {
          page,
          pageSize,
          total
        } = newVal;
        if (page > 0 && pageSize > 0 && total > 0) {
          this.finished = page * pageSize >= total;
        } else {
          this.finished = true;
        }
      }
    }
  },
  methods: {
    onRefresh() {
      this.isloading = true;
      this.$emit('search', this.searchWord);
    },
    reset() {
      this.$emit('reset');
    },
    loadMore() {
      if (this.data && this.data.length > 0) {
        this.$emit('page-change', ++this.pagination.page);
      } else {
        this.isLoading = false;
      }
    },
    showDialog() {
      if (this.value && this.value.length > 0) {
        this.selectIds = this.value.map(item => item[this.primaryFieldProp]);
        this.selectedData = this.value;
      }
      this.dialogVisible = true;
    },
    handleDialogSure() {
      this.$emit('input', this.selectedData);
      this.$emit('select-data', this.selectedData);
      this.selectIds = [];
      this.selectedData = [];
      this.dialogVisible = false;
    },
    handleDialogClose() {
      this.dialogVisible = false;
      this.selectIds = [];
      this.selectedData = [];
    },
    select(selection, row) {
      this.$emit('select', selection, row);
    },
    rowClick(row, column, event) {
      // 单选
      if (this.single) {
        this.selectIds = [row[this.primaryFieldProp]];
        this.selectedData = [row];
      } else {
        // 多选
        if (this.selectIds.some(m => m == row[this.primaryFieldProp])) {
          this.selectIds.remove(row[this.primaryFieldProp]);
          this.selectedData = this.selectedData.filter(item => item[this.primaryFieldProp] !== row[this.primaryFieldProp]);
        } else {
          this.selectIds.push(row[this.primaryFieldProp]);
          this.selectedData.push(row);
        }
      }
      this.$emit('row-click', row, column, event);
    }
  }
});
// CONCATENATED MODULE: ./packages/JobSelector/src/JobSelectorMobileDialog.vue?vue&type=script&lang=js
 /* harmony default export */ var src_JobSelectorMobileDialogvue_type_script_lang_js = (JobSelectorMobileDialogvue_type_script_lang_js); 
// EXTERNAL MODULE: ./packages/JobSelector/src/JobSelectorMobileDialog.vue?vue&type=style&index=0&id=6362ca66&prod&lang=scss&scoped=true
var JobSelectorMobileDialogvue_type_style_index_0_id_6362ca66_prod_lang_scss_scoped_true = __webpack_require__("863b");

// CONCATENATED MODULE: ./packages/JobSelector/src/JobSelectorMobileDialog.vue






/* normalize component */

var JobSelectorMobileDialog_component = normalizeComponent(
  src_JobSelectorMobileDialogvue_type_script_lang_js,
  JobSelectorMobileDialogvue_type_template_id_6362ca66_scoped_true_render,
  JobSelectorMobileDialogvue_type_template_id_6362ca66_scoped_true_staticRenderFns,
  false,
  null,
  "6362ca66",
  null
  
)

/* harmony default export */ var JobSelectorMobileDialog = (JobSelectorMobileDialog_component.exports);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/JobSelector/src/main.vue?vue&type=script&lang=js
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//










/* harmony default export */ var JobSelector_src_mainvue_type_script_lang_js = ({
  name: 'HtJobSelector',
  components: {
    HtFieldTail: FieldTail,
    JobSelectorDialog: JobSelectorDialog,
    JobSelectorMobileDialog: JobSelectorMobileDialog
  },
  mixins: [inputName["a" /* default */], mixins_permission["a" /* default */], mobileMode["a" /* default */]],
  props: {
    searchPlaceholder: {
      type: String,
      default() {
        return Object(locale["c" /* t */])('ht.selector.nameCode');
      }
    },
    value: String,
    selectLabel: String,
    single: {
      type: Boolean,
      default: false
    },
    config: Object,
    data: {
      type: Array,
      default: () => {
        return [];
      }
    },
    tableColumns: {
      type: Array,
      default: () => {
        return [];
      }
    },
    pagination: {
      type: Object,
      default: () => {
        return {
          page: 1,
          pageSize: 50,
          total: 0
        };
      }
    },
    quickSearchProps: {
      type: String,
      required: true
    },
    appendToBody: {
      type: Boolean,
      default: false
    },
    formInputsDisplay: {
      type: String,
      default: 'inline'
    },
    title: {
      type: String,
      default() {
        return Object(locale["c" /* t */])('ht.selector.jobTitle');
      }
    },
    mode: {
      type: String
    }
  },
  data() {
    return {
      inputSuffixHeight: 30,
      selectors: []
    };
  },
  computed: {
    primaryField: function () {
      return this.config && this.config.hasOwnProperty('id') ? 'id' : this.config && this.config.hasOwnProperty('code') ? 'code' : this.selectLabel;
    }
  },
  watch: {
    // 当所选择的数据发生变化时，同步到v-model中
    selectors: function (newVal) {
      let ary = [],
        idAry = [],
        codeAry = [];
      if (newVal && newVal.constructor === Array && newVal.length > 0) {
        newVal.forEach(m => {
          ary.push(m.name);
          if (m.hasOwnProperty('id')) {
            idAry.push(m.id);
          }
          if (m.hasOwnProperty('code')) {
            codeAry.push(m.code);
          }
        });
      }
      if (this.config) {
        // 配置了id的绑定关系，则回填到指定属性上
        if (this.config.hasOwnProperty('id')) {
          utils["a" /* default */].setValueByConfigKey(this, this.config, 'id', idAry.join(','));
        }
        // 配置了name的绑定关系，则回填到指定属性上
        if (this.config.hasOwnProperty('name')) {
          utils["a" /* default */].setValueByConfigKey(this, this.config, 'name', ary.join(','));
        }
        // 配置了code的绑定关系，则回填到指定的属性上
        if (this.config.hasOwnProperty('code')) {
          utils["a" /* default */].setValueByConfigKey(this, this.config, 'code', codeAry.join(','));
        }
      } else {
        this.$emit('change', newVal);
      }
      // 通过valueChange事件发布值变更消息
      this.$emit('valueChange', ary.join(','), newVal);
      Object(timers_browserify_main["setTimeout"])(() => {
        if (newVal.length > 0) {
          this.calacInputSuffixHeight();
        } else {
          this.inputSuffixHeight = 30;
        }
        if (this.$refs.inputEl) {
          this.$refs.inputEl.focus();
          this.$refs.inputEl.blur();
        }
      }, 10);
    },
    value: function () {
      // 父级传递进来的value发生变更时，需要同步到当前所选数据中
      this.valueInit();
    }
  },
  mounted() {
    // 组件第一次挂载时，同步value到当前所选数据中
    this.valueInit();
  },
  methods: {
    // 同步value到当前所选数据中
    valueInit() {
      let tmpAry = [];
      if (this.value) {
        let idAry = [],
          codeAry = [];
        if (this.config) {
          // 配置了id绑定关系，则获取id的值
          if (this.config.hasOwnProperty('id')) {
            let idVal = utils["a" /* default */].getValueByConfigKey(this, this.config, 'id');
            if (idVal) {
              idAry = idVal.split(',').trim();
            }
          }
          // 配置了code绑定关系，则获取code的值
          if (this.config.hasOwnProperty('code')) {
            let codeVal = utils["a" /* default */].getValueByConfigKey(this, this.config, 'code');
            if (codeVal) {
              codeAry = codeVal.split(',').trim();
            }
          }
        }
        // 将name、id、code从逗号分割的字符串解析为json对象格式的数组
        let valAry = this.value.split(',').trim();
        valAry.forEach((m, index) => {
          let item = {
            name: m
          };
          if (idAry.length > index) {
            item['id'] = idAry[index];
          }
          if (codeAry.length > index) {
            item['code'] = codeAry[index];
          }
          tmpAry.push(item);
        });
      }
      // 对数组做深度对比，如果值不完全相等，则进行赋值操作
      if (!utils["a" /* default */].arrayEquals(tmpAry, this.selectors)) {
        this.selectors = tmpAry;
      }
    },
    showDialog() {
      if (!this.inputWriteable) {
        return;
      }
      if (this.isMobile) {
        this.$refs.jobSelectorMobileDialog.showDialog();
      } else {
        this.$refs.jobSelectorDialog.showDialog();
      }
    },
    handleRemove(item) {
      this.selectors.remove(item);
    },
    clear() {
      this.selectors = [];
      this.inputSuffixHeight = 30;
    },
    // 更新当前输入框的高度来适配已选数据的高度
    calacInputSuffixHeight() {
      if (!this.$refs.tagSpans) return;
      if (this.$refs.tagSpans.offsetHeight) {
        this.inputSuffixHeight = this.$refs.tagSpans.offsetHeight + 5;
      } else {
        this.inputSuffixHeight = 30;
      }
    }
  }
});
// CONCATENATED MODULE: ./packages/JobSelector/src/main.vue?vue&type=script&lang=js
 /* harmony default export */ var packages_JobSelector_src_mainvue_type_script_lang_js = (JobSelector_src_mainvue_type_script_lang_js); 
// EXTERNAL MODULE: ./packages/JobSelector/src/main.vue?vue&type=style&index=0&id=56aac0ee&prod&lang=scss&scoped=true
var mainvue_type_style_index_0_id_56aac0ee_prod_lang_scss_scoped_true = __webpack_require__("c4f7");

// CONCATENATED MODULE: ./packages/JobSelector/src/main.vue






/* normalize component */

var JobSelector_src_main_component = normalizeComponent(
  packages_JobSelector_src_mainvue_type_script_lang_js,
  mainvue_type_template_id_56aac0ee_scoped_true_render,
  mainvue_type_template_id_56aac0ee_scoped_true_staticRenderFns,
  false,
  null,
  "56aac0ee",
  null
  
)

/* harmony default export */ var JobSelector_src_main = (JobSelector_src_main_component.exports);
// CONCATENATED MODULE: ./packages/JobSelector/index.js

JobSelector_src_main.install = function (Vue) {
  Vue.component(JobSelector_src_main.name, JobSelector_src_main);
};
/* harmony default export */ var JobSelector = (JobSelector_src_main);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"8bdeefa2-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/PostSelector/src/main.vue?vue&type=template&id=522f3dfe&scoped=true
var mainvue_type_template_id_522f3dfe_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.permission !== 'n')?_c('div',{class:[
    'inputs',
    _vm.formInputsDisplay == 'block'
      ? 'ht-form-inputs__block'
      : 'ht-form-inputs__inline' ]},[_c('div',{staticClass:"el-select",class:{ 'has-value': _vm.selectors.length > 0 },staticStyle:{"width":"100%","min-width":"180px"},on:{"click":_vm.showDialog}},[_c('div',{ref:"tagSpans",class:{
        'el-select__tags_readonly': !_vm.inputWriteable,
        'el-select__tags': _vm.inputWriteable,
      },staticStyle:{"width":"calc(100% - 25px)"}},[_c('span',{staticClass:"tag-wrap"},_vm._l((_vm.selectors),function(item,index){return _c('span',{key:index,staticClass:"el-tag el-tag--info el-tag--small",on:{"click":function($event){$event.stopPropagation();}}},[_c('span',{staticClass:"el-select__tags-text"},[_vm._v(_vm._s(item.name))]),(_vm.inputWriteable)?_c('i',{staticClass:"el-tag__close el-icon-close",on:{"click":function($event){return _vm.handleRemove(item)}}}):_vm._e()])}),0)]),(_vm.inputWriteable)?_c('div',{staticClass:"el-input el-input--suffix"},[_c('input',{directives:[{name:"model",rawName:"v-model",value:(_vm.value),expression:"value"},{name:"validate",rawName:"v-validate",value:(_vm.inputValidate),expression:"inputValidate"}],ref:"inputEl",staticClass:"el-input__inner",style:({
          height: _vm.inputSuffixHeight + 'px',
          lineHeight: _vm.inputSuffixHeight + 'px',
        }),attrs:{"type":"text","readonly":"readonly","name":_vm.inputName,"autocomplete":"off","placeholder":_vm.placeholder},domProps:{"value":(_vm.value)},on:{"input":function($event){if($event.target.composing){ return; }_vm.value=$event.target.value}}}),_c('span',{staticClass:"el-input__suffix"},[_c('span',{staticClass:"el-input__suffix-inner"},[_c('i',{staticClass:"el-icon-circle-close clear-icon",on:{"click":function($event){$event.stopPropagation();return _vm.clear($event)}}}),_c('ht-icon',{staticClass:"user-icon",attrs:{"name":"users"}})],1)])]):_vm._e()]),_c('ht-field-tail',{attrs:{"field-name":_vm.inputName,"input-value":_vm.value}}),(!_vm.isMobile)?_c('post-selector-dialog',{ref:"postSelectorDialog",attrs:{"title":_vm.title,"append-to-body":_vm.appendToBody,"data":_vm.data,"pagination":_vm.pagination,"select-label":_vm.selectLabel,"quick-search-props":_vm.quickSearchProps,"single":_vm.single,"search-placeholder":_vm.searchPlaceholder,"primary-field":_vm.primaryField,"mode":_vm.mode},on:{"filter-type-change":function (type) { return _vm.$emit('filter-type-change', type); },"search":function (word) { return _vm.$emit('search', word); },"reset":function () { return _vm.$emit('reset'); },"row-click":function (row) { return _vm.$emit('row-click', row); },"select-data":function (data) { return _vm.$emit('select-data', data); },"page-change":function (page) { return _vm.$emit('page-change', page); },"size-change":function (size) { return _vm.$emit('size-change', size); },"load-org-post":function (org) { return _vm.$emit('load-org-post', org); },"load-policy-post":function (policy) { return _vm.$emit('load-policy-post', policy); }},model:{value:(_vm.selectors),callback:function ($$v) {_vm.selectors=$$v},expression:"selectors"}}):_c('post-selector-mobile-dialog',{ref:"postSelectorMobileDialog",attrs:{"title":_vm.title,"append-to-body":_vm.appendToBody,"data":_vm.data,"pagination":_vm.pagination,"select-label":_vm.selectLabel,"single":_vm.single,"search-placeholder":_vm.searchPlaceholder,"primary-field":_vm.primaryField},on:{"search":function (word) { return _vm.$emit('search', word); },"reset":function () { return _vm.$emit('reset'); },"row-click":function (row) { return _vm.$emit('row-click', row); },"select-data":function (data) { return _vm.$emit('select-data', data); },"page-change":function (page) { return _vm.$emit('page-change', page); }},model:{value:(_vm.selectors),callback:function ($$v) {_vm.selectors=$$v},expression:"selectors"}})],1):_vm._e()}
var mainvue_type_template_id_522f3dfe_scoped_true_staticRenderFns = []


// CONCATENATED MODULE: ./packages/PostSelector/src/main.vue?vue&type=template&id=522f3dfe&scoped=true

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"8bdeefa2-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/PostSelector/src/PostSelectorDialog.vue?vue&type=template&id=e005ae2e&scoped=true
var PostSelectorDialogvue_type_template_id_e005ae2e_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{staticClass:"postdialog-selector__wrapper",attrs:{"width":"900px","title":_vm.title,"visible":_vm.dialogVisible,"before-close":_vm.handleClose,"close-on-click-modal":false,"append-to-body":_vm.appendToBody},on:{"update:visible":function($event){_vm.dialogVisible=$event}}},[_c('div',{staticClass:"dialog-selector__body"},[_c('el-input',{attrs:{"size":"small","clearable":"","placeholder":_vm.searchPlaceholder},on:{"clear":_vm.reset},nativeOn:{"keyup":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,"enter",13,$event.key,"Enter")){ return null; }return _vm.search($event)}},model:{value:(_vm.searchWord),callback:function ($$v) {_vm.searchWord=$$v},expression:"searchWord"}},[_c('i',{staticClass:"el-input__icon el-icon-search",attrs:{"slot":"prefix","title":_vm.t('ht.common.search')},on:{"click":_vm.search},slot:"prefix"})]),_c('ht-list-selector',{ref:"selector",staticClass:"post-selector",attrs:{"title":_vm.$t('ht.selector.postList'),"data":_vm.data,"pagination":_vm.pagination,"select-label":_vm.selectLabel,"quick-search-props":_vm.quickSearchProps,"single":_vm.single,"search-placeholder":_vm.searchPlaceholder,"primary-field":_vm.primaryField,"mode":_vm.mode},on:{"reset":_vm.reset,"row-click":function (row) { return _vm.$emit('row-click', row); },"page-change":function (page) { return _vm.$emit('page-change', page); },"size-change":function (size) { return _vm.$emit('size-change', size); }},scopedSlots:_vm._u([{key:"detail",fn:function(ref){
var item = ref.item;
return [_c('ht-icon',{staticClass:"follow-theme-color",staticStyle:{"margin-left":"15px","width":"36px","height":"36px"},attrs:{"name":"post"}}),_c('div',{staticClass:"selector-item__detail"},[_c('div',{staticClass:"selector-detail__name"},[_c('label',[_vm._v(_vm._s(item[_vm.selectLabel]))]),_c('span',[_vm._v("("+_vm._s(item['code'])+")")])]),(item.orgName)?_c('div',{staticClass:"selector-detail__desc"},[_c('span',{attrs:{"title":item.orgName}},[_c('ht-icon',{attrs:{"name":"org-tree"}}),_vm._v("\n              "+_vm._s(item.orgName)+"\n            ")],1)]):_vm._e()])]}},{key:"selected",fn:function(ref){
var select = ref.select;
return [_c('ht-icon',{staticClass:"follow-theme-color",staticStyle:{"margin-left":"15px","width":"36px","height":"36px"},attrs:{"name":"post"}}),_c('p',{staticClass:"selector-selected__label",attrs:{"title":("" + (select[_vm.selectLabel]) + (select['code'] ? ("(" + (select['code']) + ")") : ''))}},[_vm._v("\n          "+_vm._s(("" + (select[_vm.selectLabel]) + (select['code'] ? ("(" + (select['code']) + ")") : '')))+"\n        ")])]}}]),model:{value:(_vm.selectors),callback:function ($$v) {_vm.selectors=$$v},expression:"selectors"}},[_c('el-card',{staticClass:"selector-range__card",attrs:{"slot":"range","shadow":"hover"},slot:"range"},[_c('el-tabs',{model:{value:(_vm.activeRange),callback:function ($$v) {_vm.activeRange=$$v},expression:"activeRange"}},[_c('el-tab-pane',{attrs:{"label":_vm.$t('ht.selector.org'),"name":"org"}},[_c('organization',{attrs:{"mode":_vm.mode},on:{"load-org-post":function (org) { return _vm.$emit('load-org-post', org); }}})],1),_c('el-tab-pane',{attrs:{"label":_vm.$t('ht.selector.tactics'),"name":"policy"}},[_c('policy-user',{attrs:{"mode":_vm.mode},on:{"load-policy-post":function (policy) { return _vm.$emit('load-policy-post', policy); }}})],1)],1)],1)],1)],1),_c('div',{staticClass:"dialog-footer",attrs:{"slot":"footer"},slot:"footer"},[_c('el-button',{attrs:{"type":"primary","size":"small"},on:{"click":_vm.handleDialogSure}},[_vm._v("\n      "+_vm._s(_vm.$t('ht.common.confirm'))+"\n    ")]),_c('el-button',{attrs:{"size":"small"},on:{"click":_vm.handleDialogCancel}},[_vm._v("\n      "+_vm._s(_vm.$t('ht.common.cancle'))+"\n    ")])],1)])}
var PostSelectorDialogvue_type_template_id_e005ae2e_scoped_true_staticRenderFns = []


// CONCATENATED MODULE: ./packages/PostSelector/src/PostSelectorDialog.vue?vue&type=template&id=e005ae2e&scoped=true

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"8bdeefa2-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/PostSelector/src/Organization.vue?vue&type=template&id=9a5df3b6&scoped=true
var Organizationvue_type_template_id_9a5df3b6_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:"organization-container"},[_c('div',{staticClass:"demension__container"},[_c('ht-select',{attrs:{"size":"small","clearable":false,"options":_vm.demensions,"display-style":"block","props":{ key: 'id', value: 'demName' }},model:{value:(_vm.currentDemension),callback:function ($$v) {_vm.currentDemension=$$v},expression:"currentDemension"}})],1),_c('el-scrollbar',{staticClass:"organization-list__scroll"},[_c('ht-tree',{ref:"tree",staticClass:"org-tree",attrs:{"lazy":"","display-style":"block","load":_vm.loadOrgTree,"data":_vm.orgs,"default-expand-all":false,"highlight-current":true,"props":{
        children: 'children',
        label: 'name',
        isLeaf: 'leaf',
      },"node-key":"id","accordion":""},on:{"node-click":function (org) { return _vm.$emit('load-org-post', org); }}})],1)],1)}
var Organizationvue_type_template_id_9a5df3b6_scoped_true_staticRenderFns = []


// CONCATENATED MODULE: ./packages/PostSelector/src/Organization.vue?vue&type=template&id=9a5df3b6&scoped=true

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/PostSelector/src/Organization.vue?vue&type=script&lang=js
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//


/* harmony default export */ var PostSelector_src_Organizationvue_type_script_lang_js = ({
  name: 'Organization',
  props: {
    mode: {
      type: String
    }
  },
  data() {
    return {
      demensions: [],
      currentDemension: '',
      orgs: []
    };
  },
  watch: {
    mode: function (newVal, oldVal) {
      if (newVal !== oldVal && newVal == 'search') {
        this.$refs.tree.setCurrentKey(null);
      }
    },
    currentDemension: function (newVal, oldVal) {
      if (newVal && newVal !== oldVal) {
        this.changeDemension(newVal);
      }
    }
  },
  mounted() {
    this.loadDemensions();
  },
  methods: {
    // 加载维度数据
    loadDemensions() {
      if (!this.demensions || this.demensions.length == 0) {
        this.$requestConfig.getAllDemensions().then(data => {
          this.demensions = data;
          data.forEach(element => {
            if (element.isDefault == 1) {
              this.currentDemension = element.id;
            }
          });
          if (!this.currentDemension) {
            this.currentDemension = data[0].id;
          }
        });
      }
    },
    // 维度改变 重新获取组织
    changeDemension(currentDemensionId) {
      this.$requestConfig.getOrgTree({
        demId: currentDemensionId ? currentDemensionId : this.currentDemension
      }).then(data => {
        this.orgs = utils["a" /* default */].tile2nest(data);
      });
    },
    // 加载组织数据
    loadOrgTree(node, resolve) {
      if (node && node.data && node.data.isParent) {
        if (node.data.children) {
          resolve(node.data.children);
        } else {
          this.$requestConfig.getOrgTree({
            demId: node.data.demId,
            parentId: node.data.id
          }).then(data => {
            resolve(data);
          });
        }
      } else {
        resolve([]);
      }
    }
  }
});
// CONCATENATED MODULE: ./packages/PostSelector/src/Organization.vue?vue&type=script&lang=js
 /* harmony default export */ var packages_PostSelector_src_Organizationvue_type_script_lang_js = (PostSelector_src_Organizationvue_type_script_lang_js); 
// EXTERNAL MODULE: ./packages/PostSelector/src/Organization.vue?vue&type=style&index=0&id=9a5df3b6&prod&lang=scss&scoped=true
var Organizationvue_type_style_index_0_id_9a5df3b6_prod_lang_scss_scoped_true = __webpack_require__("3e58");

// CONCATENATED MODULE: ./packages/PostSelector/src/Organization.vue






/* normalize component */

var PostSelector_src_Organization_component = normalizeComponent(
  packages_PostSelector_src_Organizationvue_type_script_lang_js,
  Organizationvue_type_template_id_9a5df3b6_scoped_true_render,
  Organizationvue_type_template_id_9a5df3b6_scoped_true_staticRenderFns,
  false,
  null,
  "9a5df3b6",
  null
  
)

/* harmony default export */ var PostSelector_src_Organization = (PostSelector_src_Organization_component.exports);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"8bdeefa2-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/PostSelector/src/PolicyUser.vue?vue&type=template&id=cf1e117c&scoped=true
var PolicyUservue_type_template_id_cf1e117c_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:"policy-user__container"},[(_vm.policies.length > 0)?_c('el-scrollbar',{staticClass:"selector-list__scroll"},[_c('ht-radio',{attrs:{"display-style":"block","option-layout":"vertical","props":{ key: 'id', value: 'name' },"options":_vm.policies},model:{value:(_vm.currentPolicy),callback:function ($$v) {_vm.currentPolicy=$$v},expression:"currentPolicy"}})],1):_c('div',{staticClass:"el-tree__empty-block"},[_c('span',{staticClass:"el-tree__empty-text"},[_vm._v(_vm._s(_vm.t('el.table.emptyText')))])])],1)}
var PolicyUservue_type_template_id_cf1e117c_scoped_true_staticRenderFns = []


// CONCATENATED MODULE: ./packages/PostSelector/src/PolicyUser.vue?vue&type=template&id=cf1e117c&scoped=true

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/PostSelector/src/PolicyUser.vue?vue&type=script&lang=js
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//


/* harmony default export */ var PostSelector_src_PolicyUservue_type_script_lang_js = ({
  name: 'PolicyUser',
  mixins: [mixins_locale],
  props: {
    mode: {
      type: String
    }
  },
  data() {
    return {
      policies: [{
        id: '1',
        name: this.$t('ht.selector.MyDepartment')
      }, {
        id: '2',
        name: this.$t('ht.selector.MyDepartmentAndSub')
      }, {
        id: '3',
        name: this.$t('ht.selector.myAllDepartment')
      }, {
        id: '4',
        name: this.$t('ht.selector.myAllDepartmentAndSub')
      }],
      currentPolicy: '',
      currentUserOrgs: []
    };
  },
  watch: {
    mode: function (newVal, oldVal) {
      if (newVal !== oldVal && newVal == 'search') {
        this.currentPolicy = '';
      }
    },
    currentPolicy: function (newVal, oldVal) {
      if (newVal && newVal !== oldVal) {
        this.loadUserWithPolicy(newVal);
      }
    }
  },
  methods: {
    // 按照指定策略加载数据
    loadUserWithPolicy(policy) {
      this.loadCurrentUserOrgs().then(() => {
        const param = this.getOrgIdWithPolicy(policy);
        this.$emit('load-policy-post', param);
      }).catch(() => {
        this.$message.error(this.$t('ht.selector.notGetDepartmentData'));
        this.currentPolicy = '';
      });
    },
    // 根据策略构建不同的查询参数
    getOrgIdWithPolicy(policy) {
      let result = {
        type: policy
      };
      const masterOrg = this.currentUserOrgs.find(org => org.isMaster == 1);
      switch (policy) {
        case '1':
          result.id = masterOrg ? masterOrg.id : null;
          break;
        case '2':
          result.path = masterOrg ? masterOrg.path : null;
          break;
        case '3':
          result.ids = this.currentUserOrgs.map(org => org.id);
          break;
        case '4':
          result.paths = this.currentUserOrgs.map(org => org.path);
          break;
      }
      return result;
    },
    // 获取当前用户所属部门数据
    loadCurrentUserOrgs() {
      return new Promise((resolve, reject) => {
        if (this.currentUserOrgs && this.currentUserOrgs.length > 0) {
          resolve();
        } else if (this.$requestConfig.getUserId() && this.$requestConfig.getOrgListByUserId) {
          this.$requestConfig.getOrgListByUserId(this.$requestConfig.getUserId()).then(orgs => {
            if (orgs && orgs.constructor == Array && orgs.length > 0) {
              this.currentUserOrgs = orgs;
              resolve();
            } else {
              reject();
            }
          }).catch(() => reject());
        } else {
          reject();
        }
      });
    }
  }
});
// CONCATENATED MODULE: ./packages/PostSelector/src/PolicyUser.vue?vue&type=script&lang=js
 /* harmony default export */ var packages_PostSelector_src_PolicyUservue_type_script_lang_js = (PostSelector_src_PolicyUservue_type_script_lang_js); 
// EXTERNAL MODULE: ./packages/PostSelector/src/PolicyUser.vue?vue&type=style&index=0&id=cf1e117c&prod&lang=scss&scoped=true
var PolicyUservue_type_style_index_0_id_cf1e117c_prod_lang_scss_scoped_true = __webpack_require__("64bf");

// CONCATENATED MODULE: ./packages/PostSelector/src/PolicyUser.vue






/* normalize component */

var PostSelector_src_PolicyUser_component = normalizeComponent(
  packages_PostSelector_src_PolicyUservue_type_script_lang_js,
  PolicyUservue_type_template_id_cf1e117c_scoped_true_render,
  PolicyUservue_type_template_id_cf1e117c_scoped_true_staticRenderFns,
  false,
  null,
  "cf1e117c",
  null
  
)

/* harmony default export */ var PostSelector_src_PolicyUser = (PostSelector_src_PolicyUser_component.exports);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/PostSelector/src/PostSelectorDialog.vue?vue&type=script&lang=js
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//






/* harmony default export */ var PostSelectorDialogvue_type_script_lang_js = ({
  name: 'PostSelectorDialog',
  components: {
    HtListSelector: packages_ListSelector,
    Organization: PostSelector_src_Organization,
    PolicyUser: PostSelector_src_PolicyUser
  },
  mixins: [mixins_locale],
  props: {
    searchPlaceholder: {
      type: String,
      default() {
        return Object(locale["c" /* t */])('ht.selector.orgDefaultPlaceholder');
      }
    },
    value: {
      type: Array,
      default: () => {
        return [];
      }
    },
    single: {
      type: Boolean,
      default: false
    },
    data: {
      type: Array,
      default: () => {
        return [];
      }
    },
    pagination: {
      type: Object,
      default: () => {
        return {
          page: 1,
          pageSize: 50,
          total: 0
        };
      }
    },
    selectLabel: {
      type: String,
      default: 'jobName'
    },
    quickSearchProps: {
      type: String,
      required: true
    },
    appendToBody: {
      type: Boolean,
      default: false
    },
    title: {
      type: String,
      default() {
        return Object(locale["c" /* t */])('ht.selector.postTitle');
      }
    },
    primaryField: {
      type: String,
      default: ''
    },
    mode: {
      type: String
    }
  },
  data() {
    return {
      dialogVisible: false,
      activeRange: 'org',
      searchWord: null,
      loading: false
    };
  },
  computed: {
    selectors: {
      get: function () {
        return this.value;
      },
      set: function (val) {
        this.$emit('input', val);
      }
    }
  },
  watch: {
    activeRange: function (newVal, oldVal) {
      if (newVal !== oldVal) {
        this.$emit('filter-type-change', newVal);
      }
    }
  },
  methods: {
    search() {
      if (this.loading) {
        return;
      }
      this.$emit('search', this.searchWord);
    },
    reset() {
      this.$emit('reset');
      this.searchWord = null;
    },
    showDialog() {
      this.dialogVisible = true;
      setTimeout(() => {
        this.$refs.selector.onShow();
      });
    },
    handleClose(done) {
      this.$refs.selector.onHide();
      done && done();
    },
    handleDialogSure() {
      this.$emit('select-data', this.$refs.selector.getSelectedData());
      this.dialogVisible = false;
      this.$refs.selector.onHide(true);
    },
    handleDialogCancel() {
      this.dialogVisible = false;
      this.$refs.selector.onHide();
    }
  }
});
// CONCATENATED MODULE: ./packages/PostSelector/src/PostSelectorDialog.vue?vue&type=script&lang=js
 /* harmony default export */ var src_PostSelectorDialogvue_type_script_lang_js = (PostSelectorDialogvue_type_script_lang_js); 
// EXTERNAL MODULE: ./packages/PostSelector/src/PostSelectorDialog.vue?vue&type=style&index=0&id=e005ae2e&prod&lang=scss&scoped=true
var PostSelectorDialogvue_type_style_index_0_id_e005ae2e_prod_lang_scss_scoped_true = __webpack_require__("a7fc");

// CONCATENATED MODULE: ./packages/PostSelector/src/PostSelectorDialog.vue






/* normalize component */

var PostSelectorDialog_component = normalizeComponent(
  src_PostSelectorDialogvue_type_script_lang_js,
  PostSelectorDialogvue_type_template_id_e005ae2e_scoped_true_render,
  PostSelectorDialogvue_type_template_id_e005ae2e_scoped_true_staticRenderFns,
  false,
  null,
  "e005ae2e",
  null
  
)

/* harmony default export */ var PostSelectorDialog = (PostSelectorDialog_component.exports);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"8bdeefa2-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/PostSelector/src/PostSelectorMobileDialog.vue?vue&type=template&id=657e096e&scoped=true
var PostSelectorMobileDialogvue_type_template_id_657e096e_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.dialogVisible)?_c('van-action-sheet',{staticClass:"post-mobile__selector",attrs:{"cancel-text":_vm.sureButtonText,"closeable":false,"get-container":"body"},on:{"cancel":_vm.handleDialogSure,"close":_vm.handleDialogClose,"click-overlay":_vm.handleDialogClose},scopedSlots:_vm._u([{key:"description",fn:function(){return [_c('span',{staticClass:"post-mobile__title"},[_vm._v(_vm._s(_vm.title))]),_c('ht-icon',{staticClass:"post-mobile__close",attrs:{"name":"close"},on:{"click":_vm.handleDialogClose}})]},proxy:true}],null,false,2271583450),model:{value:(_vm.dialogVisible),callback:function ($$v) {_vm.dialogVisible=$$v},expression:"dialogVisible"}},[_c('van-search',{attrs:{"placeholder":_vm.searchPlaceholder},on:{"search":_vm.onRefresh,"clear":_vm.reset},model:{value:(_vm.searchWord),callback:function ($$v) {_vm.searchWord=$$v},expression:"searchWord"}}),_c('van-pull-refresh',{on:{"refresh":_vm.onRefresh},model:{value:(_vm.isLoading),callback:function ($$v) {_vm.isLoading=$$v},expression:"isLoading"}},[_c('van-list',{staticClass:"post-data__list",attrs:{"finished":_vm.finished,"finished-text":_vm.$t('ht.common.noMore')},on:{"load":_vm.loadMore},model:{value:(_vm.isLoading),callback:function ($$v) {_vm.isLoading=$$v},expression:"isLoading"}},[_c('van-checkbox-group',{model:{value:(_vm.selectIds),callback:function ($$v) {_vm.selectIds=$$v},expression:"selectIds"}},_vm._l((_vm.data),function(item){return _c('van-cell',{key:item[_vm.primaryFieldProp],attrs:{"clickable":""},on:{"click":function($event){return _vm.rowClick(item, null, $event)}},scopedSlots:_vm._u([{key:"icon",fn:function(){return [_c('van-checkbox',{attrs:{"name":item[_vm.primaryFieldProp],"shape":_vm.single ? 'round' : 'square'}})]},proxy:true}],null,true)},[_c('div',{staticClass:"post-list__container"},[_c('ht-icon',{staticClass:"follow-theme-color",staticStyle:{"margin-left":"15px","width":"36px","height":"36px"},attrs:{"name":"post"}}),_c('div',{staticClass:"selector-item__detail"},[_c('div',{staticClass:"selector-detail__name"},[_c('label',[_vm._v(_vm._s(item[_vm.selectLabel]))]),_c('span',[_vm._v("("+_vm._s(item['code'])+")")])]),_c('div',{staticClass:"selector-detail__desc"},[_c('span',{attrs:{"title":item.pathName}},[_vm._v("\n                  "+_vm._s(item.pathName || _vm.$t('ht.selector.not'))+"\n                ")])])])],1)])}),1)],1)],1)],1):_vm._e()}
var PostSelectorMobileDialogvue_type_template_id_657e096e_scoped_true_staticRenderFns = []


// CONCATENATED MODULE: ./packages/PostSelector/src/PostSelectorMobileDialog.vue?vue&type=template&id=657e096e&scoped=true

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/PostSelector/src/PostSelectorMobileDialog.vue?vue&type=script&lang=js
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//




/* harmony default export */ var PostSelectorMobileDialogvue_type_script_lang_js = ({
  name: 'PostSelectorMobileDialog',
  mixins: [mixins_locale],
  props: {
    searchPlaceholder: {
      type: String,
      default() {
        return Object(locale["c" /* t */])('ht.selector.orgDefaultPlaceholder');
      }
    },
    value: {
      type: Array,
      default: () => {
        return [];
      }
    },
    single: {
      type: Boolean,
      default: false
    },
    data: {
      type: Array,
      default: () => {
        return [];
      }
    },
    pagination: {
      type: Object,
      default: () => {
        return {
          page: 1,
          pageSize: 50,
          total: 0
        };
      }
    },
    selectLabel: {
      type: String,
      default: 'fullname'
    },
    appendToBody: {
      type: Boolean,
      default: false
    },
    title: {
      type: String,
      default() {
        return Object(locale["c" /* t */])('ht.selector.postTitle');
      }
    },
    primaryField: {
      type: String,
      default: ''
    }
  },
  data() {
    return {
      dialogVisible: false,
      isLoading: false,
      finished: false,
      searchWord: null,
      selectIds: [],
      selectedData: []
    };
  },
  computed: {
    primaryColor() {
      return styles_default.a.primary_color;
    },
    sureButtonText() {
      const selectedText = this.selectIds.length > 0 ? `(${this.selectIds.length})` : '';
      return `${this.$t('ht.common.confirm')}${selectedText}`;
    },
    primaryFieldProp: function () {
      return this.primaryField ? this.primaryField : 'id';
    }
  },
  watch: {
    pagination: function (newVal, oldVal) {
      this.isLoading = false;
      if (newVal !== oldVal) {
        const {
          page,
          pageSize,
          total
        } = newVal;
        if (page > 0 && pageSize > 0 && total > 0) {
          this.finished = page * pageSize >= total;
        } else {
          this.finished = true;
        }
      }
    }
  },
  methods: {
    onRefresh() {
      this.isloading = true;
      this.$emit('search', this.searchWord);
    },
    reset() {
      this.$emit('reset');
    },
    loadMore() {
      if (this.data && this.data.length > 0) {
        this.$emit('page-change', ++this.pagination.page);
      } else {
        this.isLoading = false;
      }
    },
    showDialog() {
      if (this.value && this.value.length > 0) {
        this.selectIds = this.value.map(item => item[this.primaryFieldProp]);
        this.selectedData = this.value;
      }
      this.dialogVisible = true;
    },
    handleDialogSure() {
      this.$emit('input', this.selectedData);
      this.$emit('select-data', this.selectedData);
      this.selectIds = [];
      this.selectedData = [];
      this.dialogVisible = false;
    },
    handleDialogClose() {
      this.dialogVisible = false;
      this.selectIds = [];
      this.selectedData = [];
    },
    select(selection, row) {
      this.$emit('select', selection, row);
    },
    rowClick(row, column, event) {
      // 单选
      if (this.single) {
        this.selectIds = [row[this.primaryFieldProp]];
        this.selectedData = [row];
      } else {
        // 多选
        if (this.selectIds.some(m => m == row[this.primaryFieldProp])) {
          this.selectIds.remove(row[this.primaryFieldProp]);
          this.selectedData = this.selectedData.filter(item => item[this.primaryFieldProp] !== row[this.primaryFieldProp]);
        } else {
          this.selectIds.push(row[this.primaryFieldProp]);
          this.selectedData.push(row);
        }
      }
      this.$emit('row-click', row, column, event);
    }
  }
});
// CONCATENATED MODULE: ./packages/PostSelector/src/PostSelectorMobileDialog.vue?vue&type=script&lang=js
 /* harmony default export */ var src_PostSelectorMobileDialogvue_type_script_lang_js = (PostSelectorMobileDialogvue_type_script_lang_js); 
// EXTERNAL MODULE: ./packages/PostSelector/src/PostSelectorMobileDialog.vue?vue&type=style&index=0&id=657e096e&prod&lang=scss&scoped=true
var PostSelectorMobileDialogvue_type_style_index_0_id_657e096e_prod_lang_scss_scoped_true = __webpack_require__("4154");

// CONCATENATED MODULE: ./packages/PostSelector/src/PostSelectorMobileDialog.vue






/* normalize component */

var PostSelectorMobileDialog_component = normalizeComponent(
  src_PostSelectorMobileDialogvue_type_script_lang_js,
  PostSelectorMobileDialogvue_type_template_id_657e096e_scoped_true_render,
  PostSelectorMobileDialogvue_type_template_id_657e096e_scoped_true_staticRenderFns,
  false,
  null,
  "657e096e",
  null
  
)

/* harmony default export */ var PostSelectorMobileDialog = (PostSelectorMobileDialog_component.exports);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/PostSelector/src/main.vue?vue&type=script&lang=js
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//










/* harmony default export */ var PostSelector_src_mainvue_type_script_lang_js = ({
  name: 'HtPostSelector',
  components: {
    HtFieldTail: FieldTail,
    PostSelectorDialog: PostSelectorDialog,
    PostSelectorMobileDialog: PostSelectorMobileDialog
  },
  mixins: [inputName["a" /* default */], mixins_permission["a" /* default */], mobileMode["a" /* default */]],
  props: {
    searchPlaceholder: {
      type: String,
      default() {
        return Object(locale["c" /* t */])('ht.selector.orgDefaultPlaceholder');
      }
    },
    value: {
      type: String,
      default: ''
    },
    single: {
      type: Boolean,
      default: false
    },
    config: {
      type: Object,
      default: null
    },
    data: {
      type: Array,
      default: () => {
        return [];
      }
    },
    pagination: {
      type: Object,
      default: () => {
        return {
          page: 1,
          pageSize: 50,
          total: 0
        };
      }
    },
    selectLabel: {
      type: String,
      default: 'jobName'
    },
    quickSearchProps: {
      type: String,
      required: true
    },
    appendToBody: {
      type: Boolean,
      default: false
    },
    formInputsDisplay: {
      type: String,
      default: 'inline'
    },
    title: {
      type: String,
      default() {
        return Object(locale["c" /* t */])('ht.selector.postTitle');
      }
    },
    mode: {
      type: String
    }
  },
  data() {
    return {
      inputSuffixHeight: 30,
      selectors: []
    };
  },
  computed: {
    primaryField: function () {
      return this.config && this.config.hasOwnProperty('id') ? 'id' : this.config && this.config.hasOwnProperty('code') ? 'code' : this.selectLabel;
    }
  },
  watch: {
    // 当所选择的数据发生变化时，同步到v-model中
    selectors: function (newVal) {
      let ary = [],
        idAry = [],
        codeAry = [],
        nameAry = [];
      if (newVal && newVal.constructor === Array && newVal.length > 0) {
        newVal.forEach(m => {
          ary.push(m.name);
          if (m.hasOwnProperty('id')) {
            idAry.push(m.id);
          }
          if (m.hasOwnProperty('code')) {
            codeAry.push(m.code);
          }
          if (m.hasOwnProperty('name')) {
            nameAry.push(m.name);
          }
        });
      }
      if (this.config) {
        // 配置了id的绑定关系，则回填到指定属性上
        if (this.config.hasOwnProperty('id')) {
          utils["a" /* default */].setValueByConfigKey(this, this.config, 'id', idAry.join(','));
        }
        // 配置了code的绑定关系，则回填到指定的属性上
        if (this.config.hasOwnProperty('code')) {
          utils["a" /* default */].setValueByConfigKey(this, this.config, 'code', codeAry.join(','));
        }
        // 配置了name的绑定关系，则回填到指定的属性上
        if (this.config.hasOwnProperty('name')) {
          utils["a" /* default */].setValueByConfigKey(this, this.config, 'name', nameAry.join(','));
        }
      } else {
        this.$emit('change', newVal);
      }
      // 通过valueChange事件发布值变更消息
      this.$emit('valueChange', ary.join(','), newVal);
      Object(timers_browserify_main["setTimeout"])(() => {
        if (newVal.length > 0) {
          this.calacInputSuffixHeight();
        } else {
          this.inputSuffixHeight = 30;
        }
        if (this.$refs.inputEl) {
          this.$refs.inputEl.focus();
          this.$refs.inputEl.blur();
        }
      }, 10);
    },
    value: function () {
      // 父级传递进来的value发生变更时，需要同步到当前所选数据中
      this.valueInit();
    }
  },
  mounted() {
    // 组件第一次挂载时，同步value到当前所选数据中
    this.valueInit();
  },
  methods: {
    // 同步value到当前所选数据中
    valueInit() {
      let tmpAry = [];
      if (this.value) {
        let idAry = [],
          codeAry = [],
          nameAry = [];
        if (this.config) {
          // 配置了id绑定关系，则获取id的值
          if (this.config.hasOwnProperty('id')) {
            let idVal = utils["a" /* default */].getValueByConfigKey(this, this.config, 'id');
            if (idVal) {
              idAry = idVal.split(',').trim();
            }
          }
          // 配置了name绑定关系，则获取name的值
          if (this.config.hasOwnProperty('name')) {
            let nameVal = utils["a" /* default */].getValueByConfigKey(this, this.config, 'name');
            if (nameVal) {
              nameAry = nameVal.split(',').trim();
            }
          }

          // 配置了code绑定关系，则获取code的值
          if (this.config.hasOwnProperty('code')) {
            let codeVal = utils["a" /* default */].getValueByConfigKey(this, this.config, 'code');
            if (codeVal) {
              codeAry = codeVal.split(',').trim();
            }
          }
        }
        // 将name、id、code从逗号分割的字符串解析为json对象格式的数组
        let valAry = this.value.split(',').trim();
        valAry.forEach((m, index) => {
          let item = {
            name: m
          };
          if (idAry.length > index) {
            item['id'] = idAry[index];
          }
          if (nameAry.length > index) {
            item['name'] = nameAry[index];
          }
          if (codeAry.length > index) {
            item['code'] = codeAry[index];
          }
          tmpAry.push(item);
        });
      }
      // 对数组做深度对比，如果值不完全相等，则进行赋值操作
      if (!utils["a" /* default */].arrayEquals(tmpAry, this.selectors)) {
        this.selectors = tmpAry;
      }
    },
    showDialog() {
      if (!this.inputWriteable) {
        return;
      }
      if (this.isMobile) {
        this.$refs.postSelectorMobileDialog.showDialog();
      } else {
        this.$refs.postSelectorDialog.showDialog();
      }
    },
    handleRemove(item) {
      this.selectors.remove(item);
    },
    clear() {
      this.selectors = [];
      this.inputSuffixHeight = 30;
    },
    // 更新当前输入框的高度来适配已选数据的高度
    calacInputSuffixHeight() {
      if (!this.$refs.tagSpans) return;
      if (this.$refs.tagSpans.offsetHeight) {
        this.inputSuffixHeight = this.$refs.tagSpans.offsetHeight + 5;
      } else {
        this.inputSuffixHeight = 30;
      }
    }
  }
});
// CONCATENATED MODULE: ./packages/PostSelector/src/main.vue?vue&type=script&lang=js
 /* harmony default export */ var packages_PostSelector_src_mainvue_type_script_lang_js = (PostSelector_src_mainvue_type_script_lang_js); 
// EXTERNAL MODULE: ./packages/PostSelector/src/main.vue?vue&type=style&index=0&id=522f3dfe&prod&lang=scss&scoped=true
var mainvue_type_style_index_0_id_522f3dfe_prod_lang_scss_scoped_true = __webpack_require__("de31");

// CONCATENATED MODULE: ./packages/PostSelector/src/main.vue






/* normalize component */

var PostSelector_src_main_component = normalizeComponent(
  packages_PostSelector_src_mainvue_type_script_lang_js,
  mainvue_type_template_id_522f3dfe_scoped_true_render,
  mainvue_type_template_id_522f3dfe_scoped_true_staticRenderFns,
  false,
  null,
  "522f3dfe",
  null
  
)

/* harmony default export */ var PostSelector_src_main = (PostSelector_src_main_component.exports);
// CONCATENATED MODULE: ./packages/PostSelector/index.js

PostSelector_src_main.install = function (Vue) {
  Vue.component(PostSelector_src_main.name, PostSelector_src_main);
};
/* harmony default export */ var PostSelector = (PostSelector_src_main);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"8bdeefa2-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/DimensionSelector/src/main.vue?vue&type=template&id=09089b10&scoped=true
var mainvue_type_template_id_09089b10_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.permission !== 'n')?_c('div',{class:[
    'inputs',
    _vm.formInputsDisplay == 'block'
      ? 'ht-form-inputs__block'
      : 'ht-form-inputs__inline' ]},[_c('div',{staticClass:"el-select",class:{ 'has-value': _vm.demensions.length > 0 },staticStyle:{"width":"100%","min-width":"180px"},on:{"click":_vm.showDialog}},[_c('div',{ref:"tagSpans",class:{
        'el-select__tags_readonly': !_vm.inputWriteable,
        'el-select__tags': _vm.inputWriteable,
      },staticStyle:{"width":"calc(100% - 25px)"}},[_c('span',{staticClass:"tag-wrap"},_vm._l((_vm.demensions),function(item,index){return _c('span',{key:index,staticClass:"el-tag el-tag--info el-tag--small",on:{"click":function($event){$event.stopPropagation();}}},[_c('span',{staticClass:"el-select__tags-text"},[_vm._v(_vm._s(item.name))]),(_vm.inputWriteable)?_c('i',{staticClass:"el-tag__close el-icon-close",on:{"click":function($event){return _vm.handleRemove(item)}}}):_vm._e()])}),0)]),(_vm.inputWriteable)?_c('div',{staticClass:"el-input el-input--suffix"},[_c('input',{directives:[{name:"model",rawName:"v-model",value:(_vm.value),expression:"value"},{name:"validate",rawName:"v-validate",value:(_vm.inputValidate),expression:"inputValidate"}],ref:"inputEl",staticClass:"el-input__inner",style:({
          height: _vm.inputSuffixHeight + 'px',
          lineHeight: _vm.inputSuffixHeight + 'px',
        }),attrs:{"type":"text","readonly":"readonly","name":_vm.inputName,"autocomplete":"off","placeholder":_vm.placeholder},domProps:{"value":(_vm.value)},on:{"input":function($event){if($event.target.composing){ return; }_vm.value=$event.target.value}}}),_c('span',{staticClass:"el-input__suffix"},[_c('span',{staticClass:"el-input__suffix-inner"},[_c('i',{staticClass:"el-icon-circle-close clear-icon",on:{"click":function($event){$event.stopPropagation();return _vm.clear($event)}}}),_c('ht-icon',{staticClass:"user-icon",attrs:{"name":"users"}})],1)])]):_vm._e()]),_c('ht-field-tail',{attrs:{"field-name":_vm.inputName,"input-value":_vm.value}}),_c('el-dialog',{staticClass:"dialog-selector__wrapper",class:{ 'mobile-dialog': _vm.isMobile },attrs:{"title":_vm.t('ht.selector.dimensionTitle'),"visible":_vm.dialogVisible,"top":"6vh","before-close":_vm.handleClose,"close-on-click-modal":false,"append-to-body":_vm.appendToBody},on:{"update:visible":function($event){_vm.dialogVisible=$event}}},[_c('div',{staticClass:"dialog-selector__body"},[_c('el-input',{attrs:{"size":"small","clearable":"","placeholder":_vm.searchPlaceholder},on:{"clear":_vm.reset},nativeOn:{"keyup":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,"enter",13,$event.key,"Enter")){ return null; }return _vm.search($event)}},model:{value:(_vm.searchWord),callback:function ($$v) {_vm.searchWord=$$v},expression:"searchWord"}},[_c('i',{staticClass:"el-input__icon el-icon-search",attrs:{"slot":"prefix","title":_vm.t('ht.common.search')},on:{"click":_vm.search},slot:"prefix"})]),_c('ht-list-selector',{ref:"selector",staticClass:"post-selector",attrs:{"title":_vm.t('ht.selector.dimensionList'),"data":_vm.data,"pagination":_vm.pagination,"select-label":_vm.selectLabel,"quick-search-props":_vm.quickSearchProps,"single":_vm.single,"search-placeholder":_vm.searchPlaceholder,"primary-field":_vm.primaryField,"mode":_vm.mode},on:{"reset":_vm.reset,"row-click":function (row) { return _vm.$emit('row-click', row); },"page-change":function (page) { return _vm.$emit('page-change', page); },"size-change":function (size) { return _vm.$emit('size-change', size); }},scopedSlots:_vm._u([{key:"detail",fn:function(ref){
        var item = ref.item;
return [_c('ht-icon',{staticClass:"follow-theme-color",staticStyle:{"margin-left":"15px","width":"36px","height":"36px"},attrs:{"name":"demension"}}),_c('div',{staticClass:"selector-item__detail"},[_c('div',{staticClass:"selector-detail__name"},[_c('label',[_vm._v(_vm._s(item[_vm.selectLabel]))]),_c('span',[_vm._v("("+_vm._s(item['code'])+")")])])])]}},{key:"selected",fn:function(ref){
        var select = ref.select;
return [_c('ht-icon',{staticClass:"follow-theme-color",staticStyle:{"margin-left":"15px","width":"36px","height":"36px"},attrs:{"name":"demension"}}),_c('p',{staticClass:"selector-selected__label",attrs:{"title":("" + (select[_vm.selectLabel]) + (select['code'] ? ("(" + (select['code']) + ")") : ''))}},[_vm._v("\n            "+_vm._s(("" + (select[_vm.selectLabel]) + (select['code'] ? ("(" + (select['code']) + ")") : '')))+"\n          ")])]}}],null,false,3953077603),model:{value:(_vm.demensions),callback:function ($$v) {_vm.demensions=$$v},expression:"demensions"}})],1),_c('div',{staticClass:"dialog-footer",attrs:{"slot":"footer"},slot:"footer"},[_c('el-button',{attrs:{"type":"primary","size":"small"},on:{"click":_vm.handleDialogSure}},[_vm._v("\n        "+_vm._s(_vm.t('ht.common.confirm'))+"\n      ")]),_c('el-button',{attrs:{"size":"small"},on:{"click":_vm.handleDialogCancel}},[_vm._v("\n        "+_vm._s(_vm.t('ht.common.cancle'))+"\n      ")])],1)])],1):_vm._e()}
var mainvue_type_template_id_09089b10_scoped_true_staticRenderFns = []


// CONCATENATED MODULE: ./packages/DimensionSelector/src/main.vue?vue&type=template&id=09089b10&scoped=true

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/DimensionSelector/src/main.vue?vue&type=script&lang=js
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//











/* harmony default export */ var DimensionSelector_src_mainvue_type_script_lang_js = ({
  name: 'HtDimensionSelector',
  components: {
    HtFieldTail: FieldTail,
    HtListSelector: packages_ListSelector
  },
  mixins: [inputName["a" /* default */], mixins_permission["a" /* default */], mixins_form["a" /* default */], mobileMode["a" /* default */], mixins_locale],
  props: {
    searchPlaceholder: {
      type: String,
      default() {
        return Object(locale["c" /* t */])('ht.selector.nameCode');
      }
    },
    value: String,
    selectLabel: String,
    single: {
      type: Boolean,
      default: false
    },
    config: Object,
    data: {
      type: Array,
      default: () => {
        return [];
      }
    },
    tableColumns: {
      type: Array,
      default: () => {
        return [];
      }
    },
    pagination: {
      type: Object,
      default: () => {
        return {
          page: 1,
          pageSize: 50,
          total: 0
        };
      }
    },
    quickSearchProps: {
      type: String,
      required: true
    },
    appendToBody: {
      type: Boolean,
      default: false
    },
    mode: {
      type: String
    }
  },
  data() {
    return {
      inputSuffixHeight: 30,
      demensions: [],
      dialogVisible: false,
      searchWord: null,
      loading: false
    };
  },
  computed: {
    primaryField: function () {
      return this.config && this.config.hasOwnProperty('id') ? 'id' : this.config && this.config.hasOwnProperty('code') ? 'code' : this.selectLabel;
    }
  },
  watch: {
    // 当所选择的数据发生变化时，同步到v-model中
    demensions: function (newVal) {
      let ary = [],
        idAry = [],
        demNameAry = [],
        codeAry = [];
      if (newVal && newVal.constructor === Array && newVal.length > 0) {
        newVal.forEach(m => {
          ary.push(m.name);
          if (m.hasOwnProperty('id')) {
            idAry.push(m.id);
          }
          if (m.hasOwnProperty('code')) {
            codeAry.push(m.code);
          }
          if (m.hasOwnProperty('demName')) {
            demNameAry.push(m.demName);
          }
        });
      }
      if (this.config) {
        // 配置了id的绑定关系，则回填到指定属性上
        if (this.config.hasOwnProperty('id')) {
          utils["a" /* default */].setValueByConfigKey(this, this.config, 'id', idAry.join(','));
        }
        // 配置了code的绑定关系，则回填到指定的属性上
        if (this.config.hasOwnProperty('code')) {
          utils["a" /* default */].setValueByConfigKey(this, this.config, 'code', codeAry.join(','));
        }
        // 配置了demName的绑定关系，则回填到指定属性上
        if (this.config.hasOwnProperty('demName')) {
          utils["a" /* default */].setValueByConfigKey(this, this.config, 'demName', demNameAry.join(','));
        }
      }
      // 通过valueChange事件发布值变更消息
      this.$emit('valueChange', ary.join(','), newVal);
      Object(timers_browserify_main["setTimeout"])(() => {
        if (newVal.length > 0) {
          this.calacInputSuffixHeight();
        } else {
          this.inputSuffixHeight = 30;
        }
        if (this.$refs.inputEl) {
          this.$refs.inputEl.focus();
          this.$refs.inputEl.blur();
        }
      }, 10);
    },
    value: function () {
      // 父级传递进来的value发生变更时，需要同步到当前所选数据中
      this.valueInit();
    }
  },
  mounted() {
    // 组件第一次挂载时，同步value到当前所选数据中
    this.valueInit();
  },
  methods: {
    search() {
      if (this.loading) {
        return;
      }
      this.$emit('search', this.searchWord);
    },
    reset() {
      this.$emit('reset');
      this.searchWord = null;
    },
    // 同步value到当前所选数据中
    valueInit() {
      let tmpAry = [];
      if (this.value) {
        let idAry = [],
          demNameAry = [],
          codeAry = [];
        if (this.config) {
          // 配置了id绑定关系，则获取id的值
          if (this.config.hasOwnProperty('id')) {
            let idVal = utils["a" /* default */].getValueByConfigKey(this, this.config, 'id');
            if (idVal) {
              idAry = idVal.split(',').trim();
            }
          }
          // 配置了code绑定关系，则获取code的值
          if (this.config.hasOwnProperty('code')) {
            let codeVal = utils["a" /* default */].getValueByConfigKey(this, this.config, 'code');
            if (codeVal) {
              codeAry = codeVal.split(',').trim();
            }
          }
          // 配置了demName绑定关系，则获取demName的值
          if (this.config.hasOwnProperty('demName')) {
            let demNameVal = utils["a" /* default */].getValueByConfigKey(this, this.config, 'demName');
            if (demNameVal) {
              demNameAry = demNameVal.split(',').trim();
            }
          }
        }
        // 将name、id、code从逗号分割的字符串解析为json对象格式的数组
        let valAry = this.value.split(',').trim();
        valAry.forEach((m, index) => {
          let item = {
            name: m
          };
          if (idAry.length > index) {
            item['id'] = idAry[index];
          }
          if (codeAry.length > index) {
            item['code'] = codeAry[index];
          }
          if (demNameAry.length > index) {
            item['demName'] = demNameAry[index];
          }
          tmpAry.push(item);
        });
      }
      // 对数组做深度对比，如果值不完全相等，则进行赋值操作
      if (!utils["a" /* default */].arrayEquals(tmpAry, this.demensions)) {
        this.demensions = tmpAry;
      }
    },
    showDialog() {
      if (!this.inputWriteable) {
        return;
      }
      this.dialogVisible = true;
      Object(timers_browserify_main["setTimeout"])(() => {
        this.$refs.selector.onShow();
      });
    },
    handleClose(done) {
      this.$refs.selector.onHide();
      done && done();
    },
    handleDialogSure() {
      this.$emit('select-data', this.$refs.selector.getSelectedData());
      this.dialogVisible = false;
      this.$refs.selector.onHide(true);
    },
    handleDialogCancel() {
      this.dialogVisible = false;
      this.$refs.selector.onHide();
    },
    handleRemove(item) {
      this.demensions.remove(item);
    },
    clear() {
      this.demensions = [];
    },
    // 更新当前输入框的高度来适配已选数据的高度
    calacInputSuffixHeight() {
      if (!this.$refs.tagSpans) return;
      if (this.$refs.tagSpans.offsetHeight) {
        this.inputSuffixHeight = this.$refs.tagSpans.offsetHeight + 5;
      } else {
        this.inputSuffixHeight = 30;
      }
    }
  }
});
// CONCATENATED MODULE: ./packages/DimensionSelector/src/main.vue?vue&type=script&lang=js
 /* harmony default export */ var packages_DimensionSelector_src_mainvue_type_script_lang_js = (DimensionSelector_src_mainvue_type_script_lang_js); 
// EXTERNAL MODULE: ./packages/DimensionSelector/src/main.vue?vue&type=style&index=0&id=09089b10&prod&lang=scss&scoped=true
var mainvue_type_style_index_0_id_09089b10_prod_lang_scss_scoped_true = __webpack_require__("ffdb");

// CONCATENATED MODULE: ./packages/DimensionSelector/src/main.vue






/* normalize component */

var DimensionSelector_src_main_component = normalizeComponent(
  packages_DimensionSelector_src_mainvue_type_script_lang_js,
  mainvue_type_template_id_09089b10_scoped_true_render,
  mainvue_type_template_id_09089b10_scoped_true_staticRenderFns,
  false,
  null,
  "09089b10",
  null
  
)

/* harmony default export */ var DimensionSelector_src_main = (DimensionSelector_src_main_component.exports);
// CONCATENATED MODULE: ./packages/DimensionSelector/index.js

DimensionSelector_src_main.install = function (Vue) {
  Vue.component(DimensionSelector_src_main.name, DimensionSelector_src_main);
};
/* harmony default export */ var DimensionSelector = (DimensionSelector_src_main);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"8bdeefa2-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/UserDialog/src/main.vue?vue&type=template&id=0b89fd9d&scoped=true
var mainvue_type_template_id_0b89fd9d_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:"inputs"},[(!_vm.isMobile)?_c('user-selector-dialog',{ref:"userSelectorDialog",attrs:{"title":_vm.title,"append-to-body":_vm.appendToBody,"data":_vm.data,"pagination":_vm.pagination,"select-label":_vm.selectLabel,"quick-search-props":_vm.quickSearchProps,"single":_vm.single,"search-placeholder":_vm.searchPlaceholder,"primary-field":_vm.primaryField,"mode":_vm.mode},on:{"filter-type-change":_vm.handleFilterTypeChange,"search":_vm.handleSearch,"reset":_vm.handleReset,"page-change":_vm.handlePageChange,"size-change":_vm.handleSizeChange,"contact-group-change":_vm.loadContactUser,"load-org-user":_vm.loadOrgUser,"load-policy-user":_vm.loadPolicyUser,"load-role-user":_vm.loadRoleUser,"row-click":function (row) { return _vm.$emit('row-click', row); },"select-data":function (data) { return _vm.$emit('on-confirm', data); }},model:{value:(_vm.selectors),callback:function ($$v) {_vm.selectors=$$v},expression:"selectors"}}):_c('user-selector-mobile-dialog',{ref:"userSelectorMobileDialog",attrs:{"title":_vm.title,"append-to-body":_vm.appendToBody,"data":_vm.data,"pagination":_vm.pagination,"select-label":_vm.selectLabel,"quick-search-props":_vm.quickSearchProps,"single":_vm.single,"search-placeholder":_vm.searchPlaceholder,"primary-field":_vm.primaryField},on:{"search":_vm.handleSearch,"reset":_vm.handleReset,"row-click":function (row) { return _vm.$emit('row-click', row); },"select-data":function (data) { return _vm.$emit('on-confirm', data); },"page-change":_vm.handlePageChange},model:{value:(_vm.selectors),callback:function ($$v) {_vm.selectors=$$v},expression:"selectors"}})],1)}
var mainvue_type_template_id_0b89fd9d_scoped_true_staticRenderFns = []


// CONCATENATED MODULE: ./packages/UserDialog/src/main.vue?vue&type=template&id=0b89fd9d&scoped=true

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/UserDialog/src/main.vue?vue&type=script&lang=js
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//





/* harmony default export */ var UserDialog_src_mainvue_type_script_lang_js = ({
  name: 'HtUserDialog',
  components: {
    UserSelectorDialog: UserSelectorDialog,
    UserSelectorMobileDialog: UserSelectorMobileDialog
  },
  mixins: [mobileMode["a" /* default */]],
  props: {
    searchPlaceholder: {
      type: String,
      default() {
        return Object(locale["c" /* t */])('ht.selector.userAndAccount');
      }
    },
    value: String,
    single: Boolean,
    config: Object,
    appendToBody: {
      type: Boolean,
      default: false
    },
    selectCurrent: {
      type: Boolean,
      default: false
    },
    title: {
      type: String,
      default() {
        return Object(locale["c" /* t */])('ht.selector.userTitle');
      }
    },
    quickSearchProps: {
      type: String,
      default: 'fullname,account'
    },
    pageSize: {
      type: Number,
      default: 20
    },
    selectLabel: {
      type: String,
      default: 'fullname'
    },
    currentSelectUsers: Array
  },
  data() {
    return {
      mode: null,
      // 搜索模式
      filterType: 'contact',
      //过滤类型(contact:联系人，org:组织，policy:策略，role:角色)
      currentGroup: null,
      currentOrg: null,
      currentPolicy: null,
      currentRole: null,
      searchWord: null,
      data: [],
      pagination: {
        page: 1,
        pageSize: this.pageSize,
        total: 0,
        showTotal: true
      },
      selectors: []
    };
  },
  computed: {
    primaryField: function () {
      return this.config && this.config.hasOwnProperty('id') ? 'id' : this.config && this.config.hasOwnProperty('account') ? 'account' : this.selectLabel;
    }
  },
  mounted() {
    if (!this.data || this.data.length == 0) {
      this.handleLoad();
    }
  },
  methods: {
    handleSearch(word) {
      if (!word || !word.trim()) {
        this.handleReset();
        return;
      }
      // 存储搜索关键词
      this.searchWord = word;
      // 进入搜索模式
      this.mode = 'search';
      this.handleLoad();
    },
    handleReset() {
      // 置空搜索关键词
      this.searchWord = null;
      // 退出搜索模式
      this.mode = null;
      this.handleLoad();
    },
    handleSizeChange(size) {
      this.pagination.pageSize = size;
      this.handlePageChange(this.pagination.page);
    },
    handlePageChange(page) {
      // 搜索模式下或者未进行过滤时，查询所有数据
      if (this.mode != 'filter') {
        this.handleLoad(page);
      } else {
        // 过滤模式下，根据过滤类型查询数据
        switch (this.filterType) {
          case 'contact':
            this.loadContactUser(this.currentGroup, page);
            break;
          case 'org':
            this.loadOrgUser(this.currentOrg, page);
            break;
          case 'policy':
            this.loadPolicyUser(this.currentPolicy, page);
            break;
          case 'role':
            this.loadRoleUser(this.currentRole, page);
            break;
        }
      }
    },
    // 处理过滤类型变化的事件
    handleFilterTypeChange(type) {
      this.filterType = type;
    },
    showDialog() {
      this.selectors = this.currentSelectUsers ? this.currentSelectUsers : [];
      if (this.isMobile) {
        this.$refs.userSelectorMobileDialog.showDialog();
      } else {
        this.$refs.userSelectorDialog.showDialog();
      }
    },
    // 获取查询参数中的分页信息(不传page时默认查询第一页)
    getPageBean(page) {
      const pageBean = {
        ...this.pagination
      };
      delete pageBean['total'];
      pageBean.page = page || 1;
      return pageBean;
    },
    handleLoad(page) {
      const param = this.getQueryFilter(page);
      this.data = this.data || [];
      this.loadAllUser(param);
    },
    getQueryFilter(page) {
      const queryFilter = {
        querys: [],
        pageBean: this.getPageBean(page)
      };
      if (this.quickSearchProps && this.quickSearchProps.constructor == String && this.searchWord) {
        const props = this.quickSearchProps.split(',');
        props.forEach(item => {
          let query = {
            property: item,
            value: this.searchWord,
            group: 'main',
            operation: 'LIKE',
            relation: 'OR'
          };
          queryFilter.querys.push(query);
        });
      }
      return queryFilter;
    },
    // 加载全部用户
    loadAllUser(param) {
      this.$requestConfig.getUserList(param).then(data => {
        const {
          rows,
          page,
          pageSize,
          total
        } = data;
        if (this.isMobile && page > 1) {
          this.data = this.data.concat(rows);
        } else {
          this.data = rows;
        }
        const paginationResult = {
          page,
          pageSize,
          total
        };
        this.$set(this, 'pagination', paginationResult);
      });
    },
    // 加载常用联系人
    loadContactUser(group, page) {
      this.mode = 'filter';
      this.currentGroup = group;
      const param = {
        pageBean: this.getPageBean(page)
      };
      if (group != 'all') {
        param.contactGroupId = group;
      }
      if (this.$requestConfig.getContactUser) {
        this.$requestConfig.getContactUser(param).then(data => {
          if (data.state && data.value) {
            const {
              rows,
              page,
              pageSize,
              total
            } = data.value;
            if (this.isMobile && page > 1) {
              this.data = this.data.concat(rows);
            } else {
              this.data = rows;
            }
            const paginationResult = {
              page,
              pageSize,
              total
            };
            this.$set(this, 'pagination', paginationResult);
          }
        });
      }
    },
    // 通过组织查询用户
    loadOrgUser(org, page) {
      this.mode = 'filter';
      this.currentOrg = org;
      let queryFilter = {
        pageBean: this.getPageBean(page),
        querys: []
      };
      let query = {
        property: 'uo.path_',
        value: org.path,
        group: 'main',
        operation: 'RIGHT_LIKE',
        relation: 'AND'
      };
      if (org.path) {
        queryFilter.querys.push(query);
      }
      this.loadAllUser(queryFilter);
    },
    // 按照角色查询用户
    loadRoleUser(role, page) {
      this.mode = 'filter';
      this.currentRole = role;
      let queryFilter = {
        pageBean: this.getPageBean(page),
        querys: []
      };
      if (role) {
        queryFilter.params = {
          role_id_: role
        };
      }
      this.loadAllUser(queryFilter);
    },
    // 通过策略查询用户
    loadPolicyUser(params, page) {
      this.mode = 'filter';
      this.currentOrg = params;
      let queryFilter = {
        pageBean: this.getPageBean(page),
        querys: []
      };
      let query = null;
      const {
        type,
        ids,
        paths
      } = params;
      switch (type) {
        // 所在主部门
        case '1':
          query = {
            property: 'uo.id_',
            value: params.id,
            group: 'main',
            operation: 'EQUAL',
            relation: 'AND'
          };
          queryFilter.querys.push(query);
          this.loadAllUser(queryFilter);
          break;
        // 所在主部门及下级部门
        case '2':
          query = {
            property: 'uo.path_',
            value: params.path,
            group: 'main',
            operation: 'RIGHT_LIKE',
            relation: 'AND'
          };
          queryFilter.querys.push(query);
          this.loadAllUser(queryFilter);
          break;
        // 所在部门
        case '3':
          ids.forEach(id => {
            query = {
              property: 'uo.id_',
              value: id,
              group: 'main',
              operation: 'EQUAL',
              relation: 'OR'
            };
            queryFilter.querys.push(query);
          });
          this.loadAllUser(queryFilter);
          break;
        // 所在部门及下级部门
        case '4':
          paths.forEach(path => {
            query = {
              property: 'uo.path_',
              value: path,
              group: 'main',
              operation: 'RIGHT_LIKE',
              relation: 'OR'
            };
            queryFilter.querys.push(query);
          });
          this.loadAllUser(queryFilter);
          break;
      }
    }
  }
});
// CONCATENATED MODULE: ./packages/UserDialog/src/main.vue?vue&type=script&lang=js
 /* harmony default export */ var packages_UserDialog_src_mainvue_type_script_lang_js = (UserDialog_src_mainvue_type_script_lang_js); 
// EXTERNAL MODULE: ./packages/UserDialog/src/main.vue?vue&type=style&index=0&id=0b89fd9d&prod&lang=scss&scoped=true
var mainvue_type_style_index_0_id_0b89fd9d_prod_lang_scss_scoped_true = __webpack_require__("0355");

// CONCATENATED MODULE: ./packages/UserDialog/src/main.vue






/* normalize component */

var UserDialog_src_main_component = normalizeComponent(
  packages_UserDialog_src_mainvue_type_script_lang_js,
  mainvue_type_template_id_0b89fd9d_scoped_true_render,
  mainvue_type_template_id_0b89fd9d_scoped_true_staticRenderFns,
  false,
  null,
  "0b89fd9d",
  null
  
)

/* harmony default export */ var UserDialog_src_main = (UserDialog_src_main_component.exports);
// CONCATENATED MODULE: ./packages/UserDialog/index.js

UserDialog_src_main.install = function (Vue) {
  Vue.component(UserDialog_src_main.name, UserDialog_src_main);
};
/* harmony default export */ var UserDialog = (UserDialog_src_main);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"8bdeefa2-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/Dialog/src/main.vue?vue&type=template&id=9db0561c&scoped=true
var mainvue_type_template_id_9db0561c_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:"inputs"},[_c('el-dialog',{staticClass:"dialog-selector__wrapper",attrs:{"title":_vm.dialogTitle,"visible":_vm.dialogVisible,"top":"6vh","before-close":_vm.handleClose,"close-on-click-modal":false,"append-to-body":_vm.appendToBody,"destroy-on-close":_vm.destroyOnClose},on:{"update:visible":function($event){_vm.dialogVisible=$event}}},[_c('el-container',[_c('el-main',[_c('ht-selector',{ref:"selector",attrs:{"data":_vm.data,"pagination":_vm.pagination,"table-columns":_vm.tableColumns,"select-label":_vm.selectLabel,"single":_vm.single,"quick-search-props":_vm.quickSearchProps,"search-placeholder":_vm.searchPlaceholder},on:{"load":_vm.load,"current-selected":_vm.handleCurrentSelect},model:{value:(_vm.selectors),callback:function ($$v) {_vm.selectors=$$v},expression:"selectors"}})],1)],1),_c('div',{staticClass:"dialog-footer",attrs:{"slot":"footer"},slot:"footer"},[_c('el-button',{attrs:{"type":"primary","size":"small","disabled":_vm.isDisabled},on:{"click":_vm.handleDialogSure}},[_vm._v("\n        "+_vm._s(_vm.$t('ht.common.confirm'))+"\n      ")]),_c('el-button',{attrs:{"size":"small"},on:{"click":_vm.handleDialogCancel}},[_vm._v("\n        "+_vm._s(_vm.$t('ht.common.cancle'))+"\n      ")])],1)],1)],1)}
var mainvue_type_template_id_9db0561c_scoped_true_staticRenderFns = []


// CONCATENATED MODULE: ./packages/Dialog/src/main.vue?vue&type=template&id=9db0561c&scoped=true

// CONCATENATED MODULE: ./src/mixins/dialog.js
/* harmony default export */ var mixins_dialog = ({
  data() {
    return {
      isDisabled: true
    };
  },
  methods: {
    handleCurrentSelect(data) {
      if (data.length > 0) {
        this.isDisabled = false;
      } else {
        this.isDisabled = true;
      }
    }
  }
});
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/Dialog/src/main.vue?vue&type=script&lang=js
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//





/* harmony default export */ var Dialog_src_mainvue_type_script_lang_js = ({
  name: 'HtDialog',
  components: {
    HtSelector: Selector
  },
  mixins: [mixins_dialog],
  props: {
    value: String,
    single: {
      type: Boolean,
      default: false
    },
    data: {
      type: Array,
      default: () => {
        return [];
      }
    },
    tableColumns: {
      type: Array,
      default: () => {
        return [];
      }
    },
    pagination: {
      type: Object,
      default: () => {
        return {
          page: 1,
          pageSize: 50,
          total: 0
        };
      }
    },
    selectLabel: {
      type: String,
      default: 'name'
    },
    searchPlaceholder: {
      type: String,
      default() {
        return `${Object(locale["c" /* t */])('ht.common.enter')}${Object(locale["c" /* t */])('ht.common.search')}${Object(locale["c" /* t */])('ht.common.content')}`;
      }
    },
    dialogTitle: {
      type: String,
      default() {
        return Object(locale["c" /* t */])('ht.selector.dialog');
      }
    },
    appendToBody: {
      type: Boolean,
      default: false
    },
    quickSearchProps: {
      type: String,
      required: true
    },
    destroyOnClose: {
      type: Boolean,
      default: false
    }
  },
  data() {
    return {
      inputName: null,
      selectors: [],
      dialogVisible: false
    };
  },
  methods: {
    // 同步value到当前所选数据中
    showDialog(selectors) {
      this.dialogVisible = true;
      if (!selectors) {
        selectors = [];
      }
      Object(timers_browserify_main["setTimeout"])(() => {
        this.$refs.selector.onShow(selectors);
      });
    },
    handleClose(done) {
      this.$refs.selector.onHide();
      done && done();
    },
    handleDialogSure() {
      this.dialogVisible = false;
      this.$refs.selector.onHide(true);
      this.$emit('onConfirm', this.selectors);
    },
    handleDialogCancel() {
      this.dialogVisible = false;
      this.$refs.selector.onHide();
    },
    handleRemove(item) {
      this.selectors.remove(item);
    },
    load(param, cb) {
      this.$emit('load', param, cb);
    }
  }
});
// CONCATENATED MODULE: ./packages/Dialog/src/main.vue?vue&type=script&lang=js
 /* harmony default export */ var packages_Dialog_src_mainvue_type_script_lang_js = (Dialog_src_mainvue_type_script_lang_js); 
// EXTERNAL MODULE: ./packages/Dialog/src/main.vue?vue&type=style&index=0&id=9db0561c&prod&lang=scss&scoped=true
var mainvue_type_style_index_0_id_9db0561c_prod_lang_scss_scoped_true = __webpack_require__("8a57");

// CONCATENATED MODULE: ./packages/Dialog/src/main.vue






/* normalize component */

var Dialog_src_main_component = normalizeComponent(
  packages_Dialog_src_mainvue_type_script_lang_js,
  mainvue_type_template_id_9db0561c_scoped_true_render,
  mainvue_type_template_id_9db0561c_scoped_true_staticRenderFns,
  false,
  null,
  "9db0561c",
  null
  
)

/* harmony default export */ var Dialog_src_main = (Dialog_src_main_component.exports);
// CONCATENATED MODULE: ./packages/Dialog/index.js

Dialog_src_main.install = function (Vue) {
  Vue.component(Dialog_src_main.name, Dialog_src_main);
};
/* harmony default export */ var Dialog = (Dialog_src_main);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"8bdeefa2-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/CustomDialog/src/main.vue?vue&type=template&id=7ac2d73f&scoped=true
var mainvue_type_template_id_7ac2d73f_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:"inputs"},[_c('el-tooltip',{attrs:{"placement":_vm.tooltipplacement || _vm.defualtTooltipplacement,"disabled":_vm.inputWriteable && _vm.errors && !_vm.errors.has('custom-form.' + _vm.inputName)}},[(_vm.errors && _vm.errors.first)?_c('div',{attrs:{"slot":"content"},slot:"content"},[_vm._v("\n      "+_vm._s(_vm.errors.first('custom-form.' + _vm.inputName))+"\n    ")]):_vm._e(),(_vm.inputWriteable)?_c('div',{staticClass:"el-select",class:{ 'has-value': _vm.value },staticStyle:{"width":"100%"}},[_c('div',{ref:"tagSpans",staticClass:"el-select__tags",style:({ width: 'calc(100% - 10px - ' + _vm.inputSuffixWidth + 'px)' }),on:{"click":_vm.showEditInput}},[_c('span',{staticClass:"tag-wrap"},_vm._l((_vm.inputVal),function(item,index){return _c('span',{key:item.value,staticClass:"el-tag el-tag--info el-tag--small",on:{"click":_vm.showEditInput}},[_c('span',{staticClass:"el-select__tags-text"},[_vm._v(_vm._s(item.value))]),_c('i',{staticClass:"el-tag__close el-icon-close",on:{"click":function($event){$event.stopPropagation();return _vm.removeSelectOrg(index)}}})])}),0)]),_c('div',{staticClass:"el-input el-input--suffix"},[_c('input',{directives:[{name:"model",rawName:"v-model",value:(_vm.inputVal),expression:"inputVal"},{name:"validate",rawName:"v-validate",value:(_vm.inputValidate),expression:"inputValidate"}],staticClass:"el-input__inner",style:({ height: _vm.inputSuffixHeight + 'px' }),attrs:{"type":"text","readonly":"readonly","name":_vm.inputName,"autocomplete":"off","placeholder":_vm.placeholder},domProps:{"value":(_vm.inputVal)},on:{"click":_vm.showEditInput,"input":function($event){if($event.target.composing){ return; }_vm.inputVal=$event.target.value}}}),(_vm.isAllowCustom && _vm.isEditInputShow)?_c('el-input',{ref:"editInputRef",staticClass:"edit-input",style:({
            right: _vm.inputSuffixWidth - 1 + 'px',
            width: 'auto!important',
            height: _vm.inputSuffixHeight - 4 + 'px',
          }),attrs:{"clearable":"","size":"mini"},on:{"blur":_vm.editInputBlur},model:{value:(_vm.customValue),callback:function ($$v) {_vm.customValue=$$v},expression:"customValue"}}):_vm._e(),_c('span',{ref:"inputSuffix",staticClass:"el-input__suffix",on:{"click":_vm.showDialog}},[_c('span',{staticClass:"el-input__suffix-inner",class:{ 'has-clear-all': _vm.value }},[_c('i',{staticClass:"el-icon-circle-close clear-icon",on:{"click":function($event){$event.stopPropagation();return _vm.clear($event)}}}),_c('el-button',{staticStyle:{"margin":"0 !important"},attrs:{"slot":"append","type":"info","size":"mini"},slot:"append"},[_c('i',{class:_vm.custdialog.icon
                    ? 'el-input__icon ' + _vm.custdialog.icon
                    : 'el-input__icon icon-duihuakuang',style:({
                  fontSize: '17px',
                  lineHeight: _vm.inputSuffixHeight + 'px',
                })}),_vm._v("\n              "+_vm._s(_vm.custdialog.name)+"\n            ")])],1)])],1)]):_vm._e()]),(!_vm.inputWriteable)?_c('span',_vm._l((_vm.inputVal),function(item){return _c('span',{key:item.value,staticClass:"el-tag el-tag--info el-tag--small",staticStyle:{"margin-right":"8px"},on:{"click":function($event){$event.stopPropagation();}}},[_c('span',{staticClass:"el-select__tags-text"},[_vm._v(_vm._s(item.value))])])}),0):_vm._e(),(_vm.isMobile)?_c('custom-mobile-dialog',{ref:"customMobileDialogRef",attrs:{"model-name":_vm.modelName,"custdialog":_vm.custdialog,"sub-index":_vm.subIndex,"sun-index":_vm.sunIndex,"sub-path":_vm.subPath,"current-sub-data":_vm.currentSubData},on:{"calacInputSuffixHeight":_vm.calacInputSuffixHeight,"updateInput":_vm.updateInput}}):_c('custom-dialog',{ref:"customDialogRef",attrs:{"model-name":_vm.modelName,"custdialog":_vm.custdialog,"sub-index":_vm.subIndex,"sun-index":_vm.sunIndex,"sub-path":_vm.subPath,"current-sub-data":_vm.currentSubData,"is-read-only":!_vm.inputWriteable},on:{"calacInputSuffixHeight":_vm.calacInputSuffixHeight,"updateInput":_vm.updateInput},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:"value"}}),_c('span',{staticStyle:{"display":"none"}},[_vm._t("labeldesc",[_vm._v(_vm._s(_vm.inputName))])],2),_c('ht-field-tail',{attrs:{"field-name":_vm.inputName,"input-value":_vm.value}})],1)}
var mainvue_type_template_id_7ac2d73f_scoped_true_staticRenderFns = []


// CONCATENATED MODULE: ./packages/CustomDialog/src/main.vue?vue&type=template&id=7ac2d73f&scoped=true

// CONCATENATED MODULE: ./packages/CustomDialog/src/customDialog.js



/* harmony default export */ var src_customDialog = ({
  mixins: [mobileMode["a" /* default */]],
  data() {
    return {
      pagination: {},
      dialogData: [],
      total: 0,
      form: {},
      itemSavestate: {}
    };
  },
  methods: {
    //更新对话框数据
    setDialogData(data) {
      data.forEach(item => {
        delete item.row_id;
      });
      if (this.isMobile && this.pagination && this.pagination.page > 1) {
        this.dialogData = this.dialogData.concat(data);
      } else {
        this.dialogData = data.map((it, index) => {
          const pageOffset = (this.pagination.page - 1) * this.pagination.pageSize;
          return {
            ...it,
            custom_dialog_rowId: `current_row_${index + pageOffset}`
          };
        });
      }
    },
    getDialoglistJson(pagination) {
      let loadingInstance;
      if (this.isMobile) {
        this.$showLoading();
      } else {
        loadingInstance = external_element_ui_["Loading"].service({
          fullscreen: true,
          text: this.$t('ht.customDialog.searching')
        });
      }
      return this.$requestConfig.request({
        url: pagination.queryUrl,
        method: pagination.requestType || 'post',
        data: pagination.pageBean
      }).then(response => {
        if (this.isMobile) {
          this.$cancelLoading();
        } else {
          loadingInstance.close();
        }
        const listKey = pagination.listKey ? pagination.listKey : pagination.dsType && pagination.dsType == 'dataSource' ? 'rows' : '';
        if (!listKey) {
          console.warn(this.$t('ht.customDialog.customDialogWarnMsg'));
        }
        // 通过路径取得对象中的属性
        let rows = [];
        if (response && response.constructor === Array) {
          rows = response;
        } else {
          rows = utils["a" /* default */].getValueByPath(response, listKey);
        }
        const pathPage = utils["a" /* default */].getValueByPath(response, pagination.pageKey);
        const pathPageSize = utils["a" /* default */].getValueByPath(response, pagination.pageSizeKey);
        const pathTotal = utils["a" /* default */].getValueByPath(response, pagination.totalKey);
        if (pathPage) {
          this.pageResult = {
            page: pathPage,
            pageSize: pathPageSize,
            total: pathTotal
          };
        }
        this.setTotal(pathTotal); //总数据条数
        let pageBean = {
          page: pathPage,
          pageSize: pathPageSize,
          showTotal: true,
          total: pathTotal
        };
        this.setPagination(pageBean);
        this.setTodoRows(rows); //列表数据
      }).catch(err => {
        if (this.isMobile) {
          this.$cancelLoading();
        } else {
          loadingInstance.close();
        }
      });
    },
    //更新每页下拉显示数据
    setPaginationSize(size) {
      this.pagination.pageSize = size;
    },
    //更新第几页
    setPaginationPageNum(currentPage) {
      this.pagination.page = currentPage;
    },
    getTreeData(data) {
      return new Promise(resolve => {
        if (data.requestType == 'GET') {
          this.$requestConfig.request({
            url: data.url
          }).then(response => {
            resolve(response.data);
          });
        }
      });
    },
    setPagination(pagination) {
      this.pagination = pagination;
    },
    setTodoRows(rows) {
      let newRows = [];
      for (let i = 0; i < rows.length; i++) {
        let data = rows[i];
        let keys = Object.keys(data);
        let objRows = {};
        keys.forEach(key => {
          objRows[key.toLowerCase()] = data[key];
        });
        newRows.push(objRows);
      }
      this.setDialogData(newRows);
    },
    setTotal(total) {
      this.total = total;
    }
  }
});
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"8bdeefa2-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/CustomDialog/src/customDialog.vue?vue&type=template&id=8ce74706&scoped=true
var customDialogvue_type_template_id_8ce74706_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-dialog',{attrs:{"visible":_vm.customDialogShowList,"title":_vm.customDialog.name,"close-on-click-modal":false,"before-close":_vm.dialogCancel,"append-to-body":"","top":"6vh","width":"60%"},on:{"update:visible":function($event){_vm.customDialogShowList=$event},"opened":_vm.afterOpen}},[_c('el-container',{staticStyle:{"overflow":"auto"},style:(_vm.style)},[(_vm.customDialog.style == 2)?_c('el-aside',{directives:[{name:"show",rawName:"v-show",value:(_vm.treeShow),expression:"treeShow"}],staticStyle:{"width":"23%"}},[_c('el-card',[_c('div',{staticClass:"clearfix",attrs:{"slot":"header"},slot:"header"},[_c('span',{staticStyle:{"font-size":"16px"}},[_vm._v(_vm._s(_vm.leftTreeTitle))])]),_c('el-tree',{ref:"combinationTree",attrs:{"data":_vm.combinationTreeData,"props":_vm.defaultProps,"node-key":_vm.nodeKey,"highlight-current":"","check-on-click-node":true,"lazy":"","load":_vm.loadTree},on:{"node-click":_vm.combiTreeClick}})],1)],1):_vm._e(),(_vm.customDialog.style == 2)?_c('el-divider',{attrs:{"direction":"vertical"}}):_vm._e(),_c('el-container',[(_vm.querysShow)?_c('el-header',{staticClass:"middle-header"},[_vm._l((_vm.conditionBind),function(condition,index){return _c('div',{key:index,staticClass:"search-item"},[_c('p',{staticStyle:{"font-size":"14px"}},[_vm._v(_vm._s(condition.comment)+":")]),(condition.controllerType == '1')?_c('div',[_c('el-input',{staticStyle:{"width":"180px","padding":"10px 0","margin":"0 5px 0 5px"},attrs:{"size":"small","clearable":"","placeholder":_vm.placeholders[index],"prefix-icon":"el-icon-search"},nativeOn:{"keyup":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,"enter",13,$event.key,"Enter")){ return null; }return _vm.searchEnterFun($event)}},model:{value:(_vm.queryParams[index][condition.field]),callback:function ($$v) {_vm.$set(_vm.queryParams[index], condition.field, $$v)},expression:"queryParams[index][condition.field]"}})],1):_vm._e(),(condition.controllerType == '2')?_c('div',{staticStyle:{"margin-right":"10px"}},_vm._l((condition.config.options),function(itemR,$index1){return _c('el-radio',{key:$index1,attrs:{"label":itemR.key},model:{value:(_vm.queryParams[index][condition.field]),callback:function ($$v) {_vm.$set(_vm.queryParams[index], condition.field, $$v)},expression:"queryParams[index][condition.field]"}},[_vm._v("\n                "+_vm._s(itemR.value)+"\n              ")])}),1):_vm._e(),(condition.controllerType == '3')?_c('div',{staticStyle:{"margin-right":"10px"}},[(condition.config.choiceType == 'static')?_c('ht-select',{attrs:{"placeholder":_vm.quickSearch,"options":condition.config.options},model:{value:(_vm.queryParams[index][condition.field]),callback:function ($$v) {_vm.$set(_vm.queryParams[index], condition.field, $$v)},expression:"queryParams[index][condition.field]"}}):_c('eip-select-dia',{attrs:{"placeholder":_vm.quickSearch,"ganged":{
                  alias: condition.config.customQuery.alias,
                  valueBind: condition.config.customQuery.valueBind,
                  noInit: '',
                  labelBind: condition.config.customQuery.labelBind,
                  gangedBind: '{}',
                  bind: condition.config.bind,
                },"multiple":false,"filterable":false,"allow-create":false,"selectlist":[],"query-params":_vm.queryParams},model:{value:(_vm.queryParams[condition.field]),callback:function ($$v) {_vm.$set(_vm.queryParams, condition.field, $$v)},expression:"queryParams[condition.field]"}})],1):_vm._e(),(condition.controllerType == '4')?_c('div',{staticStyle:{"margin-right":"10px"}},[_c('eip-tag',{attrs:{"tag-key":condition.config.tag,"placeholder":_vm.quickSearch,"filterable":condition.config.filterable,"expand":condition.config.expand},model:{value:(_vm.queryParams[index][condition.field]),callback:function ($$v) {_vm.$set(_vm.queryParams[index], condition.field, $$v)},expression:"queryParams[index][condition.field]"}})],1):_vm._e()])}),(_vm.conditionBind && _vm.conditionBind.length > 0)?_c('div',{staticClass:"btn-wrap"},[_c('el-button',{staticStyle:{"margin-left":"20px"},attrs:{"size":"small","type":"primary","icon":"el-icon-search"},on:{"click":function($event){return _vm.search(true)}}},[_vm._v("\n              "+_vm._s(_vm.t('ht.common.search'))+"\n            ")]),_c('el-button',{attrs:{"size":"small","icon":"el-icon-refresh"},on:{"click":_vm.reset}},[_vm._v("\n              "+_vm._s(_vm.t('ht.common.reset'))+"\n            ")])],1):_vm._e()],2):_vm._e(),_c('el-main',{staticClass:"custom-dialog_main"},[_c('el-table',{ref:"orgTable",staticClass:"org-table",staticStyle:{"width":"100%"},attrs:{"data":_vm.dialogData,"stripe":"","border":"","size":"medium","row-key":"custom_dialog_rowId"},on:{"row-click":_vm.orgRowClick,"selection-change":_vm.orgTableSelection,"select":_vm.onTableSelect,"select-all":_vm.selectAll}},[(_vm.customDialog.selectNum != 1)?_c('el-table-column',{attrs:{"type":"selection","align":"center","reserve-selection":"","width":"55"}}):_vm._e(),(_vm.customDialog.selectNum === 1)?_c('el-table-column',{attrs:{"align":"center","width":"55"},scopedSlots:_vm._u([{key:"default",fn:function(scope){return [_c('el-radio',{staticClass:"textRadio",attrs:{"label":scope.$index},on:{"selection-change":_vm.orgTableSelection},model:{value:(_vm.tableRadioVal),callback:function ($$v) {_vm.tableRadioVal=$$v},expression:"tableRadioVal"}},[_vm._v("\n                   \n                ")])]}}],null,false,918943478)}):_vm._e(),_c('el-table-column',{attrs:{"type":"index","width":"50","align":"center","label":_vm.t('ht.common.index')}}),_vm._l((_vm.displayfield),function(field){return _c('el-table-column',{key:field.field,staticStyle:{"width":"100%"},attrs:{"show-overflow-tooltip":true,"prop":field.field,"label":field.comment}})})],2)],1),_c('el-footer',[(_vm.customDialog.needPage)?_c('el-row',{staticStyle:{"padding-top":"15px","justify-content":"space-between"},attrs:{"type":"flex","justify":"end"}},[(_vm.customDialog.style == 2)?_c('el-button',{attrs:{"icon":_vm.toggleBtn,"size":"mini","type":"default"},on:{"click":_vm.toggleTree}}):_vm._e(),_c('el-pagination',{attrs:{"small":"","current-page":_vm.pagination.page,"page-sizes":[10, 20, 50, 100],"page-size":_vm.pagination.pageSize,"layout":"total, sizes, prev, pager, next, jumper","total":_vm.total},on:{"size-change":_vm.handleSizeChange,"current-change":_vm.handleCurrentChange}})],1):_vm._e()],1)],1)],1),_c('span',{staticClass:"dialog-footer",staticStyle:{"text-align":"center"},attrs:{"slot":"footer"},slot:"footer"},[_c('el-button',{attrs:{"size":"small","type":"primary","disabled":_vm.isDisabledConfirmBtn},on:{"click":_vm.dialogConfirm}},[_vm._v("\n        "+_vm._s(_vm.t('ht.common.confirm'))+"\n      ")]),_c('el-button',{attrs:{"size":"small"},on:{"click":_vm.dialogCancel}},[_vm._v("\n        "+_vm._s(_vm.t('ht.common.cancle'))+"\n      ")])],1)],1),_c('el-dialog',{attrs:{"title":_vm.t('ht.customDialog.title'),"width":"500px","visible":_vm.dialogVisible,"before-close":_vm.handleClose,"close-on-click-modal":false,"top":"6vh"},on:{"update:visible":function($event){_vm.dialogVisible=$event}}},[_c('table',{staticClass:"form-table",staticStyle:{"margin-left":"20px","width":"90%"},attrs:{"cellspacing":"0","cellpadding":"0","border":"0"}},_vm._l((_vm.conditionfieldTree),function(item,$index){return _c('tbody',{key:$index},[(item.defaultType == '4')?_c('tr',[_c('th',{attrs:{"width":"130px"}},[_vm._v(_vm._s(item.comment)+":")]),_c('td',[(item.type != 'date')?_c('ht-input',{staticStyle:{"width":"100%"},attrs:{"type":"text","placeholder":_vm.t('ht.common.enter') + item.comment,"autocomplete":"off"},model:{value:(item.paramVal),callback:function ($$v) {_vm.$set(item, "paramVal", $$v)},expression:"item.paramVal"}}):_vm._e(),(item.type == 'date')?_c('ht-date',{staticStyle:{"width":"100%"},attrs:{"placeholder":_vm.t('ht.common.enter') + item.comment,"format":"yyyy-MM-dd"},model:{value:(item.paramVal),callback:function ($$v) {_vm.$set(item, "paramVal", $$v)},expression:"item.paramVal"}}):_vm._e()],1)]):_vm._e()])}),0),_c('div',{staticClass:"dialog-footer",attrs:{"slot":"footer"},slot:"footer"},[_c('el-button',{attrs:{"type":"primary"},on:{"click":_vm.handleSave}},[_vm._v("\n        "+_vm._s(_vm.t('ht.common.confirm'))+"\n      ")]),_c('el-button',{on:{"click":_vm.handleClose}},[_vm._v(_vm._s(_vm.t('ht.common.cancle')))])],1)]),_c('el-dialog',{attrs:{"visible":_vm.customDialogShowTree,"title":_vm.customDialog.name,"close-on-click-modal":false,"before-close":_vm.dialogCancelTree,"append-to-body":"","top":"6vh","width":"500px"},on:{"update:visible":function($event){_vm.customDialogShowTree=$event}}},[_c('el-container',{staticStyle:{"overflow":"auto"},style:(_vm.style)},[_c('el-tree',{ref:"tree",staticStyle:{"width":"100%"},attrs:{"data":_vm.props1,"props":_vm.defaultProps,"node-key":_vm.nodeKey,"highlight-current":"","show-checkbox":_vm.customDialog.selectNum === -1,"check-on-click-node":true,"check-strictly":false,"lazy":"","load":_vm.loadTree,"default-expanded-keys":_vm.defaultExpandedKeys},on:{"node-click":_vm.treeClick,"check-change":_vm.getChecked}})],1),_c('span',{staticClass:"dialog-footer",staticStyle:{"text-align":"center"},attrs:{"slot":"footer"},slot:"footer"},[_c('el-button',{attrs:{"size":"small","type":"primary"},on:{"click":_vm.dialogTreeConfirm}},[_vm._v("\n        "+_vm._s(_vm.t('ht.common.confirm'))+"\n      ")]),_c('el-button',{attrs:{"size":"small"},on:{"click":_vm.dialogCancelTree}},[_vm._v("\n        "+_vm._s(_vm.t('ht.common.cancle'))+"\n      ")])],1)],1)],1)}
var customDialogvue_type_template_id_8ce74706_scoped_true_staticRenderFns = []


// CONCATENATED MODULE: ./packages/CustomDialog/src/customDialog.vue?vue&type=template&id=8ce74706&scoped=true

// EXTERNAL MODULE: external "jquery"
var external_jquery_ = __webpack_require__("c5e1");
var external_jquery_default = /*#__PURE__*/__webpack_require__.n(external_jquery_);

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/CustomDialog/src/customDialog.vue?vue&type=script&lang=js
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//









/* harmony default export */ var customDialogvue_type_script_lang_js = ({
  name: 'CustomDialog',
  mixins: [src_customDialog, mixins_locale, inputName["a" /* default */], mixins_permission["a" /* default */], mixins_form["a" /* default */]],
  props: {
    custdialog: {
      type: Object,
      default: () => {
        return {};
      }
    },
    value: String,
    subIndex: Number,
    sunIndex: Number,
    subPath: String,
    currentSubData: Array,
    isReadOnly: {
      type: Boolean,
      default: false
    }
  },
  data() {
    return {
      isEditInputShow: false,
      customValue: '',
      defualtTooltipplacement: 'bottom',
      dialogVisible: false,
      //打开树形输入动态参数值的对话框
      pageParam: {},
      //树形对话框参数
      conditionfieldTree: [],
      //树形对话框条件字段
      data: {
        qxdd: {}
      },
      inputSuffixWidth: 0,
      placeholderBo: '',
      quickSearch: '',
      //填写提示
      conditionBind: [],
      //参数查询字段
      nodeKey: 'ID_',
      //树形数据父Id
      customDialogShowList: false,
      customDialogShowTree: false,
      selectOrgProps: {
        label: 'name'
      },
      style: '',
      //对话框宽高
      selectOrgs: [],
      inputSuffixHeight: 33,
      config: null,
      updating: false,
      displayfield: [],
      //显示字段
      customDialog: {},
      queryParam: '',
      //查询条件输入的值
      props1: [],
      showData: [],
      checkBoxDataAll: [],
      //选中对象的集合
      defaultProps: {
        children: 'children',
        label: 'label',
        isLeaf: 'isLeaf'
      },
      propsData: [],
      querysShow: false,
      //是否显示搜索框
      tableRadioVal: '',
      isCurrentChange: false,
      //是否不执行 orgTableSelection方法
      param: [],
      //绑定的表单字段
      treeList: [],
      displayField: {},
      queryParams: [],
      placeholders: [],
      oldselectOrgs: [],
      combinationTreeData: [],
      combiTreeDisplayField: [],
      combinationTreeQuerys: [],
      combinationRule: {},
      toggleBtn: 'el-icon-arrow-left',
      treeShow: true,
      transtionWidth: '25%',
      leftTreeTitle: '',
      writeable: true,
      fixedParams: {},
      // 传过来的固定值
      executeScriptResult: null,
      isDisabledConfirmBtn: true
    };
  },
  computed: {
    //默认展开的节点的 key 的数组
    defaultExpandedKeys: function () {
      if (this.props1 && this.props1.length > 0 && this.props1[0][this.nodeKey]) {
        return [this.props1[0][this.nodeKey]];
      }
      return [];
    }
  },
  watch: {
    dialogData: {
      handler(val) {
        if (this.value && val.length > 0) {
          const currentBindInfo = this.custdialog.custDialog.mappingConf.find(it => this.modelName === `data.${it['target'][0]}`);
          const from = currentBindInfo && currentBindInfo.from.toLowerCase();
          let returnStr = JSON.parse(this.customDialog.resultfield);
          let currentObj = returnStr.find(item => {
            return item.comment.toLowerCase() === from;
          });
          const fromKey = currentObj ? currentObj.field : '';
          // if (fromKey) {
          //   this.selectOrgs = val.filter((item) => {
          //     return this.value.split(',').includes(item[fromKey])
          //   })
          // }
        }
      },
      immediate: true,
      deep: true
    },
    selectOrgs(val) {
      if (val && val.length) {
        this.isDisabledConfirmBtn = false;
      } else {
        this.isDisabledConfirmBtn = true;
      }
    }
  },
  mounted() {
    this.$nextTick(() => {
      if (this.value && !this.isReadOnly) {
        this.showDialog(true);
      }
    });
  },
  methods: {
    showDialog(isMounted = false) {
      this.selectOrgs = [];
      const this_ = this;
      this.fixedParams = {};
      var alias = this.custdialog.custDialog.alias;
      this.$requestConfig.getCustomDialogByAlias(alias).then(customDialog => {
        if (!customDialog || !customDialog.alias) {
          this.$message.error(this.t('ht.customDialog.errorMsg', {
            alias
          }));
          return;
        }
        if (customDialog.style == 1) {
          var displaylist = JSON.parse(customDialog.displayfield);
          this_.nodeKey = displaylist.id;
        }
        if (customDialog.needPage && customDialog.requestType === 'POST') {
          let obj = {};
          this.getLastKeyByPath(obj, customDialog.pageKey, 1);
          this.getLastKeyByPath(obj, customDialog.pageSizeKey, 10);
          this.getLastKeyByPath(obj, customDialog.totalKey, true);
          const exp = utils["a" /* default */].parseExp(customDialog.dataParam, obj, true);
          if (exp) {
            const params = JSON.parse(exp);
            if (params.pageBean) {
              this.pagination = {
                ...params.pageBean
              };
            }
          }
        }
        //对话框按表单字段查询（参数传入的）
        let bindList = this_.custdialog.custDialog.conditions;
        this_.param = []; //绑定的表单字段
        if (bindList.length > 0) {
          bindList.forEach(ele => {
            //绑定表单字段
            if (ele.bind && (ele.defaultType == '3' || ele.bind.startsWith('data.searchForm'))) {
              let obj = {};
              obj.field = ele.field;
              obj.bind = ele.bind;
              obj.bindType = ele.bindType;
              this_.param.push(obj);
            }
            //取值对象为脚本时获取value
            if (ele.bindType === 3) {
              this_.$requestConfig.executeScript(ele.bind).then(res => {
                this_.executeScriptResult = res && res.value;
              });
            }
          });
        }
        //判断对话框查询是否有条件
        let userInputList = JSON.parse(customDialog.conditionfield);
        this_.quickSearch = ''; //填写提示 placeholder
        this_.conditionBind = [];
        let queryParams = [];
        let placeholders = [];
        if (userInputList.length > 0) {
          userInputList.forEach(ele => {
            var obj = {};
            //条件查询参数（用户输入的） 文本框输入 defaultType 1 用户输入 2固定值 3参数传入 5脚本
            if (ele.defaultType == '1') {
              obj[ele.field] = '';
              queryParams.push(obj);
              // queryParams[ele.field] = "";
              this_.conditionBind.push(ele);
              placeholders.push(this.t('ht.common.enter') + ele.comment);
            }
            if (ele.defaultType == '2' && ele.defaultValue) {
              this_.fixedParams[ele.field] = ele.defaultValue;
            }
          });
          this.$set(this, 'queryParams', queryParams);
          this.$set(this, 'placeholders', placeholders);
        }
        //判断是否显示条件查询输入框
        if (this_.quickSearch != '') {
          this_.querysShow = true;
        } else {
          this_.querysShow = true;
        }
        this_.quickSearch = this.t('ht.common.enter') + this.quickSearch + this.t('ht.common.search');
        this_.style = 'height:' + customDialog.height + 'px';
        if (window.screen.height && window.screen.height <= 900) {
          this.style = 'height:440px';
        }
        if (customDialog.style == 0 || customDialog.style == 2) {
          //列表
          setTimeout(() => {
            this_.customDialogShow({
              alias: alias,
              customDialog: customDialog
            }, isMounted);
          }, 100);
        } else if (customDialog.style == 1) {
          //树形
          this_.pageParam = {
            alias: alias,
            customDialog: customDialog
          };
          this_.customDialog = customDialog;
          let param = {};
          this_.conditionfieldTree = [];
          //判断是否存在条件
          if (customDialog.conditionfield) {
            this_.conditionfieldTree = JSON.parse(customDialog.conditionfield);
            if (this_.conditionfieldTree.length > 0) {
              for (let i = this_.conditionfieldTree.length - 1; i >= 0; i--) {
                //判断条件字段是否是动态传入（defaultType：4：动态传入，2：固定值 ）
                if (this_.conditionfieldTree[i].defaultType == '4') {
                  param[this_.conditionfieldTree[i].field] = this_.conditionfieldTree[i].comment;
                }
              }
            }
          }
          //有动态传入的字段
          if (!isMounted) {
            if (JSON.stringify(param) != '{}') {
              this_.dialogVisible = true;
            } else {
              //无动态传入的字段
              this_.customDialogTreeShow(this_.pageParam);
            }
          }
        }
      });
    },
    treeClick(data) {
      // 单选
      if (this.customDialog.selectNum === 1) {
        this.propsData = [];
        this.propsData.push(data);
      }
    },
    getChecked() {
      // 多选
      if (this.customDialog.selectNum === -1) {
        this.propsData = this.$refs.tree.getCheckedNodes();
      }
    },
    customDialogShow(pageParam, isMounted = false) {
      if (!isMounted) {
        this.customDialogShowList = true;
      }
      this.customDialog = pageParam.customDialog;
      this.customDialog.queryUrl = this.customDialog.dsType == 'dataSource' ? '${form}/form/customDialog/v1/getListData?alias=' + this.customDialog.alias + '&mapParam=' + (this.customDialog.mapParam ? this.customDialog.mapParam : '') : this.customDialog.url;
      if (this.dialogData.length < 1) {
        this.search();
        this.displayfield = JSON.parse(pageParam.customDialog.displayfield);
        if (this.customDialog.dsType == 'dataSource') {
          for (var i = 0; i < this.displayfield.length; i++) {
            this.displayfield[i].field = this.displayfield[i].field.toLowerCase();
          }
        }
      } else if (this.dialogData.length >= 1) {
        this.search();
      }
      if (this.dialogData.length > 0 && this.displayfield.length == 0) {
        this.search();
        this.displayfield = JSON.parse(pageParam.customDialog.displayfield);
        if (this.customDialog.dsType == 'dataSource') {
          for (var j = 0; i < this.displayfield.length; j++) {
            this.displayfield[j].field = this.displayfield[j].field.toLowerCase();
          }
        }
      }
    },
    customDialogTreeShow(pageParam) {
      var customDialog = this.customDialog;
      let mapParamObj = {}; //数据来源是数据源，且有动态参数传入时调用
      let mapParam = '';
      let defaultPValue = ''; //父ID值
      if (this.conditionfieldTree.length > 0) {
        for (let i = 0; i < this.conditionfieldTree.length; i++) {
          if (this.conditionfieldTree[i].defaultType == '4') {
            //动态传入
            //得到输入的条件字段值
            let val = this.conditionfieldTree[i].paramVal;
            if (!val) {
              continue;
            }
            //得到条件字段KEY
            let key = this.conditionfieldTree[i].field;
            mapParamObj[key] = val;
          } else if (this.conditionfieldTree[i].defaultType == '2') {
            //固定值
            //得到输入的条件字段值
            let val = this.conditionfieldTree[i].defaultValue;
            if (!val) {
              continue;
            }
            //得到条件字段KEY
            let key = this.conditionfieldTree[i].field;
            mapParamObj[key] = val;
          }
        }
        if (this.param) {
          const pInst = utils["a" /* default */].getOnlineFormInstance(this);
          this.param.forEach(item => {
            let val = utils["a" /* default */].getValueByPath(pInst, item.bind);
            val && (mapParamObj[item.field] = val);
          });
        }
        if (JSON.stringify(mapParamObj) != '{}') {
          //获取对话框配置的父ID字段
          let pid = JSON.parse(this.customDialog.displayfield).pid;
          for (let m in mapParamObj) {
            if (pid == m) {
              defaultPValue = mapParamObj[m];
              break;
            }
          }
          mapParam = JSON.stringify(mapParamObj);
          mapParam = mapParam.substring(1, mapParam.length - 1);
        }
      }
      var requestType = customDialog.dsType == 'dataSource' ? 'GET' : customDialog.requestType ? customDialog.requestType : 'POST';
      var url = '${form}/form/customDialog/v1/getTreeData?alias=' + pageParam.alias + '&mapParam=' + mapParam;
      var paramsObj = {};
      if (customDialog.dsType != 'dataSource') {
        url = customDialog.url;
        var templatePa = customDialog.dataParam;
        let ctx = {};
        if (customDialog.conditionfield) {
          var conditions = JSON.parse(customDialog.conditionfield);
          for (var i = 0; i < conditions.length; i++) {
            var con = conditions[i];
            if (requestType == 'POST') {
              if (templatePa) {
                // templatePa = templatePa.replace(
                //   new RegExp('\\${' + con.field + '\\}', 'g'),
                //   con.defaultValue
                // )
                ctx[con.field] = con.defaultValue;
              } else {
                paramsObj[con.field] = con.defaultValue;
              }
            } else {
              var ljChar = url.indexOf('?') == -1 ? '?' : '&';
              url = url + ljChar + con.field + '=' + con.defaultValue;
            }
          }
        }
        // 添加用户id 岗位id 组织id
        try {
          if (this.$requestConfig.getUserId()) {
            ctx.userId = this.$requestConfig.getUserId();
          }
          if (this.$requestConfig.getOrgId()) {
            ctx.orgId = this.$requestConfig.getOrgId();
          }
          if (this.$requestConfig.getPostId()) {
            ctx.postId = this.$requestConfig.getPostId();
          }
        } catch (e) {
          console.log(this.t('ht.customDialog.getIdError'), e);
        }
        if (templatePa) {
          templatePa = utils["a" /* default */].parseExp(templatePa, ctx);
          paramsObj = JSON.parse(templatePa);
        }
      }
      var requestParams = {};
      requestParams.requestType = requestType;
      requestParams.url = url;
      requestParams.paramsObj = paramsObj;
      this.searchTree(requestParams, defaultPValue);
      this.customDialogShowTree = true;
    },
    //树形查询
    searchTree(requestParams, defaultPValue) {
      const this_ = this;
      let query = this.$requestConfig.request({
        url: requestParams.url,
        method: requestParams.requestType == 'POST' ? 'post' : 'get',
        data: requestParams.paramsObj
      });
      query.then(function (response) {
        //显示字段配置
        let displayfield = JSON.parse(this_.customDialog.displayfield);
        this_.displayField = displayfield;
        //把对话框配置的显示字段显示名称赋值给树形的显示值
        this_.defaultProps.label = displayfield.displayName;
        this_.treeList = response;
        //得到要加载树的信息
        if (defaultPValue) {
          displayfield.pvalue = defaultPValue;
        }
        this_.props1 = this_.toTreeData(response, displayfield.id, displayfield.pid, displayfield.displayName, displayfield.pvalue ? displayfield.pvalue : 0);
      });
    },
    dialogTreeConfirm() {
      this.calacInputSuffixHeight();
      let thisIndex = null; //当前数据所在下标
      let parentIndex = null; //父节点所在下标
      if (this.$parent.$el) {
        thisIndex = utils["a" /* default */].getSomeAttributeFromParentElement(this.$el, 'data-index');
        if (!thisIndex) {
          thisIndex = utils["a" /* default */].getSubScopeElAndIndex(this.$parent.$el).index;
        }
        parentIndex = utils["a" /* default */].getSomeAttributeFromParentElement(this.$parent.$parent.$el, 'data-index');
      }
      this.setDialogData([]);
      var returnStr = JSON.parse(this.customDialog.resultfield);
      var field = new Array([returnStr.length]);
      var comment = new Array([returnStr.length]);
      var str = [];
      for (var i = 0; i < returnStr.length; i++) {
        field[i] = returnStr[i].field;
        comment[i] = returnStr[i].comment;
      }
      var nodes = this.propsData;
      if (this.customDialog.selectNum === 1) {
        nodes = this.propsData[0];
        var temp = '';
        for (var j = 0; j < comment.length; j++) {
          temp += '"' + comment[j] + '":"' + nodes[field[j]] + '",';
        }
        if (temp != '') {
          temp = '{' + temp.substring(0, temp.length - 1) + '}';
        }
        str.push(utils["a" /* default */].parseToJson(temp));
      } else {
        nodes.forEach((item, k) => {
          var temp = '';
          for (var i = 0; i < comment.length; i++) {
            temp += '"' + comment[i] + '":"' + nodes[field[i]] + '",';
            temp += '"' + comment[i] + '":"' + nodes[k][field[i]] + '",';
          }
          if (temp != '') {
            temp = '{' + temp.substring(0, temp.length - 1) + '}';
          }
          str.push(utils["a" /* default */].parseToJson(temp));
        });
      }
      const pInst = utils["a" /* default */].getOnlineFormInstance(this);
      this.selectOrgs = this.convertComment2Field(str, field);
      this.custdialog.custDialog.mappingConf.forEach(con => {
        var val = '';
        str.forEach(item => {
          val += item[con.from] + ',';
        });
        if (this.modelName == 'data.' + con['target'][0]) {
          utils["a" /* default */].setValueByPath(pInst, 'data.' + con['target'][0], val.substring(0, val.length - 1), thisIndex);
        } else if (this.modelName == 'searchForm.' + con['target'][0]) {
          utils["a" /* default */].setValueByPath(pInst, 'searchForm.' + con['target'][0], val.substring(0, val.length - 1), thisIndex);
        } else {
          let configAttr = con['target'][0].split('.');
          let path = con['target'][0];
          if (configAttr.length == 4 && parentIndex >= 0) {
            //孙表数据赋值
            path = configAttr[0] + '.' + configAttr[1] + '[' + parentIndex + '].' + configAttr[2] + '.' + configAttr[3];
          }
          const _val = val.substring(0, val.length - 1);
          if (path) {
            if (this.modelName && this.modelName.endsWith(path)) {
              // this.$emit('input', _val)
              this.$emit('updateInput', _val);
            }
            utils["a" /* default */].setValueByPath(pInst, `${pInst.data ? 'data.' : 'model.'}${path}`, _val, thisIndex);
          }
        }
      });
      //回显的值
      this.showData = this.propsData ? [...this.propsData] : '';
      this.customDialogShowTree = false;
    },
    // 将以comment为key的数组改造为以field为key的数组
    convertComment2Field(ary, fields) {
      const result = [];
      if (!ary || ary.length == 0) {
        return result;
      }
      ary.forEach(s => {
        const r = {};
        Object.entries(s).forEach((kv, index) => {
          const f = fields[index];
          if (f) {
            r[f] = kv[1];
          }
        });
        result.push(r);
      });
      return result;
    },
    dialogCancelTree() {
      this.setDialogData([]);
      this.customDialogShowTree = false;
    },
    //查询
    search(resetPagintion) {
      let querys = []; //查询条件
      let queryFilter = {};
      if (JSON.stringify(this.pagination) == '{}') {
        this.pagination = {
          page: 1,
          pageSize: 10,
          showTotal: true
        };
      }
      let pageBean = {
        pageBean: this.pagination
      };
      if (resetPagintion) {
        pageBean.pageBean = {
          page: 1,
          pageSize: 10,
          showTotal: true
        };
      }
      //用户输入的
      if (this.queryParams.length != 0 && this.queryParams[0] != '') {
        this.conditionBind.forEach((item, index) => {
          if (this.queryParams[index][item.field]) {
            querys.push({
              property: item.field,
              value: this.queryParams[index][item.field],
              group: 'main',
              operation: 'LIKE',
              relation: 'AND'
            });
          }
        });
      }
      //参数传入的查询拼接
      if (this.param) {
        this.param.forEach(item => {
          querys.push({
            property: item.field,
            value: item.bindType === 2 ? item.bind : item.bindType === 3 ? this.executeScriptResult : this.getCurrentValue(item.bind),
            group: 'main',
            operation: 'LIKE',
            relation: 'AND'
          });
        });
      }
      //来自组合对话框的
      if (this.combinationTreeQuerys && this.combinationTreeQuerys.length != 0) {
        for (let i = 0; i < this.combinationTreeQuerys.length; i++) {
          querys.push(this.combinationTreeQuerys[i]);
        }
      }

      // post restful接口，并且配置了post参数。则以post参数作为请求参数
      if (this.customDialog.dsType != 'dataSource' && this.customDialog.requestType == 'POST' && this.customDialog.dataParam && this.customDialog.dataParam.constructor == String) {
        let param = this.param;
        // 构建上下文数据对象
        let ctx = {};
        //根据路径构建想要的分页属性
        let obj = {};
        this.getLastKeyByPath(obj, this.customDialog.pageKey, pageBean.pageBean.page);
        this.getLastKeyByPath(obj, this.customDialog.pageSizeKey, pageBean.pageBean.pageSize);
        this.getLastKeyByPath(obj, this.customDialog.totalKey, pageBean.pageBean.total);
        querys && querys.length && querys.forEach(element => {
          ctx[element.property] = element.value;
        });
        const queryParamMap = this.getSearchValueByKey();
        queryParamMap.pageSize = pageBean.pageBean.pageSize;
        queryParamMap.page = pageBean.pageBean.page;
        queryParamMap.total = pageBean.pageBean.total;
        // 添加用户id 岗位id 组织id
        try {
          if (this.$requestConfig.getUserId) {
            ctx.userId = this.$requestConfig.getUserId();
          }
          if (this.$requestConfig.getOrgId) {
            ctx.orgId = this.$requestConfig.getOrgId();
          }
          if (this.$requestConfig.getPostId) {
            ctx.postId = this.$requestConfig.getPostId();
          }
        } catch (e) {
          console.log(this.t('ht.customDialog.getIdError'), e);
        }
        const exp = utils["a" /* default */].parseExp(this.customDialog.dataParam, {
          ...ctx,
          ...queryParamMap,
          ...this.fixedParams
        });
        try {
          param = JSON.parse(exp);
          const dataParam = JSON.parse(this.customDialog.dataParam);
          const queryList = dataParam && dataParam.querys && dataParam.querys.map(item => {
            const bindKey = item.value && item.value.replace('${', '').replace('}', '');
            return {
              ...item,
              value: queryParamMap[bindKey] || ctx[bindKey] || ''
            };
          });
          param.querys = queryList;
          if (this.customDialog.needPage) {
            param.pageBean = obj;
          } else {
            if (param.pageBean) {
              param.pageBean.pageSize = -1;
            }
          }
          //构造请求的参数
          let requestParam = {
            pageBean: param,
            queryUrl: this.customDialog.queryUrl,
            requestType: this.customDialog.requestType,
            dsType: this.customDialog.dsType,
            listKey: this.customDialog.listKey,
            pageKey: this.customDialog.pageKey,
            pageSizeKey: this.customDialog.pageSizeKey,
            totalKey: this.customDialog.totalKey
          };
          this.getDialoglistJson(requestParam).then(() => {
            this.checkList();
          });
        } catch (e) {
          this.$message.error(`${this.t('ht.customDialog.postRequestParamError')}${param}`);
        }
      } else {
        if (querys.length > 0) {
          queryFilter = this.handlePostData({
            pageBean: pageBean.pageBean,
            querys
          });
          this.customDialog.pageBean = queryFilter;
          this.getDialoglistJson(this.customDialog).then(() => {
            this.checkList();
          });
        } else {
          this.customDialog.pageBean = pageBean;
          this.getDialoglistJson(this.customDialog).then(() => {
            this.checkList();
          });
        }
      }
      this.tableRadioVal = '';
    },
    getSearchValueByKey() {
      let queryParamsObj = {};
      if (this.queryParams.length > 0) {
        queryParamsObj = this.conditionBind.reduce((pre, cur, index) => {
          pre[cur.field] = this.queryParams[index][cur.field];
          return pre;
        }, {});
      }
      return queryParamsObj;
    },
    getLastKeyByPath(obj, path, value) {
      if (!obj || !path || path.constructor != String) {
        return;
      }
      if (!/^\w?.*[\w|\]]$/.test(path)) {
        return;
      }
      let pathAry = path.split('.');
      if (pathAry.length == 1) {
        obj[path] = value;
      } else {
        let length = pathAry.length;
        obj[pathAry[length - 1]] = value;
      }
    },
    //重置
    reset() {
      this.queryParams.forEach((paramObj, index) => {
        for (let key in paramObj) {
          this.queryParams[index][key] = '';
        }
      });
      //组合树重置
      let nodes = {};
      if (this.$refs.combinationTree) {
        nodes = this.$refs.combinationTree.store.nodesMap;
      }
      for (let key in nodes) {
        nodes[key].expanded = false;
      }
      this.combinationTreeQuerys.splice(0);
      this.search(true);
    },
    getCurrentValue(bind) {
      let value = null;
      const pInst = utils["a" /* default */].getOnlineFormInstance(this);
      const bindPath = bind.replace(`${this.subPath}.`, '');
      if (this.sunIndex || this.sunIndex === 0) {
        value = utils["a" /* default */].getValueByPath(this.currentSubData[this.subIndex], bindPath, this.sunIndex || this.sunIndex === 0 ? this.sunIndex : null);
      } else {
        value = utils["a" /* default */].getValueByPath(pInst, bind, this.subIndex || this.subIndex === 0 ? this.subIndex : null);
      }
      return value;
    },
    checkList() {
      const this_ = this;
      setTimeout(() => {
        //列表
        if (this_.checkBoxDataAll != undefined && this_.checkBoxDataAll.length > 0) {
          this_.checkBoxDataAll.forEach(row => {
            let res = this_.indexArray(this_.dialogData, row);
            // this_.tableRadioVal = res
            if (res != -1) {
              this_.isCurrentChange = true;
              // this_.toggleRowSelection(res, true)
            }
          });
        }
      }, 300);
    },
    toggleRowSelection(res, val) {
      // this.$refs.orgTable.toggleRowSelection(this.dialogData[res], val)
    },
    //点击列表某一条数据时触发
    orgRowClick(row, column, event) {
      if (this.customDialog.selectNum === 1) {
        external_jquery_default()(event.currentTarget.children[0].children[0].children[0]).trigger('click');
        this.selectOrgs = [];
        this.selectOrgs.push(row);
      } else if (this.customDialog.selectNum != 1) {
        this.isCurrentChange = false;
        //判断点击列表数据时复选框是否勾选  selected：true不勾选，false勾选
        let selected = this.selectOrgs && this.selectOrgs.length > 0 && this.indexArray(this.selectOrgs, row) !== -1;
        if (selected) {
          this.isCurrentChange = true;
          let res = this.indexArray(this.selectOrgs, row);
          this.selectOrgs.splice(res, 1);
        }
        this.$refs.orgTable.toggleRowSelection(row);
      }
    },
    //列表复选框有改变时触发
    orgTableSelection(selection) {
      //全选的情况特殊处理(为了与原本功能逻辑不冲突,先复制一份旧的选中数据.然后拿到全选事件中去计算)
      this.oldselectOrgs = _.cloneDeep(this.selectOrgs);
      //多选
      if (this.customDialog.selectNum != 1 && !this.isCurrentChange) {
        if (selection && selection.length > 0) {
          if (selection.length == 1 && (!this.selectOrgs || this.selectOrgs.length == 0)) {
            this.selectOrgs = selection;
          } else if ((!this.selectOrgs || this.selectOrgs.length == 0) && selection.length > 1) {
            if (!this.selectOrgs) {
              this.selectOrgs = [];
            }
            for (let i = selection.length - 1; i >= 0; i--) {
              this.selectOrgs.push(selection[i]);
            }
          } else if (this.isCurrentChange && selection.length >= 10) {
            if (!this.selectOrgs) {
              this.selectOrgs = [];
            } else {
              for (let u = this.selectOrgs.length - 1; u >= 0; u--) {
                let res = this.indexArray(selection, this.selectOrgs[u]);
                if (res != -1) {
                  this.selectOrgs.splice(res, 1);
                }
              }
            }
            for (let i = 0; i < selection.length; i++) {
              this.selectOrgs.push(selection[i]);
            }
          } else {
            for (let i = selection.length - 1; i >= 0; i--) {
              this.selectOrgs.push(selection[i]);
              break;
            }
          }
        }
      }
    },
    //点击列表某一个复选框时触发
    onTableSelect(rows, row) {
      this.isCurrentChange = false;
      //判断点击列表数据时复选框是否勾选  selected：true不勾选，false勾选
      let selected = this.selectOrgs && this.selectOrgs.length > 0 && this.indexArray(this.selectOrgs, row) !== -1;
      if (selected) {
        this.isCurrentChange = true;
        let res = this.indexArray(this.selectOrgs, row);
        this.selectOrgs.splice(res, 1);
      }
    },
    selectAll(selection) {
      if (this.oldselectOrgs != null && selection.length > 0) {
        for (let x = 0; x < selection.length; x++) {
          if (this.indexArray(this.oldselectOrgs, selection[x]) === -1) {
            this.oldselectOrgs.push(selection[x]);
          }
        }
        this.selectOrgs = _.cloneDeep(this.oldselectOrgs);
      } else {
        this.selectOrgs = _.cloneDeep(selection);
      }
    },
    checkNode(data, this_, pnode) {
      if (!data.Pid) {
        //不清楚是不是有地方数据返回是Pid，这里做个判断
        data.Pid = data.pid;
      }
      if (data.Pid) {
        let node = this_.$refs.tree.getNode(data.Pid);
        node.indeterminate = true;
        if (node.data.Pid) {
          this_.$refs.tree.getNode(node.data.Pid).indeterminate = true;
          this.checkNode(this_.$refs.tree.getNode(node.data.Pid).data, this_, this_.$refs.tree.getNode(node.data.Pid));
        }
        if (!node.indeterminate) {
          node.indeterminate = true;
        }
      } else if (pnode && !pnode.indeterminate) {
        pnode.indeterminate = true;
      }
    },
    //回车查询
    searchEnterFun: function (e) {
      var keyCode = window.event ? e.keyCode : e.which;
      if (keyCode == 13) {
        this.pagination.page = 1;
        this.search();
      }
    },
    handleSizeChange: function (size) {
      this.isCurrentChange = true;
      //每页下拉显示数据
      this.pagination.pageSize = size;
      this.search();
    },
    handleCurrentChange: function (currentPage) {
      const this_ = this;
      if (this.selectOrgs != undefined && this.selectOrgs.length > 0) {
        this.selectOrgs.forEach(row => {
          let res = this_.indexArray(this_.checkBoxDataAll, row);
          if (res == -1) {
            this_.checkBoxDataAll.push(row);
          }
        });
      }
      this.isCurrentChange = true;
      //点击第几页
      this.pagination.page = currentPage;
      this.search();
    },
    dialogCancel() {
      const this_ = this;
      this_.queryParam = '';
      this.setDialogData([]);
      this_.customDialogShowList = false;
      //判断是否是点击了确认再点击取消的  inputVal没有值则表示直接点击的取消
      if (!this_.inputVal) {
        this_.selectOrgs = [];
      } else {
        this_.selectOrgs = this_.showData ? [...this_.showData] : '';
        this.checkBoxDataAll = [...this_.selectOrgs];
      }
    },
    afterOpen() {
      //打开对话框之后加载树
      this.loadCombinationTree();
    },
    dialogConfirm() {
      this.queryParam = '';
      this.$refs.orgTable.clearSelection();
      this.customDialogShowList = false;
      this.calacInputSuffixHeight();
      this.syncInputValue();
    },
    // 同步选择结果
    syncInputValue() {
      let thisIndex = null; //当前数据所在下标
      let parentIndex = null; //父节点所在下标
      if (this.$parent.$el) {
        thisIndex = utils["a" /* default */].getSubScopeElAndIndex(this.$parent.$el).index;
        let subScopeEl = utils["a" /* default */].getParentElementByClassNamePrefix(this.$parent.$parent.$el, 'data-index');
        if (subScopeEl) {
          const className = Array.prototype.find.call(subScopeEl.classList, item => item.startsWith('data-index__'));
          if (className) {
            parentIndex = className.split('__')[1];
          }
        }
        if (null == parentIndex) {
          subScopeEl = utils["a" /* default */].getParentElementByAttribute(this.$parent.$parent.$el, 'data-index');
          if (subScopeEl && subScopeEl.attributes['data-index']) {
            parentIndex = subScopeEl.attributes['data-index'].value;
          }
        }
      }
      var returnStr = JSON.parse(this.customDialog.resultfield);
      //拿到返回的字段
      var field = new Array([returnStr.length]);
      var comment = new Array([returnStr.length]);
      var str = [];
      for (var i = 0; i < returnStr.length; i++) {
        field[i] = returnStr[i].field.toLowerCase();
        comment[i] = returnStr[i].comment.toLowerCase();
      }
      var s = this.selectOrgs;
      if (this.selectOrgs) {
        this.showData = [...this.selectOrgs];
        this.checkBoxDataAll = [...this.selectOrgs];
      } else {
        this.showData = [];
        this.checkBoxDataAll = [];
      }
      if (this.customDialog.selectNum === 1) {
        s = this.selectOrgs;
      }
      if (this.customDialog.selectNum === 1) {
        var temp = '';
        // 当 s 存在或 s 的长度不为0时
        if (s && s.length) {
          for (var k = 0; k < comment.length; k++) {
            let sField = !utils["a" /* default */].isEmpty(s[0][field[k]]) ? s[0][field[k]] : '';
            let encodeStr = encodeURIComponent(sField);
            temp += '"' + comment[k] + '":"' + encodeStr + '",';
          }
        }
        if (temp != '') {
          temp = '{' + temp.substring(0, temp.length - 1) + '}';
        }
        str.push(utils["a" /* default */].parseToJson(temp));
      } else {
        if (s && s.length > 0) {
          for (var m = 0; m < s.length; m++) {
            var temp1 = '';
            for (var j = 0; j < comment.length; j++) {
              const _m = s[m];
              const _n = field[j];
              const _ov = _m[_n]; //原始值
              const _uv = _m[_n.toUpperCase()]; //field转大写后取到的值
              const _lv = _m[_n.toLowerCase()]; //field转小写后取到的值
              const _fv = _ov == null || _ov == undefined ? _uv == null || _uv == undefined ? _lv : _uv : _ov;
              const encodeStr = encodeURIComponent(_fv);
              temp1 += '"' + comment[j] + '":"' + encodeStr + '",';
            }
            if (temp1 != '') {
              temp1 = '{' + temp1.substring(0, temp1.length - 1) + '}';
            }
            str.push(utils["a" /* default */].parseToJson(temp1));
          }
        }
      }
      const pInst = utils["a" /* default */].getOnlineFormInstance(this);
      this.custdialog.custDialog.mappingConf.forEach(con => {
        var val = '';
        var from = con.from.toLowerCase();
        str.forEach(item => {
          if (item) {
            val += decodeURIComponent(item[from]) == 'undefined' ? '' : decodeURIComponent(item[from]) + ',';
          }
        });
        if (this.modelName == 'data.' + con['target'][0]) {
          val = val.substring(0, val.length - 1);
          utils["a" /* default */].setValueByPath(pInst, 'data.' + con['target'][0], val, thisIndex);
        } else if (this.modelName && this.modelName.startsWith('searchForm.')) {
          let prePath = pInst['searchForm'] ? '' : 'data.';
          utils["a" /* default */].setValueByPath(pInst, prePath + 'searchForm.' + con['target'][0], val.substring(0, val.length - 1), thisIndex);
        } else {
          let configAttr = con['target'][0].split('.');
          let path = con['target'][0];
          if (configAttr.length == 4 && parentIndex >= 0) {
            //孙表数据赋值
            path = configAttr[0] + '.' + configAttr[1] + '[' + parentIndex + '].' + configAttr[2] + '.' + configAttr[3];
          }
          const _val = val.substring(0, val.length - 1);
          if (path) {
            if (this.modelName && this.modelName.endsWith(path)) {
              // this.$emit('input', _val)
              this.$emit('updateInput', _val);
            }
            utils["a" /* default */].setValueByPath(pInst, `${pInst.data ? 'data.' : 'model.'}${path}`, _val, thisIndex);
          }
        }
      });
      //判断对话框是否绑定了关联查询
      let custQueryJson = this.custdialog.custDialog.custQueryJson;
      if (custQueryJson.length > 0) {
        for (let i = 0; i < custQueryJson.length; i++) {
          if (custQueryJson[i].conditionfield.length > 0) {
            this.doQuery(custQueryJson[i]);
          } else {
            console.error('[' + custQueryJson[i].comment + ']' + this.t('ht.customDialog.relationSearchNotBindField'));
          }
        }
      }
    },
    calacInputSuffixHeight() {
      this.$emit('calacInputSuffixHeight');
    },
    removeSelectOrg(item) {
      if (this.customDialog.selectNum === 1) {
        this.selectOrgs.splice(item, 1);
        this.showData.splice(item, 1);
      } else {
        //树形
        if (this.propsData.length > 0) {
          this.propsData.splice(item, 1);
        }
        if (this.showData.length > 0) {
          this.showData.splice(item, 1);
        }
        //列表
        if (this.selectOrgs != null) {
          this.selectOrgs.splice(item, 1);
          this.checkBoxDataAll.splice(item, 1);
        }
      }
      this.syncInputValue();
    },
    clearAll() {
      this.checkBoxDataAll = [];
      this.selectOrgs = [];
      this.showData = [];
      this.propsData = [];
      this.syncInputValue();
      this.setDialogData([]);
      this.$refs.orgTable.clearSelection();
    },
    //判断数据是否包含某个对象，并返回数据包含对象的下标
    indexArray(array, item) {
      if (array.length == 0) {
        return -1;
      }
      for (let i = 0; i < array.length; i++) {
        if (JSON.stringify(array[i]) == JSON.stringify(item)) {
          return i;
        }
      }
      return -1;
    },
    // 处理POST请求时的参数
    handlePostData(queryFilter) {
      if (!this.customDialog.dataParam || this.customDialog.dataParam.constructor != String) {
        return queryFilter;
      }
      // 构建上下文数据对象
      let ctx = {};
      queryFilter && queryFilter.querys.forEach(element => {
        ctx[element.property] = element.value;
      });
      const exp = utils["a" /* default */].parseExp(this.customDialog.dataParam, ctx);
      try {
        return JSON.parse(exp);
      } catch (e) {
        services_CustomQuery._throwException(`${this.t('ht.customDialog.postRequestParamError')}:` + this.customDialog.dataParam);
      }
    },
    loadTree(node, resolve) {
      if (node) {
        let this_ = this;
        let displayField = this_.customDialog.style == 2 ? this_.combiTreeDisplayField : this_.displayField;
        resolve(this.treeList.filter(value => value[displayField.pid] === node.data[displayField.id]));
        if (this.showData && this.showData.length > 0) {
          setTimeout(() => {
            this.showData.forEach(v => {
              if (!v.Pid) {
                //不清楚是不是有地方数据返回是Pid,这里做个判断
                v.Pid = v.pid;
              }
              if (v.Pid == node.key) {
                this_.$refs.tree.setChecked(v, true);
              } else {
                this_.checkNode(v, this_);
              }
            });
          }, 400);
        }
      }
    },
    //加载树的信息
    toTreeData(data, id, pid, name, pvalue) {
      // 建立个树形结构,需要定义个最顶层的父节点，pvalue是0
      return this.translateDataToTree(data, pid, id, name, pvalue);
    },
    translateDataToTree(data, pid, id) {
      //把树数据有子节点的数据全部过滤掉（只留父节点的数据）
      let tile2nest = utils["a" /* default */].tile2nest(data, id, pid);
      return tile2nest || [];
    },
    combiTreeClick(paramObj) {
      //组合对话框点击左树
      //清空旧的
      this.combinationTreeQuerys.splice(0);
      let combinationRule = JSON.parse(this.customDialog.combinationRule);
      if (!combinationRule.rules || combinationRule.rules.length == 0) {
        return;
      }
      let rules = combinationRule.rules;
      for (let i = 0; i < rules.length; i++) {
        let value = paramObj[rules[i].treeField];
        let property = rules[i].listField;
        this.combinationTreeQuerys.push({
          property: property,
          value: value,
          group: 'treeGroup',
          operation: this.getOperation(rules[i].condition),
          relation: 'AND'
        });
      }
      this.search(true);
    },
    //获取运算符号
    getOperation(old) {
      if (!old) {
        return '';
      }
      if (old == 'EQ') {
        return 'EQUAL';
      }
      if (old == 'LK') {
        return 'LIKE';
      }
      if (old == 'LFK') {
        return 'LIKE';
      }
      if (old == 'IN') {
        return 'IN';
      }
    },
    toggleTree() {
      if (this.treeShow) {
        this.treeShow = false;
        this.transtionWidth = '0%';
        this.toggleBtn = 'el-icon-arrow-right';
      } else {
        this.treeShow = true;
        this.transtionWidth = '25%';
        this.toggleBtn = 'el-icon-arrow-left';
      }
    },
    loadCombinationTree() {
      if (this.customDialog.style != 2) {
        return;
      }
      let combinationRule = JSON.parse(this.customDialog.combinationRule);
      this.combinationRule = combinationRule;
      let treeAlias = combinationRule.leftTree;
      //获取对话框数据
      this.$requestConfig.getCustomDialogByAlias(treeAlias).then(resp => {
        let treeDialog = resp;
        this.leftTreeTitle = treeDialog.name;
        let requestType = treeDialog.dsType == 'dataSource' ? 'get' : treeDialog.requestType ? treeDialog.requestType : 'post';
        let url = '${form}/form/customDialog/v1/getTreeData?alias=' + treeAlias + '&mapParam=';
        let paramsObj = {};
        if (treeDialog.dsType != 'dataSource') {
          url = treeDialog.url;
          let templatePa = treeDialog.dataParam;
          if (treeDialog.conditionfield) {
            let conditions = JSON.parse(treeDialog.conditionfield);
            for (let i = 0; i < conditions.length; i++) {
              let con = conditions[i];
              if (requestType == 'POST') {
                if (templatePa) {
                  templatePa = templatePa.replace(new RegExp('\\{' + con.field + '\\}', 'g'), con.defaultValue);
                } else {
                  paramsObj[con.field] = con.defaultValue;
                }
              } else {
                let ljChar = url.indexOf('?') == -1 ? '?' : '&';
                url = url + ljChar + con.field + '=' + con.defaultValue;
              }
            }
            if (templatePa) {
              paramsObj = JSON.parse(templatePa);
            }
          }
        }
        let requestParams = {};
        requestParams.requestType = requestType;
        requestParams.url = url;
        requestParams.paramsObj = paramsObj;
        this.$requestConfig.request({
          url: requestParams.url,
          method: 'get'
        }).then(resp => {
          if (treeDialog.displayfield && treeDialog.resultfield) {
            let displayField = JSON.parse(treeDialog.displayfield);
            let resultfield = JSON.parse(treeDialog.resultfield);
            this.defaultProps.label = displayField.displayName;
            this.treeList = resp;
            this.combiTreeDisplayField = displayField;
            this.combinationTreeData = this.toTreeData(resp, displayField.id, displayField.pid, displayField.displayName, displayField.pvalue ? displayField.pvalue : '0', resultfield);
          }
        });
      });
    },
    //打开树形动态参数输入值的对话框
    handleSave() {
      this.customDialogTreeShow(this.pageParam);
      this.dialogVisible = false;
    },
    //关闭树形动态参数输入值的对话框
    handleClose() {
      this.dialogVisible = false;
    }
  }
});
// CONCATENATED MODULE: ./packages/CustomDialog/src/customDialog.vue?vue&type=script&lang=js
 /* harmony default export */ var src_customDialogvue_type_script_lang_js = (customDialogvue_type_script_lang_js); 
// EXTERNAL MODULE: ./packages/CustomDialog/src/customDialog.vue?vue&type=style&index=0&id=8ce74706&prod&lang=scss&scoped=true
var customDialogvue_type_style_index_0_id_8ce74706_prod_lang_scss_scoped_true = __webpack_require__("cb64");

// CONCATENATED MODULE: ./packages/CustomDialog/src/customDialog.vue






/* normalize component */

var customDialog_component = normalizeComponent(
  src_customDialogvue_type_script_lang_js,
  customDialogvue_type_template_id_8ce74706_scoped_true_render,
  customDialogvue_type_template_id_8ce74706_scoped_true_staticRenderFns,
  false,
  null,
  "8ce74706",
  null
  
)

/* harmony default export */ var CustomDialog_src_customDialog = (customDialog_component.exports);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"8bdeefa2-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/CustomDialog/src/customMobileDialog.vue?vue&type=template&id=38b1b8ca&scoped=true
var customMobileDialogvue_type_template_id_38b1b8ca_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('van-action-sheet',{staticClass:"mobile-van-action min-height-action",class:{ 'disabled-btn': _vm.isDisabledConfirmBtn },attrs:{"cancel-text":_vm.sureButtonText,"get-container":"body"},on:{"cancel":_vm.handleDialogSure,"click-overlay":_vm.dialogCancel,"opened":_vm.afterOpen},scopedSlots:_vm._u([{key:"description",fn:function(){return [_c('span',{staticClass:"dialog-mobile__title"},[_vm._v(_vm._s(_vm.customDialog.name))]),_c('ht-icon',{staticClass:"dialog-mobile__close",attrs:{"name":"close"},on:{"click":_vm.dialogCancel}})]},proxy:true}]),model:{value:(_vm.customDialogShowList),callback:function ($$v) {_vm.customDialogShowList=$$v},expression:"customDialogShowList"}},[[_c('div',{staticClass:"search-box"},[_c('ht-icon',{staticClass:"unfold-icon",attrs:{"scale":"1.2","name":_vm.isShowMoreSearch ? 'upFold' : 'downUnfold'},on:{"click":function($event){_vm.isShowMoreSearch = !_vm.isShowMoreSearch}}}),_vm._l((_vm.conditionBind),function(condition,index){return _c('div',{directives:[{name:"show",rawName:"v-show",value:(index === 0 || (index > 0 && _vm.isShowMoreSearch)),expression:"index === 0 || (index > 0 && isShowMoreSearch)"}],key:index,staticClass:"search-item"},[_c('p',[_vm._v(_vm._s(condition.comment)+":")]),(condition.controllerType == '1')?_c('div',[_c('el-input',{attrs:{"size":"small","clearable":"","placeholder":_vm.placeholders[index]},on:{"change":_vm.searchInputChange},nativeOn:{"keyup":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,"enter",13,$event.key,"Enter")){ return null; }return _vm.hideSearch($event)}},model:{value:(_vm.queryParams[index][condition.field]),callback:function ($$v) {_vm.$set(_vm.queryParams[index], condition.field, $$v)},expression:"queryParams[index][condition.field]"}})],1):_vm._e(),(condition.controllerType == '2')?_c('div',{staticStyle:{"margin-right":"10px"}},_vm._l((condition.config.options),function(itemR,$index1){return _c('el-radio',{key:$index1,attrs:{"label":itemR.key},model:{value:(_vm.queryParams[index][condition.field]),callback:function ($$v) {_vm.$set(_vm.queryParams[index], condition.field, $$v)},expression:"queryParams[index][condition.field]"}},[_vm._v("\n              "+_vm._s(itemR.value)+"\n            ")])}),1):_vm._e(),(condition.controllerType == '3')?_c('div',{staticStyle:{"margin-right":"10px"}},[(condition.config.choiceType == 'static')?_c('ht-select',{attrs:{"options":condition.config.options},model:{value:(_vm.queryParams[index][condition.field]),callback:function ($$v) {_vm.$set(_vm.queryParams[index], condition.field, $$v)},expression:"queryParams[index][condition.field]"}}):_c('eip-select-dia',{attrs:{"ganged":{
                alias: condition.config.customQuery.alias,
                valueBind: condition.config.customQuery.valueBind,
                noInit: '',
                labelBind: condition.config.customQuery.labelBind,
                gangedBind: '{}',
                bind: condition.config.bind,
              },"multiple":false,"filterable":false,"allow-create":false,"selectlist":[],"query-params":_vm.queryParams},model:{value:(_vm.queryParams[condition.field]),callback:function ($$v) {_vm.$set(_vm.queryParams, condition.field, $$v)},expression:"queryParams[condition.field]"}})],1):_vm._e(),(condition.controllerType == '4')?_c('div',{staticStyle:{"margin-right":"10px"}},[_c('eip-tag',{attrs:{"tag-key":condition.config.tag,"placeholder":_vm.quickSearch,"filterable":condition.config.filterable,"expand":condition.config.expand},model:{value:(_vm.queryParams[index][condition.field]),callback:function ($$v) {_vm.$set(_vm.queryParams[index], condition.field, $$v)},expression:"queryParams[index][condition.field]"}})],1):_vm._e()])}),_c('div',{directives:[{name:"show",rawName:"v-show",value:(_vm.isShowMoreSearch),expression:"isShowMoreSearch"}],staticClass:"search-btns"},[_c('el-button',{staticStyle:{"margin-left":"20px"},attrs:{"size":"small","type":"primary"},on:{"click":_vm.hideSearch}},[_vm._v("\n            "+_vm._s(_vm.t('ht.common.search'))+"\n          ")]),_c('el-button',{attrs:{"size":"small"},on:{"click":_vm.reset}},[_vm._v("\n            "+_vm._s(_vm.t('ht.common.reset'))+"\n          ")])],1)],2)],(_vm.customDialog.style == 2)?_c('van-popover',{staticClass:"custom-dialog-popover",attrs:{"trigger":"click"},scopedSlots:_vm._u([{key:"reference",fn:function(){return [_c('div',{staticClass:"mobile-tree-select"},[(_vm.treeSelectText)?_c('span',{staticClass:"active-text"},[_vm._v("\n            "+_vm._s(_vm.treeSelectText)+"\n          ")]):_c('span',[_vm._v(_vm._s(_vm.t('ht.common.select'))+_vm._s(_vm.leftTreeTitle))]),(_vm.treeSelectText)?_c('ht-icon',{staticClass:"dialog-mobile__close",attrs:{"name":"close"},on:{"click":function($event){$event.stopPropagation();return _vm.clearTreeSelect($event)}}}):_vm._e()],1)]},proxy:true}],null,false,151680377),model:{value:(_vm.isSelectTreeShow),callback:function ($$v) {_vm.isSelectTreeShow=$$v},expression:"isSelectTreeShow"}},[_c('div',{staticClass:"custom-dialog-popover_content"},[_c('el-tree',{ref:"combinationTree",attrs:{"data":_vm.combinationTreeData,"props":_vm.defaultProps,"node-key":_vm.nodeKey,"highlight-current":"","check-on-click-node":true},on:{"node-click":_vm.combiTreeClick}})],1)]):_vm._e(),_c('van-pull-refresh',{on:{"refresh":_vm.onRefresh},model:{value:(_vm.isDownLoading),callback:function ($$v) {_vm.isDownLoading=$$v},expression:"isDownLoading"}},[_c('van-list',{attrs:{"finished":_vm.finished,"finished-text":_vm.t('ht.common.noMore'),"offset":20,"immediate-check":false},on:{"load":_vm.loadMore},model:{value:(_vm.isPullLoading),callback:function ($$v) {_vm.isPullLoading=$$v},expression:"isPullLoading"}},_vm._l((_vm.dialogData),function(item,index){return _c('van-cell',{key:index,attrs:{"clickable":""},scopedSlots:_vm._u([{key:"icon",fn:function(){return [_c('van-checkbox',{attrs:{"value":_vm.indexArray(_vm.selectIds, item) > -1,"shape":_vm.customDialog.selectNum === 1 ? 'round' : 'square'},on:{"click":function($event){return _vm.checkboxChange(item)}}})]},proxy:true}],null,true)},[_c('div',{staticClass:"custom-mobile_box"},_vm._l((_vm.displayfield),function(field){return _c('div',{key:field.field,staticClass:"custom-mobile_box_item"},[_c('label',[_vm._v(_vm._s(field.comment)+"：")]),_c('div',[_vm._v(_vm._s(item[field.field]))])])}),0)])}),1)],1)],2),_c('van-action-sheet',{staticClass:"mobile-van-action",attrs:{"cancel-text":_vm.sureButtonText,"get-container":"body"},on:{"cancel":_vm.handleSave},scopedSlots:_vm._u([{key:"description",fn:function(){return [_c('span',{staticClass:"dialog-mobile__title"},[_vm._v("\n        "+_vm._s(_vm.t('ht.customDialog.dynamicIncomingParameterQuery'))+"\n      ")]),_c('ht-icon',{staticClass:"dialog-mobile__close",attrs:{"name":"close"},on:{"click":function($event){_vm.dialogVisible = false}}})]},proxy:true}]),model:{value:(_vm.dialogVisible),callback:function ($$v) {_vm.dialogVisible=$$v},expression:"dialogVisible"}},[_c('van-cell-group',_vm._l((_vm.conditionfieldTree.filter(
          function (k) { return k.defaultType == '4'; }
        )),function(item,$index){return _c('div',{key:$index},[(item.type != 'date')?_c('van-field',{attrs:{"label":item.comment,"placeholder":_vm.t('ht.common.enter') + item.comment},model:{value:(item.paramVal),callback:function ($$v) {_vm.$set(item, "paramVal", $$v)},expression:"item.paramVal"}}):_vm._e(),(item.type == 'date')?_c('ht-date',{staticStyle:{"width":"100%"},attrs:{"placeholder":_vm.t('ht.common.select') + item.comment,"format":"yyyy-MM-dd"},model:{value:(item.paramVal),callback:function ($$v) {_vm.$set(item, "paramVal", $$v)},expression:"item.paramVal"}}):_vm._e()],1)}),0)],1),_c('van-action-sheet',{staticClass:"mobile-van-action",attrs:{"cancel-text":_vm.sureButtonText,"get-container":"body"},on:{"cancel":_vm.dialogTreeConfirm},scopedSlots:_vm._u([{key:"description",fn:function(){return [_c('span',{staticClass:"dialog-mobile__title"},[_vm._v(_vm._s(_vm.customDialog.name))]),_c('ht-icon',{staticClass:"dialog-mobile__close",attrs:{"name":"close"},on:{"click":_vm.dialogCancelTree}})]},proxy:true}]),model:{value:(_vm.customDialogShowTree),callback:function ($$v) {_vm.customDialogShowTree=$$v},expression:"customDialogShowTree"}},[_c('el-tree',{ref:"tree",staticStyle:{"width":"100%"},attrs:{"data":_vm.props1,"props":_vm.defaultProps,"node-key":_vm.nodeKey,"highlight-current":"","show-checkbox":_vm.customDialog.selectNum === -1,"check-on-click-node":true,"check-strictly":false,"lazy":"","load":_vm.loadTree,"default-expanded-keys":_vm.defaultExpandedKeys},on:{"node-click":_vm.treeClick,"check-change":_vm.getChecked}})],1)],1)}
var customMobileDialogvue_type_template_id_38b1b8ca_scoped_true_staticRenderFns = []


// CONCATENATED MODULE: ./packages/CustomDialog/src/customMobileDialog.vue?vue&type=template&id=38b1b8ca&scoped=true

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/CustomDialog/src/customMobileDialog.vue?vue&type=script&lang=js
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//








/* harmony default export */ var customMobileDialogvue_type_script_lang_js = ({
  name: 'CustomMobileDialog',
  mixins: [src_customDialog, mixins_locale, inputName["a" /* default */], mixins_permission["a" /* default */], mixins_form["a" /* default */]],
  props: {
    custdialog: {
      type: Object,
      default: () => {
        return {};
      }
    },
    subIndex: Number,
    sunIndex: Number,
    subPath: String,
    currentSubData: Array
  },
  data() {
    return {
      isShowMoreSearch: false,
      treeSelectText: '',
      // 组合树时选中的查询条件
      isSelectTreeShow: false,
      // 组合树显示隐藏
      searchWord: '',
      // 关键字查询
      isPullLoading: false,
      isDownLoading: false,
      selectIds: [],
      // 选中的index集合
      finished: false,
      dialogVisible: false,
      //打开树形输入动态参数值的对话框
      pageParam: {},
      //树形对话框参数
      conditionfieldTree: [],
      //树形对话框条件字段
      conditionBind: [],
      //参数查询字段
      nodeKey: 'ID_',
      //树形数据父Id
      customDialogShowList: false,
      customDialogShowTree: false,
      selectOrgs: [],
      displayfield: [],
      //显示字段
      customDialog: {},
      queryParam: '',
      //查询条件输入的值
      props1: [],
      showData: [],
      checkBoxDataAll: [],
      //选中对象的集合
      defaultProps: {
        children: 'children',
        label: 'label',
        isLeaf: 'isLeaf'
      },
      propsData: [],
      querysShow: false,
      //是否显示搜索框
      isCurrentChange: false,
      //是否不执行 orgTableSelection方法
      param: [],
      //绑定的表单字段
      treeList: [],
      displayField: {},
      queryParams: [],
      placeholders: [],
      // oldselectOrgs: [],
      combinationTreeData: [],
      // 组合树 数据
      combiTreeDisplayField: [],
      combinationTreeQuerys: [],
      combinationRule: {},
      leftTreeTitle: '',
      fixedParams: {},
      // 传过来的固定值
      isDisabledConfirmBtn: true
    };
  },
  computed: {
    //默认展开的节点的 key 的数组
    defaultExpandedKeys: function () {
      if (this.props1 && this.props1.length > 0 && this.props1[0][this.nodeKey]) {
        return [this.props1[0][this.nodeKey]];
      }
      return [];
    },
    searchPlaceholder() {
      let arr = [];
      this.conditionBind.forEach(item => {
        arr.push(item.comment);
      });
      return arr.length ? arr.join(',') : `${this.t('ht.common.enter')}${this.t('ht.common.keyword')}`;
    },
    sureButtonText() {
      const selectedText = this.selectIds.length > 0 ? `(${this.selectIds.length})` : '';
      return `${this.$t('ht.common.confirm')}${selectedText}`;
    }
  },
  watch: {
    selectIds(val) {
      if (val && val.length) {
        this.isDisabledConfirmBtn = false;
      } else {
        this.isDisabledConfirmBtn = true;
      }
    }
  },
  methods: {
    searchInputChange() {
      if (!this.isShowMoreSearch) {
        this.search(true);
      }
    },
    hideSearch() {
      this.isShowMoreSearch = false;
      this.search(true);
    },
    // 清空选择树内容
    clearTreeSelect() {
      this.treeSelectText = '';
      this.$refs.combinationTree.setCurrentKey(null);
      this.combinationTreeQuerys.splice(0);
      this.isSelectTreeShow = false;
      this.search(true);
    },
    checkboxChange(item) {
      let index = this.indexArray(this.selectIds, item);
      // 如果已选中 就取消选中
      if (index > -1) {
        this.selectIds.splice(index, 1);
        return;
      }
      // 未选中且是多选时 直接放入
      if (this.customDialog.selectNum !== 1) {
        this.selectIds.push(item);
        return;
      }
      // 未选中单选时
      this.selectIds = [item];
    },
    handleDialogSure() {
      this.dialogConfirm();
    },
    loadMore() {
      if (this.dialogData && this.dialogData.length > 0) {
        this.pagination.page++;
      }
      this.search();
    },
    onRefresh() {
      this.search(true);
    },
    showDialog() {
      this.selectIds = [];
      const this_ = this;
      this.fixedParams = {};
      var alias = this.custdialog.custDialog.alias;
      this.$requestConfig.getCustomDialogByAlias(alias).then(customDialog => {
        if (!customDialog || !customDialog.alias) {
          this.$message.error(this.t('ht.customDialog.errorMsg', {
            alias
          }));
          return;
        }
        if (customDialog.style == 1) {
          var displaylist = JSON.parse(customDialog.displayfield);
          this_.nodeKey = displaylist.id;
        }
        if (customDialog.needPage && customDialog.requestType === 'POST') {
          let obj = {};
          this.getLastKeyByPath(obj, customDialog.pageKey, 1);
          this.getLastKeyByPath(obj, customDialog.pageSizeKey, 10);
          this.getLastKeyByPath(obj, customDialog.totalKey, true);
          const exp = utils["a" /* default */].parseExp(customDialog.dataParam, obj, true);
          if (exp) {
            const params = JSON.parse(exp);
            if (params.pageBean) {
              this.pagination = {
                ...params.pageBean
              };
            }
          }
        }
        //对话框按表单字段查询（参数传入的）
        let bindList = this_.custdialog.custDialog.conditions;
        this_.param = []; //绑定的表单字段
        if (bindList.length > 0) {
          bindList.forEach(ele => {
            //绑定表单字段
            if (ele.bind && (ele.defaultType == '3' || ele.bind.startsWith('data.searchForm'))) {
              let obj = {};
              obj.field = ele.field;
              obj.bind = ele.bind;
              obj.bindType = ele.bindType;
              this_.param.push(obj);
            }
            // bindType 1 表单字段 2固定 3脚本
            if (ele.defaultType == '3' && ele.bindType === 2) {
              this_.fixedParams[ele.field] = ele.bind || '';
            }
          });
        }

        //判断对话框查询是否有条件
        let userInputList = JSON.parse(customDialog.conditionfield);
        this_.conditionBind = [];
        let queryParams = [];
        let placeholders = [];
        if (userInputList.length > 0) {
          userInputList.forEach(ele => {
            var obj = {};
            //条件查询参数（用户输入的） 文本框输入 defaultType 1 用户输入 2固定值 3参数传入 5脚本
            if (ele.defaultType == '1') {
              obj[ele.field] = '';
              queryParams.push(obj);
              // queryParams[ele.field] = "";
              this_.conditionBind.push(ele);
              placeholders.push(this.t('ht.common.enter') + ele.comment);
            }
            if (ele.defaultType == '2' && ele.defaultValue) {
              this_.fixedParams[ele.field] = ele.defaultValue;
            }
          });
          this.$set(this, 'queryParams', queryParams);
          this.$set(this, 'placeholders', placeholders);
        }
        if (customDialog.style == 0 || customDialog.style == 2) {
          //列表
          this_.customDialogShow({
            alias: alias,
            customDialog: customDialog
          });
        } else if (customDialog.style == 1) {
          //树形
          this_.pageParam = {
            alias: alias,
            customDialog: customDialog
          };
          this_.customDialog = customDialog;
          let param = {};
          this_.conditionfieldTree = [];
          //判断是否存在条件
          if (customDialog.conditionfield) {
            this_.conditionfieldTree = JSON.parse(customDialog.conditionfield);
            if (this_.conditionfieldTree.length > 0) {
              for (let i = this_.conditionfieldTree.length - 1; i >= 0; i--) {
                //判断条件字段是否是动态传入（defaultType：4：动态传入，2：固定值 ）
                if (this_.conditionfieldTree[i].defaultType == '4') {
                  param[this_.conditionfieldTree[i].field] = this_.conditionfieldTree[i].comment;
                }
              }
            }
          }
          //有动态传入的字段
          if (JSON.stringify(param) != '{}') {
            this_.dialogVisible = true;
          } else {
            //无动态传入的字段
            this_.customDialogTreeShow(this_.pageParam);
          }
        }
      });
    },
    treeClick(data) {
      // 单选
      if (this.customDialog.selectNum === 1) {
        this.propsData = [];
        this.propsData.push(data);
      }
    },
    getChecked() {
      // 多选
      if (this.customDialog.selectNum === -1) {
        this.propsData = this.$refs.tree.getCheckedNodes();
      }
    },
    customDialogShow(pageParam) {
      this.customDialogShowList = true;
      this.customDialog = pageParam.customDialog;
      this.customDialog.queryUrl = this.customDialog.dsType == 'dataSource' ? '${form}/form/customDialog/v1/getListData?alias=' + this.customDialog.alias + '&mapParam=' + (this.customDialog.mapParam ? this.customDialog.mapParam : '') : this.customDialog.url;
      if (this.dialogData.length < 1) {
        this.search(true);
        this.displayfield = JSON.parse(pageParam.customDialog.displayfield);
        if (this.customDialog.dsType == 'dataSource') {
          for (var i = 0; i < this.displayfield.length; i++) {
            this.displayfield[i].field = this.displayfield[i].field.toLowerCase();
          }
        }
      } else if (this.dialogData.length > 1) {
        this.search(true);
      }
      if (this.dialogData.length > 0 && this.displayfield.length == 0) {
        this.search(true);
        this.displayfield = JSON.parse(pageParam.customDialog.displayfield);
        if (this.customDialog.dsType == 'dataSource') {
          for (var j = 0; i < this.displayfield.length; j++) {
            this.displayfield[j].field = this.displayfield[j].field.toLowerCase();
          }
        }
      }
    },
    customDialogTreeShow(pageParam) {
      var customDialog = this.customDialog;
      let mapParamObj = {}; //数据来源是数据源，且有动态参数传入时调用
      let mapParam = '';
      let defaultPValue = ''; //父ID值
      if (this.conditionfieldTree.length > 0) {
        for (let i = 0; i < this.conditionfieldTree.length; i++) {
          if (this.conditionfieldTree[i].defaultType == '4') {
            //动态传入
            //得到输入的条件字段值
            let val = this.conditionfieldTree[i].paramVal;
            if (!val) {
              continue;
            }
            //得到条件字段KEY
            let key = this.conditionfieldTree[i].field;
            mapParamObj[key] = val;
          } else if (this.conditionfieldTree[i].defaultType == '2') {
            //固定值
            //得到输入的条件字段值
            let val = this.conditionfieldTree[i].defaultValue;
            if (!val) {
              continue;
            }
            //得到条件字段KEY
            let key = this.conditionfieldTree[i].field;
            mapParamObj[key] = val;
          }
        }
        if (this.param) {
          const pInst = utils["a" /* default */].getOnlineFormInstance(this);
          this.param.forEach(item => {
            let val = utils["a" /* default */].getValueByPath(pInst, item.bind);
            val && (mapParamObj[item.field] = val);
          });
        }
        if (JSON.stringify(mapParamObj) != '{}') {
          //获取对话框配置的父ID字段
          let pid = JSON.parse(this.customDialog.displayfield).pid;
          for (let m in mapParamObj) {
            if (pid == m) {
              defaultPValue = mapParamObj[m];
              break;
            }
          }
          mapParam = JSON.stringify(mapParamObj);
          mapParam = mapParam.substring(1, mapParam.length - 1);
        }
      }
      var requestType = customDialog.dsType == 'dataSource' ? 'GET' : customDialog.requestType ? customDialog.requestType : 'POST';
      var url = '${form}/form/customDialog/v1/getTreeData?alias=' + pageParam.alias + '&mapParam=' + mapParam;
      var paramsObj = {};
      if (customDialog.dsType != 'dataSource') {
        url = customDialog.url;
        var templatePa = customDialog.dataParam;
        let ctx = {};
        if (customDialog.conditionfield) {
          var conditions = JSON.parse(customDialog.conditionfield);
          for (var i = 0; i < conditions.length; i++) {
            var con = conditions[i];
            if (requestType == 'POST') {
              if (templatePa) {
                // templatePa = templatePa.replace(
                //   new RegExp('\\{' + con.field + '\\}', 'g'),
                //   con.defaultValue
                // )
                ctx[con.field] = con.defaultValue;
              } else {
                paramsObj[con.field] = con.defaultValue;
              }
            } else {
              var ljChar = url.indexOf('?') == -1 ? '?' : '&';
              url = url + ljChar + con.field + '=' + con.defaultValue;
            }
          }
        }
        // 添加用户id 岗位id 组织id
        try {
          if (this.$requestConfig.getUserId()) {
            ctx.userId = this.$requestConfig.getUserId();
          }
          if (this.$requestConfig.getOrgId()) {
            ctx.orgId = this.$requestConfig.getOrgId();
          }
          if (this.$requestConfig.getPostId()) {
            ctx.postId = this.$requestConfig.getPostId();
          }
        } catch (e) {
          console.log(this.t('ht.customDialog.getIdError'), e);
        }
        if (templatePa) {
          templatePa = utils["a" /* default */].parseExp(templatePa, ctx);
          paramsObj = JSON.parse(templatePa);
        }
      }
      var requestParams = {};
      requestParams.requestType = requestType;
      requestParams.url = url;
      requestParams.paramsObj = paramsObj;
      this.searchTree(requestParams, defaultPValue);
      this.customDialogShowTree = true;
    },
    //树形查询
    searchTree(requestParams, defaultPValue) {
      const this_ = this;
      let query = this.$requestConfig.request({
        url: requestParams.url,
        method: requestParams.requestType == 'POST' ? 'post' : 'get',
        data: requestParams.paramsObj
      });
      query.then(function (response) {
        //显示字段配置
        let displayfield = JSON.parse(this_.customDialog.displayfield);
        this_.displayField = displayfield;
        //把对话框配置的显示字段显示名称赋值给树形的显示值
        this_.defaultProps.label = displayfield.displayName;
        this_.treeList = response;
        //得到要加载树的信息
        if (defaultPValue) {
          displayfield.pvalue = defaultPValue;
        }
        this_.props1 = this_.toTreeData(response, displayfield.id, displayfield.pid, displayfield.displayName, displayfield.pvalue ? displayfield.pvalue : 0);
      });
    },
    dialogTreeConfirm() {
      this.calacInputSuffixHeight();
      let thisIndex = null; //当前数据所在下标
      let parentIndex = null; //父节点所在下标
      if (this.$parent.$el) {
        thisIndex = utils["a" /* default */].getSomeAttributeFromParentElement(this.$el, 'data-index');
        parentIndex = utils["a" /* default */].getSomeAttributeFromParentElement(this.$parent.$parent.$el, 'data-index');
      }
      this.setDialogData([]);
      var returnStr = JSON.parse(this.customDialog.resultfield);
      var field = new Array([returnStr.length]);
      var comment = new Array([returnStr.length]);
      var str = [];
      for (var i = 0; i < returnStr.length; i++) {
        field[i] = returnStr[i].field;
        comment[i] = returnStr[i].comment;
      }
      var nodes = this.propsData;
      if (this.customDialog.selectNum === 1) {
        nodes = this.propsData[0];
        var temp = '';
        for (var j = 0; j < comment.length; j++) {
          temp += '"' + comment[j] + '":"' + nodes[field[j]] + '",';
        }
        if (temp != '') {
          temp = '{' + temp.substring(0, temp.length - 1) + '}';
        }
        str.push(utils["a" /* default */].parseToJson(temp));
      } else {
        nodes.forEach((item, k) => {
          var temp = '';
          for (var i = 0; i < comment.length; i++) {
            temp += '"' + comment[i] + '":"' + nodes[field[i]] + '",';
            temp += '"' + comment[i] + '":"' + nodes[k][field[i]] + '",';
          }
          if (temp != '') {
            temp = '{' + temp.substring(0, temp.length - 1) + '}';
          }
          str.push(utils["a" /* default */].parseToJson(temp));
        });
      }
      const pInst = utils["a" /* default */].getOnlineFormInstance(this);
      this.selectOrgs = this.convertComment2Field(str, field);
      this.custdialog.custDialog.mappingConf.forEach(con => {
        var val = '';
        str.forEach(item => {
          val += item[con.from] + ',';
        });
        if (this.modelName == 'data.' + con['target'][0]) {
          utils["a" /* default */].setValueByPath(pInst, 'data.' + con['target'][0], val.substring(0, val.length - 1), thisIndex);
        } else if (this.modelName == 'searchForm.' + con['target'][0]) {
          utils["a" /* default */].setValueByPath(pInst, 'searchForm.' + con['target'][0], val.substring(0, val.length - 1), thisIndex);
        } else {
          let configAttr = con['target'][0].split('.');
          let path = con['target'][0];
          if (configAttr.length == 4 && parentIndex >= 0) {
            //孙表数据赋值
            path = configAttr[0] + '.' + configAttr[1] + '[' + parentIndex + '].' + configAttr[2] + '.' + configAttr[3];
          }
          const _val = val.substring(0, val.length - 1);
          if (path) {
            if (this.modelName && this.modelName.endsWith(path)) {
              // this.$emit('input', _val)
              this.$emit('updateInput', _val);
            }
            utils["a" /* default */].setValueByPath(pInst, `${pInst.data ? 'data.' : 'model.'}${path}`, _val, thisIndex);
          }
        }
      });
      //回显的值
      this.showData = this.propsData ? [...this.propsData] : '';
      this.customDialogShowTree = false;
    },
    // 将以comment为key的数组改造为以field为key的数组
    convertComment2Field(ary, fields) {
      const result = [];
      if (!ary || ary.length == 0) {
        return result;
      }
      ary.forEach(s => {
        const r = {};
        Object.entries(s).forEach((kv, index) => {
          const f = fields[index];
          if (f) {
            r[f] = kv[1];
          }
        });
        result.push(r);
      });
      return result;
    },
    dialogCancelTree() {
      this.setDialogData([]);
      this.customDialogShowTree = false;
    },
    //查询
    search(resetPagintion) {
      let querys = []; //查询条件
      let queryFilter = {};
      if (JSON.stringify(this.pagination) == '{}') {
        this.pagination = {
          page: 1,
          pageSize: 10,
          showTotal: true
        };
      }
      let pageBean = {
        pageBean: this.pagination
      };
      if (resetPagintion) {
        pageBean.pageBean = {
          page: 1,
          pageSize: 10,
          showTotal: true
        };
      }
      //用户输入的
      if (this.queryParams.length != 0 && this.queryParams[0] != '') {
        this.conditionBind.forEach((item, index) => {
          if (this.queryParams[index][item.field]) {
            querys.push({
              property: item.field,
              value: this.queryParams[index][item.field],
              group: 'main',
              operation: 'LIKE',
              relation: 'AND'
            });
          }
        });
      }
      //参数传入的查询拼接
      if (this.param) {
        this.param.forEach(item => {
          querys.push({
            property: item.field,
            value: item.bindType === 2 ? item.bind : this.getCurrentValue(item.bind),
            group: 'main',
            operation: 'LIKE',
            relation: 'AND'
          });
        });
      }
      //来自组合对话框的
      if (this.combinationTreeQuerys && this.combinationTreeQuerys.length != 0) {
        for (let i = 0; i < this.combinationTreeQuerys.length; i++) {
          querys.push(this.combinationTreeQuerys[i]);
        }
      }

      // post restful接口，并且配置了post参数。则以post参数作为请求参数
      if (this.customDialog.dsType != 'dataSource' && this.customDialog.requestType == 'POST' && this.customDialog.dataParam && this.customDialog.dataParam.constructor == String) {
        let param = this.param;
        // 构建上下文数据对象
        let ctx = {};
        //根据路径构建想要的分页属性
        let obj = {};
        this.getLastKeyByPath(obj, this.customDialog.pageKey, pageBean.pageBean.page);
        this.getLastKeyByPath(obj, this.customDialog.pageSizeKey, pageBean.pageBean.pageSize);
        this.getLastKeyByPath(obj, this.customDialog.totalKey, pageBean.pageBean.total);
        querys && querys.length && querys.forEach(element => {
          ctx[element.property] = element.value;
        });
        ctx.pageSize = pageBean.pageBean.pageSize;
        ctx.page = pageBean.pageBean.page;
        ctx.total = pageBean.pageBean.total;
        // 添加用户id 岗位id 组织id
        try {
          if (this.$requestConfig.getUserId()) {
            ctx.userId = this.$requestConfig.getUserId();
          }
          if (this.$requestConfig.getOrgId()) {
            ctx.orgId = this.$requestConfig.getOrgId();
          }
          if (this.$requestConfig.getPostId()) {
            ctx.postId = this.$requestConfig.getPostId();
          }
        } catch (e) {
          console.log(this.t('ht.customDialog.getIdError'), e);
        }
        const queryParamMap = this.getSearchValueByKey();
        const exp = utils["a" /* default */].parseExp(this.customDialog.dataParam, {
          ...ctx,
          ...queryParamMap,
          ...this.fixedParams
        });
        try {
          param = JSON.parse(exp);
          const dataParam = JSON.parse(this.customDialog.dataParam);
          const queryList = dataParam && dataParam.querys && dataParam.querys.map(item => {
            const bindKey = item.value && item.value.replace('${', '').replace('}', '');
            return {
              ...item,
              value: queryParamMap[bindKey] || ctx[bindKey] || ''
            };
          });
          param.querys = queryList;
          if (this.customDialog.needPage) {
            param.pageBean = obj;
          } else {
            param.pageBean.pageSize = -1;
          }
          //构造请求的参数
          let requestParam = {
            pageBean: param,
            queryUrl: this.customDialog.queryUrl,
            requestType: this.customDialog.requestType,
            dsType: this.customDialog.dsType,
            listKey: this.customDialog.listKey,
            pageKey: this.customDialog.pageKey,
            pageSizeKey: this.customDialog.pageSizeKey,
            totalKey: this.customDialog.totalKey
          };
          this.getDialoglistJson(requestParam).then(() => {
            this.checkList();
          });
        } catch (e) {
          this.$message.error(`${this.t('ht.customDialog.postRequestParamError')}${param}`);
        }
      } else {
        if (querys.length > 0) {
          queryFilter = this.handlePostData({
            pageBean: pageBean.pageBean,
            querys
          });
          this.customDialog.pageBean = queryFilter;
          this.getDialoglistJson(this.customDialog).then(() => {
            this.checkList();
          });
        } else {
          this.customDialog.pageBean = pageBean;
          this.getDialoglistJson(this.customDialog).then(() => {
            this.checkList();
          });
        }
      }
    },
    getSearchValueByKey() {
      let queryParamsObj = {};
      if (this.queryParams.length > 0) {
        queryParamsObj = this.conditionBind.reduce((pre, cur, index) => {
          pre[cur.field] = this.queryParams[index][cur.field];
          return pre;
        }, {});
      }
      return queryParamsObj;
    },
    getLastKeyByPath(obj, path, value) {
      if (!obj || !path || path.constructor != String) {
        return;
      }
      if (!/^\w?.*[\w|\]]$/.test(path)) {
        return;
      }
      let pathAry = path.split('.');
      if (pathAry.length == 1) {
        obj[path] = value;
      } else {
        let length = pathAry.length;
        obj[pathAry[length - 1]] = value;
      }
    },
    getCurrentValue(bind) {
      let value = null;
      const pInst = utils["a" /* default */].getOnlineFormInstance(this);
      const bindPath = bind.replace(`${this.subPath}.`, '');
      if (this.sunIndex || this.sunIndex === 0) {
        value = utils["a" /* default */].getValueByPath(this.currentSubData[this.subIndex], bindPath, this.sunIndex || this.sunIndex === 0 ? this.sunIndex : null);
      } else {
        value = utils["a" /* default */].getValueByPath(pInst, bind, this.subIndex || this.subIndex === 0 ? this.subIndex : null);
      }
      return value;
    },
    //重置
    reset() {
      this.queryParams.forEach((paramObj, index) => {
        for (let key in paramObj) {
          this.queryParams[index][key] = '';
        }
      });
      //组合树重置
      let nodes = {};
      if (this.$refs.combinationTree) {
        nodes = this.$refs.combinationTree.store.nodesMap;
      }
      for (let key in nodes) {
        nodes[key].expanded = false;
      }
      this.combinationTreeQuerys.splice(0);
      this.search(true);
    },
    checkList() {
      const {
        page,
        pageSize,
        total
      } = this.pagination;
      if (page > 0 && pageSize > 0 && total > 0) {
        this.finished = page * pageSize >= total;
      } else {
        this.finished = true;
      }
      this.isDownLoading = false;
      this.isPullLoading = false;

      // const this_ = this
      // setTimeout(() => {
      //   //列表
      //   if (
      //     this_.checkBoxDataAll != undefined &&
      //     this_.checkBoxDataAll.length > 0
      //   ) {
      //     this_.checkBoxDataAll.forEach((row) => {
      //       let res = this_.indexArray(this_.dialogData, row)
      //       this_.undefineda = res
      //       if (res != -1) {
      //         this_.isCurrentChange = true
      //         this_.toggleRowSelection(res, true)
      //       }
      //     })
      //   }
      // }, 300)
    },
    checkNode(data, this_, pnode) {
      if (!data.Pid) {
        //不清楚是不是有地方数据返回是Pid，这里做个判断
        data.Pid = data.pid;
      }
      if (data.Pid) {
        let node = this_.$refs.tree.getNode(data.Pid);
        node.indeterminate = true;
        if (node.data.Pid) {
          this_.$refs.tree.getNode(node.data.Pid).indeterminate = true;
          this.checkNode(this_.$refs.tree.getNode(node.data.Pid).data, this_, this_.$refs.tree.getNode(node.data.Pid));
        }
        if (!node.indeterminate) {
          node.indeterminate = true;
        }
      } else if (pnode && !pnode.indeterminate) {
        pnode.indeterminate = true;
      }
    },
    dialogCancel() {
      const this_ = this;
      this_.queryParam = '';
      this.setDialogData([]);
      this_.customDialogShowList = false;
    },
    afterOpen() {
      //打开对话框之后加载树
      this.loadCombinationTree();
    },
    dialogConfirm() {
      this.queryParam = '';
      this.customDialogShowList = false;
      this.calacInputSuffixHeight();
      this.syncInputValue();
    },
    // 同步选择结果
    syncInputValue() {
      let thisIndex = null; //当前数据所在下标
      let parentIndex = null; //父节点所在下标
      if (this.$parent.$el) {
        thisIndex = utils["a" /* default */].getSubScopeElAndIndex(this.$parent.$el).index;
        let subScopeEl = utils["a" /* default */].getParentElementByClassNamePrefix(this.$parent.$parent.$el, 'data-index');
        if (subScopeEl) {
          const className = Array.prototype.find.call(subScopeEl.classList, item => item.startsWith('data-index__'));
          if (className) {
            parentIndex = className.split('__')[1];
          }
        }
        if (null == parentIndex) {
          subScopeEl = utils["a" /* default */].getParentElementByAttribute(this.$parent.$parent.$el, 'data-index');
          if (subScopeEl && subScopeEl.attributes['data-index']) {
            parentIndex = subScopeEl.attributes['data-index'].value;
          }
        }
      }
      var returnStr = JSON.parse(this.customDialog.resultfield);
      //拿到返回的字段
      var field = new Array([returnStr.length]);
      var comment = new Array([returnStr.length]);
      var str = [];
      for (var i = 0; i < returnStr.length; i++) {
        field[i] = returnStr[i].field.toLowerCase();
        comment[i] = returnStr[i].comment.toLowerCase();
      }
      this.selectOrgs = [...this.selectIds];
      var s = this.selectOrgs;
      if (this.selectOrgs) {
        this.showData = [...this.selectOrgs];
        this.checkBoxDataAll = [...this.selectOrgs];
      } else {
        this.showData = [];
        this.checkBoxDataAll = [];
      }
      if (this.customDialog.selectNum === 1) {
        s = this.selectOrgs;
      }
      if (this.customDialog.selectNum === 1) {
        var temp = '';
        // 当 s 存在或 s 的长度不为0时
        if (s && s.length) {
          for (var k = 0; k < comment.length; k++) {
            let sField = s[0][field[k]] === undefined ? '' : s[0][field[k]];
            let encodeStr = encodeURIComponent(sField);
            temp += '"' + comment[k] + '":"' + encodeStr + '",';
          }
        }
        if (temp != '') {
          temp = '{' + temp.substring(0, temp.length - 1) + '}';
        }
        str.push(utils["a" /* default */].parseToJson(temp));
      } else {
        if (s && s.length > 0) {
          for (var m = 0; m < s.length; m++) {
            var temp1 = '';
            for (var j = 0; j < comment.length; j++) {
              const _m = s[m];
              const _n = field[j];
              const _ov = _m[_n]; //原始值
              const _uv = _m[_n.toUpperCase()]; //field转大写后取到的值
              const _lv = _m[_n.toLowerCase()]; //field转小写后取到的值
              const _fv = _ov == null || _ov == undefined ? _uv == null || _uv == undefined ? _lv : _uv : _ov;
              const encodeStr = encodeURIComponent(_fv);
              temp1 += '"' + comment[j] + '":"' + encodeStr + '",';
            }
            if (temp1 != '') {
              temp1 = '{' + temp1.substring(0, temp1.length - 1) + '}';
            }
            str.push(utils["a" /* default */].parseToJson(temp1));
          }
        }
      }
      const pInst = utils["a" /* default */].getOnlineFormInstance(this);
      this.custdialog.custDialog.mappingConf.forEach(con => {
        var val = '';
        var from = con.from.toLowerCase();
        str.forEach(item => {
          if (item) {
            val += decodeURIComponent(item[from]) + ',';
          }
        });
        if (this.modelName == 'data.' + con['target'][0]) {
          val = val.substring(0, val.length - 1);
          utils["a" /* default */].setValueByPath(pInst, 'data.' + con['target'][0], val, thisIndex);
        } else if (this.modelName && this.modelName.startsWith('searchForm.')) {
          let prePath = pInst['searchForm'] ? '' : 'data.';
          utils["a" /* default */].setValueByPath(pInst, prePath + 'searchForm.' + con['target'][0], val.substring(0, val.length - 1), thisIndex);
        } else {
          let configAttr = con['target'][0].split('.');
          let path = con['target'][0];
          if (configAttr.length == 4 && parentIndex >= 0) {
            //孙表数据赋值
            path = configAttr[0] + '.' + configAttr[1] + '[' + parentIndex + '].' + configAttr[2] + '.' + configAttr[3];
          }
          const _val = val.substring(0, val.length - 1);
          if (path) {
            if (this.modelName && this.modelName.endsWith(path)) {
              this.$emit('updateInput', _val);
            }
            utils["a" /* default */].setValueByPath(pInst, `${pInst.data ? 'data.' : 'model.'}${path}`, _val, thisIndex);
          }
        }
      });
      //判断对话框是否绑定了关联查询
      let custQueryJson = this.custdialog.custDialog.custQueryJson;
      if (custQueryJson.length > 0) {
        for (let i = 0; i < custQueryJson.length; i++) {
          if (custQueryJson[i].conditionfield.length > 0) {
            this.doQuery(custQueryJson[i]);
          } else {
            console.error('[' + custQueryJson[i].comment + ']' + this.t('ht.customDialog.relationSearchNotBindField'));
          }
        }
      }
    },
    // getSelected() {
    //   let arr = []
    //   this.selectIds.forEach((item) => {
    //     debugger
    //     let obj = this.dialogData.find((sub) => {
    //       return sub.id_ === item
    //     })
    //     if (obj) {
    //       arr.push(obj)
    //     }
    //   })

    //   return arr
    // },
    calacInputSuffixHeight() {
      this.$emit('calacInputSuffixHeight');
    },
    removeSelectOrg(item) {
      // 单选时
      if (this.customDialog.selectNum === 1) {
        this.selectIds.splice(item, 1);
        this.showData.splice(item, 1);
      } else {
        //树形
        if (this.propsData.length > 0) {
          this.propsData.splice(item, 1);
        }
        if (this.showData.length > 0) {
          this.showData.splice(item, 1);
        }
        //列表
        if (this.selectIds) {
          this.selectIds.splice(item, 1);
          // this.checkBoxDataAll.splice(item, 1)
        }
      }
      this.syncInputValue();
    },
    //判断数据是否包含某个对象，并返回数据包含对象的下标
    indexArray(array, item) {
      if (array.length == 0) {
        return -1;
      }
      for (let i = 0; i < array.length; i++) {
        if (utils["a" /* default */].objectEquals(array[i], item)) {
          return i;
        }
      }
      return -1;
    },
    // 处理POST请求时的参数
    handlePostData(queryFilter) {
      if (!this.customDialog.dataParam || this.customDialog.dataParam.constructor != String) {
        return queryFilter;
      }
      // 构建上下文数据对象
      let ctx = {};
      queryFilter && queryFilter.querys.forEach(element => {
        ctx[element.property] = element.value;
      });
      const exp = utils["a" /* default */].parseExp(this.customDialog.dataParam, ctx);
      try {
        return JSON.parse(exp);
      } catch (e) {
        services_CustomQuery._throwException(this.t('ht.customDialog.postRequestParamError') + this.customDialog.dataParam);
      }
    },
    dialogCancelTree() {
      this.setDialogData([]);
      this.customDialogShowTree = false;
    },
    loadTree(node, resolve) {
      if (node) {
        let this_ = this;
        let displayField = this_.customDialog.style == 2 ? this_.combiTreeDisplayField : this_.displayField;
        resolve(this.treeList.filter(value => value[displayField.pid] === node.data[displayField.id]));
        if (this.showData && this.showData.length > 0) {
          setTimeout(() => {
            this.showData.forEach(v => {
              if (!v.Pid) {
                //不清楚是不是有地方数据返回是Pid,这里做个判断
                v.Pid = v.pid;
              }
              if (v.Pid == node.key) {
                this_.$refs.tree.setChecked(v, true);
              } else {
                this_.checkNode(v, this_);
              }
            });
          }, 400);
        }
      }
    },
    //加载树的信息
    toTreeData(data, id, pid, name, pvalue) {
      // 建立个树形结构,需要定义个最顶层的父节点，pvalue是0
      return this.translateDataToTree(data, pid, id, name, pvalue);
    },
    translateDataToTree(data, pid, id) {
      //把树数据有子节点的数据全部过滤掉（只留父节点的数据）
      let tile2nest = utils["a" /* default */].tile2nest(data, id, pid);
      return tile2nest || [];
    },
    combiTreeClick(paramObj) {
      this.treeSelectText = paramObj[this.defaultProps.label];
      this.isSelectTreeShow = false;
      //组合对话框点击左树
      //清空旧的
      this.combinationTreeQuerys.splice(0);
      let combinationRule = JSON.parse(this.customDialog.combinationRule);
      if (!combinationRule.rules || combinationRule.rules.length == 0) {
        return;
      }
      let rules = combinationRule.rules;
      for (let i = 0; i < rules.length; i++) {
        let value = paramObj[rules[i].treeField];
        let property = rules[i].listField;
        this.combinationTreeQuerys.push({
          property: property,
          value: value,
          group: 'treeGroup',
          operation: this.getOperation(rules[i].condition),
          relation: 'AND'
        });
      }
      this.search(true);
    },
    //获取运算符号
    getOperation(old) {
      if (!old) {
        return '';
      }
      if (old == 'EQ') {
        return 'EQUAL';
      }
      if (old == 'LK') {
        return 'LIKE';
      }
      if (old == 'LFK') {
        return 'LIKE';
      }
      if (old == 'IN') {
        return 'IN';
      }
    },
    loadCombinationTree() {
      if (this.customDialog.style != 2) {
        return;
      }
      let combinationRule = JSON.parse(this.customDialog.combinationRule);
      this.combinationRule = combinationRule;
      let treeAlias = combinationRule.leftTree;
      //获取对话框数据
      this.$requestConfig.getCustomDialogByAlias(treeAlias).then(resp => {
        let treeDialog = resp;
        this.leftTreeTitle = treeDialog.name;
        let requestType = treeDialog.dsType == 'dataSource' ? 'get' : treeDialog.requestType ? treeDialog.requestType : 'post';
        let url = '${form}/form/customDialog/v1/getTreeData?alias=' + treeAlias + '&mapParam=';
        let paramsObj = {};
        if (treeDialog.dsType != 'dataSource') {
          url = treeDialog.url;
          let templatePa = treeDialog.dataParam;
          if (treeDialog.conditionfield) {
            let conditions = JSON.parse(treeDialog.conditionfield);
            for (let i = 0; i < conditions.length; i++) {
              let con = conditions[i];
              if (requestType == 'POST') {
                if (templatePa) {
                  templatePa = templatePa.replace(new RegExp('\\{' + con.field + '\\}', 'g'), con.defaultValue);
                } else {
                  paramsObj[con.field] = con.defaultValue;
                }
              } else {
                let ljChar = url.indexOf('?') == -1 ? '?' : '&';
                url = url + ljChar + con.field + '=' + con.defaultValue;
              }
            }
            if (templatePa) {
              paramsObj = JSON.parse(templatePa);
            }
          }
        }
        let requestParams = {};
        requestParams.requestType = requestType;
        requestParams.url = url;
        requestParams.paramsObj = paramsObj;
        this.$requestConfig.request({
          url: requestParams.url,
          method: 'get'
        }).then(resp => {
          if (treeDialog.displayfield && treeDialog.resultfield) {
            let displayField = JSON.parse(treeDialog.displayfield);
            let resultfield = JSON.parse(treeDialog.resultfield);
            this.defaultProps.label = displayField.displayName;
            this.treeList = resp;
            this.combiTreeDisplayField = displayField;
            this.combinationTreeData = this.toTreeData(resp, displayField.id, displayField.pid, displayField.displayName, displayField.pvalue ? displayField.pvalue : '0', resultfield);
          }
        });
      });
    },
    //打开树形动态参数输入值的对话框
    handleSave() {
      this.customDialogTreeShow(this.pageParam);
      this.dialogVisible = false;
    },
    //关闭树形动态参数输入值的对话框
    handleClose() {
      this.dialogVisible = false;
    }
  }
});
// CONCATENATED MODULE: ./packages/CustomDialog/src/customMobileDialog.vue?vue&type=script&lang=js
 /* harmony default export */ var src_customMobileDialogvue_type_script_lang_js = (customMobileDialogvue_type_script_lang_js); 
// EXTERNAL MODULE: ./packages/CustomDialog/src/customMobileDialog.vue?vue&type=style&index=0&id=38b1b8ca&prod&lang=scss&scoped=true
var customMobileDialogvue_type_style_index_0_id_38b1b8ca_prod_lang_scss_scoped_true = __webpack_require__("4afe");

// EXTERNAL MODULE: ./packages/CustomDialog/src/customMobileDialog.vue?vue&type=style&index=1&id=38b1b8ca&prod&lang=scss
var customMobileDialogvue_type_style_index_1_id_38b1b8ca_prod_lang_scss = __webpack_require__("a3a8");

// CONCATENATED MODULE: ./packages/CustomDialog/src/customMobileDialog.vue







/* normalize component */

var customMobileDialog_component = normalizeComponent(
  src_customMobileDialogvue_type_script_lang_js,
  customMobileDialogvue_type_template_id_38b1b8ca_scoped_true_render,
  customMobileDialogvue_type_template_id_38b1b8ca_scoped_true_staticRenderFns,
  false,
  null,
  "38b1b8ca",
  null
  
)

/* harmony default export */ var customMobileDialog = (customMobileDialog_component.exports);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/CustomDialog/src/main.vue?vue&type=script&lang=js
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//












/* harmony default export */ var CustomDialog_src_mainvue_type_script_lang_js = ({
  name: 'HtCustomDialog',
  components: {
    CustomDialog: CustomDialog_src_customDialog,
    CustomMobileDialog: customMobileDialog,
    HtFieldTail: FieldTail
  },
  mixins: [src_customDialog, mixins_locale, inputName["a" /* default */], mixins_permission["a" /* default */], mixins_form["a" /* default */], mobileMode["a" /* default */]],
  props: {
    value: String,
    single: {
      type: Boolean,
      default: false
    },
    custdialog: Object,
    tooltipplacement: Object,
    subIndex: Number,
    sunIndex: Number,
    subPath: String,
    currentSubData: Array
  },
  data() {
    return {
      isEditInputShow: false,
      customValue: '',
      defualtTooltipplacement: 'bottom',
      dialogVisible: false,
      //打开树形输入动态参数值的对话框
      pageParam: {},
      //树形对话框参数
      conditionfieldTree: [],
      //树形对话框条件字段
      data: {
        qxdd: {}
      },
      inputSuffixWidth: 60,
      quickSearch: '',
      //填写提示
      conditionBind: [],
      //参数查询字段
      nodeKey: 'ID_',
      //树形数据父Id
      customDialogShowList: false,
      customDialogShowTree: false,
      selectOrgProps: {
        label: 'name'
      },
      style: '',
      //对话框宽高
      selectOrgs: [],
      inputSuffixHeight: 33,
      customDialog: {},
      isCurrentChange: false,
      //是否不执行 orgTableSelection方法
      param: [],
      //绑定的表单字段
      treeList: [],
      writeable: true
    };
  },
  computed: {
    inputVal: function () {
      if (!this.value || this.value == '||[]') {
        return null;
      } else {
        let nameAry = this.value.split(',');
        if (this.value.indexOf('||') > 0) {
          nameAry = this.value.split('||')[0].split(',');
        }
        let result = [];
        nameAry.forEach(m => {
          let n = {
            value: m
          };
          result.push(n);
        });
        return result;
      }
    },
    isAllowCustom() {
      return this.custdialog && this.custdialog.allowInput;
    }
  },
  mounted() {
    setTimeout(() => {
      const {
        subScopeEl
      } = utils["a" /* default */].getSubScopeElAndIndex(this.$el);
      if (subScopeEl) {
        if (subScopeEl.getAttribute('row_readonly') == 'true' || subScopeEl.getAttribute('row_readonly') === true) {
          this.writeable = false;
        } else {
          const className = Array.prototype.find.call(subScopeEl.classList, item => item.startsWith('row_readonly__'));
          if (className && className == 'row_readonly__true') {
            this.writeable = false;
          }
        }
      }
      //获取对话框按钮名称宽度
      this.calacInputSuffixWidth();
    }, 50);
  },
  methods: {
    editInputBlur() {
      this.$emit('input', this.customValue);
      this.isEditInputShow = false;
    },
    showEditInput() {
      if (!this.isAllowCustom) {
        this.showDialog();
        return;
      }
      this.customValue = this.value;
      this.isEditInputShow = true;
      this.$nextTick(() => {
        this.$refs.editInputRef.focus();
      });
    },
    showDialog() {
      if (!this.inputWriteable) {
        return;
      }
      if (this.isMobile) {
        this.$refs.customMobileDialogRef.showDialog();
      } else {
        this.$refs.customDialogRef.showDialog();
      }
    },
    removeSelectOrg(item) {
      this.inputVal.splice(item, 1);
      let value = '';
      this.inputVal.forEach(val => {
        value += val.value + ',';
      });
      if (value.length > 0) {
        value = value.substring(0, value.length - 1);
      } else {
        this.clear();
      }
      this.$emit('input', value);
      this.calacInputSuffixHeight();
      if (this.isMobile) {
        this.$refs.customMobileDialogRef.removeSelectOrg(item);
      } else {
        this.$refs.customDialogRef.removeSelectOrg(item);
      }
    },
    clear() {
      this.$emit('input', '');
      this.$refs.customDialogRef.clearAll();
      this.calacInputSuffixHeight();
    },
    calacInputSuffixHeight() {
      setTimeout(() => {
        if (!this.$refs.tagSpans) return;
        if (this.$refs.tagSpans.offsetHeight) {
          this.inputSuffixHeight = this.$refs.tagSpans.offsetHeight + 5;
        } else {
          this.inputSuffixHeight = 30;
        }
        // 触发验证
        this.$validator.validate();
      }, 0);
      this.calacInputSuffixWidth();
    },
    calacInputSuffixWidth() {
      if (this.$refs.inputSuffix) {
        this.inputSuffixWidth = this.$refs.inputSuffix.offsetWidth + 1;
      }
    },
    updateInput(data) {
      this.$emit('input', data);
    }
  }
});
// CONCATENATED MODULE: ./packages/CustomDialog/src/main.vue?vue&type=script&lang=js
 /* harmony default export */ var packages_CustomDialog_src_mainvue_type_script_lang_js = (CustomDialog_src_mainvue_type_script_lang_js); 
// EXTERNAL MODULE: ./packages/CustomDialog/src/main.vue?vue&type=style&index=0&id=7ac2d73f&prod&lang=scss&scoped=true
var mainvue_type_style_index_0_id_7ac2d73f_prod_lang_scss_scoped_true = __webpack_require__("307d");

// CONCATENATED MODULE: ./packages/CustomDialog/src/main.vue






/* normalize component */

var CustomDialog_src_main_component = normalizeComponent(
  packages_CustomDialog_src_mainvue_type_script_lang_js,
  mainvue_type_template_id_7ac2d73f_scoped_true_render,
  mainvue_type_template_id_7ac2d73f_scoped_true_staticRenderFns,
  false,
  null,
  "7ac2d73f",
  null
  
)

/* harmony default export */ var CustomDialog_src_main = (CustomDialog_src_main_component.exports);
// CONCATENATED MODULE: ./packages/CustomDialog/index.js

CustomDialog_src_main.install = function (Vue) {
  Vue.component(CustomDialog_src_main.name, CustomDialog_src_main);
};
/* harmony default export */ var CustomDialog = (CustomDialog_src_main);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"8bdeefa2-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/OrgPostDialog/src/main.vue?vue&type=template&id=5b5e8923&scoped=true
var mainvue_type_template_id_5b5e8923_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:"inputs org-dialog"},[(!_vm.isMobile)?_c('org-selector-dialog',{ref:"orgSelectorDialog",attrs:{"title":_vm.title,"append-to-body":_vm.appendToBody,"data":_vm.data,"pagination":_vm.pagination,"select-label":_vm.selectLabel,"quick-search-props":_vm.quickSearchProps,"single":_vm.single,"search-placeholder":_vm.searchPlaceholder,"primary-field":_vm.primaryField,"mode":_vm.mode},on:{"filter-type-change":_vm.handleFilterTypeChange,"search":_vm.handleSearch,"reset":_vm.handleReset,"page-change":_vm.handlePageChange,"load-org":_vm.loadOrg,"load-policy-org":_vm.loadPolicyOrg,"row-click":function (row) { return _vm.$emit('row-click', row); },"select-data":function (data) { return _vm.$emit('on-confirm', data); }},model:{value:(_vm.selectors),callback:function ($$v) {_vm.selectors=$$v},expression:"selectors"}}):_c('org-selector-mobile-dialog',{ref:"orgSelectorMobileDialog",attrs:{"title":_vm.title,"append-to-body":_vm.appendToBody,"data":_vm.data,"pagination":_vm.pagination,"select-label":_vm.selectLabel,"single":_vm.single,"search-placeholder":_vm.searchPlaceholder,"primary-field":_vm.primaryField},on:{"search":_vm.handleSearch,"reset":_vm.handleReset,"row-click":function (row) { return _vm.$emit('row-click', row); },"select-data":function (data) { return _vm.$emit('on-confirm', data); },"page-change":_vm.handlePageChange},model:{value:(_vm.selectors),callback:function ($$v) {_vm.selectors=$$v},expression:"selectors"}})],1)}
var mainvue_type_template_id_5b5e8923_scoped_true_staticRenderFns = []


// CONCATENATED MODULE: ./packages/OrgPostDialog/src/main.vue?vue&type=template&id=5b5e8923&scoped=true

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/OrgPostDialog/src/main.vue?vue&type=script&lang=js
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//





/* harmony default export */ var OrgPostDialog_src_mainvue_type_script_lang_js = ({
  name: 'HtOrgPostDialog',
  components: {
    OrgSelectorDialog: OrgSelectorDialog,
    OrgSelectorMobileDialog: OrgSelectorMobileDialog
  },
  mixins: [mobileMode["a" /* default */]],
  props: {
    value: String,
    single: Boolean,
    config: Object,
    appendToBody: {
      type: Boolean,
      default: false
    },
    title: {
      type: String,
      default() {
        return Object(locale["c" /* t */])('ht.selector.orgTitle');
      }
    },
    quickSearchProps: {
      type: String,
      default: 'name,code,pathName'
    },
    pageSize: {
      type: Number,
      default: 20
    },
    showPath: {
      type: Boolean,
      default: false
    },
    searchPlaceholder: {
      type: String,
      default() {
        return Object(locale["c" /* t */])('ht.selector.orgDefaultPlaceholder');
      }
    },
    currentSelectOrgs: Array
  },
  data() {
    return {
      selectors: [],
      mode: null,
      // 搜索模式
      filterType: 'org',
      //过滤类型(org:组织，policy:策略)
      currentGroup: null,
      currentOrg: null,
      currentPolicy: null,
      searchWord: null,
      data: [],
      pagination: {
        page: 1,
        pageSize: this.pageSize,
        total: 0,
        showTotal: true
      }
    };
  },
  computed: {
    selectLabel() {
      return this.showPath ? 'pathName' : 'name';
    },
    primaryField: function () {
      return this.config && this.config.hasOwnProperty('id') ? 'id' : this.config && this.config.hasOwnProperty('code') ? 'code' : this.selectLabel;
    }
  },
  mounted() {
    if (!this.data || this.data.length == 0) {
      this.handleLoad();
    }
  },
  methods: {
    showDialog() {
      this.selectors = this.currentSelectOrgs ? this.currentSelectOrgs : [];
      if (this.isMobile) {
        this.$refs.orgSelectorMobileDialog.showDialog();
      } else {
        this.$refs.orgSelectorDialog.showDialog();
      }
    },
    handleSearch(word) {
      if (!word || !word.trim()) {
        this.handleReset();
        return;
      }
      // 存储搜索关键词
      this.searchWord = word;
      // 进入搜索模式
      this.mode = 'search';
      this.handleLoad();
    },
    handleReset() {
      // 置空搜索关键词
      this.searchWord = null;
      // 退出搜索模式
      this.mode = null;
      this.handleLoad();
    },
    handlePageChange(page) {
      // 搜索模式下或者未进行过滤时，查询所有数据
      if (this.mode != 'filter') {
        this.handleLoad(page);
      } else {
        // 过滤模式下，根据过滤类型查询数据
        switch (this.filterType) {
          case 'org':
            this.loadOrg(this.currentOrg, page);
            break;
          case 'policy':
            this.loadPolicyOrg(this.currentPolicy, page);
            break;
        }
      }
    },
    // 处理过滤类型变化的事件
    handleFilterTypeChange(type) {
      this.filterType = type;
    },
    getQueryFilter(page) {
      const queryFilter = {
        querys: [],
        pageBean: this.getPageBean(page)
      };
      if (this.quickSearchProps && this.quickSearchProps.constructor == String && this.searchWord) {
        const props = this.quickSearchProps.split(',');
        props.forEach(item => {
          let query = {
            property: item,
            value: this.searchWord,
            group: 'main',
            operation: 'LIKE',
            relation: 'OR'
          };
          queryFilter.querys.push(query);
        });
      }
      return queryFilter;
    },
    // 获取查询参数中的分页信息(不传page时默认查询第一页)
    getPageBean(page) {
      const pageBean = {
        ...this.pagination
      };
      delete pageBean['total'];
      pageBean.page = page || 1;
      return pageBean;
    },
    handleLoad(page) {
      const param = this.getQueryFilter(page);
      this.data = this.data || [];
      this.loadAllOrg(param);
    },
    // 通过组织查询用户
    loadOrg(org, page) {
      this.mode = 'filter';
      this.currentOrg = org;
      let queryFilter = {
        pageBean: this.getPageBean(page),
        querys: []
      };
      let query = {
        property: 'path',
        value: org.path,
        group: 'main',
        operation: 'RIGHT_LIKE',
        relation: 'AND'
      };
      if (org.path) {
        queryFilter.querys.push(query);
      }
      this.loadAllOrg(queryFilter);
    },
    // 通过策略查询用户
    loadPolicyOrg(params, page) {
      this.mode = 'filter';
      this.currentOrg = params;
      let queryFilter = {
        pageBean: this.getPageBean(page),
        querys: []
      };
      let query = null;
      const {
        type,
        ids,
        paths
      } = params;
      switch (type) {
        // 所在主部门
        case '1':
          query = {
            property: 'id_',
            value: params.id,
            group: 'main',
            operation: 'EQUAL',
            relation: 'AND'
          };
          queryFilter.querys.push(query);
          this.loadAllOrg(queryFilter);
          break;
        // 所在主部门及下级部门
        case '2':
          query = {
            property: 'path_',
            value: params.path,
            group: 'main',
            operation: 'RIGHT_LIKE',
            relation: 'AND'
          };
          queryFilter.querys.push(query);
          this.loadAllOrg(queryFilter);
          break;
        // 所在部门
        case '3':
          ids.forEach(id => {
            query = {
              property: 'id_',
              value: id,
              group: 'main',
              operation: 'EQUAL',
              relation: 'OR'
            };
            queryFilter.querys.push(query);
          });
          this.loadAllOrg(queryFilter);
          break;
        // 所在部门及下级部门
        case '4':
          paths.forEach(path => {
            query = {
              property: 'path_',
              value: path,
              group: 'main',
              operation: 'RIGHT_LIKE',
              relation: 'OR'
            };
            queryFilter.querys.push(query);
          });
          this.loadAllOrg(queryFilter);
          break;
      }
    },
    // 加载全部组织
    loadAllOrg(param) {
      this.$requestConfig.getOrgList(param).then(data => {
        const {
          rows,
          page,
          pageSize,
          total
        } = data;
        if (this.isMobile && page > 1) {
          this.data = this.data.concat(rows);
        } else {
          this.data = rows;
        }
        const paginationResult = {
          page,
          pageSize,
          total
        };
        this.$set(this, 'pagination', paginationResult);
      });
    }
  }
});
// CONCATENATED MODULE: ./packages/OrgPostDialog/src/main.vue?vue&type=script&lang=js
 /* harmony default export */ var packages_OrgPostDialog_src_mainvue_type_script_lang_js = (OrgPostDialog_src_mainvue_type_script_lang_js); 
// EXTERNAL MODULE: ./packages/OrgPostDialog/src/main.vue?vue&type=style&index=0&id=5b5e8923&prod&lang=scss&scoped=true
var mainvue_type_style_index_0_id_5b5e8923_prod_lang_scss_scoped_true = __webpack_require__("5ee2");

// CONCATENATED MODULE: ./packages/OrgPostDialog/src/main.vue






/* normalize component */

var OrgPostDialog_src_main_component = normalizeComponent(
  packages_OrgPostDialog_src_mainvue_type_script_lang_js,
  mainvue_type_template_id_5b5e8923_scoped_true_render,
  mainvue_type_template_id_5b5e8923_scoped_true_staticRenderFns,
  false,
  null,
  "5b5e8923",
  null
  
)

/* harmony default export */ var OrgPostDialog_src_main = (OrgPostDialog_src_main_component.exports);
// CONCATENATED MODULE: ./packages/OrgPostDialog/index.js

OrgPostDialog_src_main.install = function (Vue) {
  Vue.component(OrgPostDialog_src_main.name, OrgPostDialog_src_main);
};
/* harmony default export */ var OrgPostDialog = (OrgPostDialog_src_main);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"8bdeefa2-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/TreeDialog/src/main.vue?vue&type=template&id=39e0d488&scoped=true
var mainvue_type_template_id_39e0d488_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{attrs:{"title":_vm.dialogTitle,"append-to-body":_vm.appendToBody,"close-on-click-modal":false,"visible":_vm.dialogVisible,"before-close":_vm.handleClose,"destroy-on-close":_vm.destroyOnClose},on:{"update:visible":function($event){_vm.dialogVisible=$event}}},[_c('el-scrollbar',{staticStyle:{"height":"100%"}},[_c('ht-tree',{ref:"htTree",attrs:{"tree-data":_vm.data,"props":_vm.props,"empty-text":_vm.emptyText,"filter-node-method":_vm.filterNodeMethod,"support-filter":_vm.supportFilter,"show-more-button":_vm.showMoreButton,"default-expand-all":_vm.defaultExpandAll,"load":_vm.load,"lazy":_vm.lazy,"show-checkbox":_vm.showCheckbox,"accordion":_vm.accordion,"node-key":_vm.nodeKey,"default-expanded-keys":_vm.defaultExpandedKeys,"highlight-current":_vm.highlightCurrent,"render-after-expand":_vm.renderAfterExpand,"render-content":_vm.renderContent,"check-on-click-node":_vm.checkOnClickNode,"auto-expand-parent":_vm.autoExpandParent,"check-strictly":_vm.checkStrictly,"current-node-key":_vm.currentNodeKey,"indent":_vm.indent,"icon-class":_vm.iconClass,"draggable":_vm.draggable,"allow-drag":_vm.allowDrag,"allow-drop":_vm.allowDrop,"expand-on-click-node":_vm.expandOnClickNode,"default-checked-keys":_vm.defaultCheckedKeys},on:{"node-click":_vm.handleNodeClick,"node-contextmenu":_vm.nodeContextmenu,"check-change":_vm.checkChange,"check":_vm.check,"current-change":_vm.currentChange,"node-expand":_vm.nodeExpand,"node-collapse":_vm.nodeCollapse,"node-drag-start":_vm.nodeDragStart,"node-drag-enter":_vm.nodeDragEnter,"node-drag-leave":_vm.nodeDragLeave,"node-drag-over":_vm.nodeDragOver,"node-drag-end":_vm.nodeDragEnd,"node-drop":_vm.nodeDrop},scopedSlots:_vm._u([{key:"default",fn:function(ref){
var node = ref.node;
var data = ref.data;
return (_vm.$scopedSlots['default'])?_vm._t("default",null,{"node":node,"data":data}):[_c('span',{staticClass:"el-tree-node__label show-ellipsis",class:{ 'full-width': !_vm.showMoreButton },attrs:{"title":node.label}},[_vm._v("\n          "+_vm._s(node.label)+"\n        ")])]}}],null,true)})],1),_c('div',{staticClass:"dialog-footer",attrs:{"slot":"footer"},slot:"footer"},[_c('el-button',{attrs:{"type":"primary"},on:{"click":_vm.onConfirm}},[_vm._v("\n      "+_vm._s(_vm.$t('ht.common.confirm'))+"\n    ")]),_c('el-button',{on:{"click":_vm.handleClose}},[_vm._v(_vm._s(_vm.$t('ht.common.cancle')))])],1)],1)}
var mainvue_type_template_id_39e0d488_scoped_true_staticRenderFns = []


// CONCATENATED MODULE: ./packages/TreeDialog/src/main.vue?vue&type=template&id=39e0d488&scoped=true

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/TreeDialog/src/main.vue?vue&type=script&lang=js
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//



/* harmony default export */ var TreeDialog_src_mainvue_type_script_lang_js = ({
  name: 'HtTreeDialog',
  components: {
    HtTree: Tree
  },
  props: {
    dialogTitle: {
      type: String,
      default() {
        return Object(locale["c" /* t */])('ht.common.select');
      }
    },
    appendToBody: {
      type: Boolean,
      default: false
    },
    showMoreButton: {
      type: Boolean,
      default: false
    },
    emptyText: String,
    filterNodeMethod: Function,
    data: Array,
    load: {
      type: Function
    },
    lazy: {
      type: Boolean,
      default: false
    },
    accordion: {
      type: Boolean,
      default: false
    },
    showCheckbox: {
      type: Boolean,
      default: false
    },
    defaultExpandAll: {
      type: Boolean,
      default: false
    },
    props: {
      type: Object,
      default: function () {
        return {
          children: 'children',
          label: 'label'
        };
      }
    },
    supportFilter: {
      type: Boolean,
      default: false
    },
    iconClass: {
      type: String
    },
    nodeKey: {
      type: String
    },
    defaultExpandedKeys: {
      type: Array
    },
    highlightCurrent: {
      type: Boolean,
      default: false
    },
    renderAfterExpand: {
      type: Boolean,
      default: true
    },
    renderContent: {
      type: Function
    },
    checkOnClickNode: {
      type: Boolean,
      default: false
    },
    autoExpandParent: {
      type: Boolean,
      default: true
    },
    checkStrictly: {
      type: Boolean,
      default: false
    },
    currentNodeKey: {
      type: [String, Number]
    },
    indent: {
      type: Number,
      default: 16
    },
    draggable: {
      type: Boolean,
      default: false
    },
    allowDrag: {
      type: Function
    },
    allowDrop: {
      type: Function
    },
    expandOnClickNode: {
      type: Boolean,
      default: false
    },
    defaultCheckedKeys: {
      type: Array,
      default() {
        return [];
      }
    },
    // showCheck 为true时 是否只返回叶子节点
    leafOnly: {
      type: Boolean,
      default: false
    },
    // showCheck 为true时 是否只返回包含半选中的叶子节点
    includeHalfChecked: {
      type: Boolean,
      default: false
    },
    destroyOnClose: {
      type: Boolean,
      default: false
    }
  },
  data() {
    return {
      dialogVisible: false,
      selectedNode: null
    };
  },
  methods: {
    showDialog() {
      this.dialogVisible = true;
    },
    handleClose() {
      this.dialogVisible = false;
    },
    onConfirm() {
      let resultNodes = null;
      if (this.$refs.htTree.showCheckbox) {
        resultNodes = this.$refs.htTree.$refs.elTree.getCheckedNodes(this.leafOnly, this.includeHalfChecked);
        if (!resultNodes || resultNodes.length <= 0) {
          this.$message.error(this.$t('ht.common.select'));
          return;
        }
      } else {
        resultNodes = this.$refs.htTree.$refs.elTree.getCurrentNode();
      }
      if (!resultNodes) {
        this.$message.error(this.$t('ht.common.select'));
        return;
      }
      this.dialogVisible = false;
      this.$emit('onConfirm', resultNodes);
    },
    handleNodeClick(data, node, nodeComponent) {
      this.$emit('node-click', data, node, nodeComponent);
    },
    nodeContextmenu(event, data, node, nodeComponent) {
      this.$emit('node-contextmenu', event, data, node, nodeComponent);
    },
    checkChange(data, isChecked, hasChildChecked) {
      this.$emit('check-change', data, isChecked, hasChildChecked);
    },
    check(data, checkedObj) {
      this.$emit('check', data, checkedObj);
    },
    currentChange(data, node) {
      this.$emit('current-change', data, node);
    },
    nodeExpand(data, node, nodeComponent) {
      this.$emit('node-expand', data, node, nodeComponent);
    },
    nodeCollapse(data, node, nodeComponent) {
      this.$emit('node-collapse', data, node, nodeComponent);
    },
    nodeDragStart(node, event) {
      this.$emit('node-drag-start', node, event);
    },
    nodeDragEnter(dragNode, enterNode, event) {
      this.$emit('node-drag-enter', dragNode, enterNode, event);
    },
    nodeDragLeave(dragNode, enterNode, event) {
      this.$emit('node-drag-leave', dragNode, enterNode, event);
    },
    nodeDragOver(dragNode, enterNode, event) {
      this.$emit('node-drag-over', dragNode, enterNode, event);
    },
    nodeDragEnd(dragNode, endNode, position, event) {
      this.$emit('node-drag-end', dragNode, endNode, position, event);
    },
    nodeDrop(dragNode, endNode, position, event) {
      this.$emit('node-drop', dragNode, endNode, position, event);
    }
  }
});
// CONCATENATED MODULE: ./packages/TreeDialog/src/main.vue?vue&type=script&lang=js
 /* harmony default export */ var packages_TreeDialog_src_mainvue_type_script_lang_js = (TreeDialog_src_mainvue_type_script_lang_js); 
// EXTERNAL MODULE: ./packages/TreeDialog/src/main.vue?vue&type=style&index=0&id=39e0d488&prod&lang=scss&scoped=true
var mainvue_type_style_index_0_id_39e0d488_prod_lang_scss_scoped_true = __webpack_require__("8212");

// CONCATENATED MODULE: ./packages/TreeDialog/src/main.vue






/* normalize component */

var TreeDialog_src_main_component = normalizeComponent(
  packages_TreeDialog_src_mainvue_type_script_lang_js,
  mainvue_type_template_id_39e0d488_scoped_true_render,
  mainvue_type_template_id_39e0d488_scoped_true_staticRenderFns,
  false,
  null,
  "39e0d488",
  null
  
)

/* harmony default export */ var TreeDialog_src_main = (TreeDialog_src_main_component.exports);
// CONCATENATED MODULE: ./packages/TreeDialog/index.js

TreeDialog_src_main.install = function (Vue) {
  Vue.component(TreeDialog_src_main.name, TreeDialog_src_main);
};
/* harmony default export */ var TreeDialog = (TreeDialog_src_main);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"8bdeefa2-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/TreeListDialog/src/main.vue?vue&type=template&id=4a335e6b&scoped=true
var mainvue_type_template_id_4a335e6b_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:"inputs"},[_c('el-dialog',{staticClass:"dialog-selector__wrapper",attrs:{"title":_vm.dialogTitle,"visible":_vm.dialogVisible,"top":"6vh","before-close":_vm.handleClose,"close-on-click-modal":false,"append-to-body":_vm.appendToBody,"destroy-on-close":_vm.destroyOnClose},on:{"update:visible":function($event){_vm.dialogVisible=$event}}},[_c('el-container',{staticClass:"container"},[_c('el-aside',{staticClass:"left-aside",attrs:{"width":"210px"}},[_c('el-card',{staticClass:"box-card org-find-card",attrs:{"shadow":"never"}},[_c('ht-tree',{ref:"tree",attrs:{"lazy":_vm.lazy,"load":_vm.loadOrgTree,"data":_vm.treeData,"default-expand-all":false,"highlight-current":true,"props":_vm.props,"node-key":_vm.nodeKey,"default-expanded-keys":_vm.defaultExpandedKeys,"accordion":""},on:{"node-click":_vm.handleNodeClick}})],1)],1),_c('el-container',[_c('el-main',[_c('ht-selector',{ref:"selector",attrs:{"data":_vm.data,"pagination":_vm.pagination,"table-columns":_vm.tableColumns,"select-label":_vm.selectLabel,"quick-search-props":_vm.quickSearchProps,"single":_vm.single,"search-placeholder":_vm.searchPlaceholder},on:{"load":_vm.load,"reset":_vm.reset},model:{value:(_vm.selectors),callback:function ($$v) {_vm.selectors=$$v},expression:"selectors"}})],1)],1)],1),_c('div',{staticClass:"dialog-footer",attrs:{"slot":"footer"},slot:"footer"},[_c('el-button',{attrs:{"type":"primary","size":"small"},on:{"click":_vm.handleDialogSure}},[_vm._v("\n        "+_vm._s(_vm.$t('ht.common.confirm'))+"\n      ")]),_c('el-button',{attrs:{"size":"small"},on:{"click":_vm.handleDialogCancel}},[_vm._v("\n        "+_vm._s(_vm.$t('ht.common.cancle'))+"\n      ")])],1)],1)],1)}
var mainvue_type_template_id_4a335e6b_scoped_true_staticRenderFns = []


// CONCATENATED MODULE: ./packages/TreeListDialog/src/main.vue?vue&type=template&id=4a335e6b&scoped=true

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/TreeListDialog/src/main.vue?vue&type=script&lang=js
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//




/* harmony default export */ var TreeListDialog_src_mainvue_type_script_lang_js = ({
  name: 'HtTreeListDialog',
  components: {
    HtSelector: Selector
  },
  props: {
    dialogTitle: {
      type: String,
      default() {
        return Object(locale["c" /* t */])('ht.selector.dialog');
      }
    },
    props: {
      type: Object,
      default() {
        return {
          children: 'children',
          label: 'name',
          isLeaf: 'leaf'
        };
      }
    },
    treeData: {
      type: Array,
      default: () => {
        return [];
      }
    },
    loadOrgTree: {
      type: Function
    },
    value: String,
    single: {
      type: Boolean,
      default: false
    },
    lazy: {
      type: Boolean,
      default: false
    },
    data: {
      type: Array,
      default: () => {
        return [];
      }
    },
    tableColumns: {
      type: Array,
      default: () => {
        return [];
      }
    },
    pagination: {
      type: Object,
      default: () => {
        return {
          page: 1,
          pageSize: 50,
          total: 0
        };
      }
    },
    selectLabel: {
      type: String,
      default: 'name'
    },
    appendToBody: {
      type: Boolean,
      default: false
    },
    defaultDemension: {
      type: [String, Number],
      default: ''
    },
    quickSearchProps: {
      type: [String, Array],
      required: true
    },
    nodeKey: {
      type: String,
      default: 'id'
    },
    defaultExpandedKeys: {
      type: Array,
      default() {
        return [];
      }
    },
    searchPlaceholder: {
      type: String,
      default: ''
    },
    destroyOnClose: {
      type: Boolean,
      default: false
    }
  },
  data() {
    return {
      inputName: null,
      selectors: [],
      dialogVisible: false
    };
  },
  methods: {
    // 同步value到当前所选数据中
    showDialog(selectors) {
      this.dialogVisible = true;
      if (!selectors) {
        selectors = [];
      }
      Object(timers_browserify_main["setTimeout"])(() => {
        this.$refs.selector.onShow(selectors);
      });
    },
    handleClose(done) {
      this.$refs.selector.onHide();
      done && done();
    },
    handleDialogSure() {
      this.dialogVisible = false;
      this.$refs.selector.onHide(true);
      this.$emit('onConfirm', this.selectors);
    },
    handleDialogCancel() {
      this.dialogVisible = false;
      this.$refs.selector.onHide();
    },
    handleRemove(item) {
      this.selectors.remove(item);
    },
    load(param, cb) {
      this.$emit('load', param, cb);
    },
    handleNodeClick(data) {
      this.$emit('loadListData', data);
    },
    reset() {
      this.$emit('reset');
    }
  }
});
// CONCATENATED MODULE: ./packages/TreeListDialog/src/main.vue?vue&type=script&lang=js
 /* harmony default export */ var packages_TreeListDialog_src_mainvue_type_script_lang_js = (TreeListDialog_src_mainvue_type_script_lang_js); 
// EXTERNAL MODULE: ./packages/TreeListDialog/src/main.vue?vue&type=style&index=0&id=4a335e6b&prod&lang=scss&scoped=true
var mainvue_type_style_index_0_id_4a335e6b_prod_lang_scss_scoped_true = __webpack_require__("b909");

// CONCATENATED MODULE: ./packages/TreeListDialog/src/main.vue






/* normalize component */

var TreeListDialog_src_main_component = normalizeComponent(
  packages_TreeListDialog_src_mainvue_type_script_lang_js,
  mainvue_type_template_id_4a335e6b_scoped_true_render,
  mainvue_type_template_id_4a335e6b_scoped_true_staticRenderFns,
  false,
  null,
  "4a335e6b",
  null
  
)

/* harmony default export */ var TreeListDialog_src_main = (TreeListDialog_src_main_component.exports);
// CONCATENATED MODULE: ./packages/TreeListDialog/index.js

TreeListDialog_src_main.install = function (Vue) {
  Vue.component(TreeListDialog_src_main.name, TreeListDialog_src_main);
};
/* harmony default export */ var TreeListDialog = (TreeListDialog_src_main);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"8bdeefa2-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/FormItem/src/main.vue?vue&type=template&id=652fdf35&scoped=true
var mainvue_type_template_id_652fdf35_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-form-item',{key:_vm.fieldPath,staticClass:"ht-form-item",class:_vm.formItemClass,attrs:{"label":_vm.label,"label-width":_vm.finalLabelWidth}},[_vm._t("default"),_vm._t("label",null,{"slot":"label"})],2)}
var mainvue_type_template_id_652fdf35_scoped_true_staticRenderFns = []


// CONCATENATED MODULE: ./packages/FormItem/src/main.vue?vue&type=template&id=652fdf35&scoped=true

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/FormItem/src/main.vue?vue&type=script&lang=js
//
//
//
//
//
//
//
//
//
//
//
//
//

/* harmony default export */ var FormItem_src_mainvue_type_script_lang_js = ({
  name: 'HtFormItem',
  componentName: 'HtFormItem',
  inject: {
    elForm: {
      default: ''
    }
  },
  props: {
    label: {
      type: String,
      default: ''
    },
    align: {
      type: String,
      validator: function (value) {
        return ['left', 'center', 'right', 'justify'].indexOf(value) !== -1;
      }
    },
    labelColor: {
      type: String
    },
    labelWidth: {
      type: String
    },
    customColon: {
      type: Boolean,
      default: false
    },
    required: {
      type: Boolean,
      default: false
    },
    fieldPath: {
      type: String
    }
  },
  data() {
    return {
      formItemAlign: null,
      isRequired: false
    };
  },
  computed: {
    finalLabelWidth() {
      return this.labelWidth ? this.labelWidth : this.elForm && this.elForm.labelWidth ? this.elForm.labelWidth : '100px';
    },
    formItemClass: function () {
      let _className = [];
      const formItemAlignVal = this.align ? this.align : this.formItemAlign ? this.formItemAlign : '';
      if (!this.customColon) {
        _className.push('ht-form-item-colon');
      }
      switch (formItemAlignVal) {
        case 'left':
          _className.push('ht-form-item-left');
          break;
        case 'center':
          _className.push('ht-form-item-center');
          break;
        case 'right':
          _className.push('ht-form-item-right');
          break;
        case 'justify':
          _className.push('ht-form-item-justify');
      }
      if (this.$slots.default) {
        for (let i = 0; i < this.$slots.default.length; i++) {
          let _vNode = this.$slots.default[i];
          if (_vNode.componentOptions && _vNode.componentOptions.propsData) {
            let propsData = _vNode.componentOptions.propsData;
            let _validate = propsData.validate;
            if (!_validate && _vNode.data.directives) {
              let validateArry = _vNode.data.directives.filter(item => item.name == 'validate');
              if (validateArry && validateArry.length > 0) {
                _validate = validateArry[0].value;
              }
            }
            if (this.required) {
              _className.push('is-required');
            } else if (_validate && _validate.constructor == Object && _validate.required) {
              _className.push('is-required');
            } else if (_validate && _validate.constructor == String && _validate.indexOf('required') != -1) {
              _className.push('is-required');
            } else if (propsData.permission == 'b') {
              _className.push('is-required');
            }
            if (propsData.permission === 'r' && _className.indexOf('is-required') != -1) {
              _className = _className.filter(item => item != 'is-required');
            }
            if (this.isRequired && !_className.includes('is-required')) {
              _className.push('is-required');
            }
            break;
          }
        }
      }
      return _className.join(' ');
    }
  },
  created() {
    this.$on('formExtend:update', formExtend => {
      this.formItemAlign = formExtend.formItemAlign;
    });
    this.$root.$on('current-required-item', val => {
      if (val[`data.${this.fieldPath}`] === 'b') {
        this.isRequired = true;
      } else if (['w', 'n', 'r'].includes(val[`data.${this.fieldPath}`])) {
        this.isRequired = false;
      }
    });
  },
  mounted() {
    if (this.labelColor) {
      this.$el.firstElementChild && (this.$el.firstElementChild.style.color = this.labelColor);
    }
  }
});
// CONCATENATED MODULE: ./packages/FormItem/src/main.vue?vue&type=script&lang=js
 /* harmony default export */ var packages_FormItem_src_mainvue_type_script_lang_js = (FormItem_src_mainvue_type_script_lang_js); 
// EXTERNAL MODULE: ./packages/FormItem/src/main.vue?vue&type=style&index=0&id=652fdf35&prod&scoped=true&lang=css
var mainvue_type_style_index_0_id_652fdf35_prod_scoped_true_lang_css = __webpack_require__("e561");

// CONCATENATED MODULE: ./packages/FormItem/src/main.vue






/* normalize component */

var FormItem_src_main_component = normalizeComponent(
  packages_FormItem_src_mainvue_type_script_lang_js,
  mainvue_type_template_id_652fdf35_scoped_true_render,
  mainvue_type_template_id_652fdf35_scoped_true_staticRenderFns,
  false,
  null,
  "652fdf35",
  null
  
)

/* harmony default export */ var FormItem_src_main = (FormItem_src_main_component.exports);
// CONCATENATED MODULE: ./packages/FormItem/index.js

FormItem_src_main.install = function (Vue) {
  Vue.component(FormItem_src_main.name, FormItem_src_main);
};
/* harmony default export */ var FormItem = (FormItem_src_main);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"8bdeefa2-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/SaveButton/src/main.vue?vue&type=template&id=3f5a3733
var mainvue_type_template_id_3f5a3733_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-button',{attrs:{"type":_vm.type,"loading":_vm.loading,"disabled":_vm.disabled,"icon":_vm.icon},on:{"click":_vm.preSubmitData}},[_vm._t("default")],2)}
var mainvue_type_template_id_3f5a3733_staticRenderFns = []


// CONCATENATED MODULE: ./packages/SaveButton/src/main.vue?vue&type=template&id=3f5a3733

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/SaveButton/src/main.vue?vue&type=script&lang=js
//
//
//
//
//
//
//
//
//
//
//
//

/* harmony default export */ var SaveButton_src_mainvue_type_script_lang_js = ({
  name: 'HtSaveButton',
  props: {
    isSubmit: {
      type: Boolean,
      default: true
    },
    type: {
      type: String,
      default: 'primary'
    },
    scopeName: {
      type: String,
      required: true
    },
    loading: {
      type: Boolean,
      default: false
    },
    disabled: {
      type: Boolean,
      default: false
    },
    icon: String
  },
  data() {
    return {};
  },
  mounted() {
    this.$validator = this.$root.$validator;
  },
  methods: {
    preSubmitData() {
      this.$validator.validateAll(this.scopeName).then(result => {
        if (result) {
          this.submitData();
        } else {
          let arr = this.$validator.errors.items.filter(item => item.scope == this.scopeName);
          let errorLength = arr.length;
          this.$message({
            showClose: true,
            message: this.$t('ht.savaButton.errorMsg', {
              errorLength: errorLength
            }),
            type: 'warning'
          });
        }
      });
    },
    async submitData() {
      // 表单数据 model  是否提交  true 提交 false 不提交
      await this.$emit('before-save-data');
      if (this.isSubmit) {
        this.$emit('request-save-data');
      }
    }
  }
});
// CONCATENATED MODULE: ./packages/SaveButton/src/main.vue?vue&type=script&lang=js
 /* harmony default export */ var packages_SaveButton_src_mainvue_type_script_lang_js = (SaveButton_src_mainvue_type_script_lang_js); 
// CONCATENATED MODULE: ./packages/SaveButton/src/main.vue





/* normalize component */

var SaveButton_src_main_component = normalizeComponent(
  packages_SaveButton_src_mainvue_type_script_lang_js,
  mainvue_type_template_id_3f5a3733_render,
  mainvue_type_template_id_3f5a3733_staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* harmony default export */ var SaveButton_src_main = (SaveButton_src_main_component.exports);
// CONCATENATED MODULE: ./packages/SaveButton/index.js

SaveButton_src_main.install = function (Vue) {
  Vue.component(SaveButton_src_main.name, SaveButton_src_main);
};
/* harmony default export */ var SaveButton = (SaveButton_src_main);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"8bdeefa2-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/Duration/src/main.vue?vue&type=template&id=767cf4d8&scoped=true
var mainvue_type_template_id_767cf4d8_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:"inputs",class:[
    'inputs',
    'ht-duration',
    _vm.formInputsDisplay == 'block'
      ? 'ht-form-inputs__block'
      : 'ht-form-inputs__inline' ]},[_c('ht-input',{staticStyle:{"width":"90px"},attrs:{"type":"number","min":0,"size":_vm.size,"validate":_vm.validate,"disabled":_vm.disabled},on:{"change":_vm.change},model:{value:(_vm.data.day),callback:function ($$v) {_vm.$set(_vm.data, "day", $$v)},expression:"data.day"}}),_vm._v("\n  "+_vm._s(_vm.$t('ht.common.day'))+"\n  "),_c('ht-select',{staticStyle:{"width":"65px"},attrs:{"size":_vm.size,"validate":_vm.validate,"options":_vm.hours,"disabled":_vm.disabled},on:{"change":_vm.change},model:{value:(_vm.data.hour),callback:function ($$v) {_vm.$set(_vm.data, "hour", $$v)},expression:"data.hour"}}),_vm._v("\n  "+_vm._s(_vm.$t('ht.common.hour'))+"\n  "),_c('ht-select',{staticStyle:{"width":"65px"},attrs:{"size":_vm.size,"validate":_vm.validate,"options":_vm.minutes,"disabled":_vm.disabled},on:{"change":_vm.change},model:{value:(_vm.data.minute),callback:function ($$v) {_vm.$set(_vm.data, "minute", $$v)},expression:"data.minute"}}),_vm._v("\n  "+_vm._s(_vm.$t('ht.common.minute'))+"\n  "),(_vm.type == 'second')?_c('ht-select',{staticStyle:{"width":"65px"},attrs:{"size":_vm.size,"validate":_vm.validate,"options":_vm.minutes,"disabled":_vm.disabled},on:{"change":_vm.change},model:{value:(_vm.data.second),callback:function ($$v) {_vm.$set(_vm.data, "second", $$v)},expression:"data.second"}}):_vm._e(),_vm._v("\n  "+_vm._s(_vm.type == 'second' ? _vm.$t('ht.common.second') : '')+"\n")],1)}
var mainvue_type_template_id_767cf4d8_scoped_true_staticRenderFns = []


// CONCATENATED MODULE: ./packages/Duration/src/main.vue?vue&type=template&id=767cf4d8&scoped=true

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/Duration/src/main.vue?vue&type=script&lang=js
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//


/* harmony default export */ var Duration_src_mainvue_type_script_lang_js = ({
  name: 'HtDuration',
  mixins: [mixins_form["a" /* default */]],
  props: {
    value: {
      type: [String, Number]
    },
    name: {
      type: String
    },
    size: {
      type: String,
      default: 'small'
    },
    validate: {
      type: [String, Object]
    },
    disabled: {
      type: Boolean,
      default: false
    },
    type: {
      type: String,
      default: 'minute',
      validator: function (value) {
        return ['minute', 'second'].indexOf(value) !== -1;
      }
    }
  },
  data() {
    return {
      hours: [],
      minutes: [],
      data: {
        day: 0,
        hour: 0,
        minute: 0,
        second: 0
      }
    };
  },
  watch: {
    value: function (newVal, oldVal) {
      if (newVal && newVal != oldVal) {
        this.initData();
      }
      if (!newVal) {
        this.data = {
          day: 0,
          hour: 0,
          minute: 0,
          second: 0
        };
      }
    }
  },
  mounted() {
    for (let i = 0; i <= 23; i++) {
      this.hours.push({
        key: i,
        value: i + ''
      });
    }
    for (let i = 0; i <= 59; i++) {
      this.minutes.push({
        key: i,
        value: i + ''
      });
    }
    this.initData();
  },
  methods: {
    initData() {
      if (this.value && this.type == 'second') {
        //天数计算
        this.data.day = parseInt(this.value / (24 * 3600));
        //小时计算
        this.data.hour = parseInt(this.value % (24 * 3600) / 3600);
        //分钟计算
        this.data.minute = parseInt(this.value % 3600 / 60);
        //秒计算
        this.data.second = this.value % 60;
      }
      if (this.value && this.type == 'minute') {
        //天数计算
        this.data.day = parseInt(this.value / 60 / 24);
        //小时计算
        this.data.hour = parseInt(this.value / 60 % 24);
        //分钟计算
        this.data.minute = parseInt(this.value % 60);
      }
    },
    change() {
      let second = 0;
      if (this.data.second) {
        second += this.data.second;
      }
      if (this.data.minute) {
        second += this.data.minute * 60;
      }
      if (this.data.hour) {
        second += this.data.hour * 60 * 60;
      }
      if (this.data.day) {
        second += this.data.day * 24 * 60 * 60;
      }
      if (this.type == 'minute') {
        second = second / 60;
      }
      this.$emit('input', second);
    }
  }
});
// CONCATENATED MODULE: ./packages/Duration/src/main.vue?vue&type=script&lang=js
 /* harmony default export */ var packages_Duration_src_mainvue_type_script_lang_js = (Duration_src_mainvue_type_script_lang_js); 
// EXTERNAL MODULE: ./packages/Duration/src/main.vue?vue&type=style&index=0&id=767cf4d8&prod&lang=scss&scoped=true
var mainvue_type_style_index_0_id_767cf4d8_prod_lang_scss_scoped_true = __webpack_require__("3a16");

// CONCATENATED MODULE: ./packages/Duration/src/main.vue






/* normalize component */

var Duration_src_main_component = normalizeComponent(
  packages_Duration_src_mainvue_type_script_lang_js,
  mainvue_type_template_id_767cf4d8_scoped_true_render,
  mainvue_type_template_id_767cf4d8_scoped_true_staticRenderFns,
  false,
  null,
  "767cf4d8",
  null
  
)

/* harmony default export */ var Duration_src_main = (Duration_src_main_component.exports);
// CONCATENATED MODULE: ./packages/Duration/index.js

Duration_src_main.install = function (Vue) {
  Vue.component(Duration_src_main.name, Duration_src_main);
};
/* harmony default export */ var Duration = (Duration_src_main);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/Icon/src/main.vue?vue&type=script&lang=js
let icons = {};
function warn(msg, vm) {
  if (!vm) {
    /* eslint-disable no-console */
    console.error(msg);
    /* eslint-enable no-console */
    return;
  }
  vm.constructor.super.util.warn(msg, vm);
}
/* harmony default export */ var Icon_src_mainvue_type_script_lang_js = ({
  name: 'HtIcon',
  props: {
    name: {
      type: String,
      default: '',
      validator(val) {
        if (val && !(val in icons)) {
          warn(`Invalid prop: prop "name" is referring to an unregistered icon "${val}".\n` + `Please make sure you have imported this icon before using it.`, this);
          return false;
        }
        return true;
      }
    },
    title: {
      type: String,
      default: ''
    },
    scale: {
      type: [Number, String],
      default: 1
    },
    spin: {
      type: Boolean,
      default: false
    },
    inverse: {
      type: Boolean,
      default: false
    },
    pulse: {
      type: Boolean,
      default: false
    },
    flip: {
      validator(val) {
        return val === 'horizontal' || val === 'vertical' || val === 'both' || val === '';
      },
      default: ''
    },
    rotate: {
      type: [Number, String],
      default: 0
    },
    label: {
      type: String,
      default: ''
    },
    tabindex: {
      type: [Number, String],
      default: ''
    }
  },
  data() {
    return {
      x: false,
      y: false,
      childrenWidth: 0,
      childrenHeight: 0,
      outerScale: 1
    };
  },
  computed: {
    normalizedScale() {
      let scale = this.scale;
      scale = typeof scale === 'undefined' ? 1 : Number(scale);
      if (isNaN(scale) || scale <= 0) {
        warn(`Invalid prop: prop "scale" should be a number over 0.`, this);
        return this.outerScale;
      }
      return scale * this.outerScale;
    },
    rotateDegree() {
      let rotate = this.rotate;
      rotate = typeof rotate === 'undefined' ? 0 : Number(rotate);
      if (isNaN(rotate)) {
        warn(`Invalid prop: prop "rotate" should be a number.`, this);
        return 0;
      }
      return rotate;
    },
    klass() {
      let classes = {
        'fa-icon': true,
        'fa-spin': this.spin,
        'fa-flip-horizontal': this.flip === 'horizontal',
        'fa-flip-vertical': this.flip === 'vertical',
        'fa-flip-both': this.flip === 'both',
        'fa-inverse': this.inverse,
        'fa-pulse': this.pulse
      };
      if (this.classes) {
        Object.keys(this.classes).forEach(c => {
          if (this.classes[c]) {
            classes[c] = true;
          }
        });
      }
      return classes;
    },
    icon() {
      if (this.name) {
        return icons[this.name];
      }
      return null;
    },
    box() {
      if (this.icon) {
        return `0 0 ${this.icon.width} ${this.icon.height}`;
      }
      return `0 0 ${this.width} ${this.height}`;
    },
    ratio() {
      if (!this.icon) {
        return 1;
      }
      let {
        width,
        height
      } = this.icon;
      return Math.max(width, height) / 16;
    },
    // 长宽比
    aspectRatio() {
      if (!this.icon) {
        return 1;
      }
      let {
        width,
        height
      } = this.icon;
      return width / height;
    },
    // 宽度是否需要修正
    amendWidth() {
      return this.aspectRatio < 1;
    },
    // 高度是否需要修正
    amendHeight() {
      return this.aspectRatio > 1;
    },
    width() {
      return this.childrenWidth || this.icon && this.icon.width / (this.amendWidth ? this.aspectRatio : 1) / this.ratio * this.normalizedScale || 0;
    },
    height() {
      return this.childrenHeight || this.icon && this.icon.height * (this.amendHeight ? this.aspectRatio : 1) / this.ratio * this.normalizedScale || 0;
    },
    style() {
      if (this.normalizedScale === 1 && this.rotateDegree === 0) {
        return false;
      }
      const styleObj = {};
      if (this.normalizedScale !== 1) {
        styleObj.fontSize = this.normalizedScale + 'em';
      }
      if (this.rotateDegree !== 0) {
        styleObj.transform = `rotate(${this.rotateDegree}deg)`;
      }
      return styleObj;
    },
    raw() {
      // generate unique id for each icon's SVG element with ID
      if (!this.icon || !this.icon.raw) {
        return null;
      }
      let raw = this.icon.raw;
      let ids = {};
      raw = raw.replace(/\s(?:xml:)?id=(["']?)([^"')\s]+)\1/g, (match, quote, id) => {
        let uniqueId = getId('vat-');
        ids[id] = uniqueId;
        return ` id="${uniqueId}"`;
      });
      raw = raw.replace(/#(?:([^'")\s]+)|xpointer\(id\((['"]?)([^')]+)\2\)\))/g, (match, rawId, _, pointerId) => {
        let id = rawId || pointerId;
        if (!id || !ids[id]) {
          return match;
        }
        return `#${ids[id]}`;
      });
      return raw;
    },
    focusable() {
      let {
        tabindex
      } = this;
      if (tabindex == null) {
        return 'false';
      }
      let index = typeof tabindex === 'string' ? parseInt(tabindex, 10) : tabindex;
      if (index >= 0) {
        return null;
      }
      return 'false';
    }
  },
  mounted() {
    this.updateStack();
  },
  updated() {
    this.updateStack();
  },
  methods: {
    updateStack() {
      if (!this.name && this.name !== null && this.$children.length === 0) {
        warn(`Invalid prop: prop "name" is required.`, this);
        return;
      }
      if (this.icon) {
        return;
      }
      let width = 0;
      let height = 0;
      this.$children.forEach(child => {
        child.outerScale = this.normalizedScale;
        width = Math.max(width, child.width);
        height = Math.max(height, child.height);
      });
      this.childrenWidth = width;
      this.childrenHeight = height;
      this.$children.forEach(child => {
        child.x = (width - child.width) / 2;
        child.y = (height - child.height) / 2;
      });
    }
  },
  render(h) {
    if (this.name === null) {
      return h();
    }
    let options = {
      class: this.klass,
      style: this.style,
      attrs: {
        role: this.$attrs.role || (this.label || this.title ? 'img' : null),
        'aria-label': this.label || null,
        'aria-hidden': !(this.label || this.title),
        tabindex: this.tabindex,
        x: this.x,
        y: this.y,
        width: this.width,
        height: this.height,
        viewBox: this.box,
        focusable: this.focusable
      },
      on: this.$listeners
    };
    if (this.raw) {
      let html = `<g>${this.raw}</g>`;
      if (this.title) {
        html = `<title>${escapeHTML(this.title)}</title>${html}`;
      }
      options.domProps = {
        innerHTML: html
      };
    }
    let content = this.title ? [h('title', this.title)] : [];
    return h('svg', options, this.raw ? null : content.concat([h('g', this.$slots.default || (this.icon ? [...this.icon.paths.map((path, i) => h('path', {
      attrs: path,
      key: `path-${i}`
    })), ...this.icon.polygons.map((polygon, i) => h('polygon', {
      attrs: polygon,
      key: `polygon-${i}`
    }))] : []))]));
  },
  register(data) {
    for (let name in data) {
      let icon = data[name];
      let {
        paths = [],
        d,
        polygons = [],
        points
      } = icon;
      if (d) {
        paths.push({
          d
        });
      }
      if (points) {
        polygons.push({
          points
        });
      }
      icons[name] = mainvue_type_script_lang_js_assign({}, icon, {
        paths,
        polygons
      });
    }
  },
  icons
});
function hasOwn(obj, key) {
  return Object.prototype.hasOwnProperty.call(obj, key);
}
function mainvue_type_script_lang_js_assign(obj, ...sources) {
  sources.forEach(source => {
    for (let key in source) {
      if (hasOwn(source, key)) {
        obj[key] = source[key];
      }
    }
  });
  return obj;
}
let count = 0;
function getId(prefix = '') {
  return prefix + count++;
}
const ESCAPE_MAP = {
  '<': '&lt;',
  '>': '&gt;',
  '"': '&quot;',
  '&': '&amp;'
};
function escapeHTML(html) {
  return html.replace(/[<>"&]/g, c => ESCAPE_MAP[c] || c);
}
// CONCATENATED MODULE: ./packages/Icon/src/main.vue?vue&type=script&lang=js
 /* harmony default export */ var packages_Icon_src_mainvue_type_script_lang_js = (Icon_src_mainvue_type_script_lang_js); 
// EXTERNAL MODULE: ./packages/Icon/src/main.vue?vue&type=style&index=0&id=b5d077f0&prod&lang=css
var mainvue_type_style_index_0_id_b5d077f0_prod_lang_css = __webpack_require__("eeb9");

// CONCATENATED MODULE: ./packages/Icon/src/main.vue
var main_render, main_staticRenderFns





/* normalize component */

var Icon_src_main_component = normalizeComponent(
  packages_Icon_src_mainvue_type_script_lang_js,
  main_render,
  main_staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* harmony default export */ var Icon_src_main = (Icon_src_main_component.exports);
// CONCATENATED MODULE: ./packages/Icon/index.js

Icon_src_main.install = function (Vue) {
  Vue.component(Icon_src_main.name, Icon_src_main);
};
/* harmony default export */ var Icon = (Icon_src_main);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"8bdeefa2-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/Editor/src/main.vue?vue&type=template&id=34d343a4&scoped=true
var mainvue_type_template_id_34d343a4_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:"show",rawName:"v-show",value:(_vm.permission_sub != 'n'),expression:"permission_sub != 'n'"}],class:[
    'inputs',
    _vm.formInputsDisplay == 'block'
      ? 'ht-form-inputs__block'
      : 'ht-form-inputs__inline',
    _vm.disabled ? 'is-disabled' : '' ],style:(_vm.styleEditor)},[(_vm.inputWriteable && !_vm.hasTextValue)?_c('input',{directives:[{name:"model",rawName:"v-model",value:(_vm.value),expression:"value"},{name:"validate",rawName:"v-validate",value:(_vm.inputValidate),expression:"inputValidate"}],attrs:{"name":_vm.inputName,"type":"hidden"},domProps:{"value":(_vm.value)},on:{"input":function($event){if($event.target.composing){ return; }_vm.value=$event.target.value}}}):_vm._e(),(_vm.inputWriteable && !_vm.hasTextValue && _vm.type !== 'property-text')?_c('div',{attrs:{"id":_vm.editorId}}):_c('div',{staticClass:"w-e-text",class:{ 'empty-div': _vm.type === 'property-text' && !_vm.hasTextValue },style:(_vm.showBorder ? _vm.textDivStyle : {}),domProps:{"innerHTML":_vm._s(_vm.inputVal)}}),_c('ht-field-tail',{attrs:{"field-name":_vm.inputName,"readonly":false}})],1)}
var mainvue_type_template_id_34d343a4_scoped_true_staticRenderFns = []


// CONCATENATED MODULE: ./packages/Editor/src/main.vue?vue&type=template&id=34d343a4&scoped=true

// EXTERNAL MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/Editor/src/main.vue?vue&type=script&lang=js
var Editor_src_mainvue_type_script_lang_js = __webpack_require__("69da");

// CONCATENATED MODULE: ./packages/Editor/src/main.vue?vue&type=script&lang=js
 /* harmony default export */ var packages_Editor_src_mainvue_type_script_lang_js = (Editor_src_mainvue_type_script_lang_js["a" /* default */]); 
// EXTERNAL MODULE: ./packages/Editor/src/main.vue?vue&type=style&index=0&id=34d343a4&prod&lang=scss&scoped=true
var mainvue_type_style_index_0_id_34d343a4_prod_lang_scss_scoped_true = __webpack_require__("9813");

// CONCATENATED MODULE: ./packages/Editor/src/main.vue






/* normalize component */

var Editor_src_main_component = normalizeComponent(
  packages_Editor_src_mainvue_type_script_lang_js,
  mainvue_type_template_id_34d343a4_scoped_true_render,
  mainvue_type_template_id_34d343a4_scoped_true_staticRenderFns,
  false,
  null,
  "34d343a4",
  null
  
)

/* harmony default export */ var Editor_src_main = (Editor_src_main_component.exports);
// CONCATENATED MODULE: ./packages/Editor/index.js

Editor_src_main.install = function (Vue) {
  Vue.component(Editor_src_main.name, Editor_src_main);
};
/* harmony default export */ var Editor = (Editor_src_main);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"8bdeefa2-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/picture/src/main.vue?vue&type=template&id=7defa75c&scoped=true
var mainvue_type_template_id_7defa75c_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:"inputs ht-picture",class:[
    'inputs',
    _vm.formInputsDisplay == 'block'
      ? 'ht-form-inputs__block'
      : 'ht-form-inputs__inline' ]},[_c('div',{directives:[{name:"show",rawName:"v-show",value:(!!_vm.imgList.length),expression:"!!imgList.length"}],staticClass:"ht-picture__images"},_vm._l((_vm.imgList),function(item,index){return _c('el-card',{key:item.uid,staticClass:"ht-picture__card",attrs:{"alt":_vm.t('ht.picture.viewOriginalImage'),"body-style":_vm.bodyStyle}},[_c('el-image',{directives:[{name:"loading",rawName:"v-loading",value:(_vm.loading),expression:"loading"}],key:index,staticClass:"ht-picture__item-img",style:(_vm.style),attrs:{"src":item.url || _vm.getCurrentImgSrc(item),"preview-src-list":_vm.srcList}}),_c('div',{staticClass:"ht-picture__footer"},[_c('div',{staticClass:"ht-picture__name"},[(_vm.openUrl)?[_c('a',{attrs:{"href":"javascript:void(0);"},on:{"click":function($event){return _vm.hrefClick()}}},[_vm._v("\n              "+_vm._s(item.name || item.fileName)+"\n            ")])]:[_vm._v("\n            "+_vm._s(item.name || item.fileName)+"\n          ")]],2),_c('div',{staticClass:"ht-picture__footer-btn"},[(_vm.uploadType === 'local' && _vm.downloadable)?_c('el-button',{staticClass:"ht-picture__download",attrs:{"icon":"el-icon-download","circle":""},on:{"click":function($event){return _vm.downloadPicture(item)}}}):_vm._e(),(_vm.inputWriteable)?_c('el-popconfirm',{attrs:{"title":_vm.t('ht.picture.deleteTip', { clear: _vm.t('ht.common.clear') })},on:{"confirm":function($event){return _vm.handleDelete(item)}}},[_c('el-button',{attrs:{"slot":"reference","icon":"el-icon-delete","circle":""},slot:"reference"})],1):_vm._e()],1)])],1)}),1),_c('input',{directives:[{name:"model",rawName:"v-model",value:(_vm.value),expression:"value"},{name:"validate",rawName:"v-validate",value:(_vm.inputValidate),expression:"inputValidate"}],attrs:{"type":"hidden","name":_vm.inputName},domProps:{"value":(_vm.value)},on:{"input":function($event){if($event.target.composing){ return; }_vm.value=$event.target.value}}}),(_vm.uploadType === 'local' && _vm.inputWriteable && !_vm.userAgentMobile)?_c('file-upload',{ref:"fileUpload",staticClass:"ht-picture-upload",attrs:{"action-url":_vm.actionUrlVal,"header":_vm.headerVal,"on-success":_vm.handleSuccess,"on-progress":_vm.onProgress,"before-upload":_vm.beforeImgUpload,"multiple":_vm.multiple,"limit":_vm.limit,"size":_vm.fileSize,"accept":_vm.accept,"show-file-list":false,"with-credentials":_vm.withCredentials,"on-exceed":_vm.handleExceed},on:{"clear":_vm.handleClear},model:{value:(_vm.inputVal),callback:function ($$v) {_vm.inputVal=$$v},expression:"inputVal"}}):_vm._e(),_c('ht-field-tail',{attrs:{"writeable":_vm.inputWriteable,"field-name":_vm.inputName,"input-value":_vm.value},on:{"update:writeable":function($event){_vm.inputWriteable=$event}}}),(_vm.uploadType == 'web' && _vm.inputWriteable)?_c('el-button',{attrs:{"size":"mini","round":"","icon":"el-icon-plus"},on:{"click":_vm.openDialog}},[_vm._v("\n    "+_vm._s(_vm.t('ht.picture.uploadButtonText'))+"\n  ")]):_vm._e(),(_vm.uploadType == 'web' && _vm.inputWriteable && _vm.imgList.length)?_c('el-popconfirm',{staticClass:"pop-confirm-btn",attrs:{"title":_vm.t('ht.picture.deleteTip', { clear: _vm.t('ht.common.clear') })},on:{"confirm":_vm.handleClear}},[_c('el-button',{attrs:{"slot":"reference","icon":"el-icon-delete","round":"","size":"mini"},slot:"reference"},[_vm._v("\n      "+_vm._s(_vm.t('ht.common.clear'))+"\n    ")])],1):_vm._e(),(_vm.inputWriteable && _vm.uploadType === 'local' && _vm.userAgentMobile)?_c('div',{staticClass:"ht-picture__mobile"},[_c('input',{ref:"mobilePicRef",staticClass:"ht-picture__hide-input",attrs:{"id":"upload","type":"file","accept":"image/*","multiple":_vm.multiple},on:{"change":function($event){return _vm.handlePicChange($event)}}}),_c('div',{staticClass:"camera"},[(_vm.userAgentMobile && _vm.uploadType == 'local')?_c('el-button',{attrs:{"size":"mini","round":"","icon":"el-icon-plus"},on:{"click":_vm.clickPicture}},[_vm._v("\n        "+_vm._s(_vm.t('ht.picture.uploadButtonText'))+"\n      ")]):_vm._e(),(_vm.imgList.length)?_c('el-popconfirm',{staticClass:"pop-confirm-btn",attrs:{"title":_vm.t('ht.picture.deleteTip', { clear: _vm.t('ht.common.clear') })},on:{"confirm":_vm.handleClear}},[_c('el-button',{attrs:{"slot":"reference","icon":"el-icon-delete","round":"","size":"mini"},slot:"reference"},[_vm._v("\n          "+_vm._s(_vm.t('ht.common.clear'))+"\n        ")])],1):_vm._e()],1)]):_vm._e(),_c('el-dialog',{attrs:{"visible":_vm.dialogFormVisible,"title":_vm.t('ht.picture.uploadWebImg'),"close-on-click-modal":false,"width":_vm.userAgentMobile ? '85%' : '50%',"custom-class":_vm.isMobileClass,"append-to-body":_vm.appendToBody},on:{"update:visible":function($event){_vm.dialogFormVisible=$event}}},[_c('el-form',{ref:"webImgFormRef",attrs:{"model":_vm.webImages,"data-vv-scope":"webImgFrom"}},[_c('ht-form-item',{attrs:{"label":_vm.t('ht.picture.imgName'),"label-width":"100px"}},[_c('ht-input',{staticStyle:{"width":"100%"},attrs:{"placeholder":_vm.t('ht.picture.imgNamePlaceHolder'),"validate":"required"},model:{value:(_vm.webImages.fileName),callback:function ($$v) {_vm.$set(_vm.webImages, "fileName", $$v)},expression:"webImages.fileName"}})],1),_c('ht-form-item',{attrs:{"label":_vm.t('ht.picture.imgUrl'),"label-width":"100px"}},[_c('ht-input',{staticStyle:{"width":"100%"},attrs:{"placeholder":_vm.t('ht.picture.imgUrlPlaceHolder'),"validate":"required"},model:{value:(_vm.webImages.url),callback:function ($$v) {_vm.$set(_vm.webImages, "url", $$v)},expression:"webImages.url"}})],1),_c('div',{staticClass:"ht-dialog-footer"},[_c('el-button',{staticClass:"submit-button",attrs:{"type":"primary","size":"small","loading":_vm.btnLoading},on:{"click":_vm.handleSubmit}},[_vm._v("\n          "+_vm._s(_vm.t('ht.common.confirm'))+"\n        ")]),_c('el-button',{attrs:{"size":"small"},on:{"click":function($event){_vm.dialogFormVisible = false}}},[_vm._v("\n          "+_vm._s(_vm.t('ht.common.close'))+"\n        ")])],1)],1)],1)],1)}
var mainvue_type_template_id_7defa75c_scoped_true_staticRenderFns = []


// CONCATENATED MODULE: ./packages/picture/src/main.vue?vue&type=template&id=7defa75c&scoped=true

// EXTERNAL MODULE: ./src/util/brower.js
var brower = __webpack_require__("45fd");

// EXTERNAL MODULE: external "image-conversion"
var external_image_conversion_ = __webpack_require__("d705");

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/picture/src/main.vue?vue&type=script&lang=js
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//







const {
  saveAs: mainvue_type_script_lang_js_saveAs
} = __webpack_require__("9588");




/* harmony default export */ var picture_src_mainvue_type_script_lang_js = ({
  name: 'HtPicture',
  components: {
    fileUpload: FileUpload
  },
  mixins: [mixins_permission["a" /* default */], mobileMode["a" /* default */], mixins_locale, inputName["a" /* default */], mixins_form["a" /* default */]],
  props: {
    compress: {
      type: Boolean,
      default: false
    },
    value: {
      type: String
    },
    withCredentials: {
      type: Boolean,
      default: false
    },
    uploadType: {
      type: String,
      default: '',
      validator: val => ['web', 'local'].includes(val)
    },
    actionUrl: {
      type: String,
      default: ''
    },
    headers: Object,
    imgHeight: [String, Number],
    imgWidth: [String, Number],
    limit: Number,
    multiple: {
      type: Boolean,
      default: true
    },
    allowPreview: {
      type: Boolean,
      default: false
    },
    allowDownload: {
      type: Boolean,
      default: false
    },
    fileSize: {
      type: Number,
      default: 6
    },
    bodyStyle: {
      type: Object,
      default: () => {
        return {
          padding: '10px',
          cursor: 'pointer'
        };
      }
    },
    onProgress: Function,
    openUrl: {
      type: String,
      default: ''
    },
    flowData: {
      type: Object,
      default: () => {
        return {};
      }
    },
    appendToBody: {
      type: Boolean,
      default: true
    }
  },
  data() {
    return {
      imgList: [],
      //上传成功展示图片列表
      dialogFormVisible: false,
      srcList: [],
      //图片预览url列表
      webImages: {
        fileName: '',
        url: ''
      },
      accept: 'jpg,png,gif,ico,jpeg,GPG,PNG,GIF,JPEG',
      refreshFileUploadDebounce: external_lodash_default.a.debounce(this.refreshFileUpload, 200),
      loading: false,
      btnLoading: false,
      compressConfig: 0.3
    };
  },
  computed: {
    inputVal: {
      get() {
        let imgValue = [];
        if (utils["a" /* default */].isEmpty(this.value)) {
          imgValue = [];
        } else if (this.value.constructor == String) {
          imgValue = [...JSON.parse(this.value)];
        }
        return imgValue;
      },
      set() {}
    },
    downloadable() {
      return this.inputWriteable || this.allowDownload;
    },
    preview() {
      return this.inputWriteable || this.allowPreview;
    },
    style() {
      return {
        width: `${this.imgWidth || ''}px`,
        height: `${this.imgHeight || ''}px`
      };
    },
    isUpload() {
      return !['r', 'n'].includes(this.permission);
    },
    isMobileClass() {
      return this.userAgentMobile ? 'is-mobile' : 'form-dialog';
    },
    actionUrlVal: function () {
      return this.actionUrl ? this.actionUrl : this.$requestConfig.uploadUrl ? this.handlerUploadUrl : 'https://jsonplaceholder.typicode.com/posts/';
    },
    handlerUploadUrl() {
      const baseUrl = this.$requestConfig.uploadUrl;
      if (!this.flowData.defId) {
        return baseUrl;
      }
      const indexOfMark = baseUrl.indexOf('?');
      if (indexOfMark == -1) {
        return `${baseUrl}?defId=${this.flowData.defId}`;
      }
      if (indexOfMark > -1 && indexOfMark == baseUrl.length - 1) {
        return `${baseUrl}defId=${this.flowData.defId}`;
      }
      if (indexOfMark > -1 && indexOfMark < baseUrl.length - 1) {
        return `${baseUrl}&defId=${this.flowData.defId}`;
      }
      return baseUrl;
    },
    headerVal: function () {
      return this.headers ? this.headers : this.$requestConfig.header ? this.$requestConfig.header() : null;
    }
  },
  watch: {
    imgList: {
      handler() {
        this.syncSrcList();
      },
      deep: true,
      immediate: true
    },
    value(val) {
      if (val) {
        this.initData();
      } else {
        this.imgList = [];
      }
    }
  },
  mounted() {
    if (this.value) {
      this.initData();
    }
  },
  methods: {
    initData() {
      const currentImgList = this.value.constructor == String ? JSON.parse(this.value) : this.value;
      if (currentImgList.constructor == Array && currentImgList.length > -1) {
        this.updateImgListWithCurrentImgList(currentImgList);
      }
    },
    // 比对原来的图片数组和现在的图片数组，如果元素相同时把原图片中url属性复制过来，避免图片反复加载。
    updateImgListWithCurrentImgList(currentImgList) {
      if (!this.imgList || this.imgList.length == 0 || !currentImgList || currentImgList.length == 0) {
        this.imgList = currentImgList;
      } else {
        currentImgList.forEach(m => {
          const oldItem = this.imgList.find(n => m.uid === n.uid || m.response && n.response && m.response.fileId == n.response.fileId);
          if (oldItem && oldItem.url) {
            m.url = oldItem.url;
          }
        });
        this.imgList = currentImgList;
      }
    },
    getCurrentImgSrc(item) {
      const this_ = this;
      if (item && item.response && item.response.fileId && !item.urlLoading) {
        item.urlLoading = true;
        this.loading = true;
        this.$requestConfig.getImgSrc(item.response.fileId).then(res => {
          if (res.size > 0) {
            const reader = new FileReader();
            reader.readAsDataURL(res);
            reader.onload = function (e) {
              // this_.$set(item, 'url', e.target.result)
              item.url = e.target.result;
              delete item['urlLoading'];
              if (this_.imgList && this_.imgList.length > 0) {
                const firstItem = this_.imgList[0];
                this_.$set(this_.imgList, 0, firstItem);
                this_.imgList.forEach(m => {
                  // console.info([m.uid, m.url ? m.url.length : '0'])
                });
                this_.syncSrcList();
              }
            };
          }
        }).finally(() => {
          this.loading = false;
        });
      }
    },
    syncSrcList() {
      const urlList = this.imgList.map(file => file.url);
      this.srcList = this.preview ? urlList : [];
    },
    downloadPicture(file) {
      // 组件单独绑定了download事件
      if (this.$options._parentListeners.download) {
        this.$emit('download', file);
      }
      // 未绑定时触发全局download事件处理函数
      else if (this.$requestConfig.download) {
        this.$requestConfig.download(file.fileId || file.response ? file.response.fileId : '').then(({
          data,
          headers
        }) => {
          // 附件下载
          const fileName = decodeURIComponent(headers['content-disposition'].split(';')[1].split('filename=')[1]);
          const blob = new Blob([data]);
          mainvue_type_script_lang_js_saveAs(blob, fileName);
        }).catch(err => {
          this.$message.error(`${this.$t('ht.file.fileDownloadError')}：${err}`);
        });
      }
    },
    handleDelete(item) {
      let currentFileList = utils["a" /* default */].isEmpty(this.value) ? [] : this.value.constructor == String ? JSON.parse(this.value) : this.value;
      const index = currentFileList.findIndex(file => file.uid == item.uid);
      currentFileList.splice(index, 1);
      const imgListIndex = this.imgList.findIndex(file => file.uid == item.uid);
      this.imgList.splice(imgListIndex, 1);
      this.$emit('input', currentFileList.length > 0 ? JSON.stringify(currentFileList) : '');
      if (this.uploadType === 'local') {
        this.refreshFileUploadDebounce();
      }
      if (this.userAgentMobile) {
        this.$refs.mobilePicRef.value = '';
      }
    },
    handlePicChange(e) {
      const imgData = [...e.target.files];
      // 如果有个数限制
      if (this.limit) {
        let totalLength = imgData.length + this.imgList.length;
        if (this.limit < totalLength) {
          this.$message({
            type: 'warning',
            message: this.t('ht.picture.limitCountTip', {
              limit: this.limit
            })
          });
          return;
        }
      }
      // 图片格式校验
      let wrongFlag = false;
      imgData.forEach(item => {
        if (this.isPictureType(item.name)) {
          wrongFlag = true;
        }
      });
      if (wrongFlag) {
        this.toast();
        return;
      }
      imgData.forEach(item => {
        this.mobileUploadFile(item);
      });
    },
    clickPicture() {
      this.$refs.mobilePicRef.click();
    },
    async handleSubmit() {
      let result = await this.$validator.validateAll('webImgFrom');
      if (!result) {
        return;
      }
      this.btnLoading = true;
      if (this.inputVal.length + 1 > this.limit || this.srcList.length + 1 > this.limit) {
        this.btnLoading = false;
        return this.$message({
          type: 'warning',
          message: this.t('ht.picture.limitCountTip', {
            limit: this.limit
          })
        });
      }
      this.setImgList(this.webImages);
      this.$emit('input', JSON.stringify(this.imgList));
      this.dialogFormVisible = false;
    },
    openDialog() {
      this.dialogFormVisible = true;
      this.btnLoading = false;
      this.$nextTick(() => {
        this.$refs.webImgFormRef.resetFields();
        this.webImages = {
          fileName: '',
          url: ''
        };
      });
    },
    setImgList(files) {
      this.imgList.push({
        ...files,
        uid: `${new Date().getTime()}_${Math.ceil(Math.random() * 10)}`
      });
    },
    handleSuccess(response, file, fileList) {
      let url = '';
      if (file.raw && file.raw.type && file.raw.type.indexOf('image/') > -1 || !file.raw && file.type && file.type.indexOf('image/') > -1) {
        url = Object(brower["a" /* createObjectURL */])(file.raw ? file.raw : file);
      }
      this.imgList.push({
        ...file,
        url,
        fileName: file.name
      });
      this.$emit('input', JSON.stringify(fileList));
      this.$emit('on-success', response, file, fileList);
      this.refreshFileUploadDebounce();
    },
    beforeImgUpload(file) {
      if (this.isPictureType(file.name)) {
        this.toast();
        return false;
      }
      if (this.compress) {
        return new Promise(resolve => {
          Object(external_image_conversion_["compress"])(file, this.$imageCompressConfig ? this.$imageCompressConfig : this.compressConfig).then(res => {
            resolve(res);
          });
        });
      }
    },
    clearForm() {
      this.webImages.fileName = '';
      this.webImages.url = '';
    },
    isPictureType(name) {
      const fileType = name.replace(/.+\./, '');
      const allowedTypeArr = this.accept.split(',');
      return allowedTypeArr.indexOf(fileType.toLowerCase()) === -1;
    },
    toast() {
      this.$message({
        type: 'warning',
        message: this.t('ht.picture.limitTypeTip')
      });
    },
    handleClear() {
      this.imgList = [];
      this.srcList = [];
      this.$emit('input', '');
    },
    // 同步附件数据到上传组件
    refreshFileUpload() {
      this.$nextTick(() => {
        this.$refs.fileUpload && this.$refs.fileUpload.reload(this.inputVal);
      });
    },
    hrefClick() {
      let url = this.openUrl.replaceAll('${mvue}', this.$requestConfig.manageUrl).replaceAll('${fvue}', this.$requestConfig.frontUrl).replaceAll('${front}', this.$requestConfig.frontUrl);
      window.open(url, '_blank');
    },
    // 移动端发送上传图片请求
    mobileUploadFile(file) {
      let formData = new FormData();
      formData.append('file', file, file.name);
      this.$requestConfig.request({
        url: this.actionUrlVal,
        method: 'post',
        data: formData,
        headers: {
          ...this.headerVal,
          'Content-Type': 'multipart/form-data'
        }
      }).then(res => {
        if (res.success) {
          // 成功之后组装数据 组装成跟pc一样格式，预览时可以服用预览
          let uid = `${new Date().getTime()}_${Math.ceil(Math.random() * 10)}`;
          res.uid = uid;
          let fileObj = {
            uid: uid,
            name: file.name,
            response: res,
            url: Object(brower["a" /* createObjectURL */])(file)
          };
          this.imgList.push(fileObj);
          let newCopy = JSON.parse(JSON.stringify(this.imgList));
          // 传给后端需把url删除
          newCopy.forEach(item => {
            delete item.url;
          });
          this.$emit('input', JSON.stringify(newCopy));
        }
      });
    },
    handleExceed() {
      this.$message({
        message: this.t('ht.picture.limitCountTip', {
          limit: this.limit
        }),
        type: 'warning'
      });
    }
  }
});
// CONCATENATED MODULE: ./packages/picture/src/main.vue?vue&type=script&lang=js
 /* harmony default export */ var packages_picture_src_mainvue_type_script_lang_js = (picture_src_mainvue_type_script_lang_js); 
// EXTERNAL MODULE: ./packages/picture/src/main.vue?vue&type=style&index=0&id=7defa75c&prod&lang=scss&scoped=true
var mainvue_type_style_index_0_id_7defa75c_prod_lang_scss_scoped_true = __webpack_require__("f076");

// CONCATENATED MODULE: ./packages/picture/src/main.vue






/* normalize component */

var picture_src_main_component = normalizeComponent(
  packages_picture_src_mainvue_type_script_lang_js,
  mainvue_type_template_id_7defa75c_scoped_true_render,
  mainvue_type_template_id_7defa75c_scoped_true_staticRenderFns,
  false,
  null,
  "7defa75c",
  null
  
)

/* harmony default export */ var picture_src_main = (picture_src_main_component.exports);
// CONCATENATED MODULE: ./packages/picture/index.js

picture_src_main.install = function (Vue) {
  Vue.component(picture_src_main.name, picture_src_main);
};
/* harmony default export */ var picture = (picture_src_main);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"8bdeefa2-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/Explain/src/main.vue?vue&type=template&id=64d5ffcb&scoped=true
var mainvue_type_template_id_64d5ffcb_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.permission != 'n')?_c('div',{staticClass:"ht-explain",style:(_vm.textStyle)},[(_vm.isLabelShow)?_c('div',{staticClass:"ht-explain_label",style:({ width: _vm.labelWidth })},[_vm._t("tip"),_c('span',{staticClass:"label"},[_vm._v(_vm._s(_vm.$t('ht.explain.label'))+":")])],2):_vm._e(),_c('div',{staticClass:"ht-explain_content",domProps:{"innerHTML":_vm._s(_vm.compiledTextValue)}})]):_vm._e()}
var mainvue_type_template_id_64d5ffcb_scoped_true_staticRenderFns = []


// CONCATENATED MODULE: ./packages/Explain/src/main.vue?vue&type=template&id=64d5ffcb&scoped=true

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/Explain/src/main.vue?vue&type=script&lang=js
//
//
//
//
//
//
//
//
//
//
//
//
//
//





/* harmony default export */ var Explain_src_mainvue_type_script_lang_js = ({
  name: 'HtExplain',
  mixins: [mixins_permission["a" /* default */]],
  props: {
    textValue: String,
    marginTop: String,
    marginBottom: String,
    isLabelShow: {
      type: Boolean,
      default: false
    },
    labelWidth: {
      type: String,
      default: '120px'
    },
    fontColor: {
      type: String,
      default: '#333333'
    }
  },
  data() {
    return {
      formInstance: null,
      compiledTextValue: null
    };
  },
  computed: {
    textStyle() {
      return {
        marginTop: this.marginTop,
        marginBottom: this.marginBottom,
        color: this.fontColor
      };
    }
  },
  watch: {
    textValue: {
      handler: function (newVal) {
        this.loadCompiledTextValue(newVal);
      },
      immediate: true
    },
    formInstance: function (newVal, oldVal) {
      if (!oldVal && newVal && newVal.$on) {
        newVal.$off('updateData', this.loadCompiledTextValue);
        newVal.$on('updateData', this.loadCompiledTextValue);
      }
    }
  },
  beforeDestroy() {
    this.formInstance && this.formInstance.$off && this.formInstance.$off('updateData', this.loadCompiledTextValue);
  },
  methods: {
    loadCompiledTextValue() {
      if (!this.textValue) {
        return;
      }
      this.$nextTick(() => {
        this.getTextValue(Object(base64["a" /* decode */])(this.textValue)).then(result => {
          this.compiledTextValue = result;
        });
      });
    },
    getTextValue(val) {
      if (this.formInstance == null) {
        this.formInstance = utils["a" /* default */].getOnlineFormInstance(this);
      }
      const instance = this.formInstance || this;
      return new Promise(resolve => {
        const tempComponent = external_vue_default.a.extend({
          data() {
            return {
              data: instance.data
            };
          },
          template: `<div>${val}</div>`
        });
        const component = new tempComponent().$mount();
        component.$nextTick(() => {
          resolve(component.$el.innerHTML);
        });
      });
    }
  }
});
// CONCATENATED MODULE: ./packages/Explain/src/main.vue?vue&type=script&lang=js
 /* harmony default export */ var packages_Explain_src_mainvue_type_script_lang_js = (Explain_src_mainvue_type_script_lang_js); 
// EXTERNAL MODULE: ./packages/Explain/src/main.vue?vue&type=style&index=0&id=64d5ffcb&prod&lang=scss&scoped=true
var mainvue_type_style_index_0_id_64d5ffcb_prod_lang_scss_scoped_true = __webpack_require__("1693");

// CONCATENATED MODULE: ./packages/Explain/src/main.vue






/* normalize component */

var Explain_src_main_component = normalizeComponent(
  packages_Explain_src_mainvue_type_script_lang_js,
  mainvue_type_template_id_64d5ffcb_scoped_true_render,
  mainvue_type_template_id_64d5ffcb_scoped_true_staticRenderFns,
  false,
  null,
  "64d5ffcb",
  null
  
)

/* harmony default export */ var Explain_src_main = (Explain_src_main_component.exports);
// CONCATENATED MODULE: ./packages/Explain/index.js

Explain_src_main.install = function (Vue) {
  Vue.component(Explain_src_main.name, Explain_src_main);
};
/* harmony default export */ var Explain = (Explain_src_main);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"8bdeefa2-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/Avatar/src/AvatarImage.vue?vue&type=template&id=54d54720
var AvatarImagevue_type_template_id_54d54720_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:"vue-avatar--wrapper",style:([_vm.style, _vm.customStyle]),attrs:{"aria-hidden":"true"}},[(_vm.isImage)?_c('img',{staticStyle:{"display":"none"},attrs:{"src":_vm.src},on:{"error":_vm.onImgError}}):_vm._e(),_c('span',{directives:[{name:"show",rawName:"v-show",value:(!_vm.isImage),expression:"!isImage"}]},[_vm._v(_vm._s(_vm.userInitial))])])}
var AvatarImagevue_type_template_id_54d54720_staticRenderFns = []


// CONCATENATED MODULE: ./packages/Avatar/src/AvatarImage.vue?vue&type=template&id=54d54720

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/Avatar/src/AvatarImage.vue?vue&type=script&lang=js
//
//
//
//
//
//
//
//
//
//
//

const getInitials = username => {
  let parts = username.split(/[ -]/);
  let initials = '';
  for (var i = 0; i < parts.length; i++) {
    initials += parts[i].charAt(0);
  }
  if (initials.length > 3 && initials.search(/[A-Z]/) !== -1) {
    initials = initials.replace(/[a-z]+/g, '');
  }
  // 包括中文且没有空格
  if (parts.length == 1 && /^[\u4e00-\u9fa5]+.*$/.test(username)) {
    initials = username.length > 1 ? username.substr(0, 2) : username.substr(0, 1);
  } else {
    initials = initials.substr(0, 3).toUpperCase();
  }
  return initials;
};
/* harmony default export */ var AvatarImagevue_type_script_lang_js = ({
  name: 'HtAvatarImage',
  props: {
    username: {
      type: String
    },
    initials: {
      type: String
    },
    backgroundColor: {
      type: String
    },
    color: {
      type: String
    },
    customStyle: {
      type: Object
    },
    inline: {
      type: Boolean
    },
    size: {
      type: Number,
      default: 50
    },
    src: {
      type: String
    },
    rounded: {
      type: Boolean,
      default: true
    },
    lighten: {
      type: Number,
      default: 80
    },
    parser: {
      type: Function,
      default: getInitials,
      validator: parser => typeof parser('John', getInitials) === 'string'
    }
  },
  data() {
    return {
      backgroundColors: ['#F44336', '#FF4081', '#9C27B0', '#673AB7', '#3F51B5', '#2196F3', '#03A9F4', '#00BCD4', '#009688', '#4CAF50', '#8BC34A', '#CDDC39', '#FFC107', '#FF9800', '#FF5722', '#795548', '#9E9E9E', '#607D8B'],
      imgError: false
    };
  },
  computed: {
    background() {
      if (!this.isImage) {
        return this.backgroundColor || this.randomBackgroundColor(this.username.length, this.backgroundColors);
      }
      return null;
    },
    fontColor() {
      if (!this.isImage) {
        return this.color || this.lightenColor(this.background, this.lighten);
      }
      return null;
    },
    isImage() {
      return !this.imgError && Boolean(this.src);
    },
    style() {
      const style = {
        display: this.inline ? 'inline-flex' : 'flex',
        width: `${this.size}px`,
        height: `${this.size}px`,
        borderRadius: this.rounded ? '50%' : 0,
        lineHeight: `${this.size + Math.floor(this.size / 20)}px`,
        fontWeight: 'bold',
        alignItems: 'center',
        justifyContent: 'center',
        textAlign: 'center',
        userSelect: 'none'
      };
      const imgBackgroundAndFontStyle = {
        background: `transparent url('${this.src}') no-repeat scroll 0% 0% / ${this.size}px ${this.size}px content-box border-box`
      };
      const initialBackgroundAndFontStyle = {
        backgroundColor: this.background,
        font: `${Math.floor(this.size / 2.5)}px/${this.size}px Helvetica, Arial, sans-serif`,
        color: this.fontColor
      };
      const backgroundAndFontStyle = this.isImage ? imgBackgroundAndFontStyle : initialBackgroundAndFontStyle;
      Object.assign(style, backgroundAndFontStyle);
      return style;
    },
    userInitial() {
      if (!this.isImage) {
        const initials = this.initials || this.parser(this.username, getInitials);
        return initials;
      }
      return '';
    }
  },
  mounted() {
    if (!this.isImage) {
      this.$emit('avatar-initials', this.username, this.userInitial);
    }
  },
  methods: {
    initial: getInitials,
    onImgError() {
      this.imgError = true;
    },
    randomBackgroundColor(seed, colors) {
      return colors[seed % colors.length];
    },
    lightenColor(hex, amt) {
      var usePound = false;
      if (hex[0] === '#') {
        hex = hex.slice(1);
        usePound = true;
      }
      var num = parseInt(hex, 16);
      var r = (num >> 16) + amt;
      if (r > 255) r = 255;else if (r < 0) r = 0;
      var b = (num >> 8 & 0x00ff) + amt;
      if (b > 255) b = 255;else if (b < 0) b = 0;
      var g = (num & 0x0000ff) + amt;
      if (g > 255) g = 255;else if (g < 0) g = 0;
      return (usePound ? '#' : '') + (g | b << 8 | r << 16).toString(16);
    }
  }
});
// CONCATENATED MODULE: ./packages/Avatar/src/AvatarImage.vue?vue&type=script&lang=js
 /* harmony default export */ var src_AvatarImagevue_type_script_lang_js = (AvatarImagevue_type_script_lang_js); 
// CONCATENATED MODULE: ./packages/Avatar/src/AvatarImage.vue





/* normalize component */

var AvatarImage_component = normalizeComponent(
  src_AvatarImagevue_type_script_lang_js,
  AvatarImagevue_type_template_id_54d54720_render,
  AvatarImagevue_type_template_id_54d54720_staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* harmony default export */ var AvatarImage = (AvatarImage_component.exports);
// CONCATENATED MODULE: ./packages/Avatar/index.js

AvatarImage.install = function (Vue) {
  Vue.component(AvatarImage.name, AvatarImage);
};
/* harmony default export */ var Avatar = (AvatarImage);
// CONCATENATED MODULE: ./packages/Typography/src/create-header.js

/* harmony default export */ var create_header = (level => {
  const headerComponent = {
    name: `HtH${level}`,
    props: {
      type: {
        type: String,
        default: 'primary',
        validator(val) {
          return val === 'info' || val === 'success' || val === 'warning' || val === 'danger' || val === 'primary';
        }
      },
      textGap: {
        type: String,
        default: '16px'
      },
      scene: {
        type: Boolean,
        default: false
      },
      barWidth: {
        type: String,
        default: '4px'
      },
      inline: {
        type: Boolean,
        default: false
      }
    },
    computed: {
      typeColor() {
        return this.type == 'info' ? styles_default.a.info_color : this.type == 'success' ? styles_default.a.success_color : this.type == 'warning' ? styles_default.a.warning_color : this.type == 'danger' ? styles_default.a.danger_color : styles_default.a.primary_color;
      }
    },
    render(h) {
      let style = {
        '--header-padding-left': this.textGap,
        '--bar-color': this.typeColor,
        '--bezier': 'cubic-bezier(0.4, 0, 0.2, 1)',
        '--bar-width': this.barWidth,
        display: this.inline ? 'inline' : 'block',
        color: this.scene ? this.typeColor : 'trsparent'
      };
      this.inline && (style.display = 'inline');
      this.scene && (style.color = this.typeColor);
      return h(`h${level}`, {
        class: ['ht-typography__header'],
        style
      }, this.$slots.default);
    }
  };
  return headerComponent;
});
// CONCATENATED MODULE: ./packages/Typography/index.js

const HtH1 = create_header('1');
const HtH2 = create_header('2');
const HtH3 = create_header('3');
const HtH4 = create_header('4');
const HtH5 = create_header('5');
const HtH6 = create_header('6');
// CONCATENATED MODULE: ./packages/Icon/src/icons/ad.js

Icon_src_main.register({
  ad: {
    width: 512,
    height: 512,
    paths: [{
      d: 'M157.52 272h36.96L176 218.78 157.52 272zM352 256c-13.23 0-24 10.77-24 24s10.77 24 24 24 24-10.77 24-24-10.77-24-24-24zM464 64H48C21.5 64 0 85.5 0 112v288c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM250.58 352h-16.94c-6.81 0-12.88-4.32-15.12-10.75L211.15 320h-70.29l-7.38 21.25A16 16 0 0 1 118.36 352h-16.94c-11.01 0-18.73-10.85-15.12-21.25L140 176.12A23.995 23.995 0 0 1 162.67 160h26.66A23.99 23.99 0 0 1 212 176.13l53.69 154.62c3.61 10.4-4.11 21.25-15.11 21.25zM424 336c0 8.84-7.16 16-16 16h-16c-4.85 0-9.04-2.27-11.98-5.68-8.62 3.66-18.09 5.68-28.02 5.68-39.7 0-72-32.3-72-72s32.3-72 72-72c8.46 0 16.46 1.73 24 4.42V176c0-8.84 7.16-16 16-16h16c8.84 0 16 7.16 16 16v160z'
    }]
  }
});
// CONCATENATED MODULE: ./packages/Icon/src/icons/address-book.js

Icon_src_main.register({
  'address-book': {
    width: 448,
    height: 512,
    paths: [{
      d: 'M436 160c6.6 0 12-5.4 12-12v-40c0-6.6-5.4-12-12-12h-20V48c0-26.5-21.5-48-48-48H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h320c26.5 0 48-21.5 48-48v-48h20c6.6 0 12-5.4 12-12v-40c0-6.6-5.4-12-12-12h-20v-64h20c6.6 0 12-5.4 12-12v-40c0-6.6-5.4-12-12-12h-20v-64h20zm-68 304H48V48h320v416zM208 256c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm-89.6 128h179.2c12.4 0 22.4-8.6 22.4-19.2v-19.2c0-31.8-30.1-57.6-67.2-57.6-10.8 0-18.7 8-44.8 8-26.9 0-33.4-8-44.8-8-37.1 0-67.2 25.8-67.2 57.6v19.2c0 10.6 10 19.2 22.4 19.2z'
    }]
  }
});
// CONCATENATED MODULE: ./packages/Icon/src/icons/arrow.js

Icon_src_main.register({
  arrow: {
    width: 1024,
    height: 1024,
    paths: [{
      d: 'M689.9712 512h215.7568a34.133333 34.133333 0 0 1 24.1664 58.2656L559.342933 940.782933a68.266667 68.266667 0 0 1-96.529066 0L92.296533 570.2656A34.133333 34.133333 0 0 1 116.394667 512h215.722666V103.185067a68.266667 68.266667 0 0 1 68.266667-68.266667h221.2864a68.266667 68.266667 0 0 1 68.266667 68.266667V512z'
    }]
  }
});
// CONCATENATED MODULE: ./packages/Icon/src/icons/attachment.js

Icon_src_main.register({
  attachment: {
    width: 24,
    height: 24,
    paths: [{
      fill: 'none',
      d: 'M0 0h24v24H0V0z'
    }, {
      d: 'M16.5 6v11.5c0 2.21-1.79 4-4 4s-4-1.79-4-4V5c0-1.38 1.12-2.5 2.5-2.5s2.5 1.12 2.5 2.5v10.5c0 .55-.45 1-1 1s-1-.45-1-1V6H10v9.5c0 1.38 1.12 2.5 2.5 2.5s2.5-1.12 2.5-2.5V5c0-2.21-1.79-4-4-4S7 2.79 7 5v12.5c0 3.04 2.46 5.5 5.5 5.5s5.5-2.46 5.5-5.5V6h-1.5z'
    }]
  }
});
// CONCATENATED MODULE: ./packages/Icon/src/icons/ban.js

Icon_src_main.register({
  ban: {
    width: 512,
    height: 512,
    paths: [{
      d: 'M256 8c137 0 248 111 248 248s-111 248-248 248-248-111-248-248 111-248 248-248zM386.1 125.9c-65.4-65.4-165.4-70-235.6-20.7l256.3 256.3c49.3-70.2 44.8-170.2-20.7-235.6zM125.9 386.1c65.4 65.4 165.4 70 235.6 20.7l-256.3-256.3c-49.3 70.2-44.8 170.2 20.7 235.6z'
    }]
  }
});
// CONCATENATED MODULE: ./packages/Icon/src/icons/balance.js

Icon_src_main.register({
  balance: {
    width: 640,
    height: 512,
    paths: [{
      d: 'M256 336h-.02c0-16.18 1.34-8.73-85.05-181.51-17.65-35.29-68.19-35.36-85.87 0C-2.06 328.75.02 320.33.02 336H0c0 44.18 57.31 80 128 80s128-35.82 128-80zM128 176l72 144H56l72-144zm511.98 160c0-16.18 1.34-8.73-85.05-181.51-17.65-35.29-68.19-35.36-85.87 0-87.12 174.26-85.04 165.84-85.04 181.51H384c0 44.18 57.31 80 128 80s128-35.82 128-80h-.02zM440 320l72-144 72 144H440zm88 128H352V153.25c23.51-10.29 41.16-31.48 46.39-57.25H528c8.84 0 16-7.16 16-16V48c0-8.84-7.16-16-16-16H383.64C369.04 12.68 346.09 0 320 0s-49.04 12.68-63.64 32H112c-8.84 0-16 7.16-16 16v32c0 8.84 7.16 16 16 16h129.61c5.23 25.76 22.87 46.96 46.39 57.25V448H112c-8.84 0-16 7.16-16 16v32c0 8.84 7.16 16 16 16h416c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z'
    }]
  }
});
// CONCATENATED MODULE: ./packages/Icon/src/icons/bell.js

Icon_src_main.register({
  bell: {
    width: 1024,
    height: 1024,
    paths: [{
      d: 'M512 960c-212.032 0-384-85.952-384-192 0-39.168 23.744-75.52 64-105.856L192 512c0-132.16 80.192-245.568 194.624-294.4C384.896 209.344 384 200.768 384 192c0-70.656 57.344-128 128-128s128 57.344 128 128c0 8.768-0.896 17.344-2.624 25.6C751.744 266.432 832 379.84 832 512l0 150.144c40.256 30.4 64 66.688 64 105.856C896 874.048 724.032 960 512 960zM512 640c-141.376 0-256 57.344-256 128s114.624 128 256 128 256-57.344 256-128S653.376 640 512 640zM512 832c-62.528 0-114.368-44.864-125.568-104.064C420.16 713.216 463.744 704 512 704s91.904 9.216 125.632 23.936C626.368 787.136 574.528 832 512 832z'
    }]
  }
});
// CONCATENATED MODULE: ./packages/Icon/src/icons/block.js

Icon_src_main.register({
  block: {
    width: 1024,
    height: 1024,
    paths: [{
      d: 'M387.893367 0H51.804428A51.740428 51.740428 0 0 0 0.064 51.676472v335.833115a51.740428 51.740428 0 0 0 51.740428 51.676473h336.088939a51.740428 51.740428 0 0 0 51.740429-51.676473V51.676472A51.740428 51.740428 0 0 0 387.893367 0z m-34.4723 342.804322a10.232965 10.232965 0 0 1-10.232965 10.232965H96.509694a10.232965 10.232965 0 0 1-10.232965-10.232965V96.381738a10.232965 10.232965 0 0 1 10.232965-10.232965h246.742364a10.232965 10.232965 0 0 1 10.232965 10.232965z'
    }, {
      d: 'M971.428187 0H635.46716a51.740428 51.740428 0 0 0-51.740428 51.676472v335.833115a51.740428 51.740428 0 0 0 51.740428 51.676473h335.961027a51.740428 51.740428 0 0 0 51.740429-51.676473V51.676472A51.740428 51.740428 0 0 0 971.428187 0z m-34.4723 342.804322a10.232965 10.232965 0 0 1-10.232965 10.232965h-246.550497a10.232965 10.232965 0 0 1-10.232964-10.232965V96.381738a10.232965 10.232965 0 0 1 10.232964-10.232965h246.486541a10.232965 10.232965 0 0 1 10.232965 10.232965z'
    }, {
      d: 'M387.893367 584.110424H51.804428A51.740428 51.740428 0 0 0 0.064 635.786897v335.833114A51.740428 51.740428 0 0 0 51.804428 1023.296484h336.088939a51.740428 51.740428 0 0 0 51.740429-51.676473V635.786897a51.740428 51.740428 0 0 0-51.740429-51.676473z m-34.4723 342.804322a10.232965 10.232965 0 0 1-10.232965 10.232965H96.509694a10.232965 10.232965 0 0 1-10.232965-10.232965v-246.48654a10.232965 10.232965 0 0 1 10.232965-10.232965h246.742364a10.232965 10.232965 0 0 1 10.232965 10.232965z'
    }, {
      d: 'M971.428187 584.110424H635.46716a51.740428 51.740428 0 0 0-51.740428 51.676473v335.833114a51.740428 51.740428 0 0 0 51.740428 51.676473h335.961027a51.740428 51.740428 0 0 0 51.740429-51.676473V635.786897a51.740428 51.740428 0 0 0-51.740429-51.676473z m-34.4723 342.804322a10.232965 10.232965 0 0 1-10.232965 10.232965h-246.550497a10.232965 10.232965 0 0 1-10.232964-10.232965v-246.48654a10.232965 10.232965 0 0 1 10.232964-10.232965h246.486541a10.232965 10.232965 0 0 1 10.232965 10.232965z'
    }]
  }
});
// CONCATENATED MODULE: ./packages/Icon/src/icons/book.js

Icon_src_main.register({
  book: {
    width: 1024,
    height: 1024,
    paths: [{
      d: 'M973.142857 273.142857q22.857143 32.571429 10.285714 73.714286l-157.142857 517.714286q-10.857143 36.571429-43.714286 61.428571t-70 24.857143l-527.428571 0q-44 0-84.857143-30.571429t-56.857143-75.142857q-13.714286-38.285714-1.142857-72.571429 0-2.285714 1.714286-15.428571t2.285714-21.142857q0.571429-4.571429-1.714286-12.285714t-1.714286-11.142857q1.142857-6.285714 4.571429-12t9.428571-13.428571 9.428571-13.428571q13.142857-21.714286 25.714286-52.285714t17.142857-52.285714q1.714286-5.714286 2.857143-17.142857t2.857143-16q1.714286-6.285714 9.714286-16t9.714286-13.142857q12-20.571429 24-52.571429t14.285714-51.428571q0.571429-5.142857-1.428571-18.285714t2.857143-16q2.285714-7.428571 12.571429-17.428571t12.571429-12.857143q10.857143-14.857143 24.285714-48.285714t15.714286-55.142857q0.571429-4.571429-1.714286-14.571429t-1.142857-15.142857q1.142857-4.571429 5.142857-10.285714t10.285714-13.142857 9.714286-12q4.571429-6.857143 9.428571-17.428571t8.571429-20 9.142857-20.571429 11.142857-18.285714 15.142857-13.428571 20.571429-6.571429 27.142857 3.142857l-0.571429 1.714286q21.714286-5.142857 29.142857-5.142857l434.857143 0q42.285714 0 65.142857 32t10.285714 74.285714l-156.571429 517.714286q-20.571429 68-40.857143 87.714286t-73.428571 19.714286l-496.571429 0q-15.428571 0-21.714286 8.571429-6.285714 9.142857-0.571429 24.571429 13.714286 40 82.285714 40l527.428571 0q16.571429 0 32-8.857143t20-23.714286l171.428571-564q4-12.571429 2.857143-32.571429 21.714286 8.571429 33.714286 24.571429zm-608 1.142857q-2.285714 7.428571 1.142857 12.857143t11.428571 5.428571l347.428571 0q7.428571 0 14.571429-5.428571t9.428571-12.857143l12-36.571429q2.285714-7.428571-1.142857-12.857143t-11.428571-5.428571l-347.428571 0q-7.428571 0-14.571429 5.428571t-9.428571 12.857143zm-47.428571 146.285714q-2.285714 7.428571 1.142857 12.857143t11.428571 5.428571l347.428571 0q7.428571 0 14.571429-5.428571t9.428571-12.857143l12-36.571429q2.285714-7.428571-1.142857-12.857143t-11.428571-5.428571l-347.428571 0q-7.428571 0-14.571429 5.428571t-9.428571 12.857143z'
    }]
  }
});
// CONCATENATED MODULE: ./packages/Icon/src/icons/bookmark.js

Icon_src_main.register({
  bookmark: {
    width: 1024,
    height: 1024,
    paths: [{
      d: 'M853.333333 938.666667H277.333333A149.333333 149.333333 0 0 1 128 789.333333V213.333333a128 128 0 0 1 128-128h597.333333a42.666667 42.666667 0 0 1 42.666667 42.666667v768a42.666667 42.666667 0 0 1-42.666667 42.666667z m-42.666666-85.333334v-128H277.333333a64 64 0 0 0 0 128H810.666667zM426.666667 170.666667v341.333333l149.333333-85.333333 149.333333 85.333333V170.666667h-298.666666z'
    }]
  }
});
// CONCATENATED MODULE: ./packages/Icon/src/icons/bug.js

Icon_src_main.register({
  bug: {
    width: 1024,
    height: 1024,
    paths: [{
      d: 'M749.28 254.654C690.73 177.024 606.124 128 512 128s-178.73 49.024-237.28 126.654c12.708 31.28 31.666 60 56.26 84.594 48.352 48.352 112.638 74.98 181.02 74.98s132.668-26.628 181.02-74.98C717.614 314.654 736.572 285.932 749.28 254.654z'
    }, {
      d: 'M253.672 285.648c-3.45 5.654-6.792 11.406-9.984 17.288-5.852-3.68-10.638-7.48-15.49-11.546-2.342-1.962-5.908-7.898-9.092-14.7 10.82-22.628 2.362-50.074-19.828-62.522-23.122-12.968-52.376-4.744-65.348 18.378-12.97 23.12-4.742 52.376 18.374 65.346 2.502 1.404 5.078 2.544 7.694 3.458 5.632 12.538 14.64 28.662 27.096 39.094 8.368 7.014 17.584 14.234 30.408 21.348-14.39 40.518-23.152 84.606-25.09 130.854-22.052 0.414-37.238 4.2-50.948 8.244-8.32 2.454-16.384 6.79-23.646 11.704-1.908-0.23-3.846-0.364-5.816-0.364-26.51 0-48 21.49-48 48s21.49 48 48 48c25.86 0 46.934-20.454 47.952-46.064 10.092-2.964 19.776-5.318 34.19-5.548 6.334 66.03 26.608 126.966 57.226 178.448-28.332 22.012-45.764 46.032-53.21 72.634 0 0-1.5 0.876-3.746 2.732-1.964 1.588-3.864 3.3-5.608 5.238-17.73 19.71-16.124 50.062 3.586 67.79 19.708 17.73 50.056 16.124 67.786-3.586 16.174-17.976 16.19-44.762 1.116-62.79 6.148-11.124 12.472-18.028 27.34-29.922C342.736 850.47 415.446 891.238 496 896L496 445.744C389.528 439.908 298.458 376.276 253.672 285.648z'
    }, {
      d: 'M912 512.228c-1.97 0-3.908 0.132-5.816 0.364-7.262-4.914-15.326-9.25-23.646-11.704-13.708-4.042-28.894-7.83-50.948-8.244-1.938-46.25-10.7-90.336-25.09-130.854 12.824-7.114 22.042-14.334 30.408-21.348 12.456-10.432 21.462-26.556 27.096-39.094 2.616-0.916 5.192-2.056 7.694-3.458 23.116-12.97 31.344-42.228 18.374-65.346-12.97-23.122-42.226-31.346-65.348-18.378-22.19 12.45-30.648 39.894-19.828 62.522-3.184 6.802-6.75 12.738-9.092 14.7-4.852 4.066-9.638 7.866-15.49 11.546-3.192-5.882-6.536-11.634-9.984-17.288-44.786 90.628-135.856 154.26-242.328 160.096L528.002 896c80.554-4.762 153.264-45.53 207.372-108.84 14.868 11.894 21.192 18.798 27.34 29.922-15.074 18.028-15.058 44.812 1.116 62.79 17.728 19.71 48.076 21.316 67.786 3.586 19.708-17.726 21.316-48.078 3.586-67.79-1.744-1.938-3.642-3.65-5.608-5.238-2.246-1.858-3.746-2.732-3.746-2.732-7.448-26.604-24.878-50.624-53.21-72.634 30.62-51.48 50.892-112.418 57.226-178.448 14.414 0.23 24.098 2.584 34.19 5.548 1.018 25.612 22.092 46.064 47.952 46.064 26.51 0 48-21.49 48-48S938.51 512.228 912 512.228z'
    }]
  }
});
// CONCATENATED MODULE: ./packages/Icon/src/icons/bullhorn.js

Icon_src_main.register({
  bullhorn: {
    width: 1024,
    height: 1024,
    paths: [{
      d: 'M1024.032 429.248c0-200.928-58.784-363.936-131.488-365.216 0.288 0 0.576-0.032 0.864-0.032l-82.944 0c0 0-194.816 146.336-475.232 203.744-8.576 45.28-14.016 99.264-14.016 161.504s5.472 116.192 14.016 161.504c280.416 57.408 475.232 203.744 475.232 203.744l82.944 0c-0.288 0-0.576-0.032-0.864-0.032 72.704-1.28 131.488-164.288 131.488-365.216zM864.864 739.264c-9.376 0-19.52-9.728-24.736-15.552-12.64-14.048-24.8-35.968-35.2-63.328-23.264-61.216-36.064-143.296-36.064-231.136s12.8-169.888 36.064-231.136c10.4-27.36 22.56-49.28 35.2-63.328 5.216-5.824 15.36-15.552 24.736-15.552s19.52 9.728 24.736 15.552c12.64 14.048 24.8 35.968 35.2 63.328 23.264 61.216 36.064 143.328 36.064 231.136s-12.8 169.888-36.064 231.136c-10.4 27.36-22.56 49.28-35.2 63.328-5.216 5.792-15.36 15.552-24.736 15.552zM251.84 429.248c0-51.936 3.808-102.432 11.04-149.088-47.36 6.56-88.928 10.336-140.352 10.336-67.072 0-67.072 0-67.072 0l-55.456 94.688 0 88.16 55.456 94.688c0 0 0 0 67.072 0 51.392 0 92.96 3.776 140.352 10.336-7.232-46.656-11.04-97.152-11.04-149.088zM368.192 642.176l-128-24.512 81.856 321.536c4.224 16.64 20.736 25.024 36.672 18.656l118.56-47.456c15.936-6.368 22.336-23.968 14.208-39.072l-123.296-229.152zM864.864 548.736c-3.616 0-7.52-3.744-9.536-5.984-4.864-5.408-9.568-13.856-13.568-24.416-8.96-23.616-13.888-55.232-13.888-89.088s4.928-65.472 13.888-89.088c4-10.56 8.704-18.976 13.568-24.416 2.016-2.24 5.92-5.984 9.536-5.984s7.52 3.744 9.536 5.984c4.864 5.408 9.568 13.856 13.568 24.416 8.96 23.584 13.888 55.232 13.888 89.088s-4.928 65.472-13.888 89.088c-4 10.56-8.704 18.976-13.568 24.416-2.016 2.24-5.92 5.984-9.536 5.984z'
    }]
  }
});
// CONCATENATED MODULE: ./packages/Icon/src/icons/calc.js

Icon_src_main.register({
  calc: {
    width: 1024,
    height: 1024,
    paths: [{
      d: 'M213.942857 369.142857H292.571429v78.628572c0 2.057143 2.057143 3.657143 4.571428 3.657142h54.857143c2.514286 0 4.571429-1.6 4.571429-3.771428V369.142857h78.628571c2.057143 0 3.657143-2.057143 3.657143-4.571428v-54.857143c0-2.514286-1.6-4.571429-3.771429-4.571429H356.571429v-78.628571c0-2.057143-2.057143-3.657143-4.571429-3.657143h-54.857143c-2.514286 0-4.571429 1.6-4.571428 3.657143V305.142857h-78.628572c-2.057143 0-3.657143 2.057143-3.657143 4.571429v54.857143c0 2.514286 1.6 4.571429 3.657143 4.571428z m374.857143 0h221.257143c2.057143 0 3.657143-2.057143 3.657143-4.571428v-54.857143c0-2.514286-1.6-4.571429-3.771429-4.571429H588.8c-2.057143 0-3.657143 2.057143-3.657143 4.571429v54.857143c0 2.514286 1.6 4.571429 3.657143 4.571428z m0 302.857143h221.257143c2.057143 0 3.657143-2.057143 3.657143-4.571429v-54.857142c0-2.514286-1.6-4.571429-3.771429-4.571429H588.8c-2.057143 0-3.657143 2.057143-3.657143 4.571429v54.857142c0 2.514286 1.6 4.571429 3.657143 4.571429z m0 118.857143h221.257143c2.057143 0 3.657143-2.057143 3.657143-4.571429v-54.857143c0-2.514286-1.6-4.571429-3.771429-4.571428H588.8c-2.057143 0-3.657143 2.057143-3.657143 4.571428v54.857143c0 2.514286 1.6 4.571429 3.657143 4.571429z m-223.657143-92.571429l69.942857-85.6c4.914286-5.942857 0.8-14.971429-6.742857-14.971428H370.285714c-2.628571 0-5.142857 1.142857-6.742857 3.314285l-38.857143 47.542858-38.857143-47.542858a8.971429 8.971429 0 0 0-6.742857-3.314285h-58.171428c-7.542857 0-11.657143 9.028571-6.742857 14.971428l69.942857 85.6-71.657143 87.771429c-5.028571 5.942857-0.914286 14.971429 6.628571 14.971428h58.057143c2.628571 0 5.142857-1.142857 6.742857-3.314285l40.571429-49.714286 40.571428 49.714286c1.714286 2.057143 4.228571 3.314286 6.742858 3.314285h58.057142c7.542857 0 11.657143-9.028571 6.742858-14.971428L365.142857 698.285714zM932.571429 54.857143H91.428571c-20.228571 0-36.571429 16.342857-36.571428 36.571428v841.142858c0 20.228571 16.342857 36.571429 36.571428 36.571428h841.142858c20.228571 0 36.571429-16.342857 36.571428-36.571428V91.428571c0-20.228571-16.342857-36.571429-36.571428-36.571428z m-41.142858 836.571428H132.571429V132.571429h758.857142v758.857142z'
    }]
  }
});
// CONCATENATED MODULE: ./packages/Icon/src/icons/circle.js

Icon_src_main.register({
  circle: {
    width: 1024,
    height: 1024,
    paths: [{
      d: 'M511.996587 1020.586667C231.103147 1020.586667 3.413333 792.84224 3.413333 512 3.413333 231.154347 231.103147 3.413333 511.996587 3.413333 792.89344 3.413333 1020.586667 231.10656 1020.586667 512s-227.7376 508.586667-508.59008 508.586667z m0-940.885334C273.24416 79.691093 79.68768 273.24416 79.68768 512c0 238.752427 193.55648 432.295253 432.308907 432.295253 238.75584 0 432.295253-193.55648 432.295253-432.295253 0-238.742187-193.55648-432.308907-432.295253-432.308907v0.01024z'
    }]
  }
});
// CONCATENATED MODULE: ./packages/Icon/src/icons/cloud-sun.js

Icon_src_main.register({
  'cloud-sun': {
    width: 1024,
    height: 1024,
    paths: [{
      d: 'M658.029714 325.796571c16.274286 0 29.348571-13.44 29.348572-29.348571v-76.379429c0-16.274286-13.074286-29.348571-29.348572-29.348571s-29.348571 13.074286-29.348571 29.348571v76.379429c0 15.908571 13.092571 29.348571 29.348571 29.348571z m-205.074285 68.242286c11.666286 11.666286 30.756571 11.300571 41.728 0 10.953143-11.337143 11.300571-29.714286 0-41.033143l-54.454858-54.436571a29.129143 29.129143 0 0 0-41.380571 0c-11.318857 10.953143-11.318857 29.696 0 41.362286z m368.457142 0c10.953143 11.300571 30.043429 11.666286 41.691429 0l54.125714-54.107428c11.300571-11.666286 10.953143-30.409143 0-41.362286a29.129143 29.129143 0 0 0-41.380571 0l-54.454857 54.436571c-11.318857 11.337143-10.971429 29.714286 0 41.033143z m-72.502857 314.697143c51.968-35.017143 84.150857-89.106286 84.150857-151.350857a174.592 174.592 0 0 0-175.030857-175.36c-64 0-119.515429 34.285714-148.845714 85.558857 14.848 15.195429 27.574857 31.817143 38.180571 52.333714 116.662857 9.545143 192 82.029714 201.545143 188.818286zM146.742857 903.552h382.592c100.059429 0 177.846857-75.666286 177.846857-173.604571 0-97.590857-79.195429-171.154286-184.923428-171.849143-41.380571-78.848-114.925714-124.818286-200.484572-124.818286-114.925714 0-212.516571 89.453714-223.122285 205.44C38.546286 656.749714 0 707.657143 0 769.901714c0 79.195429 59.757714 133.668571 146.742857 133.668572z m771.547429-316.818286h76.361143c15.908571 0 29.001143-13.074286 29.348571-29.348571 0-16.274286-13.44-29.348571-29.348571-29.348572h-76.379429c-15.908571 0-29.348571 13.092571-29.348571 29.348572 0 16.274286 13.44 29.348571 29.348571 29.348571z m-42.422857 230.198857a29.44 29.44 0 0 0 41.344-0.365714c10.971429-11.300571 11.337143-30.043429 0-41.014857l-54.802286-54.454857c-11.300571-10.953143-29.696-11.300571-41.014857 0a29.878857 29.878857 0 0 0 0 41.728z'
    }]
  }
});
// CONCATENATED MODULE: ./packages/Icon/src/icons/close.js

Icon_src_main.register({
  close: {
    width: 1024,
    height: 1024,
    paths: [{
      d: 'M512 421.490332 331.092592 240.582924C306.351217 215.841549 265.464551 215.477441 240.470996 240.470996 215.303191 265.638801 215.527553 306.037221 240.582924 331.092592L421.490332 512 240.582925 692.907407C215.84155 717.648782 215.477441 758.535449 240.470996 783.529004 265.638801 808.696809 306.037222 808.472446 331.092593 783.417075L512 602.509668 692.907407 783.417075C717.648782 808.15845 758.535449 808.522559 783.529004 783.529004 808.696809 758.361199 808.472446 717.962778 783.417075 692.907407L602.509668 512 783.417076 331.092592C808.158451 306.351217 808.522559 265.464551 783.529004 240.470996 758.361199 215.303191 717.962779 215.527553 692.907408 240.582924L512 421.490332Z'
    }]
  }
});
// CONCATENATED MODULE: ./packages/Icon/src/icons/checkbox.js

Icon_src_main.register({
  checkbox: {
    width: 1024,
    height: 1024,
    paths: [{
      d: 'M908.387097 88.086022a27.526882 27.526882 0 0 1 27.526881 27.526881v792.774194a27.526882 27.526882 0 0 1-27.526881 27.526881H115.612903a27.526882 27.526882 0 0 1-27.526881-27.526881V115.612903a27.526882 27.526882 0 0 1 27.526881-27.526881h792.774194z m-38.537635 66.064516H154.150538v715.698924h715.698924V154.150538z m-85.206709 119.648344l14.005677 32.845075a1145.008172 1145.008172 0 0 0-36.269419 35.080258l-8.880172 9.056344A1365.850839 1365.850839 0 0 0 697.861505 411.802151l-8.20301 9.639914-8.10942 9.683957-7.999312 9.716989-7.894709 9.755527c-3.919828 4.877763-7.795613 9.772043-11.63286 14.666322l-7.613936 9.794065-3.765677 4.899785-7.432258 9.79957c-2.460903 3.264688-4.899785 6.529376-7.322151 9.788559l-7.184516 9.777548-7.068903 9.755527-6.936775 9.728-3.413333 4.850237-6.733075 9.66744-6.600946 9.623398-6.457807 9.568344-6.314666 9.50228-6.171527 9.436215-3.027957 4.685075-5.951312 9.315097-2.91785 4.624516-5.720086 9.177462-5.56043 9.083871-5.406279 8.973764-5.241119 8.852645-5.075957 8.737032-4.910795 8.604904-2.389334 4.25015-4.652043 8.395699-4.475871 8.252559-4.305204 8.092903-4.118021 7.927742-3.936344 7.762581-3.749162 7.580903-3.567484 7.393721-1.706666 3.628043-3.275699 7.101935-1.563527 3.479398-2.978409 6.793634-2.780215 6.578925c-0.891871 2.158108-1.756215 4.277677-2.576516 6.35871l-1.211183 3.094021L249.56972 514.477419l59.028646-47.748129 133.422795 105.158194 5.681549-6.72757 8.258064-9.601376 6.705549-7.657979 7.123957-8.021333 4.987871-5.538409 7.828645-8.588387 5.450322-5.890753 8.522323-9.083871 8.924215-9.364645 6.177032-6.386236 9.595871-9.777549 6.622968-6.644989 6.788129-6.733075 10.515269-10.262022 7.223053-6.936774 7.393721-7.013849 7.558882-7.074409 7.729548-7.134968 7.89471-7.190021 8.059871-7.234065 8.219527-7.272602 4.167569-3.65557 8.467269-7.32215 8.62142-7.355183 4.371268-3.683097 8.858151-7.377204 4.486882-3.688602 9.094881-7.393721a1445.16129 1445.16129 0 0 1 9.249033-7.39372l9.397677-7.393721a1407.741247 1407.741247 0 0 1 19.252301-14.737892l9.854624-7.338667c26.458839-19.538581 54.49772-38.76886 83.990021-57.178838l5.543914-3.440861z'
    }]
  }
});
// CONCATENATED MODULE: ./packages/Icon/src/icons/coffee.js

Icon_src_main.register({
  coffee: {
    width: 1024,
    height: 1024,
    paths: [{
      d: 'M192.8 960.2h503c24.7 0 44.7-21.1 44.7-47.2H148.1c0 26.1 20 47.2 44.7 47.2zM781.6 474c1.3-11.5 1.9-21.2 1.9-29.3 0-41.6-7-41.8-33.9-41.8H589.4c15.5-25.4 24.4-51.7 24.4-78.5 0-80.4-121.5-119.6-121.5-186.6 0-24.8 10.8-45.2 19.7-74-56.2 14.8-100.5 71-100.5 130.6 0 102.4 119.4 103.3 119.4 179.8 0 9.5-3 18-4.5 28.6H407.9c1.7-6.4 2.8-13.1 2.8-19.7 0-48.4-82.9-71.9-82.9-112 0-14.8 2.1-27.1 6.8-44.5-27.4 10.8-60 42.4-60 78 0 56.6 67.7 62.1 78 98.2H138.7c-26.9 0-33.9 0.2-33.9 41.8s16.3 130 60 235.4S259 832 294.6 862.9l0.2-0.4c10.8 9.8 25 15.5 40.7 15.5h217.2c15.7 0 29.9-5.7 40.7-15.5l0.2 0.4c19.1-16.5 42.4-37.8 66.6-69.8 10 4.2 20.8 7.8 32.7 10.6 17.8 4.2 35.6 6.4 52.6 6.4 50.9 0 96.7-19.5 128.9-54.7 28.4-31 44.7-73 44.7-114.9 0.1-82.5-59.3-151.5-137.5-166.5z m-36.1 268.9c-18.2 0-33.1-2.5-46.9-8.9 8.5-17 16.8-33.7 24.8-53.2 21.4-51.7 36.3-99.7 45.8-139.5 46.7 9.1 82.1 50.5 82.1 99.9 0 48-36.5 101.7-105.8 101.7z'
    }]
  }
});
// CONCATENATED MODULE: ./packages/Icon/src/icons/copyright.js

Icon_src_main.register({
  copyright: {
    width: 1024,
    height: 1024,
    paths: [{
      d: 'M512 96C282.624 96 96 282.624 96 512s186.624 416 416 416 416-186.624 416-416S741.376 96 512 96z m0 64c194.752 0 352 157.248 352 352s-157.248 352-352 352S160 706.752 160 512 317.248 160 512 160z m-3.008 160c-106.368 0-192 85.632-192 192s85.632 192 192 192c76.768 0 142.4-46.016 172.992-111.008l-57.984-26.976C603.36 609.856 560.256 640 508.992 640c-72.864 0-128-55.136-128-128s55.136-128 128-128c51.264 0 94.4 30.112 115.008 74.016l58.016-27.008C651.36 366.016 585.76 320 508.96 320z'
    }]
  }
});
// CONCATENATED MODULE: ./packages/Icon/src/icons/component.js

Icon_src_main.register({
  component: {
    width: 1024,
    height: 1024,
    paths: [{
      d: 'M917.376 243.456L500.8 4.8a34.144 34.144 0 0 0-34.336 0.096l0.16-0.096L50.112 243.52a33.952 33.952 0 0 0-17.088 29.376v477.44c0 12.16 6.528 23.296 17.088 29.44l416.512 238.72a34.88 34.88 0 0 0 34.336-0.064l-0.16 0.096 416.576-238.72c10.272-5.952 17.088-16.896 17.088-29.44V272.928c0-12.544-6.816-23.488-16.928-29.344l-0.16-0.096z m-51.264 487.36l-382.4 219.136-382.336-219.136V292.48l382.336-219.136 382.4 219.136v438.272zM198.784 360.512a33.76 33.76 0 0 0 12.384 46.304l0.16 0.096 237.824 136.32V812.8c0 18.816 15.232 33.92 34.176 33.92h0.256a33.92 33.92 0 0 0 33.92-33.92v-269.184l238.656-136.832a33.92 33.92 0 0 0 12.48-46.528l0.096 0.16a34.4 34.4 0 0 0-46.88-12.32l0.16-0.096-238.272 136.512-238.208-136.512a34.464 34.464 0 0 0-46.624 12.384l-0.096 0.16z'
    }]
  }
});
// CONCATENATED MODULE: ./packages/Icon/src/icons/compress.js

Icon_src_main.register({
  compress: {
    width: 1024,
    height: 1024,
    paths: [{
      d: 'M275.14608 384H192.39408a32 32 0 0 0 0 64h192V256a32 32 0 0 0-64 0v82.752L55.01808 73.376A32 32 0 1 0 9.77008 118.624L275.14608 384zM749.64208 640H832.39408a32 32 0 0 0 0-64H640.39408v192a32 32 0 0 0 64 0v-82.752l265.376 265.376c6.24 6.256 14.432 9.376 22.624 9.376s16.384-3.12 22.624-9.376a32 32 0 0 0 0-45.248L749.64208 640zM32.39408 960a31.84 31.84 0 0 0 22.624-9.376L320.39408 685.248V768a32 32 0 0 0 64 0V576H192.39408a32 32 0 0 0 0 64h82.752L9.77008 905.376A32 32 0 0 0 32.39408 960zM969.77008 73.376L704.39408 338.752V256a32 32 0 0 0-64 0v192h192a32 32 0 0 0 0-64h-82.752L1015.01808 118.624a32 32 0 1 0-45.248-45.248z'
    }]
  }
});
// CONCATENATED MODULE: ./packages/Icon/src/icons/dialog.js

Icon_src_main.register({
  dialog: {
    width: 1024,
    height: 1024,
    paths: [{
      d: 'M968 16H58.112C24 16 8 16 8 66.112v701.664c0 34.56 13.408 48.224 48 48.224h160V928c0 34.56 41.664 114.816 144 48l192-160h416c34.528 0 48-13.44 48-48V64c0-34.592-13.472-48-48-48z m-48 704h-416l-192 144v-144h-208v-608h816v608z m-672-448h528v96H248v-96z m0 192h528v96H248v-96z'
    }]
  }
});
// CONCATENATED MODULE: ./packages/Icon/src/icons/duration.js

Icon_src_main.register({
  duration: {
    width: 1024,
    height: 1024,
    paths: [{
      d: 'M475.776 804.464v155.776H73.264V792.224s3.12-93.904 150.912-111.744c-39.296-18.944-66.688-58.88-66.688-105.472a117.424 117.424 0 0 1 234.832 0c0 47.12-27.904 87.44-67.968 106.176 59.488 8.416 151.424 35.552 151.424 123.28z m251.28-319.792a24 24 0 0 0-24-24h-132.944V252.304a24 24 0 1 0-48 0v232.368a24 24 0 0 0 24 24h156.944a24 24 0 0 0 24-24zM551.024 65.68c-187.008 0-353.2 125.552-404.112 305.296a28 28 0 1 0 53.872 15.264c44.144-155.76 188.176-264.56 350.24-264.56 200.72 0 364 163.28 364 363.968 0 187.504-140.464 343.2-326.752 362.096a28 28 0 1 0 5.664 55.696c215.008-21.824 377.088-201.472 377.088-417.824 0-231.536-188.4-419.936-420-419.936z'
    }]
  }
});
// CONCATENATED MODULE: ./packages/Icon/src/icons/expand.js

Icon_src_main.register({
  expand: {
    width: 1024,
    height: 1024,
    paths: [{
      d: 'M566.144 512l217.234286 217.234286v-101.046857a38.034286 38.034286 0 1 1 76.050285 0v190.134857l-0.018285 1.353143c0.365714 10.185143-3.346286 20.48-11.117715 28.233142a37.869714 37.869714 0 0 1-23.771428 11.008c-2.011429 0.347429-4.077714 0.512-6.198857 0.512H628.187429a38.034286 38.034286 0 1 1 0-76.068571h101.796571l-217.6-217.6-217.6 217.6h101.028571a38.034286 38.034286 0 1 1 0 76.068571H205.677714l-1.353143-0.018285a37.924571 37.924571 0 0 1-28.233142-11.117715 37.869714 37.869714 0 0 1-11.008-23.771428A38.290286 38.290286 0 0 1 164.571429 818.322286V628.187429a38.034286 38.034286 0 1 1 76.068571 0v101.796571L458.605714 512 240.64 294.034286v101.778285a38.034286 38.034286 0 1 1-76.068571 0V205.677714c0-2.121143 0.182857-4.187429 0.512-6.217143 0.694857-8.649143 4.370286-17.115429 11.008-23.753142a37.924571 37.924571 0 0 1 28.233142-11.117715L205.677714 164.571429h190.134857a38.034286 38.034286 0 1 1 0 76.068571H294.765714l217.6 217.6 217.6-217.6h-101.796571a38.034286 38.034286 0 1 1 0-76.068571h190.134857c2.121143 0 4.187429 0.182857 6.217143 0.512 8.649143 0.694857 17.115429 4.370286 23.753143 11.008 7.771429 7.753143 11.465143 18.048 11.117714 28.233142l0.018286 1.353143v190.134857a38.034286 38.034286 0 1 1-76.068572 0V294.765714L566.162286 512z'
    }]
  }
});
// CONCATENATED MODULE: ./packages/Icon/src/icons/eye.js

Icon_src_main.register({
  eye: {
    width: 1024,
    height: 1024,
    paths: [{
      d: 'M512 832C128 832 0 512 0 512S128 192 512 192s512 320 512 320-128 320-512 320z m0-512c-106.048 0-192 85.952-192 192s85.952 192 192 192 192-85.952 192-192-85.952-192-192-192z m0 320c-70.656 0-128-57.344-128-128h128l-90.496-90.496A127.36 127.36 0 0 1 512 384c70.656 0 128 57.344 128 128s-57.344 128-128 128z'
    }]
  }
});
// CONCATENATED MODULE: ./packages/Icon/src/icons/eye-slash.js

Icon_src_main.register({
  'eye-slash': {
    width: 1280,
    height: 1024,
    paths: [{
      d: 'M639.993288 799.996969c-151.698409 0-274.497121-117.418768-285.797003-266.217207L144.398486 371.641462c-27.579711 34.599637-52.959445 71.179253-73.43923 111.178834a64.699321 64.699321 0 0 0 0 58.379388C179.418118 752.817464 394.135866 895.995963 639.993288 895.995963c53.819436 0 105.738891-7.999916 155.778366-20.919781L691.992742 794.777024a288.256977 288.256977 0 0 1-51.999454 5.219945z m627.633417 116.198782l-221.097681-170.878208a662.493052 662.493052 0 0 0 162.498295-204.137859 64.699321 64.699321 0 0 0 0-58.379388C1100.568457 271.182516 885.850709 128.004017 639.993288 128.004017a616.293536 616.293536 0 0 0-294.63691 75.39921L90.919046 6.745289A31.999664 31.999664 0 0 0 45.999518 12.36523L6.739929 62.9047A31.999664 31.999664 0 0 0 12.35987 107.804229l1176.707659 909.450462a31.999664 31.999664 0 0 0 44.919529-5.619941l39.279588-50.53947a31.999664 31.999664 0 0 0-5.639941-44.899529z m-367.436146-283.997022l-78.599176-60.759362A189.498012 189.498012 0 0 0 831.991274 511.99999a189.518012 189.518012 0 0 0-242.617456-184.418066A95.299 95.299 0 0 1 607.993623 384.001332a93.279022 93.279022 0 0 1-3.079968 19.999791l-147.218455-113.778807A284.617015 284.617015 0 0 1 639.993288 224.003011a287.836981 287.836981 0 0 1 287.996979 287.996979c0 43.259546-10.579889 83.579123-27.799708 120.218739z'
    }]
  }
});
// CONCATENATED MODULE: ./packages/Icon/src/icons/form.js

Icon_src_main.register({
  form: {
    width: 1024,
    height: 1024,
    paths: [{
      d: 'M671.891093 190.746449c-8.147967 0-14.993856-2.556225-20.545657-7.668674a68.602683 68.602683 0 0 1-13.883496-17.869609 92.056045 92.056045 0 0 1-8.323707-20.937079c-1.853263-7.149441-2.779894-13.10864-2.779895-17.877597V0.755041h2.220721c6.662161 0 12.956864 0.678997 18.876122 2.04498 5.927246 1.357994 13.140593 4.593216 21.656017 9.697678 8.515424 5.11245 18.876122 12.261891 31.090084 21.456312 12.22195 9.186433 27.583263 21.280571 46.091929 36.266439 19.986483 16.335874 35.898982 30.123512 47.745486 41.362912 11.846504 11.231413 20.913114 20.769326 27.207817 28.597765 6.286715 7.828438 10.17697 14.474623 11.662776 19.922577 1.477817 5.447954 2.212732 10.208923 2.212732 14.298883v16.343862H671.891093zM1017.237062 671.843932c2.22072 5.447954 3.706526 12.261891 4.441441 20.433822 0.742903 8.171931-2.955635 16.00037-11.103602 23.485315-3.698538 3.410962-7.029618 6.646184-9.985253 9.705666-2.971611 3.06747-5.559789 5.623695-7.780509 7.668674a53.441075 53.441075 0 0 1-7.772521 6.126952l-94.3886-85.801283a354.125004 354.125004 0 0 0 14.993856-12.261891 247.857947 247.857947 0 0 1 13.875507-11.231413c8.882881-7.492934 18.508665-10.728156 28.877352-9.705666 10.360699 1.02249 18.876122 3.235222 25.538284 6.630208 7.405064 3.410962 15.361313 9.370162 23.876737 17.885586 8.507436 8.507436 14.985868 17.534104 19.427308 27.06403zM625.255966 766.839636c16.279957 0 29.971736-4.081971 41.083326-12.253903l-215.433833 206.33527H144.422094c-14.067225 0-29.428538-3.754455-46.091928-11.239401a196.102383 196.102383 0 0 1-46.635126-29.628243 170.731852 170.731852 0 0 1-36.090699-42.385402c-9.617796-16.00037-14.434682-32.511984-14.434682-49.542832V132.520441c0-14.298882 3.514809-29.276762 10.544427-44.941627A147.062808 147.062808 0 0 1 40.599427 45.185423a174.126838 174.126838 0 0 1 41.642499-31.665234C97.77898 5.012753 114.066925 0.755041 131.105761 0.755041h425.2919v127.683429c0 12.940888 2.22072 26.896278 6.662161 41.874157a133.434934 133.434934 0 0 0 20.545657 41.370901c9.258327 12.597395 21.28856 23.149811 36.090699 31.665234 14.802139 8.515424 32.57589 12.765148 53.305275 12.765148h162.120569v338.10067L682.994694 739.264361c8.147967-10.895908 12.213962-22.814306 12.213962-35.755195 0-17.701857-6.84589-32.855477-20.545657-45.452872-13.691779-12.597395-30.163453-18.900087-49.415021-18.900087H208.830971c-19.24358 0-35.531525 6.302692-48.855846 18.900087-13.324322 12.597395-19.986483 27.751015-19.986483 45.452872 0 17.709845 6.662161 32.687725 19.986483 44.941628 13.324322 12.261891 29.612267 18.388842 48.863834 18.388842h416.424996zM208.830971 383.797338c-19.251568 0-35.539513 6.302692-48.863835 18.900087-13.324322 12.597395-19.986483 27.743027-19.986482 45.452873 0 17.701857 6.662161 32.687725 19.986482 44.941627 13.324322 12.253903 29.612267 18.388842 48.863835 18.388842h416.424995c19.24358 0 35.707265-6.13494 49.407033-18.388842 13.699767-12.253903 20.545657-27.23977 20.545657-44.941627 0-17.709845-6.84589-32.855477-20.545657-45.452873-13.691779-12.597395-30.163453-18.900087-49.415021-18.900087H208.830971z m418.637728 511.748216l14.434681-13.284381 27.766992-25.530295a3832.340142 3832.340142 0 0 0 36.641885-34.221459 4000.148311 4000.148311 0 0 1 39.972965-37.280941c31.832987-29.28475 67.739957-61.972475 107.720911-98.063174l93.27824 85.801283-107.72091 99.085664-39.972966 36.769696-36.641884 33.710214a1433.562818 1433.562818 0 0 0-26.097458 24.507805c-7.029618 6.813937-10.919873 10.560404-11.662775 11.239401-3.698538 2.723977-7.772521 5.615706-12.213962 8.683176-4.441441 3.059482-8.882881 5.615706-13.324322 7.660686-4.441441 2.04498-11.28733 4.593216-20.545657 7.660687a667.014907 667.014907 0 0 1-28.318177 8.683176 576.748219 576.748219 0 0 1-27.759004 7.149441c-8.882881 2.04498-15.545042 3.402974-19.986483 4.081971-8.882881 1.357994-14.810127 0.343493-17.765762-3.059481-2.963623-3.402974-3.706526-9.194421-2.22072-17.366352 0.734915-4.081971 2.22072-10.216911 4.44144-18.388842 2.22072-8.171931 4.808898-16.511615 7.772521-25.019051l8.323707-24.004548c2.596166-7.492934 4.633157-12.597395 6.110975-15.321372a81.136173 81.136173 0 0 1 17.765763-23.493304z'
    }]
  }
});
// CONCATENATED MODULE: ./packages/Icon/src/icons/file.js

Icon_src_main.register({
  file: {
    width: 1024,
    height: 1024,
    paths: [{
      d: 'M767.54821 127.981836H257.905908c-36.452213 0-66.00325 29.551036-66.00325 66.00325v637.563764c0 36.452213 29.551036 66.00325 66.00325 66.00325h509.642302c36.452213 0 66.00325-29.551036 66.00325-66.00325V193.985086c0-36.453237-29.550013-66.00325-66.00325-66.00325z m0 670.309562c0 18.367323-14.890128 33.257451-33.257451 33.257452H289.12084c-18.367323 0-33.257451-14.890128-33.257451-33.257452V225.200018c0-18.367323 14.890128-33.257451 33.257451-33.257451h445.169919c18.367323 0 33.257451 14.890128 33.257451 33.257451v573.09138z'
    }, {
      d: 'M575.667042 351.84337c0 17.662265-14.3181 31.980365-31.980366 31.980366H351.804485c-17.662265 0-31.980365-14.3181-31.980366-31.980366 0-17.662265 14.3181-31.980365 31.980366-31.980365H543.686676c17.662265 0 31.980365 14.3181 31.980366 31.980365zM703.58748 479.764831c0 17.662265-14.3181 31.980365-31.980366 31.980366h-319.803653c-17.662265 0-31.980365-14.3181-31.980365-31.980366 0-17.662265 14.3181-31.980365 31.980365-31.980365h319.803653c17.662265 0 31.980365 14.3181 31.980366 31.980365zM703.58748 607.686293c0 17.662265-14.3181 31.980365-31.980366 31.980365h-319.803653c-17.662265 0-31.980365-14.3181-31.980365-31.980365 0-17.662265 14.3181-31.980365 31.980365-31.980366h319.803653c17.662265 0 31.980365 14.3181 31.980366 31.980366z'
    }]
  }
});
// CONCATENATED MODULE: ./packages/Icon/src/icons/ganged.js

Icon_src_main.register({
  ganged: {
    width: 1024,
    height: 1024,
    paths: [{
      d: 'M0 64v832h384v-64H64V384h832v320h64V64H0z m896 256H64V128h832v192z m-384 576h128v64H448v-192h192v64H512v64z m256-128h192v192h-192v-64h128v-64h-128v-64z m0 64v64h-128v-64h128z'
    }]
  }
});
// CONCATENATED MODULE: ./packages/Icon/src/icons/gift.js

Icon_src_main.register({
  gift: {
    width: 1024,
    height: 1024,
    paths: [{
      d: 'M542.406557 219.415192c-16.780225 11.007614-44.239661 11.006398-61.01867-0.003649l-143.060058-93.868795c-16.779009-11.010046-37.82727-5.318928-46.773236 12.645985l-34.149145 68.578042c-8.945967 17.964912 0.155688 32.66403 20.224818 32.66403l471.836197 0c20.06913 0 28.888601-14.554376 19.597202-32.34414l-36.148761-69.216605c-9.290183-17.789764-30.621844-23.337358-47.402069-12.329744L542.406557 219.415192zM835.39518 852.000257c0-9.483576 0-416.51716 0-425.61395s-5.906406-15.877723-15.495801-15.877723c-9.589395 0-282.721743 0-282.721743 0l0 474.018259c0 0 256.391044 0 265.689741 0C825.311962 884.528059 835.39518 865.770112 835.39518 852.000257zM223.817021 884.528059c8.444847 0 259.784551 0 259.784551 0L483.601573 410.509801c0 0-268.458065 0-278.600881 0s-15.487287 8.038599-15.487287 15.877723-0.008514 417.103422-0.008514 425.61395C189.50489 874.716079 208.366224 884.528059 223.817021 884.528059zM125.346922 274.402176c0 8.820687 0 94.046377 0 102.767326 0 8.720949 6.740795 15.876506 15.494585 15.876506s342.760066 0 342.760066 0L483.601573 258.52567c0 0-332.924976 0-342.760066 0S125.346922 265.582706 125.346922 274.402176zM882.335051 258.52567c-12.391776 0-345.157415 0-345.157415 0l0 134.520339c0 0 338.532169 0 346.491708 0 7.959539 0 15.488503-7.044873 15.488503-15.876506s0-96.680906 0-102.767326S894.726827 258.52567 882.335051 258.52567z'
    }]
  }
});
// CONCATENATED MODULE: ./packages/Icon/src/icons/home.js

Icon_src_main.register({
  home: {
    width: 1024,
    height: 1024,
    paths: [{
      d: 'M63.3 959.2v-63.1h897v63.1h-897z m112.2-96.1V545.7l336.4-336.4 336.4 336.4v317.4H624V622.8H399.7v240.3H175.5z m336.3-723.9L98.4 552.7l-35-42L511.8 62.1 659 209.3V97.2h154.2v266.3l147.2 147.2-35 42-413.6-413.5z'
    }]
  }
});
// CONCATENATED MODULE: ./packages/Icon/src/icons/hotent.js

Icon_src_main.register({
  hotent: {
    width: 1024,
    height: 1024,
    paths: [{
      d: 'M825.344 316.928l9.728-3.072c58.368-29.184 118.272-29.696 127.488-29.696-325.632-5.632-615.936 143.872-713.216 199.68V73.216H10.24v865.28h243.712C253.952 363.52 1013.76 302.592 1013.76 302.592c-67.072 3.072-130.048 7.68-188.416 14.336z m-46.08-61.44v-179.2h-249.856v229.888c54.784-18.944 197.12-52.224 249.856-50.688z m-243.712 683.008h243.712V391.68c-76.288 16.896-199.168 81.92-243.712 117.76v429.056zM962.56 283.648h0z'
    }, {
      d: 'M825.344 329.216l9.728-3.072c58.368-29.184 118.272-29.696 127.488-29.696-325.632-5.632-615.936 143.872-713.216 199.68V85.504H10.24v865.28h243.712C253.952 375.296 1013.76 314.88 1013.76 314.88c-67.072 3.072-130.048 7.68-188.416 14.336z m-46.08-61.44v-179.2h-249.856v229.888c54.784-18.944 197.12-52.224 249.856-50.688z m-243.712 683.008h243.712V403.968c-76.288 16.896-199.168 81.92-243.712 117.76v429.056zM962.56 295.936h0z'
    }, {
      d: 'M825.344 329.216l9.728-3.072c58.368-29.184 118.272-29.696 127.488-29.696-325.632-5.632-615.936 143.872-713.216 199.68V85.504H10.24v865.28h243.712C253.952 375.296 1013.76 314.88 1013.76 314.88c-67.072 3.072-130.048 7.68-188.416 14.336z m-46.08-61.44v-179.2h-249.856v229.888c54.784-18.944 197.12-52.224 249.856-50.688z m-243.712 683.008h243.712V403.968c-76.288 16.896-199.168 81.92-243.712 117.76v429.056zM962.56 295.936h0z'
    }, {
      d: 'M746.496 296.96s124.416-17.408 186.88-13.824c0 0-143.872 7.168-256 50.176l69.12-36.352z'
    }]
  }
});
// CONCATENATED MODULE: ./packages/Icon/src/icons/image.js

Icon_src_main.register({
  image: {
    width: 1024,
    height: 1024,
    paths: [{
      d: 'M950.857143 73.142857v877.714286H73.142857V73.142857h877.714286m73.142857-73.142857H0v1024h1024V0zM73.142857 950.857143l292.571429-292.571429 146.285714 146.285715 292.571429-292.571429 146.285714 146.285714v292.571429H73.142857z m512-731.428572c-80.788571 0-146.285714 65.497143-146.285714 146.285715s65.497143 146.285714 146.285714 146.285714 146.285714-65.497143 146.285714-146.285714-65.497143-146.285714-146.285714-146.285715z'
    }]
  }
});
// CONCATENATED MODULE: ./packages/Icon/src/icons/info.js

Icon_src_main.register({
  info: {
    width: 1024,
    height: 1024,
    paths: [{
      d: 'M448 304.00512c0-26.39872 21.6064-48.00512 48.00512-48.00512l32.01024 0c26.39872 0 48.00512 21.6064 48.00512 48.00512l0 32.01024c0 26.39872-21.6064 48.00512-48.00512 48.00512l-32.01024 0c-26.39872 0-48.00512-21.6064-48.00512-48.00512l0-32.01024z'
    }, {
      d: 'M640 768l-256 0 0-64 64 0 0-192-64 0 0-64 192 0 0 256 64 0z'
    }, {
      d: 'M512 0c-282.76736 0-512 229.23264-512 512s229.23264 512 512 512 512-229.23264 512-512-229.23264-512-512-512zM512 928.01024c-229.74464 0-416.01024-186.24512-416.01024-416.01024s186.24512-416.01024 416.01024-416.01024 416.01024 186.24512 416.01024 416.01024-186.24512 416.01024-416.01024 416.01024z'
    }]
  }
});
// CONCATENATED MODULE: ./packages/Icon/src/icons/laptop.js

Icon_src_main.register({
  laptop: {
    width: 640,
    height: 512,
    paths: [{
      d: 'M255.03 261.65c6.25 6.25 16.38 6.25 22.63 0l11.31-11.31c6.25-6.25 6.25-16.38 0-22.63L253.25 192l35.71-35.72c6.25-6.25 6.25-16.38 0-22.63l-11.31-11.31c-6.25-6.25-16.38-6.25-22.63 0l-58.34 58.34c-6.25 6.25-6.25 16.38 0 22.63l58.35 58.34zm96.01-11.3l11.31 11.31c6.25 6.25 16.38 6.25 22.63 0l58.34-58.34c6.25-6.25 6.25-16.38 0-22.63l-58.34-58.34c-6.25-6.25-16.38-6.25-22.63 0l-11.31 11.31c-6.25 6.25-6.25 16.38 0 22.63L386.75 192l-35.71 35.72c-6.25 6.25-6.25 16.38 0 22.63zM624 416H381.54c-.74 19.81-14.71 32-32.74 32H288c-18.69 0-33.02-17.47-32.77-32H16c-8.8 0-16 7.2-16 16v16c0 35.2 28.8 64 64 64h512c35.2 0 64-28.8 64-64v-16c0-8.8-7.2-16-16-16zM576 48c0-26.4-21.6-48-48-48H112C85.6 0 64 21.6 64 48v336h512V48zm-64 272H128V64h384v256z'
    }]
  }
});
// CONCATENATED MODULE: ./packages/Icon/src/icons/line.js

Icon_src_main.register({
  line: {
    width: 1024,
    height: 1024,
    paths: [{
      d: 'M211.976241 0m37.745057 0l920.375475 0q37.745057 0 37.745058 37.745057l0 11.097047q0 37.745057-37.745058 37.745057l-920.375475 0q-37.745057 0-37.745057-37.745057l0-11.097047q0-37.745057 37.745057-37.745057Z'
    }, {
      d: 'M0 0m37.745057 0l54.428373 0q37.745057 0 37.745057 37.745057l0 11.097047q0 37.745057-37.745057 37.745057l-54.428373 0q-37.745057 0-37.745057-37.745057l0-11.097047q0-37.745057 37.745057-37.745057Z'
    }, {
      d: 'M211.976241 409.609361m37.745057 0l920.375475 0q37.745057 0 37.745058 37.745057l0 11.097047q0 37.745057-37.745058 37.745057l-920.375475 0q-37.745057 0-37.745057-37.745057l0-11.097047q0-37.745057 37.745057-37.745057Z'
    }, {
      d: 'M0 409.609361m37.745057 0l54.428373 0q37.745057 0 37.745057 37.745057l0 11.097047q0 37.745057-37.745057 37.745057l-54.428373 0q-37.745057 0-37.745057-37.745057l0-11.097047q0-37.745057 37.745057-37.745057Z'
    }, {
      d: 'M211.976241 819.294212m37.745057 0l920.375475 0q37.745057 0 37.745058 37.745057l0 11.097047q0 37.745057-37.745058 37.745057l-920.375475 0q-37.745057 0-37.745057-37.745057l0-11.097047q0-37.745057 37.745057-37.745057Z'
    }, {
      d: 'M0 819.294212m37.745057 0l54.428373 0q37.745057 0 37.745057 37.745057l0 11.097047q0 37.745057-37.745057 37.745057l-54.428373 0q-37.745057 0-37.745057-37.745057l0-11.097047q0-37.745057 37.745057-37.745057Z'
    }]
  }
});
// CONCATENATED MODULE: ./packages/Icon/src/icons/lock.js

Icon_src_main.register({
  lock: {
    width: 1024,
    height: 1024,
    paths: [{
      d: 'M818.247 412.327h-45.989v-70.992c0-152.308-123.463-275.779-275.778-275.779S220.698 189.027 220.698 341.335v70.992h-45.987c-25.379 0-45.988 20.566-45.988 45.987v455.407c0 25.428 20.56 45.989 45.988 45.989h643.536c25.377 0 45.988-20.56 45.988-45.989V458.314c-0.045-25.42-20.611-45.987-45.988-45.987z m-137.915 0H312.625v-70.992c0-101.554 82.345-183.853 183.855-183.853 101.51 0 183.853 82.343 183.853 183.853v70.992h-0.001z m0 0'
    }]
  }
});
// CONCATENATED MODULE: ./packages/Icon/src/icons/map.js

Icon_src_main.register({
  map: {
    width: 1024,
    height: 1024,
    paths: [{
      d: 'M512 74.667c-194.133 0-352 160-352 354.133 0 264.533 320 484.267 334.933 492.8 6.4 4.267 10.667 6.4 17.067 6.4s12.8-2.133 17.067-6.4C541.867 913.067 864 693.333 864 428.8c0-194.133-157.867-354.133-352-354.133z m0 782.933c-66.133-49.067-288-228.267-288-426.667 0-160 130.133-290.133 288-290.133s288 130.133 288 290.133c0 196.267-221.867 377.6-288 426.667z'
    }, {
      d: 'M512 309.333c-76.8 0-138.667 61.867-138.667 138.667S435.2 586.667 512 586.667 650.667 524.8 650.667 448 588.8 309.333 512 309.333z m0 213.334c-40.533 0-74.667-34.134-74.667-74.667s34.134-74.667 74.667-74.667 74.667 34.134 74.667 74.667-34.134 74.667-74.667 74.667z'
    }]
  }
});
// CONCATENATED MODULE: ./packages/Icon/src/icons/move.js

Icon_src_main.register({
  move: {
    width: 1024,
    height: 1024,
    paths: [{
      d: 'M950.741 534.513l-128.07 128.07c-6.004 6.003-14.008 9.505-22.513 9.505-17.51 0-32.018-14.508-32.018-32.018l0-64.035L576.035 576.035l0 192.105 64.035 0c17.51 0 32.018 14.508 32.018 32.018 0 8.505-3.502 16.509-9.505 22.513l-128.07 128.07c-6.004 6.003-14.008 9.505-22.513 9.505s-16.509-3.502-22.512-9.505l-128.07-128.07c-6.003-6.004-9.505-14.008-9.505-22.513 0-17.51 14.508-32.018 32.018-32.018l64.035 0L447.966 576.035 255.859 576.035l0 64.035c0 17.51-14.508 32.018-32.018 32.018-8.505 0-16.509-3.502-22.512-9.505l-128.07-128.07c-6.003-6.004-9.505-14.008-9.505-22.513s3.502-16.509 9.505-22.512l128.07-128.07c6.003-6.003 14.007-9.505 22.512-9.505 17.51 0 32.018 14.508 32.018 32.018l0 64.035 192.105 0L447.964 255.859 383.93 255.859c-17.51 0-32.018-14.508-32.018-32.018 0-8.505 3.502-16.509 9.505-22.512l128.07-128.07c6.003-6.003 14.007-9.505 22.512-9.505s16.509 3.502 22.513 9.505l128.07 128.07c6.003 6.003 9.505 14.007 9.505 22.512 0 17.51-14.508 32.018-32.018 32.018l-64.035 0 0 192.105 192.105 0L768.139 383.93c0-17.51 14.508-32.018 32.018-32.018 8.505 0 16.509 3.502 22.513 9.505l128.07 128.07c6.003 6.003 9.505 14.007 9.505 22.512S956.744 528.509 950.741 534.513z'
    }]
  }
});
// CONCATENATED MODULE: ./packages/Icon/src/icons/more.js

Icon_src_main.register({
  more: {
    width: 1024,
    height: 1024,
    paths: [{
      d: 'M407.4 169.8a104.6 104.8 0 1 0 209.2 0 104.6 104.8 0 1 0-209.2 0Z'
    }, {
      d: 'M403 849.9a109 109.1 0 1 0 218 0 109 109.1 0 1 0-218 0Z'
    }, {
      d: 'M403 509.8a109 109.1 0 1 0 218 0 109 109.1 0 1 0-218 0Z'
    }]
  }
});
// CONCATENATED MODULE: ./packages/Icon/src/icons/question.js

Icon_src_main.register({
  question: {
    width: 1024,
    height: 1024,
    paths: [{
      d: 'M512 56.888889C261.688889 56.888889 56.888889 261.688889 56.888889 512s204.8 455.111111 455.111111 455.111111 455.111111-204.8 455.111111-455.111111-204.8-455.111111-455.111111-455.111111m0 853.333333c-221.866667 0-398.222222-176.355556-398.222222-398.222222s176.355556-398.222222 398.222222-398.222222 398.222222 176.355556 398.222222 398.222222-176.355556 398.222222-398.222222 398.222222'
    }, {
      d: 'M506.311111 682.666667c-17.066667 0-28.444444 5.688889-39.822222 17.066666-11.377778 11.377778-17.066667 22.755556-17.066667 39.822223 0 17.066667 5.688889 28.444444 17.066667 39.822222 11.377778 11.377778 22.755556 17.066667 39.822222 17.066666 17.066667 0 28.444444-5.688889 39.822222-17.066666 11.377778-11.377778 17.066667-22.755556 17.066667-39.822222 0-17.066667-5.688889-28.444444-17.066667-39.822223-11.377778-11.377778-22.755556-17.066667-39.822222-17.066666z m17.066667-466.488889c-56.888889 0-102.4 17.066667-136.533334 51.2-39.822222 34.133333-56.888889 79.644444-56.888888 136.533333h85.333333c0-34.133333 5.688889-62.577778 22.755555-79.644444 17.066667-22.755556 39.822222-34.133333 79.644445-34.133334 28.444444 0 51.2 5.688889 68.266667 22.755556 17.066667 17.066667 22.755556 39.822222 22.755555 62.577778 0 22.755556-5.688889 39.822222-22.755555 56.888889l-17.066667 17.066666c-45.511111 45.511111-79.644444 79.644444-91.022222 102.4-11.377778 17.066667-11.377778 45.511111-11.377778 73.955556v11.377778h85.333333V625.777778c0-17.066667 5.688889-34.133333 11.377778-51.2 5.688889-17.066667 17.066667-28.444444 34.133333-39.822222 39.822222-34.133333 62.577778-51.2 68.266667-62.577778 22.755556-22.755556 28.444444-56.888889 28.444444-96.711111 0-45.511111-17.066667-85.333333-45.511111-113.777778-34.133333-34.133333-73.955556-45.511111-125.155555-45.511111z'
    }]
  }
});
// CONCATENATED MODULE: ./packages/Icon/src/icons/search.js

Icon_src_main.register({
  search: {
    width: 1024,
    height: 1024,
    paths: [{
      d: 'M994.112 858.368L769.152 633.408C808.32 569.984 832 496 832 416 832 186.24 645.76 0 416 0S0 186.24 0 416 186.24 832 416 832c80 0 153.984-23.68 217.344-62.784l225.024 224.96a96.021333 96.021333 0 0 0 135.744-135.808zM416 704C256.96 704 128 575.04 128 416S256.96 128 416 128 704 256.96 704 416 575.04 704 416 704z'
    }]
  }
});
// CONCATENATED MODULE: ./packages/Icon/src/icons/setting.js

Icon_src_main.register({
  setting: {
    width: 1024,
    height: 1024,
    paths: [{
      d: 'M482.88 112l-17.28 90.688-20.64 4.512a309.696 309.696 0 0 0-99.776 41.088l-18.688 11.84-73.28-55.04-44.64 44.64 51.904 76.416-11.392 17.76a310.016 310.016 0 0 0-41.568 99.584l-4.8 21.6-90.72 12.896v63.104l90.688 17.312 4.512 20.64a309.984 309.984 0 0 0 41.088 99.776l11.84 18.688-55.04 73.28 44.64 44.64 76.416-51.904 17.76 11.392a310.016 310.016 0 0 0 99.584 41.568l21.6 4.8 12.896 90.72h63.104l17.312-90.688 20.64-4.512a309.984 309.984 0 0 0 99.776-41.088l18.688-11.84 73.28 55.04 44.64-44.64-51.904-76.416 11.392-17.76a310.016 310.016 0 0 0 41.568-99.584l4.8-21.6 90.72-12.896V482.88l-90.688-17.312-4.512-20.64a309.984 309.984 0 0 0-41.088-99.776l-11.84-18.688 55.04-73.28-44.64-44.64-76.416 51.904-17.76-11.392a310.144 310.144 0 0 0-99.584-41.568l-21.6-4.8-12.896-90.72H482.88zM410.56 149.856l19.424-101.856h171.584l14.624 102.624c28 8.064 54.848 19.328 80.128 33.568l85.792-58.304 121.344 121.344-62.272 82.88c14.08 25.408 25.152 52.352 32.96 80.416l101.888 19.424v171.584l-102.624 14.624a373.92 373.92 0 0 1-33.568 80.128l58.304 85.792-121.344 121.344-82.88-62.272c-25.408 14.08-52.352 25.152-80.416 32.96l-19.424 101.888h-171.584l-14.624-102.624a373.92 373.92 0 0 1-80.128-33.568L241.92 898.112l-121.344-121.344 62.272-82.88a373.824 373.824 0 0 1-32.96-80.416L48 594.048v-171.584l102.624-14.624c8.064-27.968 19.328-54.848 33.568-80.128L125.888 241.92l121.344-121.344 82.88 62.272a373.856 373.856 0 0 1 80.416-32.96z'
    }, {
      d: 'M512 704a192 192 0 1 1 0-384 192 192 0 0 1 0 384z m0-64a128 128 0 1 0 0-256 128 128 0 0 0 0 256z'
    }]
  }
});
// CONCATENATED MODULE: ./packages/Icon/src/icons/select.js

Icon_src_main.register({
  select: {
    width: 1024,
    height: 1024,
    paths: [{
      d: 'M746.057 380.343L512 636.343l-234.057-256c-14.629-14.629-36.572-14.629-51.2 0-7.314 14.628-7.314 36.571 0 51.2l256 285.257c14.628 7.314 21.943 14.629 29.257 14.629s14.629-7.315 21.943-14.629l256-285.257c14.628-14.629 14.628-36.572 0-51.2-7.314-21.943-29.257-21.943-43.886 0z'
    }]
  }
});
// CONCATENATED MODULE: ./packages/Icon/src/icons/simple-collapse.js

Icon_src_main.register({
  'simple-collapse': {
    width: 1024,
    height: 1024,
    paths: [{
      d: 'M673.27288192 266.985728l120.4912255-120.4912255 79.15346663 79.43152329-120.49122551 120.76928145 130.22320894 131.28909284h-334.13143595V141.21142578z'
    }, {
      d: 'M350.35639903 758.58992646L232.59939744 876.39327083 153.26055971 797.10077587l117.38625936-117.29357309-129.48172448-128.27681224h334.17777871V882.78857422'
    }]
  }
});
// CONCATENATED MODULE: ./packages/Icon/src/icons/simple-expand.js

Icon_src_main.register({
  'simple-expand': {
    width: 1024,
    height: 1024,
    paths: [{
      d: 'M725.93176517 390.53363553l-129.11387882 129.11387881L512 434.53167298l129.11387882-129.41183383L501.4225935 164.33605239H859.61428833v360.82363128l-133.68252317-134.62604815zM298.4655084 637.58807665l126.18398667-126.23364595 85.01652347 84.96686353-125.78671309 125.6873952 138.59878248 137.40696246H164.38571167V504.50146349z'
    }]
  }
});
// CONCATENATED MODULE: ./packages/Icon/src/icons/sort.js

Icon_src_main.register({
  sort: {
    width: 1024,
    height: 1024,
    paths: [{
      d: 'M375 898c-19.8 0-36-16.2-36-36V162c0-19.8 16.2-36 36-36s36 16.2 36 36v700c0 19.8-16.2 36-36 36z'
    }, {
      d: 'M398.2 889.6c-15.2 12.7-38 10.7-50.7-4.4L136.6 633.9c-12.7-15.2-10.7-38 4.4-50.7 15.2-12.7 38-10.7 50.7 4.4l210.8 251.3c12.8 15.2 10.8 38-4.3 50.7zM649 126c19.8 0 36 16.2 36 36v700c0 19.8-16.2 36-36 36s-36-16.2-36-36V162c0-19.8 16.2-36 36-36z'
    }, {
      d: 'M625.8 134.4c15.2-12.7 38-10.7 50.7 4.4l210.8 251.3c12.7 15.2 10.7 38-4.4 50.7-15.2 12.7-38 10.7-50.7-4.4L621.4 185.1c-12.7-15.2-10.7-38 4.4-50.7z'
    }]
  }
});
// CONCATENATED MODULE: ./packages/Icon/src/icons/radio.js

Icon_src_main.register({
  radio: {
    width: 1024,
    height: 1024,
    paths: [{
      d: 'M529.5778503417969 107.70285034179688C306.30050659179693 107.70285034179688 125.28152465820312 288.72265625 125.28152465820312 512s181.01898193359375 404.29714965820307 404.2963256835937 404.29714965820307S933.875 735.2773437499999 933.875 512 752.8560180664062 107.70285034179688 529.5778503417969 107.70285034179688z m0 773.4377746582031c-203.87109375 0-369.140625-165.26953125-369.140625-369.140625s165.26953125-369.140625 369.140625-369.140625 369.140625 165.26953125 369.140625 369.140625-165.26953125 369.140625-369.140625 369.140625z m0-570.1986694335938c-111.02316284179689 0-201.05804443359372 89.75308227539064-201.05804443359372 200.49526977539062 0 110.7421875 89.99945068359375 200.49609375 201.05804443359372 200.49609375s201.05886840820312-89.75390625000001 201.05886840820312-200.49609375c0-110.70675659179688-90.03570556640625-200.49609375-201.05804443359372-200.49609375z'
    }]
  }
});
// CONCATENATED MODULE: ./packages/Icon/src/icons/table.js

Icon_src_main.register({
  table: {
    width: 1024,
    height: 1024,
    paths: [{
      d: 'M329.142857 786.285714v-109.714285q0-8-5.142857-13.142858t-13.142857-5.142857H128q-8 0-13.142857 5.142857t-5.142857 13.142858v109.714285q0 8 5.142857 13.142857t13.142857 5.142858h182.857143q8 0 13.142857-5.142858t5.142857-13.142857z m0-219.428571V457.142857q0-8-5.142857-13.142857t-13.142857-5.142857H128q-8 0-13.142857 5.142857t-5.142857 13.142857v109.714286q0 8 5.142857 13.142857t13.142857 5.142857h182.857143q8 0 13.142857-5.142857t5.142857-13.142857z m292.571429 219.428571v-109.714285q0-8-5.142857-13.142858t-13.142858-5.142857H420.571429q-8 0-13.142858 5.142857t-5.142857 13.142858v109.714285q0 8 5.142857 13.142857t13.142858 5.142858h182.857142q8 0 13.142858-5.142858t5.142857-13.142857zM329.142857 347.428571V237.714286q0-8-5.142857-13.142857t-13.142857-5.142858H128q-8 0-13.142857 5.142858t-5.142857 13.142857v109.714285q0 8 5.142857 13.142858t13.142857 5.142857h182.857143q8 0 13.142857-5.142857t5.142857-13.142858z m292.571429 219.428572V457.142857q0-8-5.142857-13.142857t-13.142858-5.142857H420.571429q-8 0-13.142858 5.142857t-5.142857 13.142857v109.714286q0 8 5.142857 13.142857t13.142858 5.142857h182.857142q8 0 13.142858-5.142857t5.142857-13.142857z m292.571428 219.428571v-109.714285q0-8-5.142857-13.142858t-13.142857-5.142857h-182.857143q-8 0-13.142857 5.142857t-5.142857 13.142858v109.714285q0 8 5.142857 13.142857t13.142857 5.142858h182.857143q8 0 13.142857-5.142858t5.142857-13.142857z m-292.571428-438.857143V237.714286q0-8-5.142857-13.142857t-13.142858-5.142858H420.571429q-8 0-13.142858 5.142858t-5.142857 13.142857v109.714285q0 8 5.142857 13.142858t13.142858 5.142857h182.857142q8 0 13.142858-5.142857t5.142857-13.142858z m292.571428 219.428572V457.142857q0-8-5.142857-13.142857t-13.142857-5.142857h-182.857143q-8 0-13.142857 5.142857t-5.142857 13.142857v109.714286q0 8 5.142857 13.142857t13.142857 5.142857h182.857143q8 0 13.142857-5.142857t5.142857-13.142857z m0-219.428572V237.714286q0-8-5.142857-13.142857t-13.142857-5.142858h-182.857143q-8 0-13.142857 5.142858t-5.142857 13.142857v109.714285q0 8 5.142857 13.142858t13.142857 5.142857h182.857143q8 0 13.142857-5.142857t5.142857-13.142858z m73.142857-182.857142v621.714285q0 37.714286-26.857142 64.571429t-64.571429 26.857143H128q-37.714286 0-64.571429-26.857143T36.571429 786.285714V164.571429q0-37.714286 26.857142-64.571429t64.571429-26.857143h768q37.714286 0 64.571429 26.857143t26.857142 64.571429z'
    }]
  }
});
// CONCATENATED MODULE: ./packages/Icon/src/icons/tree.js

Icon_src_main.register({
  tree: {
    width: 1122,
    height: 1024,
    paths: [{
      d: 'M487.619048 438.857143 1121.52381 438.857143 1121.52381 633.904762 487.619048 633.904762 487.619048 828.952381 1121.52381 828.952381 1121.52381 1024 463.238095 1024 390.095238 1024 390.095238 195.047619 487.619048 195.047619 487.619048 438.857143ZM0 0 682.666667 0 682.666667 195.047619 0 195.047619 0 0Z'
    }]
  }
});
// CONCATENATED MODULE: ./packages/Icon/src/icons/user.js

Icon_src_main.register({
  user: {
    width: 1024,
    height: 1024,
    paths: [{
      d: 'M512.220125 910.231571c-75.642778 0-151.2836 0.084137-226.932248-0.04109-26.121501-0.043047-51.258798-4.78992-74.232022-17.962201-34.351241-19.689937-53.882688-49.574108-59.836825-88.429595-4.24988-27.729881-2.003627-50.133714 0.027393-77.861638 2.809773-38.307621 9.378304-61.020608 21.675954-97.510486 10.069007-29.880257 24.219621-57.637531 45.645121-81.160579 25.857351-28.393191 58.793921-40.927598 95.788619-43.355821 11.379974-1.037033 20.725014 1.92536 29.960481 7.991027 16.508397 10.845804 32.854391 22.069244 50.127844 31.584514 36.810771 20.271067 76.900915 30.224631 119.28036 29.745248 45.232264-0.508733 88.079352-12.833777 126.594379-36.120068 12.927697-7.81884 25.765387-15.862697 38.111954-24.562037 11.289967-7.955807 23.018227-10.593394 36.804901-8.92827 33.194851 2.837167 59.030678 13.48926 82.688736 35.419581 18.680297 17.318457 31.696044 38.691128 42.40488 61.593911 14.54586 31.099261 22.196427 49.153424 27.724011 82.792439 5.750643 35.020421 7.8658 64.906548 6.93834 100.333955-0.831583 31.801704-9.83225 60.948211-31.819314 84.913465-19.134244 20.846327-43.042754 33.353341-70.753068 38.215658-11.115824 1.944927-22.509494 3.15219-33.779894 3.189367-75.476462 0.285673-150.94901 0.15262-226.419602 0.15262zM314.13697 315.418587c-1.944927-105.521079 88.539169-197.779871 198.319912-197.707474 108.835672 0.072397 198.760161 91.554392 198.173161 199.302158-0.587 106.628552-89.670122 197.408104-198.464705 197.396364-109.084169-0.01174-200.390065-91.861589-198.028368-198.991048z'
    }]
  }
});
// CONCATENATED MODULE: ./packages/Icon/src/icons/users.js

Icon_src_main.register({
  users: {
    width: 1024,
    height: 1024,
    paths: [{
      d: 'M580.12354 408.726915a126.476553 120.580263 90 1 0 241.160525 0 126.476553 120.580263 90 1 0-241.160525 0Z'
    }, {
      d: 'M704.075597 578.663282c77.254501 0.567935 157.520593 47.685046 202.346521 110.017696a252.537643 252.537643 0 0 1 5.858428 8.508791c15.798824 23.989367 27.607778 50.836829 34.983769 78.938864 3.807722 14.508435 19.249413 71.646783 7.39441 83.620489a6.132674 6.132674 0 0 1-1.028422 0.824785c-8.577353 5.571902-39.129182 0.655939-47.38931 0.655939H504.885975c-8.261151 0-38.812981 4.915963-47.38931-0.655939a6.184863 6.184863 0 0 1-1.028422-0.824785c-11.855002-11.973706 3.586688-69.112054 7.39441-83.620489 7.375991-28.102035 19.183921-54.949496 34.983769-78.938864a251.502058 251.502058 0 0 1 5.858428-8.508791c44.825928-62.333674 125.09202-109.449761 202.346521-110.017696'
    }, {
      d: 'M219.775472 313.689399a152.922878 145.793504 90 1 0 291.587008 0 152.922878 145.793504 90 1 0-291.587008 0Z'
    }, {
      d: 'M369.644805 519.15905c0.598634 0.004093 1.199315 0.037862 1.798972 0.047072 0.598634-0.00921 1.199315-0.041956 1.797949-0.047072h-3.596921z'
    }, {
      d: 'M389.725142 793.054117c9.638521-36.721343 25.068955-71.804373 45.714158-103.151311 2.477424-3.76065 5.030573-7.470135 7.655354-11.119245 26.619264-37.015032 62.819744-69.89693 103.850229-94.857415-51.131541-38.633902-114.031103-63.794955-175.500083-64.721047-92.854804 1.397836-189.007725 58.09207-242.859213 132.976594a303.190277 303.190277 0 0 0-7.083326 10.28832c-19.102057 29.004591-33.380248 61.466933-42.298361 95.444793-4.604878 17.542538-23.274076 86.627986-8.939603 101.105722 0.356111 0.360204 0.771573 0.691755 1.242294 0.997724 10.371208 6.736425 47.311539 0.793062 57.299007 0.793062h246.741637c3.105734-26.312272 11.257391-56.628742 14.177907-67.757197z'
    }]
  }
});
// CONCATENATED MODULE: ./packages/Icon/src/icons/upload.js

Icon_src_main.register({
  upload: {
    width: 1024,
    height: 1024,
    paths: [{
      d: 'M892.586667 388.693333A213.333333 213.333333 0 0 0 682.666667 213.333333a202.666667 202.666667 0 0 0-76.373334 14.506667A298.666667 298.666667 0 0 0 85.333333 407.04 170.666667 170.666667 0 0 0 170.666667 725.333333h170.666666a42.666667 42.666667 0 0 0 0-85.333333H170.666667a85.333333 85.333333 0 0 1-28.16-165.546667 42.666667 42.666667 0 0 0 28.16-40.106666A49.066667 49.066667 0 0 0 170.666667 426.666667a213.333333 213.333333 0 0 1 388.693333-121.173334 42.666667 42.666667 0 0 0 57.173333 11.946667A128 128 0 0 1 810.666667 426.666667a42.666667 42.666667 0 0 0 42.666666 42.666666 85.333333 85.333333 0 0 1 0 170.666667h-170.666666a42.666667 42.666667 0 0 0 0 85.333333h170.666666a170.666667 170.666667 0 0 0 39.253334-336.64z'
    }, {
      d: 'M627.626667 524.373333l-85.333334-85.333333a42.666667 42.666667 0 0 0-14.08-8.96 42.666667 42.666667 0 0 0-32.426666 0 42.666667 42.666667 0 0 0-14.08 8.96l-85.333334 85.333333a42.666667 42.666667 0 0 0 60.586667 60.586667l12.373333-12.8V853.333333a42.666667 42.666667 0 0 0 85.333334 0v-281.173333l12.373333 12.8a42.666667 42.666667 0 0 0 60.586667 0 42.666667 42.666667 0 0 0 0-60.586667z'
    }]
  }
});
// CONCATENATED MODULE: ./packages/Icon/src/icons/video.js

Icon_src_main.register({
  video: {
    width: 1024,
    height: 1024,
    paths: [{
      d: 'M896 305.066667a72.533333 72.533333 0 0 0-78.933333 12.8l-91.733334 85.333333V341.333333a128 128 0 0 0-128-128H213.333333a128 128 0 0 0-128 128v341.333334a128 128 0 0 0 128 128h384a128 128 0 0 0 128-128v-61.866667l92.16 85.333333a74.24 74.24 0 0 0 49.493334 19.2 71.68 71.68 0 0 0 29.44-6.4 68.266667 68.266667 0 0 0 42.666666-63.146666V368.213333A68.266667 68.266667 0 0 0 896 305.066667z'
    }]
  }
});
// CONCATENATED MODULE: ./packages/Icon/src/icons/palette.js

Icon_src_main.register({
  palette: {
    width: 1024,
    height: 1024,
    paths: [{
      d: 'M512 128c-213.333333 0-384 170.666667-384 384s170.666667 384 384 384c34.133333 0 64-29.866667 64-64 0-17.066667-4.266667-29.866667-17.066667-42.666667-8.533333-12.8-17.066667-25.6-17.066666-42.666666 0-34.133333 29.866667-64 64-64H682.666667c119.466667 0 213.333333-93.866667 213.333333-213.333334 0-187.733333-170.666667-341.333333-384-341.333333z m-234.666667 384c-34.133333 0-64-29.866667-64-64S243.2 384 277.333333 384 341.333333 413.866667 341.333333 448 311.466667 512 277.333333 512z m128-170.666667C371.2 341.333333 341.333333 311.466667 341.333333 277.333333S371.2 213.333333 405.333333 213.333333s64 29.866667 64 64S439.466667 341.333333 405.333333 341.333333z m213.333334 0c-34.133333 0-64-29.866667-64-64S584.533333 213.333333 618.666667 213.333333s64 29.866667 64 64S652.8 341.333333 618.666667 341.333333z m128 170.666667c-34.133333 0-64-29.866667-64-64S712.533333 384 746.666667 384s64 29.866667 64 64-29.866667 64-64 64z'
    }]
  }
});
// CONCATENATED MODULE: ./packages/Icon/src/icons/plan.js

Icon_src_main.register({
  plan: {
    width: 1024,
    height: 1024,
    paths: [{
      d: 'M832 128H704V64h-64v64H384V64h-64v64H128v832h768V128h-64z m0 768H192V384h640v512z m0-576H192V192h128v64h64v-64h256v64h64v-64h128v128z'
    }, {
      d: 'M320 640h384v64H320zM320 512h256v64H320z'
    }]
  }
});
// CONCATENATED MODULE: ./packages/Icon/src/icons/refresh.js

Icon_src_main.register({
  refresh: {
    width: 1024,
    height: 1024,
    paths: [{
      d: 'M314.23311693 512.00024719h98.8704651l-148.30569727 148.30569727-148.30569726-148.30569727h98.8704651a395.48185884 395.48185884 0 0 1 675.13696826-279.65510942l-69.90141889 69.90141812A296.61139452 296.61139452 0 0 0 314.23311693 512.00024719z m593.22278827 0h-98.87046433l148.30569725-148.30569726 148.30569727 148.30569726h-98.8704651a395.48185884 395.48185884 0 0 1-675.13696827 279.65510942l69.90141812-69.90141812A296.61139452 296.61139452 0 0 0 907.4559052 512.00024719z'
    }]
  }
});
// CONCATENATED MODULE: ./packages/Icon/src/icons/time.js

Icon_src_main.register({
  time: {
    width: 1024,
    height: 1024,
    paths: [{
      d: 'M505.984 975.317333c-259.2 0-469.333333-210.133333-469.333333-469.333333s210.133333-469.333333 469.333333-469.333333 469.333333 210.133333 469.333333 469.333333S765.226667 975.317333 505.984 975.317333zM505.984 124.672c-210.602667 0-381.354667 170.709333-381.354667 381.354667 0 210.602667 170.709333 381.354667 381.354667 381.354667 210.602667 0 381.354667-170.752 381.354667-381.354667C887.338667 295.381333 716.586667 124.672 505.984 124.672zM696.661333 550.016l-88.021333 0-58.666667 0-43.989333 0 0 0c-24.32 0-43.989333-19.712-43.989333-43.989333L461.994667 242.005333c0-24.277333 19.669333-43.989333 43.989333-43.989333 24.277333 0 43.989333 19.712 43.989333 43.989333l0 219.989333 58.666667 0 88.021333 0c24.277333 0 43.989333 19.712 43.989333 43.989333S720.938667 550.016 696.661333 550.016z'
    }]
  }
});
// CONCATENATED MODULE: ./packages/Icon/src/icons/typography.js

Icon_src_main.register({
  typography: {
    width: 1024,
    height: 1024,
    paths: [{
      d: 'M868.3618 0H248.047256a117.578288 117.578288 0 0 0-117.578288 117.578288V356.297843H67.760547a31.35421 31.35421 0 0 0 0 62.70842h62.708421v229.455811H67.760547a31.35421 31.35421 0 0 0 0 62.70842h62.708421v195.251218a117.578288 117.578288 0 0 0 117.578288 117.578288h620.314544a117.578288 117.578288 0 0 0 117.578288-117.578288V117.578288a117.578288 117.578288 0 0 0-117.578288-117.578288z m35.629784 904.640223a35.629784 35.629784 0 0 1-35.629784 35.629784H248.047256a35.629784 35.629784 0 0 1-35.629784-35.629784v-195.251218h53.800974a31.35421 31.35421 0 1 0 0-62.70842H215.267854v-229.455811h50.950592a31.35421 31.35421 0 1 0 0-62.70842H215.267854V117.578288a35.629784 35.629784 0 0 1 35.629785-35.629784h617.464161a35.629784 35.629784 0 0 1 35.629784 35.629784z'
    }, {
      d: 'M787.838488 114.727905a30.997912 30.997912 0 0 0-31.354211 31.354211v730.054279a31.35421 31.35421 0 1 0 62.352123 0V146.082116a30.997912 30.997912 0 0 0-30.997912-31.354211z'
    }]
  }
});
// CONCATENATED MODULE: ./packages/Icon/src/icons/org.js

Icon_src_main.register({
  org: {
    width: 1024,
    height: 1024,
    paths: [{
      d: 'M1080.348083 935.562935a3.51083 3.51083 0 0 1-2.121126 0.95085L270.663017 934.612085v-160.913021a31.524324 31.524324 0 0 1 16.969009-23.844384 1225.937796 1225.937796 0 0 1 387.654097-93.768406 1229.229199 1229.229199 0 0 1 389.190085 94.353544 30.939185 30.939185 0 0 1 15.652448 23.259246zM541.216319 383.631271V240.564967a157.255907 157.255907 0 0 1 314.511815 0v143.066304a157.255907 157.255907 0 0 1-314.511815 0z m558.441327 285.913183a1559.247177 1559.247177 0 0 0-268.505319-83.382202 238.882694 238.882694 0 0 0 114.248245-202.530981V240.564967a247.147772 247.147772 0 0 0-494.14926 0v143.066304a238.297556 238.297556 0 0 0 104.15461 195.875033A1510.753844 1510.753844 0 0 0 252.377446 669.1056a118.56364 118.56364 0 0 0-71.752579 104.374037v172.688929h0.731423A91.281569 91.281569 0 0 0 272.784143 1023.991954h805.442814a95.084967 95.084967 0 0 0 89.672438-63.853212l2.413696-6.802233v-180.003157a117.027652 117.027652 0 0 0-70.655445-103.788898z'
    }, {
      d: 'M373.062212 583.529129c1.462846 0 2.779407 0.438854 4.16911 0.438854a45.201931 45.201931 0 1 0 0-90.330719 96.986667 96.986667 0 0 1-96.913524-97.059809V277.648104A97.059809 97.059809 0 0 1 377.231322 180.661438a45.201931 45.201931 0 1 0 0-90.330719 187.46367 187.46367 0 0 0-187.244243 187.317385v118.929351a185.708255 185.708255 0 0 0 45.275073 120.757909 974.620914 974.620914 0 0 0-180.0763 78.262242A100.93635 100.93635 0 0 0 0.036571 683.734056v129.681267a45.201931 45.201931 0 1 0 90.330719 0v-129.46184a16.091302 16.091302 0 0 1 3.291403-6.582805 41.252247 41.252247 0 0 0 5.046817-2.55998 671.080442 671.080442 0 0 1 267.847039-89.891865 42.495666 42.495666 0 0 0 6.655948-1.389704'
    }]
  }
});
// CONCATENATED MODULE: ./packages/Icon/src/icons/org-tree.js

Icon_src_main.register({
  'org-tree': {
    width: 1024,
    height: 1024,
    paths: [{
      d: 'M477.866667 337.493333h68.266666v285.866667h-68.266666z'
    }, {
      d: 'M512 230.4m-119.466667 0a119.466667 119.466667 0 1 0 238.933334 0 119.466667 119.466667 0 1 0-238.933334 0Z'
    }, {
      d: 'M221.866667 793.6m-119.466667 0a119.466667 119.466667 0 1 0 238.933333 0 119.466667 119.466667 0 1 0-238.933333 0Z'
    }, {
      d: 'M802.133333 793.6m-119.466666 0a119.466667 119.466667 0 1 0 238.933333 0 119.466667 119.466667 0 1 0-238.933333 0Z'
    }, {
      d: 'M512 793.6m-119.466667 0a119.466667 119.466667 0 1 0 238.933334 0 119.466667 119.466667 0 1 0-238.933334 0Z'
    }, {
      d: 'M256 520.533333h512v102.4h68.266667v-119.466666c0-28.16-23.04-51.2-51.2-51.2H238.933333c-28.16 0-51.2 23.04-51.2 51.2v119.466666h68.266667v-102.4z'
    }]
  }
});
// CONCATENATED MODULE: ./packages/Icon/src/icons/export.js

Icon_src_main.register({
  export: {
    width: 1024,
    height: 1024,
    paths: [{
      d: 'M814.59649356 300.00537441L621.75140175 492.85046533l-89.98312763-89.98312764 192.84509091-192.8450918-83.57182997-83.57182997L576.75983838 62.16871836H962.39378164v385.63394326l-64.28169756-64.11297832z'
    }, {
      d: 'M731.02466357 126.45041592z'
    }, {
      d: 'M876.45989463 490.54464776v364.43166943a22.49578213 22.49578213 0 0 1-22.49578213 22.49578213H168.96754883a22.49578213 22.49578213 0 0 1-22.49578213-22.49578213v-686.12135274a22.49578213 22.49578213 0 0 1 22.49578213-22.49578213h363.81303545l-84.35918321-84.35918232h-318.87770976a67.48734638 67.48734638 0 0 0-67.48734639 67.48734638v764.85658888a67.48734638 67.48734638 0 0 0 67.48734639 67.48734638h763.78803926a67.48734638 67.48734638 0 0 0 67.48734638-67.48734638v-319.4401043z'
    }]
  }
});
// CONCATENATED MODULE: ./packages/Icon/src/icons/import.js

Icon_src_main.register({
  import: {
    width: 1024,
    height: 1024,
    paths: [{
      d: 'M877.57402695 512.02812325v343.10355644a22.49859375 22.49859375 0 0 1-22.49859375 22.49859375H168.86832031a22.49859375 22.49859375 0 0 1-22.49859375-22.49859375v-686.20711289a22.49859375 22.49859375 0 0 1 22.49859375-22.49859375H511.97187675v-84.36972657H129.49578125a67.49578125 67.49578125 0 0 0-67.49578125 67.49578125v764.95219102a67.49578125 67.49578125 0 0 0 67.49578125 67.49578125h764.95219102a67.49578125 67.49578125 0 0 0 67.49578125-67.49578125v-382.4760955z'
    }, {
      d: 'M865.48103281 447.68214511H576.20536192V62l64.28973251 64.28973164 77.33891602 77.3389169L865.70601875 62.22498594l89.994375 89.994375-147.8720083 147.8720083 32.11674258 32.11674258 57.8776333 51.40928672 64.28973164 64.28973252z'
    }]
  }
});
// CONCATENATED MODULE: ./packages/Icon/src/icons/download.js

Icon_src_main.register({
  download: {
    width: 1024,
    height: 1024,
    paths: [{
      d: 'M905.75 379.64375h-225V62H343.25v317.64375H118.25l393.75 370.575 393.75-370.575zM118.25 856.1375V962h787.5v-105.8625z'
    }]
  }
});
// CONCATENATED MODULE: ./packages/Icon/src/icons/gaode.js

Icon_src_main.register({
  gaode: {
    width: 1024,
    height: 1024,
    paths: [{
      d: 'M365.7216 0c-88.32 1.6896-176.128 3.9424-264.448 5.632A111.0528 111.0528 0 0 0 0 90.0096V737.28h365.7216z',
      fill: "#CCFF99"
    }, {
      d: 'M546.304 737.0752v286.72c135.0144-1.6896 270.08-3.9424 405.0944-5.632A151.2448 151.2448 0 0 0 1075.2 894.3616v-157.2864z',
      fill: '#66CCFF'
    }, {
      d: 'M123.2384 479.9488c81.6128 68.096 163.2768 135.5776 244.8896 203.6736 17.2544 57.9584 34.5088 116.48 51.7632 174.4384l97.28-88.32q130.2016 77.6192 261.12 155.2896Q861.0816 475.1872 943.2576 25.3952 533.4016 252.3648 123.2384 479.9488z',
      fill: "#0099FF"
    }, {
      d: 'M373.9136 683.5712c16.896 57.9584 33.7408 116.48 50.6368 174.4384 32.0512-29.7984 63.5904-60.2112 95.6416-90.0096l337.5616-624.64q-242.176 270.1824-483.84 540.2112z',
      fill: '0066FF'
    }]
  }
});
// CONCATENATED MODULE: ./packages/Icon/src/icons/word.js

Icon_src_main.register({
  word: {
    width: 1024,
    height: 1024,
    paths: [{
      d: 'M171.677269 1.50935h680.653822a150.424495 150.424495 0 0 1 170.163455 170.163455v680.653822a150.424495 150.424495 0 0 1-170.163455 170.163456H171.677269a150.424495 150.424495 0 0 1-170.163456-170.163456V171.672805a150.424495 150.424495 0 0 1 170.163456-170.163455z'
    }, {
      d: 'M675.417818 728.561074h-76.913882L511.663853 465.828699l-86.840083 262.732375h-77.140767l-125.920957-433.065994h96.425958l72.943401 273.112346 86.15943-273.112346h68.916199l86.216151 273.112346 73.737498-273.112346h96.142352z',
      fill: '#FFFFFF'
    }]
  }
});
// CONCATENATED MODULE: ./packages/Icon/src/icons/excel.js

Icon_src_main.register({
  excel: {
    width: 1024,
    height: 1024,
    paths: [{
      d: 'M1.009209 1.007223h908.431099a100.381636 100.381636 0 0 1 113.553887 113.553887v794.877212a100.381636 100.381636 0 0 1-113.553887 113.553887H114.563096a100.381636 100.381636 0 0 1-113.553887-113.553887V114.56111a100.381636 100.381636 0 0 1 113.553887-113.553887z',
      fill: '#40A454'
    }, {
      d: 'M283.304173 270.697705h110.090494l118.550258 170.330832 125.363492-170.330832h105.378007l-178.109272 232.78547 188.613007 249.818552h-112.248018l-129.053993-184.354736-135.924003 184.354736H270.586137l188.613007-249.818552z',
      fill: '#FFFFFF'
    }]
  }
});
// CONCATENATED MODULE: ./packages/Icon/src/icons/ppt.js

Icon_src_main.register({
  ppt: {
    width: 1024,
    height: 1024,
    paths: [{
      d: 'M1.009209 1.007223h908.431099a100.381636 100.381636 0 0 1 113.553887 113.553887v794.877212a100.381636 100.381636 0 0 1-113.553887 113.553887H114.563096a100.381636 100.381636 0 0 1-113.553887-113.553887V114.56111a100.381636 100.381636 0 0 1 113.553887-113.553887z',
      fill: '#E55555'
    }, {
      d: 'M442.847385 599.322655v168.230085H341.670871v-482.604022h163.460821Q682.332533 284.948718 682.332533 437.565143a147.165838 147.165838 0 0 1-53.483881 118.89092 194.461032 194.461032 0 0 1-133.823256 42.809816z m0-234.602331V520.516258h43.8318q89.253355 0 89.253356-78.806398 0-76.932759-88.344925-76.989536h-44.740231z',
      fill: '#FFFFFF'
    }]
  }
});
// CONCATENATED MODULE: ./packages/Icon/src/icons/down-unfold.js

Icon_src_main.register({
  downUnfold: {
    width: 1024,
    height: 1024,
    paths: [{
      d: 'M493.504 558.144a31.904 31.904 0 0 0 45.28 0l308.352-308.352a31.968 31.968 0 1 0-45.248-45.248l-285.728 285.728-294.176-294.144a31.968 31.968 0 1 0-45.248 45.248l316.768 316.768z'
    }, {
      d: 'M801.888 460.576l-285.728 285.728-294.144-294.144a31.968 31.968 0 1 0-45.248 45.248l316.768 316.768a31.904 31.904 0 0 0 45.28 0l308.352-308.352a32 32 0 1 0-45.28-45.248z'
    }]
  }
});
// CONCATENATED MODULE: ./packages/Icon/src/icons/up-fold.js

Icon_src_main.register({
  upFold: {
    width: 1024,
    height: 1024,
    paths: [{
      d: 'M199.36 572.768a31.904 31.904 0 0 0 22.624-9.376l294.144-294.144 285.728 285.728a31.968 31.968 0 1 0 45.248-45.248l-308.352-308.352a32 32 0 0 0-45.28 0l-316.768 316.768a31.968 31.968 0 0 0 22.656 54.624z'
    }, {
      d: 'M538.784 457.376a32 32 0 0 0-45.28 0l-316.768 316.768a31.968 31.968 0 1 0 45.248 45.248l294.144-294.144 285.728 285.728a31.968 31.968 0 1 0 45.248-45.248l-308.32-308.352z'
    }]
  }
});
// CONCATENATED MODULE: ./packages/Icon/src/icons/post.js

Icon_src_main.register({
  post: {
    width: 1024,
    height: 1024,
    paths: [{
      d: 'M512 512m-512 0a512 512 0 1 0 1024 0 512 512 0 1 0-1024 0Z'
    }, {
      d: 'M557.397333 227.555556a23.495111 23.495111 0 0 1 25.6 19.911111 17.948444 17.948444 0 0 1-1.137777 7.281777L550.115556 338.488889a24.405333 24.405333 0 0 1-23.495112 14.620444h-174.933333a24.803556 24.803556 0 0 1-24.376889-14.677333l-31.630222-83.683556a20.451556 20.451556 0 0 1 16.099556-26.197333 30.293333 30.293333 0 0 1 7.509333-0.995555z m-33.194666 41.813333h-170.296889l15.843555 41.955555h137.955556l16.526222-41.955555z m1.905777 111.786667a24.405333 24.405333 0 0 1 24.547556 16.099555l71.111111 277.105778a18.858667 18.858667 0 0 1-9.358222 20.366222l-158.151111 97.820445a28.444444 28.444444 0 0 1-14.791111 4.039111h-1.024a28.188444 28.188444 0 0 1-14.563556-4.039111l-158.151111-97.820445a18.830222 18.830222 0 0 1-9.358222-20.337778l71.111111-277.162666a24.177778 24.177778 0 0 1 24.149333-16.014223h174.392889z m-17.066666 41.671111H368.924444l-60.956444 243.683555 130.844444 83.114667 130.844445-83.114667-60.728889-243.825778z',
      fill: '#FFFFFF'
    }, {
      d: 'M690.488889 680.988444a21.76 21.76 0 0 1-22.755556-20.650666 19.626667 19.626667 0 0 1 4.551111-12.401778l45.511112-55.239111-119.665778-186.908445a19.911111 19.911111 0 0 1 9.443555-27.989333 24.519111 24.519111 0 0 1 10.552889-2.389333 23.409778 23.409778 0 0 1 19.2 9.585778l127.488 198.798222a19.086222 19.086222 0 0 1-1.393778 22.755555l-54.613333 66.247111a23.637333 23.637333 0 0 1-18.176 8.248889z',
      fill: '#FFFFFF'
    }]
  }
});
// CONCATENATED MODULE: ./packages/Icon/src/icons/org-tree2.js

Icon_src_main.register({
  'org-tree2': {
    width: 1024,
    height: 1024,
    paths: [{
      d: 'M512 512m-512 0a512 512 0 1 0 1024 0 512 512 0 1 0-1024 0Z'
    }, {
      d: 'M488.049778 389.091556h47.957333v200.760888h-47.957333z',
      fill: '#FFFFFF'
    }, {
      d: 'M428.117333 311.466667a83.911111 83.911111 0 1 0 83.911111-83.911111 83.911111 83.911111 0 0 0-83.911111 83.911111z',
      fill: '#FFFFFF'
    }, {
      d: 'M227.584 712.561778a83.911111 83.911111 0 1 0 83.911111-83.911111 83.911111 83.911111 0 0 0-83.911111 83.911111z',
      fill: '#FFFFFF'
    }, {
      d: 'M628.650667 712.561778a83.911111 83.911111 0 1 0 83.911111-83.911111 83.911111 83.911111 0 0 0-83.882667 83.911111z',
      fill: '#FFFFFF'
    }, {
      d: 'M428.117333 712.561778a83.911111 83.911111 0 1 0 83.911111-83.911111 83.911111 83.911111 0 0 0-83.911111 83.911111z',
      fill: '#FFFFFF'
    }, {
      d: 'M334.791111 518.229333h354.503111v71.907556h47.274667v-83.911111a35.811556 35.811556 0 0 0-35.441778-35.953778H322.958222a35.811556 35.811556 0 0 0-35.441778 35.953778v83.911111h47.274667v-71.907556z',
      fill: '#FFFFFF'
    }]
  }
});
// CONCATENATED MODULE: ./packages/Icon/src/icons/role.js

Icon_src_main.register({
  role: {
    width: 1024,
    height: 1024,
    paths: [{
      d: 'M512 512m-512 0a512 512 0 1 0 1024 0 512 512 0 1 0-1024 0Z'
    }, {
      d: 'M368.327111 341.077333a5.233778 5.233778 0 0 0-5.290667 5.205334v31.288889a5.205333 5.205333 0 0 0 5.290667 5.205333h253.610667a5.233778 5.233778 0 0 0 5.290666-5.205333v-31.288889a5.262222 5.262222 0 0 0-5.290666-5.205334h-253.553778z',
      fill: '#FFFFFF'
    }, {
      d: 'M487.395556 441.372444h-121.486223a5.233778 5.233778 0 0 0-5.290666 5.205334v31.288889a5.205333 5.205333 0 0 0 5.290666 5.205333h121.486223a5.233778 5.233778 0 0 0 5.290666-5.205333v-31.288889a5.262222 5.262222 0 0 0-5.233778-5.205334z',
      fill: '#FFFFFF'
    }, {
      d: 'M462.506667 541.696h-97.905778a4.807111 4.807111 0 0 0-4.266667 5.205333v31.288889a4.778667 4.778667 0 0 0 4.266667 5.205334h97.905778a4.807111 4.807111 0 0 0 4.266666-5.205334v-31.288889a4.835556 4.835556 0 0 0-4.209777-5.205333z',
      fill: '#FFFFFF'
    }, {
      d: 'M457.927111 748.117333h-152.803555v-472.177777h382.037333v214.670222a5.489778 5.489778 0 0 0 5.461333 5.376h38.229334a5.376 5.376 0 0 0 5.461333-5.376v-241.493334a21.674667 21.674667 0 0 0-21.873778-21.475555H277.987556a21.646222 21.646222 0 0 0-21.959112 21.333333v526.08a21.674667 21.674667 0 0 0 21.873778 21.475556h180.224a5.688889 5.688889 0 0 0 3.896889-1.564445 5.347556 5.347556 0 0 0 1.564445-3.669333v-37.717333a5.262222 5.262222 0 0 0-1.564445-3.669334 5.432889 5.432889 0 0 0-3.896889-1.564444z',
      fill: '#FFFFFF'
    }, {
      d: 'M701.041778 676.181333a79.644444 79.644444 0 0 0 32.483555-63.431111 89.941333 89.941333 0 0 0-179.2 0 79.644444 79.644444 0 0 0 32.483556 63.402667 113.351111 113.351111 0 0 0-67.015111 101.233778 19.911111 19.911111 0 0 0 20.679111 19.000889h206.876444a19.911111 19.911111 0 0 0 20.679111-19.000889 113.265778 113.265778 0 0 0-66.986666-101.205334z m-57.144889-110.023111a47.872 47.872 0 0 1 48.526222 47.246222 50.090667 50.090667 0 0 1-43.946667 46.336 49.464889 49.464889 0 0 1-53.020444-46.336 47.843556 47.843556 0 0 1 48.412444-47.246222z m-80.128 192.284445l0.426667-1.536a82.005333 82.005333 0 0 1 79.644444-55.466667h2.133333a81.806222 81.806222 0 0 1 77.568 55.438222l0.398223 1.536z',
      fill: '#FFFFFF'
    }]
  }
});
// CONCATENATED MODULE: ./packages/Icon/src/icons/job.js

Icon_src_main.register({
  job: {
    width: 1024,
    height: 1024,
    paths: [{
      d: 'M512 512m-512 0a512 512 0 1 0 1024 0 512 512 0 1 0-1024 0Z'
    }, {
      d: 'M512 480.711111a105.244444 105.244444 0 1 0-109.596444-105.244444A108.088889 108.088889 0 0 0 512 480.711111z m-13.056 100.864a20.821333 20.821333 0 0 1-8.533333-16.924444 21.987556 21.987556 0 0 1 22.186666-21.304889 21.560889 21.560889 0 0 1 22.186667 21.304889 20.821333 20.821333 0 0 1-8.533333 16.924444l29.354666 100.238222a20.309333 20.309333 0 0 1-5.205333 19.911111l-29.354667 28.188445a10.951111 10.951111 0 0 1-15.644444 0l-29.354667-28.188445a18.972444 18.972444 0 0 1-5.233778-19.911111z m-82.204444-90.851555a145.976889 145.976889 0 0 1-58.055112-115.911112 153.429333 153.429333 0 0 1 306.631112 0.625778 147.911111 147.911111 0 0 1-58.055112 115.911111 253.525333 253.525333 0 0 1 189.184 241.777778 64.853333 64.853333 0 0 1-65.877333 63.288889H293.432889a64.853333 64.853333 0 0 1-65.905778-63.288889 254.264889 254.264889 0 0 1 189.212445-242.432z m314.453333 263.139555a21.987556 21.987556 0 0 0 22.186667-21.304889 215.466667 215.466667 0 0 0-219.192889-210.488889h-43.719111a215.466667 215.466667 0 0 0-219.192889 210.488889 21.987556 21.987556 0 0 0 22.186666 21.304889z',
      fill: '#FFFFFF'
    }]
  }
});
// CONCATENATED MODULE: ./packages/Icon/src/icons/demension.js

Icon_src_main.register({
  demension: {
    width: 1024,
    height: 1024,
    paths: [{
      d: 'M512 512m-512 0a512 512 0 1 0 1024 0 512 512 0 1 0-1024 0Z'
    }, {
      d: 'M417.194667 374.129778a19.712 19.712 0 0 1 0 39.395555h-37.944889a19.712 19.712 0 0 1 0-39.395555h37.944889z m0 78.762666a19.712 19.712 0 0 1 0 39.395556h-37.944889a19.712 19.712 0 0 1 0-39.395556h37.944889z m0 78.762667a19.712 19.712 0 0 1 0 39.395556h-37.944889a19.712 19.712 0 0 1 0-39.395556h37.944889z m0 78.762667a19.712 19.712 0 0 1 0 39.395555h-37.944889a19.712 19.712 0 0 1 0-39.395555h37.944889z m113.777777-236.316445a19.712 19.712 0 0 1 0 39.395556h-37.944888a19.712 19.712 0 0 1 0-39.395556h37.916444z m0 78.762667a19.712 19.712 0 0 1 0 39.395556h-37.944888a19.712 19.712 0 0 1 0-39.395556h37.916444z m0 78.762667a19.712 19.712 0 0 1 0 39.395555h-37.944888a19.712 19.712 0 0 1 0-39.395555h37.916444z m0 78.762666a19.712 19.712 0 0 1 0 39.395556h-37.944888a19.712 19.712 0 0 1 0-39.395556h37.916444z m246.528 118.158223a19.712 19.712 0 0 1 0 39.395555H246.528a19.712 19.712 0 0 1 0-39.395555H284.444444V295.367111a38.684444 38.684444 0 0 1 37.916445-39.395555h265.472A38.684444 38.684444 0 0 1 625.777778 295.367111v39.395556h75.861333A38.684444 38.684444 0 0 1 739.555556 374.129778v354.474666h37.916444z m-455.111111 0h265.472V295.367111h-265.500444z m303.416889 0h75.861334v-354.417778H625.777778z',
      fill: '#FFFFFF'
    }]
  }
});
// CONCATENATED MODULE: ./packages/Icon/src/icons/index.js











































































// EXTERNAL MODULE: ./package.json
var package_0 = __webpack_require__("9224");

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"8bdeefa2-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/Collapse/src/HtCollapse.vue?vue&type=template&id=288c7ecc
var HtCollapsevue_type_template_id_288c7ecc_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-collapse',{ref:"collapse",attrs:{"accordion":_vm.accordion,"value":_vm.openDefaultArr},on:{"change":_vm.handleChange}},[_vm._t("default")],2)}
var HtCollapsevue_type_template_id_288c7ecc_staticRenderFns = []


// CONCATENATED MODULE: ./packages/Collapse/src/HtCollapse.vue?vue&type=template&id=288c7ecc

// CONCATENATED MODULE: ./src/mixins/regionValidator.js
function regionQuerySelector(querySelector) {
  const regionInsts = [];
  if (!querySelector) {
    return regionInsts;
  }
  // 找到当前vue实例下指定 选择器 的所有HTMLElement元素，如果该元素是vue实例则放入数组
  this.$el.querySelectorAll(querySelector).forEach(el => {
    el.__vue__ && regionInsts.push(el.__vue__);
  });
  return regionInsts;
}
/* harmony default export */ var regionValidator = ({
  methods: {
    // 区域校验  querySelector:是要校验区域的HTMLElement选择器；scopeName是触发校验的区域，不传时整个表单触发校验。
    validateRegion(querySelector, scopeName) {
      return new Promise((resolve, reject) => {
        const regionInsts = regionQuerySelector.call(this, querySelector);
        if (regionInsts.length == 0) {
          reject(this.$t('ht.regionValidator.errorMsg', {
            querySelector: querySelector
          }));
        }
        const errorItems = [];
        let validatePromise = null;
        if (scopeName) {
          validatePromise = this.$root.$validator.validateAll(scopeName);
        } else {
          validatePromise = this.$root.$validator.validate();
        }
        validatePromise.then(result => {
          if (!result) {
            // 如果触发校验的字段中，有字段处于所指定的预期，则将该字段放入errorItems数组 日期、时间范围时name属性会被截取，此处消除日期范围不校验的bug问题
            this.$validator.errors.items.forEach(item => {
              regionInsts.forEach(itemInst => {
                const itemEl = itemInst.$el;
                if (itemEl.querySelectorAll(`[name='${item.field}']`).length > 0 || itemEl.querySelectorAll(`[name='${item.field.substring(0, 1)}']`).length > 0 || itemEl.querySelectorAll(`[name='${item.field.substring(1, 2)}']`).length > 0) {
                  errorItems.push(item);
                }
              });
            });
          }
          // 拼接提示消息
          const messages = [];
          errorItems.forEach(item => {
            const index = item.field.indexOf('__');
            const fieldLabel = index == 0 ? item.field : item.field.substr(0, index);
            messages.push(`${fieldLabel} ${item.msg}`);
          });
          if (messages.length > 0) {
            this.$notify.error({
              title: this.$t('ht.common.warmTips'),
              dangerouslyUseHTMLString: true,
              message: messages.join('<br/>')
            });
          }
          resolve(errorItems);
        });
      });
    }
  }
});
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/Collapse/src/HtCollapse.vue?vue&type=script&lang=js
//
//
//
//
//
//
//
//
//
//


/* harmony default export */ var HtCollapsevue_type_script_lang_js = ({
  name: 'HtCollapse',
  mixins: [regionValidator],
  props: {
    accordion: {
      type: Boolean,
      default: false
    },
    openDefault: {
      type: Array,
      default: () => {
        return [];
      }
    },
    isVerify: {
      type: Boolean,
      default: false
    }
  },
  data() {
    return {
      openDefaultArr: this.openDefault,
      preActiveNames: []
    };
  },
  watch: {
    openDefaultArr: {
      handler(val) {
        this.$root.$emit('collapse-active-names', val);
      },
      deep: true
    }
  },
  created() {
    this.$root.$on('add-new-collapse-item', result => {
      if (result && !this.openDefaultArr.includes(result)) {
        this.openDefaultArr.push(result);
      }
    });
  },
  mounted() {
    this.preActiveNames = [].concat(this.openDefaultArr);
  },
  methods: {
    handleChange(activeNames) {
      // 收起来时才去判断是否校验
      if (activeNames.length < this.preActiveNames.length) {
        if (this.isVerify) {
          this.validateRegion('.el-collapse-item.is-active').then(errorItems => {
            if (errorItems.length > 0) {
              // 还原将要折叠的面板
              this.openDefaultArr = [].concat(this.preActiveNames);
            } else {
              // 更新当前打开的面板名称数组
              this.preActiveNames = [].concat(activeNames);
              this.openDefaultArr = [].concat(activeNames);
              this.$emit('change', activeNames);
            }
          });
          return;
        }
        this.openDefaultArr = [].concat(activeNames);
      }
      this.preActiveNames = [].concat(activeNames);
      this.openDefaultArr = [].concat(activeNames);
      this.$emit('change', activeNames);
    }
  }
});
// CONCATENATED MODULE: ./packages/Collapse/src/HtCollapse.vue?vue&type=script&lang=js
 /* harmony default export */ var src_HtCollapsevue_type_script_lang_js = (HtCollapsevue_type_script_lang_js); 
// CONCATENATED MODULE: ./packages/Collapse/src/HtCollapse.vue





/* normalize component */

var HtCollapse_component = normalizeComponent(
  src_HtCollapsevue_type_script_lang_js,
  HtCollapsevue_type_template_id_288c7ecc_render,
  HtCollapsevue_type_template_id_288c7ecc_staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* harmony default export */ var HtCollapse = (HtCollapse_component.exports);
// CONCATENATED MODULE: ./packages/Collapse/index.js

HtCollapse.install = function (Vue) {
  Vue.component(HtCollapse.name, HtCollapse);
};
/* harmony default export */ var Collapse = (HtCollapse);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"8bdeefa2-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/Collapse/src/HtCollapseItem.vue?vue&type=template&id=6e5b5bd1
var HtCollapseItemvue_type_template_id_6e5b5bd1_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-collapse-item',{attrs:{"title":_vm.title,"name":_vm.name,"disabled":_vm.disabled}},[_vm._t("title",null,{"slot":"title"}),_vm._t("default")],2)}
var HtCollapseItemvue_type_template_id_6e5b5bd1_staticRenderFns = []


// CONCATENATED MODULE: ./packages/Collapse/src/HtCollapseItem.vue?vue&type=template&id=6e5b5bd1

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/Collapse/src/HtCollapseItem.vue?vue&type=script&lang=js
//
//
//
//
//
//

/* harmony default export */ var HtCollapseItemvue_type_script_lang_js = ({
  name: 'HtCollapseItem',
  props: {
    title: String,
    name: {
      type: [String, Number],
      default() {
        return this._uid;
      }
    },
    disabled: Boolean
  }
});
// CONCATENATED MODULE: ./packages/Collapse/src/HtCollapseItem.vue?vue&type=script&lang=js
 /* harmony default export */ var src_HtCollapseItemvue_type_script_lang_js = (HtCollapseItemvue_type_script_lang_js); 
// CONCATENATED MODULE: ./packages/Collapse/src/HtCollapseItem.vue





/* normalize component */

var HtCollapseItem_component = normalizeComponent(
  src_HtCollapseItemvue_type_script_lang_js,
  HtCollapseItemvue_type_template_id_6e5b5bd1_render,
  HtCollapseItemvue_type_template_id_6e5b5bd1_staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* harmony default export */ var HtCollapseItem = (HtCollapseItem_component.exports);
// CONCATENATED MODULE: ./packages/CollapseItem/index.js

HtCollapseItem.install = function (Vue) {
  Vue.component(HtCollapseItem.name, HtCollapseItem);
};
/* harmony default export */ var CollapseItem = (HtCollapseItem);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"8bdeefa2-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/Steps/src/Step.vue?vue&type=template&id=bd127e32&scoped=true
var Stepvue_type_template_id_bd127e32_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-row',{staticClass:"step-wrap"},[_c('div',{attrs:{"span":1}},[_c('span',{staticStyle:{"font-weight":"bold","font-size":"14px"}},[_vm._v("\n      "+_vm._s(_vm.pageNum + 1)+"/"+_vm._s(_vm.pageSize)+"\n    ")])]),_c('div',{staticClass:"step-item",attrs:{"span":3}},[_c('el-button',{staticClass:"step_change_btn",class:{ hidden: _vm.pageNum == 0 },style:('background-color:' +
          _vm.backButton.color +
          ';border-color:' +
          _vm.backButton.color),attrs:{"type":"success","icon":_vm.backButton.icon},on:{"click":_vm.back}},[_vm._v("\n      "+_vm._s(_vm.backButton.name)+"\n    ")]),_c('el-button',{staticClass:"step_change_btn",class:{ hidden: _vm.pageNum >= _vm.pageSize - 1 },style:('background-color:' +
          _vm.nextButton.color +
          ';border-color:' +
          _vm.nextButton.color),attrs:{"type":"success","icon":_vm.nextButton.icon},on:{"click":_vm.next}},[_vm._v("\n      "+_vm._s(_vm.nextButton.name)+"\n    ")])],1)])}
var Stepvue_type_template_id_bd127e32_scoped_true_staticRenderFns = []


// CONCATENATED MODULE: ./packages/Steps/src/Step.vue?vue&type=template&id=bd127e32&scoped=true

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/Steps/src/Step.vue?vue&type=script&lang=js
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//



/* harmony default export */ var Stepvue_type_script_lang_js = ({
  name: 'HtStep',
  componentName: 'HtStep',
  mixins: [emitter],
  props: {
    pageSize: {
      type: Number,
      require: true
    },
    backButton: {
      type: Object,
      default: () => {
        return {
          name: Object(locale["c" /* t */])('ht.step.pre'),
          color: '#409eff'
        };
      }
    },
    nextButton: {
      type: Object,
      default: () => {
        return {
          name: Object(locale["c" /* t */])('ht.step.next'),
          color: '#67C23A'
        };
      }
    },
    isVerify: {
      type: Boolean,
      default: false
    }
  },
  data() {
    return {
      pageNum: 0
    };
  },
  created() {
    this.$on('validateRegion', (result, step) => {
      result && this.doJump(step);
    });
  },
  methods: {
    verifyBeforeJump(step) {
      this.dispatch('HtSteps', 'beforeJump', step);
    },
    doJump(step) {
      this.pageNum += step;
      this.dispatch('HtSteps', 'pageAlter', this.pageNum);
      this.$emit('updatePageIndex', this.pageNum);
    },
    back() {
      if (!this.isVerify) {
        this.doJump(-1);
      } else {
        this.verifyBeforeJump(-1);
      }
      this.$root.$emit('collapse-active-names', 'success');
    },
    next() {
      if (!this.isVerify) {
        this.doJump(1);
      } else {
        this.verifyBeforeJump(1);
      }
      this.$root.$emit('collapse-active-names', 'success');
    }
  }
});
// CONCATENATED MODULE: ./packages/Steps/src/Step.vue?vue&type=script&lang=js
 /* harmony default export */ var src_Stepvue_type_script_lang_js = (Stepvue_type_script_lang_js); 
// EXTERNAL MODULE: ./packages/Steps/src/Step.vue?vue&type=style&index=0&id=bd127e32&prod&lang=scss&scoped=true
var Stepvue_type_style_index_0_id_bd127e32_prod_lang_scss_scoped_true = __webpack_require__("9745");

// CONCATENATED MODULE: ./packages/Steps/src/Step.vue






/* normalize component */

var Step_component = normalizeComponent(
  src_Stepvue_type_script_lang_js,
  Stepvue_type_template_id_bd127e32_scoped_true_render,
  Stepvue_type_template_id_bd127e32_scoped_true_staticRenderFns,
  false,
  null,
  "bd127e32",
  null
  
)

/* harmony default export */ var Step = (Step_component.exports);
// CONCATENATED MODULE: ./packages/Step/index.js

Step.install = function (Vue) {
  Vue.component(Step.name, Step);
};
/* harmony default export */ var packages_Step = (Step);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"8bdeefa2-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/Steps/src/Steps.vue?vue&type=template&id=71cb81e2&scoped=true
var Stepsvue_type_template_id_71cb81e2_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:"steps__container"},[_c('el-steps',{class:{ 'el-steps__hidden': _vm.hiddenBar },attrs:{"active":_vm.active,"finish-status":"success","align-center":""}},_vm._l((_vm.columns),function(col,colIndex){return _c('el-step',{key:colIndex,attrs:{"title":col.name}})}),1),_vm._t("default")],2)}
var Stepsvue_type_template_id_71cb81e2_scoped_true_staticRenderFns = []


// CONCATENATED MODULE: ./packages/Steps/src/Steps.vue?vue&type=template&id=71cb81e2&scoped=true

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/Steps/src/Steps.vue?vue&type=script&lang=js
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//



/* harmony default export */ var Stepsvue_type_script_lang_js = ({
  name: 'HtSteps',
  componentName: 'HtSteps',
  mixins: [emitter, regionValidator],
  props: {
    columns: Array,
    hiddenBar: {
      type: Boolean,
      default: false
    }
  },
  data() {
    return {
      active: 0
    };
  },
  computed: {
    hasColumns: function () {
      return this.columns.length > 0;
    }
  },
  created() {
    const this_ = this;
    //监听分页组件分页数量改变事件.
    this.$on('pageAlter', content => {
      this_.active = content;
      this.broadcast('HtStepLayout', 'pageAlter', content);
    });
    // 在分页发生跳转前的事件
    this.$on('beforeJump', step => {
      // 做局部表单校验
      this.validateRegion('.step-layout__container.active').then(errors => {
        // 校验结果发送给Step组件
        this.broadcast('HtStep', 'validateRegion', [errors.length == 0, step]);
      });
    });
  }
});
// CONCATENATED MODULE: ./packages/Steps/src/Steps.vue?vue&type=script&lang=js
 /* harmony default export */ var src_Stepsvue_type_script_lang_js = (Stepsvue_type_script_lang_js); 
// EXTERNAL MODULE: ./packages/Steps/src/Steps.vue?vue&type=style&index=0&id=71cb81e2&prod&lang=scss&scoped=true
var Stepsvue_type_style_index_0_id_71cb81e2_prod_lang_scss_scoped_true = __webpack_require__("e486");

// CONCATENATED MODULE: ./packages/Steps/src/Steps.vue






/* normalize component */

var Steps_component = normalizeComponent(
  src_Stepsvue_type_script_lang_js,
  Stepsvue_type_template_id_71cb81e2_scoped_true_render,
  Stepsvue_type_template_id_71cb81e2_scoped_true_staticRenderFns,
  false,
  null,
  "71cb81e2",
  null
  
)

/* harmony default export */ var Steps = (Steps_component.exports);
// CONCATENATED MODULE: ./packages/Steps/index.js

Steps.install = function (Vue) {
  Vue.component(Steps.name, Steps);
};
/* harmony default export */ var packages_Steps = (Steps);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"8bdeefa2-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/Steps/src/StepLayout.vue?vue&type=template&id=b42c85d4&scoped=true
var StepLayoutvue_type_template_id_b42c85d4_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:"step-layout__container",class:{ active: _vm.pageIndex === _vm.showIndex }},[_vm._t("default")],2)}
var StepLayoutvue_type_template_id_b42c85d4_scoped_true_staticRenderFns = []


// CONCATENATED MODULE: ./packages/Steps/src/StepLayout.vue?vue&type=template&id=b42c85d4&scoped=true

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/Steps/src/StepLayout.vue?vue&type=script&lang=js
//
//
//
//
//
//
//
//

/* harmony default export */ var StepLayoutvue_type_script_lang_js = ({
  name: 'HtStepLayout',
  componentName: 'HtStepLayout',
  props: {
    pageIndex: {
      type: Number,
      require: true
    }
  },
  data() {
    return {
      showIndex: 0
    };
  },
  created() {
    const this_ = this;
    //监听分页组件分页数量改变事件.
    this.$on('pageAlter', content => {
      this_.showIndex = content;
    });
  }
});
// CONCATENATED MODULE: ./packages/Steps/src/StepLayout.vue?vue&type=script&lang=js
 /* harmony default export */ var src_StepLayoutvue_type_script_lang_js = (StepLayoutvue_type_script_lang_js); 
// EXTERNAL MODULE: ./packages/Steps/src/StepLayout.vue?vue&type=style&index=0&id=b42c85d4&prod&lang=scss&scoped=true
var StepLayoutvue_type_style_index_0_id_b42c85d4_prod_lang_scss_scoped_true = __webpack_require__("4767");

// CONCATENATED MODULE: ./packages/Steps/src/StepLayout.vue






/* normalize component */

var StepLayout_component = normalizeComponent(
  src_StepLayoutvue_type_script_lang_js,
  StepLayoutvue_type_template_id_b42c85d4_scoped_true_render,
  StepLayoutvue_type_template_id_b42c85d4_scoped_true_staticRenderFns,
  false,
  null,
  "b42c85d4",
  null
  
)

/* harmony default export */ var StepLayout = (StepLayout_component.exports);
// CONCATENATED MODULE: ./packages/StepLayout/index.js

StepLayout.install = function (Vue) {
  Vue.component(StepLayout.name, StepLayout);
};
/* harmony default export */ var packages_StepLayout = (StepLayout);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"8bdeefa2-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/Divider/src/main.vue?vue&type=template&id=32b69eb7
var mainvue_type_template_id_32b69eb7_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:['el-divider', ("el-divider--" + _vm.direction)],style:('background-color:' + _vm.color)},[(_vm.$slots.default && _vm.direction !== 'vertical')?_c('div',{class:['el-divider__text', ("is-" + _vm.contentPosition)]},[_vm._t("default")],2):_vm._e()])}
var mainvue_type_template_id_32b69eb7_staticRenderFns = []


// CONCATENATED MODULE: ./packages/Divider/src/main.vue?vue&type=template&id=32b69eb7

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/Divider/src/main.vue?vue&type=script&lang=js
//
//
//
//
//
//
//
//
//
//
//
//
//

/* harmony default export */ var Divider_src_mainvue_type_script_lang_js = ({
  name: 'HtDivider',
  props: {
    direction: {
      type: String,
      default: 'horizontal',
      validator: function (value) {
        return ['horizontal', 'vertical'].indexOf(value) !== -1;
      }
    },
    contentPosition: {
      type: String,
      default: 'center',
      validator: function (value) {
        return ['left', 'right', 'center'].indexOf(value) !== -1;
      }
    },
    color: {
      type: String,
      default: '#dcdfe6'
    }
  }
});
// CONCATENATED MODULE: ./packages/Divider/src/main.vue?vue&type=script&lang=js
 /* harmony default export */ var packages_Divider_src_mainvue_type_script_lang_js = (Divider_src_mainvue_type_script_lang_js); 
// CONCATENATED MODULE: ./packages/Divider/src/main.vue





/* normalize component */

var Divider_src_main_component = normalizeComponent(
  packages_Divider_src_mainvue_type_script_lang_js,
  mainvue_type_template_id_32b69eb7_render,
  mainvue_type_template_id_32b69eb7_staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* harmony default export */ var Divider_src_main = (Divider_src_main_component.exports);
// CONCATENATED MODULE: ./packages/Divider/index.js

Divider_src_main.install = function (Vue) {
  Vue.component(Divider_src_main.name, Divider_src_main);
};
/* harmony default export */ var Divider = (Divider_src_main);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"8bdeefa2-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/Tabs/src/Tabs.vue?vue&type=template&id=20248516
var Tabsvue_type_template_id_20248516_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-tabs',{ref:"tabs",attrs:{"tab-position":_vm.tabPosition,"before-leave":_vm.beforeLeaveTab,"type":_vm.type,"active-name":_vm.activeName,"closable":_vm.closable,"addable":_vm.addable,"editable":_vm.editable,"stretch":_vm.stretch},on:{"tab-click":_vm.tabClickHandle,"tab-remove":_vm.tabRemoveHandle,"tab-add":_vm.tabAddHandle,"edit":_vm.tabEditHandle},model:{value:(_vm.val),callback:function ($$v) {_vm.val=$$v},expression:"val"}},[_vm._t("default")],2)],1)}
var Tabsvue_type_template_id_20248516_staticRenderFns = []


// CONCATENATED MODULE: ./packages/Tabs/src/Tabs.vue?vue&type=template&id=20248516

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/Tabs/src/Tabs.vue?vue&type=script&lang=js
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//


/* harmony default export */ var Tabsvue_type_script_lang_js = ({
  name: 'HtTabs',
  mixins: [regionValidator],
  props: {
    tabsValue: String,
    type: String,
    activeName: String,
    beforeLeave: Function,
    closable: {
      type: Boolean,
      default: false
    },
    addable: {
      type: Boolean,
      default: false
    },
    editable: {
      type: Boolean,
      default: false
    },
    tabPosition: {
      type: String,
      default: 'top'
    },
    stretch: {
      type: Boolean,
      default: false
    },
    isVerify: {
      type: Boolean,
      default: false
    }
  },
  data() {
    return {
      val: this.tabsValue
    };
  },
  mounted() {
    let me_ = this;
    this.$refs.tabs.$watch('panes', function () {
      me_.val = me_.getShowPanes(me_.val);
    });
  },
  methods: {
    beforeLeaveTab(activeName, oldActiveName) {
      // 切换tab时是否校验
      if (this.isVerify) {
        return new Promise((resolve, reject) => {
          // 应用侧绑定了前置处理方法
          if (this.beforeLeave) {
            const result = this.beforeLeave(activeName, oldActiveName);
            // 应用侧的前置处理方法返回了拒绝切换的结果时 直接 驳回切换操作
            if (result && result.constructor == Promise) {
              result.catch(() => reject());
            } else if (result != null && result != undefined && result === false) {
              reject();
            }
          }
          // 执行校验逻辑
          this.validateRegion('.el-tab-pane:not([aria-hidden])').then(errorItems => {
            if (errorItems.length > 0) {
              reject();
            } else {
              resolve();
            }
          });
        });
      } else {
        // 不校验时直接 应用侧的结果 或 直接返回true
        return this.beforeLeave ? this.beforeLeave(activeName, oldActiveName) : true;
      }
    },
    getShowPanes(key) {
      let panes = this.$refs.tabs.panes;
      let name = '';
      let flag = false;
      for (let i = 0; i < panes.length; i++) {
        if (panes[i].name == key) {
          flag = true;
        }
        if (panes[i].$attrs.isShow && !name) {
          name = panes[i].name;
        }
      }
      if (flag) {
        return key;
      } else {
        return name;
      }
    },
    tabClickHandle(tab) {
      this.$emit('tab-click', tab);
    },
    tabRemoveHandle(tabName) {
      this.$emit('tab-remove', tabName);
    },
    tabAddHandle() {
      this.$emit('tab-add');
    },
    tabEditHandle(targetName, action) {
      this.$emit('edit', targetName, action);
    }
  }
});
// CONCATENATED MODULE: ./packages/Tabs/src/Tabs.vue?vue&type=script&lang=js
 /* harmony default export */ var src_Tabsvue_type_script_lang_js = (Tabsvue_type_script_lang_js); 
// CONCATENATED MODULE: ./packages/Tabs/src/Tabs.vue





/* normalize component */

var Tabs_component = normalizeComponent(
  src_Tabsvue_type_script_lang_js,
  Tabsvue_type_template_id_20248516_render,
  Tabsvue_type_template_id_20248516_staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* harmony default export */ var Tabs = (Tabs_component.exports);
// CONCATENATED MODULE: ./packages/Tabs/index.js

Tabs.install = function (Vue) {
  Vue.component(Tabs.name, Tabs);
};
/* harmony default export */ var packages_Tabs = (Tabs);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"8bdeefa2-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/Autocomplete/src/main.vue?vue&type=template&id=180e4564&scoped=true
var mainvue_type_template_id_180e4564_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.permission != 'n')?_c('div',{class:[
    'inputs',
    _vm.formInputsDisplay == 'block'
      ? 'ht-form-inputs__block'
      : 'ht-form-inputs__inline' ]},[(_vm.inputWriteable && _vm.permission_sub != 'n')?_c('el-autocomplete',{directives:[{name:"validate",rawName:"v-validate",value:(_vm.inputValidate),expression:"inputValidate"}],ref:"refName",style:(_vm.styles),attrs:{"size":_vm.inputSize,"name":_vm.inputName,"fetch-suggestions":_vm.querySearchAsync,"placeholder":_vm.placeholder,"placement":_vm.placement,"popper-class":_vm.popperClass,"trigger-on-focus":_vm.triggerOnFocus,"select-when-unmatched":_vm.selectWhenUnmatched,"hide-loading":_vm.hideLoading,"clearable":_vm.clearable,"popper-append-to-body":_vm.popperAppendToBody,"highlight-first-item":_vm.highlightFirstItem},on:{"select":function (opt) { return _vm.$emit('select', opt); },"change":function (value) { return _vm.$emit('change', value); }},scopedSlots:_vm._u([{key:"default",fn:function(ref){
  var item = ref.item;
return _vm._t("default",null,{"item":item})}}],null,true),model:{value:(_vm.inputVal),callback:function ($$v) {_vm.inputVal=$$v},expression:"inputVal"}},[_vm._t("prefix",null,{"slot":"prefix"}),_vm._t("suffix",null,{"slot":"suffix"}),_vm._t("prepend",null,{"slot":"prepend"}),_vm._t("append",null,{"slot":"append"})],2):_vm._e(),(_vm.permission != 'n')?_c('ht-field-tail',{attrs:{"field-name":_vm.inputName,"readonly":!_vm.inputWriteable,"input-value":_vm.inputReadonlyVal}}):_vm._e()],1):_vm._e()}
var mainvue_type_template_id_180e4564_scoped_true_staticRenderFns = []


// CONCATENATED MODULE: ./packages/Autocomplete/src/main.vue?vue&type=template&id=180e4564&scoped=true

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/Autocomplete/src/main.vue?vue&type=script&lang=js
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//







/* harmony default export */ var Autocomplete_src_mainvue_type_script_lang_js = ({
  name: 'HtAutocomplete',
  mixins: [mixins_permission["a" /* default */], inputName["a" /* default */], linkage, ganged, mixins_form["a" /* default */]],
  props: {
    value: String,
    autoTiplist: String,
    styles: Object,
    placement: {
      type: String,
      validator(val) {
        return ['top', 'top-start', 'top-end', 'bottom', 'bottom-start', 'bottom-end', 'bottom-start'].includes(val);
      }
    },
    popperClass: String,
    triggerOnFocus: {
      type: Boolean,
      default: true
    },
    selectWhenUnmatched: {
      type: Boolean,
      default: false
    },
    hideLoading: {
      type: Boolean,
      default: false
    },
    popperAppendToBody: {
      type: Boolean,
      default: true
    },
    highlightFirstItem: {
      type: Boolean,
      default: false
    },
    props: {
      type: Object,
      default: function () {
        return {
          key: 'value'
        };
      }
    },
    clearable: {
      type: Boolean,
      default: true
    }
  },
  data() {
    return {
      refName: `autocomplete-${utils["a" /* default */].getName()}`,
      options: []
    };
  },
  computed: {
    inputVal: {
      get: function () {
        return this.value;
      },
      set: function (val) {
        if (typeof val == 'number') {
          this.$emit('input', val.toString());
        } else {
          this.$emit('input', val);
        }
      }
    },
    inputReadonlyVal: function () {
      if (!this.inputWriteable && this.inputVal.length > 0 && this.options.length > 0) {
        var inputValArr = [];
        if (this.inputVal && this.options.length > 0) {
          for (var a = 0; a < this.options.length; a++) {
            if (this.options[a][this.props.key] == this.inputVal) {
              inputValArr.push(this.options[a].value);
              break;
            }
          }
        }
        return inputValArr.join(',');
      }
      return this.inputVal;
    }
  },
  created() {
    this.options = this.autoTiplist ? JSON.parse(this.autoTiplist) : [];
  },
  methods: {
    querySearchAsync(queryString, cb) {
      this.doCustomQuery(null, true).then(data => {
        if (data != null || data != undefined) {
          this.options = data;
        }
        var results = [].concat(queryString ? this.options.filter(this.createStateFilter(queryString)) : this.options);
        cb(results);
      }).catch(() => cb(this.options));
    },
    createStateFilter(queryString) {
      return state => {
        let _val = state.value;
        if (typeof _val == 'number') {
          _val = _val.toString();
        }
        return _val.toLowerCase().indexOf(queryString.toLowerCase()) >= 0;
      };
    },
    focus() {
      this.$refs[this.refName].focus();
    }
  }
});
// CONCATENATED MODULE: ./packages/Autocomplete/src/main.vue?vue&type=script&lang=js
 /* harmony default export */ var packages_Autocomplete_src_mainvue_type_script_lang_js = (Autocomplete_src_mainvue_type_script_lang_js); 
// EXTERNAL MODULE: ./packages/Autocomplete/src/main.vue?vue&type=style&index=0&id=180e4564&prod&lang=scss&scoped=true
var mainvue_type_style_index_0_id_180e4564_prod_lang_scss_scoped_true = __webpack_require__("83a4");

// CONCATENATED MODULE: ./packages/Autocomplete/src/main.vue






/* normalize component */

var Autocomplete_src_main_component = normalizeComponent(
  packages_Autocomplete_src_mainvue_type_script_lang_js,
  mainvue_type_template_id_180e4564_scoped_true_render,
  mainvue_type_template_id_180e4564_scoped_true_staticRenderFns,
  false,
  null,
  "180e4564",
  null
  
)

/* harmony default export */ var Autocomplete_src_main = (Autocomplete_src_main_component.exports);
// CONCATENATED MODULE: ./packages/Autocomplete/index.js

Autocomplete_src_main.install = function (Vue) {
  Vue.component(Autocomplete_src_main.name, Autocomplete_src_main);
};
/* harmony default export */ var Autocomplete = (Autocomplete_src_main);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"8bdeefa2-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/Cascader/src/main.vue?vue&type=template&id=10b24d42&scoped=true
var mainvue_type_template_id_10b24d42_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:[
    'inputs',
    _vm.formInputsDisplay == 'block'
      ? 'ht-form-inputs__block'
      : 'ht-form-inputs__inline' ]},[(_vm.inputWriteable && _vm.permission_sub != 'n')?_c('el-cascader',{directives:[{name:"validate",rawName:"v-validate",value:(_vm.inputValidate),expression:"inputValidate"}],ref:_vm.refName,attrs:{"size":_vm.inputSize,"props":_vm.propsVal,"name":_vm.inputName,"validate":_vm.validate,"placeholder":_vm.placeholder,"disabled":_vm.disabled,"clearable":_vm.clearable,"show-all-levels":_vm.showAllLevels,"collapse-tags":_vm.collapseTags,"separator":_vm.separator,"popper-class":_vm.popperClass},on:{"change":function (node) { return _vm.$emit('change', node); },"expand-change":function (parentNodes) { return _vm.$emit('expand-change', parentNodes); },"blur":function (event) { return _vm.$emit('blur', event); },"focus":function (event) { return _vm.$emit('focus', event); },"visible-change":function (show) { return _vm.$emit('visible-change', show); },"remove-tag":function (node) { return _vm.$emit('remove-tag', node); }},scopedSlots:_vm._u([{key:"default",fn:function(ref){
  var node = ref.node;
  var data = ref.data;
return _vm._t("default",null,{"node":node,"data":data})}}],null,true),model:{value:(_vm.inputVal),callback:function ($$v) {_vm.inputVal=$$v},expression:"inputVal"}},[_vm._t("empty",null,{"slot":"empty"})],2):_vm._e(),(_vm.permission != 'n')?_c('ht-field-tail',{attrs:{"field-name":_vm.inputName,"readonly":!_vm.inputWriteable,"input-value":_vm.inputVal}}):_vm._e()],1)}
var mainvue_type_template_id_10b24d42_scoped_true_staticRenderFns = []


// CONCATENATED MODULE: ./packages/Cascader/src/main.vue?vue&type=template&id=10b24d42&scoped=true

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/Cascader/src/main.vue?vue&type=script&lang=js
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//






/* harmony default export */ var Cascader_src_mainvue_type_script_lang_js = ({
  name: 'HtCascader',
  mixins: [mixins_permission["a" /* default */], inputName["a" /* default */], mixins_form["a" /* default */], ganged],
  props: {
    value: String,
    disabled: {
      type: Boolean,
      default: false
    },
    clearable: {
      type: Boolean,
      default: true
    },
    showAllLevels: {
      type: Boolean,
      default: true
    },
    collapseTags: {
      type: Boolean,
      default: false
    },
    separator: {
      type: String,
      default: '>'
    },
    popperClass: {
      type: String
    }
  },
  data() {
    let _this = this;
    return {
      refName: `cascader-${utils["a" /* default */].getName()}`,
      lazyLoadResolve: null,
      propsVal: {
        value: _this.ganged.valueBind,
        label: _this.ganged.labelBind,
        lazy: true,
        lazyLoad(node, resolve) {
          _this.dynamicLoadOption(node, resolve);
        }
      }
    };
  },
  computed: {
    inputVal: {
      get() {
        if (this.value) {
          if (this.value.constructor == String) {
            if (!this.value) {
              return '';
            }
            let cascaderModel = JSON.parse(this.value);
            if (!this.inputWriteable) {
              return cascaderModel.pathLabels.join('>');
            }
            return cascaderModel.path;
          }
          return this.value.path;
        } else {
          return this.value;
        }
      },
      set() {
        let selectValArr = this.$refs[this.refName].getCheckedNodes(false);
        if (selectValArr.length > 0 && selectValArr[0] !== null) {
          let result = {
            path: selectValArr[0].path,
            pathLabels: selectValArr[0].pathLabels
          };
          this.$emit('input', JSON.stringify(result));
        } else {
          this.$emit('input', '');
        }
      }
    }
  },
  methods: {
    /**
     * 获取选中的节点
     */
    getCheckedNodes: function (leafOnly) {
      return this.$refs[this.refName].getCheckedNodes(leafOnly);
    },
    // 动态加载选项
    dynamicLoadOption: function (node, resolve) {
      this.lazyLoadResolve = resolve;
      setTimeout(() => {
        const params = this.prepareLoadParams(this.ganged.bind, node);
        this.doCustomQuery(params).then(data => {
          this.dynamicOptionResponse(data, this.ganged.leafJudge, node);
        });
      }, 0);
    },
    // 准备查询参数
    prepareLoadParams: function (condition, node) {
      let params = {};
      if (condition && !utils["a" /* default */].isEmpty(condition)) {
        Object.keys(condition).forEach(k => {
          const bindSet = condition[k];
          let val = null;
          // 参数绑定是对象
          if (bindSet.constructor == Object) {
            // 根节点
            if (node.level == 0) {
              val = !utils["a" /* default */].isEmpty(bindSet['default']) ? bindSet['default'] : null;
            } else {
              val = node.data[bindSet['key']];
            }
          }
          // 参数绑定是字符串
          else if (bindSet.constructor == String && node.level > 0) {
            val = node.data[bindSet];
          }
          if (!utils["a" /* default */].isEmpty(val)) {
            params[k] = val;
          }
        });
      }
      return params;
    },
    // 动态加载选项返回值处理
    dynamicOptionResponse: function (data, leafJudge, node) {
      if (this.lazyLoadResolve) {
        // 判定是否叶子节点的方法
        if (leafJudge && leafJudge.constructor == Function) {
          data.forEach(opt => {
            opt.leaf = opt;
          });
        }
        this.setLeaf(data);
        if (node.level > 0 && !node.hasOwnProperty('leaf')) {
          this.lazyLoadResolve([]);
        } else {
          this.lazyLoadResolve(data);
        }
        // 动态加载选项后触发组件视图更新
        this.$refs[this.refName].computePresentContent();
      }
    },
    //递归给级联没有子节点的设置leaf为true
    setLeaf(val) {
      if (!val || !val.map) {
        return [];
      }
      let list = val.map(item => {
        if (item.children) {
          this.setLeaf(item.children);
        }
        if (item && !item.children && item.leaf !== 0) {
          item.leaf = true;
        }
        return item;
      });
      return list;
    }
  }
});
// CONCATENATED MODULE: ./packages/Cascader/src/main.vue?vue&type=script&lang=js
 /* harmony default export */ var packages_Cascader_src_mainvue_type_script_lang_js = (Cascader_src_mainvue_type_script_lang_js); 
// EXTERNAL MODULE: ./packages/Cascader/src/main.vue?vue&type=style&index=0&id=10b24d42&prod&lang=scss&scoped=true
var mainvue_type_style_index_0_id_10b24d42_prod_lang_scss_scoped_true = __webpack_require__("03d5");

// CONCATENATED MODULE: ./packages/Cascader/src/main.vue






/* normalize component */

var Cascader_src_main_component = normalizeComponent(
  packages_Cascader_src_mainvue_type_script_lang_js,
  mainvue_type_template_id_10b24d42_scoped_true_render,
  mainvue_type_template_id_10b24d42_scoped_true_staticRenderFns,
  false,
  null,
  "10b24d42",
  null
  
)

/* harmony default export */ var Cascader_src_main = (Cascader_src_main_component.exports);
// CONCATENATED MODULE: ./packages/Cascader/index.js

Cascader_src_main.install = function (Vue) {
  Vue.component(Cascader_src_main.name, Cascader_src_main);
};
/* harmony default export */ var Cascader = (Cascader_src_main);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"8bdeefa2-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/DatePicker/src/main.vue?vue&type=template&id=3b1009ec&scoped=true
var mainvue_type_template_id_3b1009ec_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.permission != 'n')?_c('div',{class:[
    'inputs',
    _vm.formInputsDisplay == 'block'
      ? 'ht-form-inputs__block'
      : 'ht-form-inputs__inline' ]},[(_vm.inputWriteable)?_c('el-date-picker',{directives:[{name:"validate",rawName:"v-validate",value:(_vm.inputValidate),expression:"inputValidate"}],attrs:{"name":_vm.inputName,"type":_vm.dateType,"picker-options":_vm.pickerOptions,"popper-class":_vm.popperClass,"disabled":_vm.disabled,"readonly":_vm.readonly,"editable":_vm.editable,"clearable":_vm.clearable,"size":_vm.inputSize,"start-placeholder":_vm.startPlaceholderVal,"end-placeholder":_vm.endPlaceholderVal,"range-separator":_vm.rangeSeparator,"format":_vm.format,"value-format":_vm.valueFormat,"default-value":_vm.defaultValue,"default-time":_vm.defaultTime,"placeholder":_vm.placeholder,"unlink-panels":_vm.unlinkPanels},on:{"change":function (val) { return _vm.$emit('change', val); },"blur":function () { return _vm.$emit('blur'); },"focus":function () { return _vm.$emit('focus'); }},model:{value:(_vm.inputVal),callback:function ($$v) {_vm.inputVal=$$v},expression:"inputVal"}}):_vm._e(),_c('ht-field-tail',{attrs:{"field-name":_vm.inputName,"readonly":!_vm.inputWriteable,"input-value":_vm.value}})],1):_vm._e()}
var mainvue_type_template_id_3b1009ec_scoped_true_staticRenderFns = []


// CONCATENATED MODULE: ./packages/DatePicker/src/main.vue?vue&type=template&id=3b1009ec&scoped=true

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/DatePicker/src/main.vue?vue&type=script&lang=js
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//






/* harmony default export */ var DatePicker_src_mainvue_type_script_lang_js = ({
  name: 'HtDatePicker',
  components: {
    HtFieldTail: FieldTail
  },
  mixins: [mixins_locale, mixins_permission["a" /* default */], inputName["a" /* default */], mixins_form["a" /* default */]],
  props: {
    value: String,
    readonly: {
      type: Boolean,
      default: false
    },
    disabled: {
      type: Boolean,
      default: false
    },
    clearable: {
      type: Boolean,
      default: true
    },
    editable: {
      type: Boolean,
      default: true
    },
    defaultValue: {
      type: [String, Date]
    },
    defaultTime: {
      type: String
    },
    format: {
      type: String,
      default: 'yyyy-MM-dd HH:mm:ss'
    },
    valueFormat: {
      type: String,
      default: 'yyyy-MM-dd HH:mm:ss'
    },
    popperClass: String,
    rangeSeparator: {
      type: String,
      default: '-'
    },
    pickerOptions: {
      type: Object,
      default() {
        return {};
      }
    },
    startPlaceholder: {
      type: String
    },
    endPlaceholder: {
      type: String
    },
    unlinkPanels: {
      type: Boolean,
      default: false
    }
  },
  computed: {
    dateType() {
      return /^\w{4}-\w{1,2}-\w{1,2}$/.test(this.format) ? 'daterange' : 'datetimerange';
    },
    startPlaceholderVal() {
      return this.startPlaceholder ? this.startPlaceholder : this.t('ht.date.startDate');
    },
    endPlaceholderVal() {
      return this.endPlaceholder ? this.endPlaceholder : this.t('ht.date.endDate');
    },
    inputVal: {
      get: function () {
        if (this.value && this.value.constructor == String) {
          return this.value.split(',');
        }
        return this.value;
      },
      set: function (val) {
        if (val && val.constructor == Array) {
          this.$emit('input', val.join(','));
          return;
        }
        this.$emit('input', val);
      }
    }
  }
});
// CONCATENATED MODULE: ./packages/DatePicker/src/main.vue?vue&type=script&lang=js
 /* harmony default export */ var packages_DatePicker_src_mainvue_type_script_lang_js = (DatePicker_src_mainvue_type_script_lang_js); 
// EXTERNAL MODULE: ./packages/DatePicker/src/main.vue?vue&type=style&index=0&id=3b1009ec&prod&lang=scss&scoped=true
var mainvue_type_style_index_0_id_3b1009ec_prod_lang_scss_scoped_true = __webpack_require__("78a8");

// CONCATENATED MODULE: ./packages/DatePicker/src/main.vue






/* normalize component */

var DatePicker_src_main_component = normalizeComponent(
  packages_DatePicker_src_mainvue_type_script_lang_js,
  mainvue_type_template_id_3b1009ec_scoped_true_render,
  mainvue_type_template_id_3b1009ec_scoped_true_staticRenderFns,
  false,
  null,
  "3b1009ec",
  null
  
)

/* harmony default export */ var DatePicker_src_main = (DatePicker_src_main_component.exports);
// CONCATENATED MODULE: ./packages/DatePicker/index.js

DatePicker_src_main.install = function (Vue) {
  Vue.component(DatePicker_src_main.name, DatePicker_src_main);
};
/* harmony default export */ var DatePicker = (DatePicker_src_main);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"8bdeefa2-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/Dictionary/src/main.vue?vue&type=template&id=3ad3cdfc&scoped=true
var mainvue_type_template_id_3ad3cdfc_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:[
    'inputs',
    _vm.formInputsDisplay == 'block'
      ? 'ht-form-inputs__block'
      : 'ht-form-inputs__inline' ]},[(_vm.inputWriteable)?_c('el-select',{directives:[{name:"validate",rawName:"v-validate",value:(_vm.inputValidate),expression:"inputValidate"}],ref:"elSelect",style:(_vm.styles),attrs:{"name":_vm.inputName,"size":_vm.inputSize,"popper-class":_vm.popperClass,"clearable":_vm.clearable,"placeholder":_vm.placeholder,"filterable":_vm.filterable,"filter-method":_vm.filterMethod},on:{"visible-change":_vm.handleVisibleChange,"clear":_vm.clear},model:{value:(_vm.valueDesc),callback:function ($$v) {_vm.valueDesc=$$v},expression:"valueDesc"}},[(_vm.selectlist && _vm.selectlist.length > 0)?_c('el-option',{attrs:{"value":_vm.inputVal}},[_c('el-scrollbar',{staticClass:"tree-scrollbar",staticStyle:{"height":"100%"}},[_c('el-tree',{ref:"elTree",staticStyle:{"maxheight":"245px"},attrs:{"node-key":"key","data":_vm.selectlist,"indent":_vm.indent,"highlight-current":true,"default-expand-all":true,"expand-on-click-node":false,"props":_vm.defaultProps,"filter-node-method":_vm.filterNode},on:{"node-click":_vm.handleNodeClick}})],1)],1):_vm._e()],1):_vm._e(),(_vm.permission != 'n')?_c('ht-field-tail',{attrs:{"field-name":_vm.inputName,"readonly":!_vm.inputWriteable,"input-value":_vm.valueDesc}}):_vm._e()],1)}
var mainvue_type_template_id_3ad3cdfc_scoped_true_staticRenderFns = []


// CONCATENATED MODULE: ./packages/Dictionary/src/main.vue?vue&type=template&id=3ad3cdfc&scoped=true

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/Dictionary/src/main.vue?vue&type=script&lang=js
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//





/* harmony default export */ var Dictionary_src_mainvue_type_script_lang_js = ({
  name: 'HtDictionary',
  mixins: [mixins_permission["a" /* default */], inputName["a" /* default */], mixins_form["a" /* default */]],
  props: {
    value: String,
    dickey: {
      type: String,
      require: true
    },
    popperClass: String,
    styles: {
      type: Object,
      default() {
        return {};
      }
    },
    clearable: {
      type: Boolean,
      default: true
    },
    filterable: {
      type: Boolean,
      default: false
    },
    indent: {
      type: Number,
      default: 8
    },
    setValue: {
      type: Function,
      default: () => {}
    }
  },
  data() {
    return {
      selectlist: [],
      defaultProps: {
        children: 'children',
        label: 'name'
      },
      valueDesc: ''
    };
  },
  computed: {
    inputVal: {
      get: function () {
        if (utils["a" /* default */].isEmpty(this.value)) {
          return '';
        }
        this.findDesc(this.selectlist);
        return this.value;
      },
      set: function (val) {
        this.$emit('input', val);
      }
    }
  },
  watch: {
    value(val) {
      if (val) {
        this.loadOptions();
      }
      this.valueDesc = '';
      this.$emit('input', val);
    }
  },
  created() {
    this.setValue();
  },
  mounted() {
    this.loadOptions();
  },
  methods: {
    handleVisibleChange(val) {
      if (val && !this.valueDesc) {
        this.loadOptions();
      }
    },
    loadOptions() {
      if (this.dickey) {
        this.$requestConfig.getDictionaryByKey(this.dickey).then(resp => {
          this.selectlist = resp;
          if (this.value !== null && this.value !== undefined) {
            this.findDesc(resp);
          }
        });
      }
    },
    clear() {
      this.filterMethod('');
      this.$emit('input', '');
    },
    handleNodeClick(data) {
      this.inputVal = data.key;
      this.valueDesc = data.name;
      this.$refs.elSelect.blur();
      setTimeout(() => {
        this.$validator.validate();
      });
    },
    filterNode(value, data) {
      if (!value) return true;
      return data.name.indexOf(value) !== -1;
    },
    findDesc(list) {
      if (list && list.length > 0) {
        list.forEach(l => {
          if (l.key == this.value) {
            this.valueDesc = l.name;
            return;
          }
          if (l.children) {
            this.findDesc(l.children);
          }
        });
      }
    },
    filterMethod(query) {
      this.$refs.elTree.filter(query);
    }
  }
});
// CONCATENATED MODULE: ./packages/Dictionary/src/main.vue?vue&type=script&lang=js
 /* harmony default export */ var packages_Dictionary_src_mainvue_type_script_lang_js = (Dictionary_src_mainvue_type_script_lang_js); 
// EXTERNAL MODULE: ./packages/Dictionary/src/main.vue?vue&type=style&index=0&id=3ad3cdfc&prod&lang=scss&scoped=true
var mainvue_type_style_index_0_id_3ad3cdfc_prod_lang_scss_scoped_true = __webpack_require__("2cf4");

// CONCATENATED MODULE: ./packages/Dictionary/src/main.vue






/* normalize component */

var Dictionary_src_main_component = normalizeComponent(
  packages_Dictionary_src_mainvue_type_script_lang_js,
  mainvue_type_template_id_3ad3cdfc_scoped_true_render,
  mainvue_type_template_id_3ad3cdfc_scoped_true_staticRenderFns,
  false,
  null,
  "3ad3cdfc",
  null
  
)

/* harmony default export */ var Dictionary_src_main = (Dictionary_src_main_component.exports);
// CONCATENATED MODULE: ./packages/Dictionary/index.js

Dictionary_src_main.install = function (Vue) {
  Vue.component(Dictionary_src_main.name, Dictionary_src_main);
};
/* harmony default export */ var Dictionary = (Dictionary_src_main);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"8bdeefa2-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/ReadonlyInput/src/main.vue?vue&type=template&id=95796f3a
var mainvue_type_template_id_95796f3a_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.permission != 'n')?_c('div',{class:[
    'inputs',
    _vm.formInputsDisplay == 'block'
      ? 'ht-form-inputs__block'
      : 'ht-form-inputs__inline' ]},[_c('el-input',{directives:[{name:"show",rawName:"v-show",value:(_vm.roInputDisplayMode == 'input'),expression:"roInputDisplayMode == 'input'"}],style:(_vm.styles),attrs:{"type":_vm.type,"size":_vm.inputSize,"name":_vm.inputName,"autosize":{ minRows: 1, maxRows: 4 },"readonly":""},model:{value:(_vm.inputVal),callback:function ($$v) {_vm.inputVal=$$v},expression:"inputVal"}}),_c('el-input',{directives:[{name:"show",rawName:"v-show",value:(_vm.roInputDisplayMode == 'text'),expression:"roInputDisplayMode == 'text'"}],style:(_vm.styles),attrs:{"type":_vm.type,"size":_vm.inputSize,"name":_vm.inputName,"autosize":{ minRows: 1, maxRows: 4 },"readonly":""},domProps:{"innerHTML":_vm._s(_vm.inputVal)},model:{value:(_vm.inputVal),callback:function ($$v) {_vm.inputVal=$$v},expression:"inputVal"}})],1):_vm._e()}
var mainvue_type_template_id_95796f3a_staticRenderFns = []


// CONCATENATED MODULE: ./packages/ReadonlyInput/src/main.vue?vue&type=template&id=95796f3a

// CONCATENATED MODULE: ./src/util/request.js
const axios = __webpack_require__("cebe");
function request(url, data = {}, option = {}) {
  const requestData = {
    url: url,
    data: data,
    method: option.method || 'GET',
    params: option.params || {},
    onUploadProgress: option.onUploadProgress || null,
    headers: option.headers || '',
    responseType: option.responseType || 'json'
  };
  return axios(requestData);
}
// CONCATENATED MODULE: ./src/mixins/script.js





/* harmony default export */ var mixins_script = ({
  props: {
    script: String
  },
  methods: {
    evilJS() {
      let _me = this;
      if (this.script) {
        let htCustomScript = Object(base64["a" /* decode */])(this.script);
        const formVm = utils["a" /* default */].getOnlineFormInstance(_me);
        const $ = __webpack_require__("c5e1");
        const evil = function () {
          const Fn = Function('req', 'data', 'i18n', 'Message', 'Loading', 'formVm', '_this', '$', htCustomScript);
          return Fn(request, formVm.data, locale["b" /* i18n */], external_element_ui_["Message"], external_element_ui_["Loading"], formVm, _me, $);
        };
        return evil();
      }
    }
  }
});
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/ReadonlyInput/src/main.vue?vue&type=script&lang=js
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//






/* harmony default export */ var ReadonlyInput_src_mainvue_type_script_lang_js = ({
  name: 'HtReadonlyInput',
  mixins: [inputName["a" /* default */], mixins_permission["a" /* default */], mixins_form["a" /* default */], mixins_script],
  props: {
    value: [String, Number],
    type: {
      type: String,
      default: 'text',
      validator(val) {
        return ['text', 'textarea'].includes(val);
      }
    },
    styles: {
      type: Object
    }
  },
  data() {
    return {
      roInputDisplayMode: 'input'
    };
  },
  computed: {
    inputVal: {
      get() {
        if (utils["a" /* default */].isEmpty(this.value)) {
          return '';
        }
        return this.value;
      },
      set(val) {
        this.$emit('input', val);
      }
    }
  },
  created() {
    this.roInputDisplayMode = 'input';
    this.$on('formExtend:update', formExtend => {
      this.roInputDisplayMode = formExtend.roInputDisplayMode || 'input';
    });
  },
  mounted() {
    if (this.value != null && this.value != undefined) {
      this.inputVal = this.value;
    }
    const result = this.evilJS();
    if (result != null && result != undefined) {
      this.inputVal = result;
    }
  }
});
// CONCATENATED MODULE: ./packages/ReadonlyInput/src/main.vue?vue&type=script&lang=js
 /* harmony default export */ var packages_ReadonlyInput_src_mainvue_type_script_lang_js = (ReadonlyInput_src_mainvue_type_script_lang_js); 
// CONCATENATED MODULE: ./packages/ReadonlyInput/src/main.vue





/* normalize component */

var ReadonlyInput_src_main_component = normalizeComponent(
  packages_ReadonlyInput_src_mainvue_type_script_lang_js,
  mainvue_type_template_id_95796f3a_render,
  mainvue_type_template_id_95796f3a_staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* harmony default export */ var ReadonlyInput_src_main = (ReadonlyInput_src_main_component.exports);
// CONCATENATED MODULE: ./packages/ReadonlyInput/index.js

ReadonlyInput_src_main.install = function (Vue) {
  Vue.component(ReadonlyInput_src_main.name, ReadonlyInput_src_main);
};
/* harmony default export */ var ReadonlyInput = (ReadonlyInput_src_main);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"8bdeefa2-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/OnlineForm/src/Form.vue?vue&type=template&id=056f450a&scoped=true
var Formvue_type_template_id_056f450a_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{"name":"online-form"}},[(_vm.loadStatus == 0)?_c('el-skeleton',{attrs:{"rows":6,"animated":""}}):(_vm.loadStatus > 0)?_c('ht-runtime-template',{staticClass:"online-form-wrap form-table__wrap",attrs:{"name":_vm.formName,"data":_vm.data,"permission":_vm.permission,"is-view":_vm.isView,"is-print":_vm.isPrint,"mobile-mode":_vm.mobileMode,"form-key":_vm.formKey,"init-fill-data":_vm.initFillData,"extend-prop":_vm.extendProp,"is-support-mobile":_vm.isSupportMobile,"inst-id":_vm.instId,"is-preview":_vm.isPreview},on:{"load-fail":_vm.handleLoadFail,"load-success":_vm.handleLoadSuccess}}):_c('div',{staticClass:"loaded-fail__div"},[_vm._v("\n    "+_vm._s(_vm.$t('ht.onlineForm.loadFormError'))+"\n  ")])],1)}
var Formvue_type_template_id_056f450a_scoped_true_staticRenderFns = []


// CONCATENATED MODULE: ./packages/OnlineForm/src/Form.vue?vue&type=template&id=056f450a&scoped=true

// CONCATENATED MODULE: ./src/mixins/onlineHottable.js
/* harmony default export */ var onlineHottable = ({
  watch: {
    hotTableFillback: function (newVal) {
      if (newVal) {
        let newValArray = newVal.split('_timestamp_');
        let boPathArray = newValArray[0].split('.');
        let hotTableRef = 'hottable.' + boPathArray[0] + '.' + boPathArray[1];
        let subBo = this.data[boPathArray[0]][boPathArray[1]];
        this.$refs.onlineForm.$refs[hotTableRef].fillbackHotTableData(subBo);
      }
    }
  },
  mounted() {
    this.isFormItemBorder();
    //初始化handsontable数据
    if (this.data) {
      const formId = this.formId;
      let _this = this;
      if (!formId) {
        this.toInitTemolateData(this.initFillData);
      } else {
        const loading = this.$loading({
          lock: true,
          text: _this.$t('ht.onlineHottable.loadingText'),
          spinner: 'el-icon-loading',
          background: 'rgba(0, 0, 0, 0.7)'
        });
        this.$requestConfig.getFormById(formId).then(resp => {
          if (resp.data) {
            const formData = resp.data.data;
            for (const key in formData) {
              if (formData.hasOwnProperty(key)) {
                if (!_this.data[key]) {
                  _this.data[key] = formData[key];
                }
              }
            }
            loading.close();
            _this.toInitTemolateData(this.initFillData);
          } else {
            loading.close();
            _this.toInitTemolateData(this.initFillData);
          }
        }, () => {
          loading.close();
          _this.toInitTemolateData(this.initFillData);
        });
      }
    }
  },
  methods: {
    // 有边框时
    isFormItemBorder() {
      const cols = document.querySelectorAll('.el-row--flex .el-col-12');
      const colItems = Array.from(cols);
      if (colItems.length) {
        for (let i = 0; i < colItems.length; i++) {
          let item = colItems[i];
          if (item.style.borderStyle && item.children && item.children.length > 0) {
            item.parentNode.style.marginBottom = '20px';
            Array.from(item.children).forEach(child => {
              child.style.margin = '24px 24px 22px 24px';
            });
          } else {
            item.style.marginRight = '24px';
          }
        }
      }
    },
    toInitTemolateData(initFillData) {
      if (!this.data) {
        return;
      }
      const formData = this.data;
      let refs = this.$refs;
      for (const def in formData) {
        if (formData.hasOwnProperty(def)) {
          const boDef = formData[def];
          for (const bo in boDef) {
            if (boDef.hasOwnProperty(bo) && bo.indexOf('sub_') == 0) {
              const ref = 'hottable.' + def + '.' + bo;
              if (refs[ref]) {
                try {
                  refs[ref].fillbackHotTableData(formData[def][bo], this.permission);
                  if (initFillData) {
                    refs[ref].initTemplateData();
                  }
                } catch (error) {
                  error;
                }
              }
            }
          }
        }
      }
    },
    addInitTemplateData(subTablePath) {
      const hotTableRef = 'hottable.' + subTablePath;
      this.$refs[hotTableRef].toAddInitTemplateData();
    },
    mergeCellRefresh(subTablePath) {
      const hotTableRef = 'hottable.' + subTablePath;
      this.$refs[hotTableRef].mergeCellRefresh();
    },
    execCellMathExp(subTablePath) {
      const hotTableRef = 'hottable.' + subTablePath;
      this.$refs[hotTableRef].execCellMathExp();
    },
    execCrossMapping(subTablePath) {
      const hotTableRef = 'hottable.' + subTablePath;
      this.$refs[hotTableRef].execCrossMapping();
    },
    getHotTableData(subTablePath) {
      const hotTableRef = 'hottable.' + subTablePath;
      this.$refs[hotTableRef].getHotTableData();
    }
  }
});
// EXTERNAL MODULE: ./src/services/SubPagination.js
var SubPagination = __webpack_require__("1639");

// CONCATENATED MODULE: ./src/mixins/onlineSubtable.js

/* harmony default export */ var onlineSubtable = ({
  data() {
    return {
      fillOrg: {},
      fillOrgConfMap: {},
      transitionIndex: -1,
      left_image: '',
      right_image: ''
    };
  },
  computed: {
    // 子表前端分页过滤器
    pagingSubData() {
      const me = this;
      return function (datapath) {
        // 通过子表数据路径获取分页数据
        return SubPagination["a" /* default */].pagingByPath(datapath, me);
      };
    },
    // 获取子表分页 offset
    getPageOffset() {
      return datapath => {
        return SubPagination["a" /* default */].getPageOffset(datapath, this);
      };
    }
  },
  mounted() {
    // 如果当前表单的element为Comment说明表单加载失败了。
    if (this.$el && this.$el.constructor == Comment) {
      this.$emit('load-fail');
      return;
    }
    this.$validator = this.$root.$validator;
    if (this.permission.table) {
      for (let subTableName in this.permission.table) {
        if (this.permission.table[subTableName].required) {
          this.addSubTableByName(subTableName);
        }
      }
    }
    this.$emit('load-success', true);
    if (this.isPrint) {
      this.printDetail();
    }
  },
  methods: {
    getExpandArr(data, type) {
      if (type === 'expand' && data) {
        let arr = [];
        data.forEach(item => {
          arr.push(item.sub_guid);
        });
        return arr;
      }
      return data && data.length ? [data[0].sub_guid] : [];
    },
    printDetail() {
      window.print();
      if (this.isPrint) {
        this.$router.go(-1);
      }
      setTimeout(function () {
        location.reload();
      }, 200);
    },
    //子表上移
    up(index, data) {
      if (index === 0) {
        this.$message({
          message: this.$t('ht.subTable.upWarning'),
          type: 'warning'
        });
      } else {
        let temp = data[index - 1];
        this.$set(data, index - 1, data[index]);
        this.$set(data, index, temp);
      }
    },
    //子表下移
    down(index, data) {
      if (index === data.length - 1) {
        this.$message({
          message: this.$t('ht.subTable.downWarning'),
          type: 'warning'
        });
      } else {
        this.isTransition = true;
        let i = data[index + 1];
        this.$set(data, index + 1, data[index]);
        this.$set(data, index, i);
      }
    },
    //子表复制数据
    copy(obj, item, subPath) {
      let newOne = JSON.parse(JSON.stringify(item));
      //把id置空以免走的修改方法
      if (newOne.id_) {
        delete newOne.id_;
      }
      if (newOne.sub_row_readonly) {
        delete newOne.sub_row_readonly;
      }
      //有孙表时，删除孙表id_
      for (let key in newOne) {
        if (key.startsWith('sub_') && Array.isArray(newOne[key])) {
          if (newOne[key].length) {
            newOne[key].forEach(it => {
              it.id_ && delete it.id_;
            });
          }
        }
      }
      if (subPath) {
        const watchMap = this.watchMap;
        // 判断当前是否有绑定流水号的字段
        if (watchMap) {
          const bindIdentityModelNameList = watchMap.get('bindIdentityModelNameList');
          if (bindIdentityModelNameList && bindIdentityModelNameList.length > 0) {
            bindIdentityModelNameList.forEach(bim => {
              if (bim.startsWith(subPath)) {
                // 如果有则删除复制数据中原来的流水号值
                delete newOne[bim.replace(`${subPath}.`, '')];
              }
            });
          }
        }
      }
      newOne.sub_guid = this.guid();
      this.$root.$emit('add-new-collapse-item', newOne.sub_guid);
      obj.push(newOne);
      this.$forceUpdate();
    },
    //子表默认值回填
    addSubTab(subTabPath) {
      let pathArr = subTabPath.split('.');
      if (pathArr.length < 3) {
        this.$message({
          message: this.$t('ht.subTable.subTablePathError'),
          type: 'warning'
        });
      } else {
        let subTabName = pathArr[2].replace('sub_', '');
        let subInitData = this.data[pathArr[1]].initData[subTabName] || {};
        //判断当前子表是否存有回显值
        if (this.$parent.subBackfill && this.$parent.subBackfill.has(subTabPath)) {
          subInitData = this.$parent.subBackfill.get(subTabPath);
        }
        //把数组里面的值为 null 转换为空字符串
        let str = JSON.stringify(subInitData).replace(/null/g, '""');
        let subData = JSON.parse(str);
        const subDataArr = this.data[pathArr[1]][pathArr[2]];
        //子表添加后的长度，因为在nextTick中，子表已经添加完毕。
        const nextIndex = subDataArr.length;
        for (var key in subData) {
          //点添加时判断要新增子表记录中的孙表是否有值
          if (key.indexOf('sub_') == 0) {
            if (subData[key].length > 0) {
              subData[key] = []; //有则清空
            }
            const sunTabName = key.replace('sub_', '');
            if (this.permission.table[sunTabName] && (this.permission.table[sunTabName].required == true || this.permission.table[sunTabName].required == 'true')) {
              this.$nextTick(() => {
                this.addSunTab(`${subTabPath}.${key}`, nextIndex);
              });
            }
          }
        }
        let fillObj = this.toFillOrg(pathArr[1] + '.' + pathArr[2], subData);
        fillObj.sub_guid = this.guid();
        this.$root.$emit('add-new-collapse-item', fillObj.sub_guid);
        subDataArr.push(fillObj);
      }
    },
    //子表添加头部样式
    handleCellStyle({
      column
    }) {
      let ColBgColor;
      if (column.className) {
        ColBgColor = column.className.split('__')[1];
      }
      return ColBgColor ? {
        background: ColBgColor
      } : {};
    },
    //子表表头颜色
    handleRowStyle(color) {
      return {
        '--headerBgColor': color ? color : '#f4f4f4'
      };
    },
    guid() {
      return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {
        var r = Math.random() * 16 | 0,
          v = c == 'x' ? r : r & 0x3 | 0x8;
        return v.toString(16);
      });
    },
    //孙表默认值回填
    addSunTab(subTabPath, index) {
      let pathArr = subTabPath.split('.');
      if (pathArr.length < 4) {
        this.$message({
          message: this.$t('ht.subTable.sunTablePathError'),
          type: 'warning'
        });
      } else {
        const subTablePath = pathArr.filter((item, index) => index !== 3);
        const subIndex = this.getPageOffset(subTablePath.join('.')) + index;
        let subTabName = pathArr[2].replace('sub_', '');
        let sunTabName = pathArr[3].replace('sub_', '');
        let subTable = this.data[pathArr[1]][pathArr[2]][subIndex];
        if (!subTable.hasOwnProperty(pathArr[3])) {
          this.$set(subTable, pathArr[3], new Array());
        }
        let subInitData = this.data[pathArr[1]].initData[subTabName].initData[sunTabName] || {};
        //判断当前孙表是否存有回显值
        if (this.$parent.subBackfill && this.$parent.subBackfill.has(subTabPath)) {
          //this.data[pathArr[1]][pathArr[2]].push(this.$parent.subBackfill.get(subTabPath));
          subInitData = this.$parent.subBackfill.get(subTabPath);
        }
        //把数组里面的值为 null 转换为空字符串
        let str = JSON.stringify(subInitData).replace(/null/g, '""');
        if (!this.data[pathArr[1]][pathArr[2]][subIndex][pathArr[3]]) {
          let key = [pathArr[3]];
          let value = new Array();
          this.data[pathArr[1]][pathArr[2]][subIndex][key] = value;
        }
        let sunBodata = JSON.parse(str);
        sunBodata.sub_guid = this.guid();
        this.data[pathArr[1]][pathArr[2]][subIndex][pathArr[3]].push(sunBodata);
        this.$root.$emit('add-new-collapse-item', sunBodata.sub_guid);
        this.$forceUpdate(); //迫使 Vue 实例重新渲染
      }
    },
    addSubTableByName(subTableName) {
      for (let boAlias in this.data) {
        let subInitData = JSON.parse(JSON.stringify(this.data[boAlias].initData[subTableName] || {}));
        if (this.data[boAlias]['sub_' + subTableName] && this.data[boAlias]['sub_' + subTableName].length < 1) {
          this.data[boAlias]['sub_' + subTableName].push(JSON.parse(JSON.stringify(subInitData)));
          // 孙表必填 默认添加一条
          if (this.permission.table) {
            for (let tableName in this.permission.table) {
              if (this.permission.table[tableName].required) {
                if (this.data[boAlias]['sub_' + subTableName][0].hasOwnProperty('sub_' + tableName) && this.data[boAlias]['sub_' + subTableName][0]['sub_' + tableName] && this.data[boAlias]['sub_' + subTableName][0]['sub_' + tableName].length < 1) {
                  this.data[boAlias]['sub_' + subTableName][0]['sub_' + tableName].push(JSON.parse(JSON.stringify(subInitData.initData[tableName])));
                } else if (this.data[boAlias]['sub_' + subTableName][0].hasOwnProperty('sub_' + tableName) && !this.data[boAlias]['sub_' + subTableName][0]['sub_' + tableName]) {
                  this.data[boAlias]['sub_' + subTableName][0]['sub_' + tableName] = [];
                  this.data[boAlias]['sub_' + subTableName][0]['sub_' + tableName].push(subInitData.initData[tableName]);
                }
              }
            }
          }
        }
      }
    },
    deleteRow(subTablePath, item) {
      let pathArr = subTablePath.split('.');
      if (pathArr.length < 2) {
        this.$message({
          message: this.$t('ht.subTable.subTablePathError'),
          type: 'warning'
        });
      } else {
        let subTabName = pathArr[1].replace('sub_', '');
        if (this.data[pathArr[0]][pathArr[1]].length == 1 && (this.permission.table[subTabName].required == true || this.permission.table[subTabName].required == 'true')) {
          this.$message({
            message: this.$t('ht.global.subTableRequired'),
            type: 'warning'
          });
          return;
        }
        this.data[pathArr[0]][pathArr[1]].remove(item);
      }
    },
    deleteSunRow(subTablePath, item, subIndex) {
      let pathArr = subTablePath.split('.');
      if (pathArr.length < 3) {
        this.$message({
          message: this.$t('ht.subTable.sunTablePathError'),
          type: 'warning'
        });
      } else {
        let subTabName = pathArr[1].replace('sub_', '');
        let sunTabName = pathArr[2].replace('sub_', '');
        if (this.data[pathArr[0]][pathArr[1]][subIndex][pathArr[2]].length == 1 && (this.permission.table[sunTabName].required == true || this.permission.table[subTabName].required == 'true')) {
          this.$message({
            message: this.$t('ht.global.sunTableRequired'),
            type: 'warning'
          });
          return;
        }
        this.data[pathArr[0]][pathArr[1]][subIndex][pathArr[2]].remove(item);
        this.data = Object.assign({}, this.data);
      }
    },
    clearAllMessageBox(data) {
      this.$confirm(this.$t('ht.subTable.clearAllTip'), this.$t('ht.common.tips'), {
        confirmButtonText: this.$t('ht.common.confirm'),
        cancelButtonText: this.$t('ht.common.cancle'),
        type: 'warning'
      }).then(() => {
        this.clearAll(data);
      }).catch(() => {
        this.$message({
          type: 'info',
          message: this.$t('ht.subTable.cancelOperate')
        });
      });
    },
    clearAll(args) {
      const {
        subTablePath,
        isHot,
        index
      } = args;
      let pathArr;
      if (!subTablePath) {
        pathArr = args.split('.');
      } else {
        pathArr = subTablePath.split('.');
      }
      if (pathArr.length < 2) {
        this.$message({
          message: this.$t('ht.subTable.subTablePathError'),
          type: 'warning'
        });
        //孙表
      } else if ((index || index === 0) && pathArr.length == 3) {
        const sunTabName = pathArr[2].replace('sub_', '');
        if (this.permission.table[sunTabName].required == true || this.permission.table[sunTabName] == 'true') {
          this.$message.warning(this.$t('ht.subTable.deleteSunTableTip'));
          return;
        }
        const _subPath = `data.${pathArr[0]}.${pathArr[1]}`;
        const subIndex = this.getPageOffset(_subPath) + index;
        const ary = this.data[pathArr[0]][pathArr[1]][subIndex][pathArr[2]];
        if (ary instanceof Array) {
          ary.splice(0, ary.length);
        }
      } else {
        const subTabName = pathArr[1].replace('sub_', '');
        if (this.data[pathArr[0]][pathArr[1]].length == 1 && (this.permission.table[subTabName].required == true || this.permission.table[subTabName].required == 'true')) {
          this.$message({
            message: this.$t('ht.subTable.deleteSubTableTip'),
            type: 'warning'
          });
          return;
        }
        const ary = this.data[pathArr[0]][pathArr[1]];
        if (ary instanceof Array) {
          ary.splice(0, ary.length);
        }
        if (isHot) {
          const hotTableRef = 'hottable.' + subTablePath;
          this.$refs[hotTableRef].fillbackHotTableData(null);
        }
      }
    },
    toFillOrg(path, row) {
      const fillOrgConf = this.fillOrgConfMap[path];
      let fillObj = {};
      if (fillOrgConf && this.fillOrg) {
        if (fillOrgConf.name) {
          const namePath = fillOrgConf.name.split('.');
          fillObj[namePath[namePath.length - 1]] = this.fillOrg.name;
        }
        if (fillOrgConf.id) {
          const idPath = fillOrgConf.id.split('.');
          fillObj[idPath[idPath.length - 1]] = this.fillOrg.id;
        }
        if (fillOrgConf.code) {
          const codePath = fillOrgConf.code.split('.');
          fillObj[codePath[codePath.length - 1]] = this.fillOrg.code;
        }
        if (fillOrgConf.instId) {
          const instIdPath = fillOrgConf.instId.split('.');
          fillObj[instIdPath[instIdPath.length - 1]] = this.$parent.$parent.instId ? this.$parent.$parent.instId : '';
        }
        return {
          ...row,
          ...fillObj
        };
      }
      return row;
    },
    initFill(path, conf) {
      //收集自动回填信息
      if (path && conf) {
        try {
          const confJson = this.fillOrgConfMap[path] ? this.fillOrgConfMap[path] : JSON.parse(conf);
          if (confJson.id || confJson.code || confJson.name || confJson.instId) {
            this.fillOrgConfMap[path] = confJson;
            this.initFirstFill(path, confJson);
          }
        } catch (error) {
          error;
        }
      }
    },
    initFirstFill(path, conf) {
      //处理第一行的回填
      const paths = path.split('.');
      if (this.data[paths[0]][paths[1]] && this.data[paths[0]][paths[1]].length == 1 && this.fillOrg.id) {
        if (conf.id) {
          const idPath = conf.id.split('.');
          if (!this.data[paths[0]][paths[1]][0][idPath[2]]) {
            this.data[paths[0]][paths[1]][0][idPath[2]] = this.fillOrg.id;
            if (conf.code) {
              const codePath = conf.code.split('.');
              if (!this.data[paths[0]][paths[1]][0][codePath[2]]) {
                this.data[paths[0]][paths[1]][0][codePath[2]] = this.fillOrg.code;
              }
            }
            if (conf.name) {
              const namePath = conf.name.split('.');
              if (!this.data[paths[0]][paths[1]][0][namePath[2]]) {
                this.data[paths[0]][paths[1]][0][namePath[2]] = this.fillOrg.name;
              }
            }
          }
        }
        if (conf.instId) {
          const instIdPath = conf.instId.split('.');
          if (!this.data[paths[0]][paths[1]][0][instIdPath[2]]) {
            this.data[paths[0]][paths[1]][0][instIdPath[2]] = this.$parent.$parent.instId ? this.$parent.$parent.instId : '';
          }
        }
      }
    },
    isShowAddButton(path, maxRow, subIndex) {
      if (maxRow === 0) return false;
      let pathArr = path.split('.');
      if (subIndex >= 0) {
        if (pathArr.length < 4) {
          this.$message({
            message: this.$t('ht.subTable.subTablePathError'),
            type: 'warning'
          });
        } else {
          let data = this.data[pathArr[1]][pathArr[2]][subIndex][pathArr[3]] || [];
          return data.length >= maxRow;
        }
      } else {
        if (pathArr.length < 3) {
          this.$message({
            message: this.$t('ht.subTable.subTablePathError'),
            type: 'warning'
          });
        } else {
          let data = this.data[pathArr[1]][pathArr[2]] || [];
          return data.length >= maxRow;
        }
      }
      return false;
    }
  }
});
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/OnlineForm/src/Form.vue?vue&type=script&lang=js
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//







/* harmony default export */ var Formvue_type_script_lang_js = ({
  name: 'HtOnlineForm',
  componentName: 'HtOnlineForm',
  mixins: [regionValidator, emitter],
  props: {
    html: String,
    data: Object,
    permission: Object,
    initFillData: {
      type: Boolean,
      default: false
    },
    isView: {
      type: Boolean,
      default: false
    },
    isPrint: {
      type: Boolean,
      default: false
    },
    isLook: {
      type: Boolean,
      default: false
    },
    mobileMode: {
      type: Boolean,
      default: false
    },
    flowKey: String,
    formId: String,
    formKey: String,
    extendProp: {
      type: Object,
      default: () => {
        return {};
      }
    },
    isSupportMobile: {
      type: Boolean,
      default: false
    },
    instId: [String, Number],
    isPreview: {
      type: Boolean,
      default: false
    }
  },
  data() {
    return {
      formName: `onlineForm_${utils["a" /* default */].getName()}`,
      loadStatus: 0,
      subBackfill: new Map(),
      hotTableFillback: String,
      scopeName: `form-${utils["a" /* default */].getName()}`,
      getDataPromiseResolve: null,
      getDataPromiseReject: null
    };
  },
  watch: {
    html: {
      handler: function (newVal) {
        if (newVal) {
          this.init();
        }
      },
      immediate: true
    }
  },
  created() {
    this.$on('global-validate-result', result => {
      if (result) {
        this.getDataPromiseResolve(this.data);
      } else {
        this.getDataPromiseReject();
      }
    });
  },
  methods: {
    handleLoadSuccess(res) {
      this.loadStatus = 1;
      this.$emit('load-success', res);
    },
    handleLoadFail() {
      this.loadStatus = -1;
    },
    getData(validate) {
      return new Promise((resolve, reject) => {
        this.getDataPromiseResolve = resolve;
        this.getDataPromiseReject = reject;
        if (!validate) {
          resolve(this.data);
        } else {
          // 执行校验逻辑
          this.validateRegion(`[name='${this.formName}']`).then(errorItems => {
            if (errorItems.length > 0) {
              reject(errorItems);
            } else {
              this.broadcast('HtGlobalValidate', 'global-validate');
            }
          });
        }
      });
    },
    init() {
      this.loadStatus = 1;
      external_vue_default.a.component('ht-runtime-template', {
        componentName: 'HtRuntimeTemplate',
        mixins: [onlineHottable, onlineSubtable],
        props: {
          html: String,
          data: Object,
          permission: Object,
          initFillData: {
            type: Boolean,
            default: false
          },
          isView: {
            type: Boolean,
            default: false
          },
          isPrint: {
            type: Boolean,
            default: false
          },
          formKey: String,
          mobileMode: {
            type: Boolean,
            default: false
          },
          extendProp: {
            type: Object,
            default: () => {
              return {};
            }
          },
          isSupportMobile: {
            type: Boolean,
            default: false
          },
          instId: [String, Number],
          isPreview: {
            type: Boolean,
            default: false
          }
        },
        template: this.html
      });
    }
  }
});
// CONCATENATED MODULE: ./packages/OnlineForm/src/Form.vue?vue&type=script&lang=js
 /* harmony default export */ var src_Formvue_type_script_lang_js = (Formvue_type_script_lang_js); 
// EXTERNAL MODULE: ./packages/OnlineForm/src/Form.vue?vue&type=style&index=0&id=056f450a&prod&lang=scss
var Formvue_type_style_index_0_id_056f450a_prod_lang_scss = __webpack_require__("d2a8");

// EXTERNAL MODULE: ./packages/OnlineForm/src/Form.vue?vue&type=style&index=1&id=056f450a&prod&lang=scss&scoped=true
var Formvue_type_style_index_1_id_056f450a_prod_lang_scss_scoped_true = __webpack_require__("59e8");

// CONCATENATED MODULE: ./packages/OnlineForm/src/Form.vue







/* normalize component */

var Form_component = normalizeComponent(
  src_Formvue_type_script_lang_js,
  Formvue_type_template_id_056f450a_scoped_true_render,
  Formvue_type_template_id_056f450a_scoped_true_staticRenderFns,
  false,
  null,
  "056f450a",
  null
  
)

/* harmony default export */ var Form = (Form_component.exports);
// CONCATENATED MODULE: ./packages/OnlineForm/index.js

Form.install = function (Vue) {
  Vue.component(Form.name, Form);
};
/* harmony default export */ var OnlineForm = (Form);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"8bdeefa2-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/UserSelectorInput/src/main.vue?vue&type=template&id=639dacfe
var mainvue_type_template_id_639dacfe_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.permission != 'n')?_c('div',{class:[
    'inputs',
    _vm.formInputsDisplay == 'block'
      ? 'ht-form-inputs__block'
      : 'ht-form-inputs__inline' ]},[_c('ht-user-selector',{ref:"userSelectorEl",attrs:{"title":_vm.title,"form-inputs-display":_vm.formInputsDisplay,"validate":_vm.validate,"name":_vm.inputName,"placeholder":_vm.placeholder,"permission":_vm.permission_sub,"single":_vm.single,"config":_vm.config,"data":_vm.data,"pagination":_vm.pagination,"append-to-body":_vm.appendToBody,"select-label":"fullname","quick-search-props":_vm.quickSearchProps,"mode":_vm.mode},on:{"filter-type-change":_vm.handleFilterTypeChange,"valueChange":_vm.valueChange,"change":_vm.handleChange,"search":_vm.handleSearch,"reset":_vm.handleReset,"page-change":_vm.handlePageChange,"size-change":_vm.handleSizeChange,"contact-group-change":_vm.loadContactUser,"load-org-user":_vm.loadOrgUser,"load-policy-user":_vm.loadPolicyUser,"load-role-user":_vm.loadRoleUser,"row-click":function (row) { return _vm.$emit('row-click', row); },"select-data":function (data) { return _vm.$emit('select-data', data); }},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:"value"}})],1):_vm._e()}
var mainvue_type_template_id_639dacfe_staticRenderFns = []


// CONCATENATED MODULE: ./packages/UserSelectorInput/src/main.vue?vue&type=template&id=639dacfe

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/UserSelectorInput/src/main.vue?vue&type=script&lang=js
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//







/* harmony default export */ var UserSelectorInput_src_mainvue_type_script_lang_js = ({
  name: 'HtUserSelectorInput',
  mixins: [mixins_permission["a" /* default */], inputName["a" /* default */], mixins_form["a" /* default */], mobileMode["a" /* default */]],
  props: {
    value: String,
    single: Boolean,
    config: Object,
    appendToBody: {
      type: Boolean,
      default: false
    },
    selectCurrent: {
      type: Boolean,
      default: false
    },
    title: {
      type: String,
      default() {
        return Object(locale["c" /* t */])('ht.selector.userTitle');
      }
    },
    quickSearchProps: {
      type: String,
      default: 'fullname,account'
    },
    pageSize: {
      type: Number,
      default: 20
    }
  },
  data() {
    return {
      mode: null,
      // 搜索模式
      filterType: 'contact',
      //过滤类型(contact:联系人，org:组织，policy:策略，role:角色)
      currentGroup: null,
      currentOrg: null,
      currentPolicy: null,
      currentRole: null,
      searchWord: null,
      data: [],
      pagination: {
        page: 1,
        pageSize: this.pageSize,
        total: 0,
        showTotal: true
      }
    };
  },
  mounted() {
    // 没有值而且需要显示当前用户
    if (!this.value && this.selectCurrent) {
      this.$requestConfig.getCurrentUser().then(currentUserDetail => {
        this.initCurrentValue(currentUserDetail);
      });
    }
    if (!this.data || this.data.length == 0) {
      this.handleLoad();
    }
  },
  methods: {
    handleSearch(word) {
      if (!word || !word.trim()) {
        this.handleReset();
        return;
      }
      // 存储搜索关键词
      this.searchWord = word;
      // 进入搜索模式
      this.mode = 'search';
      this.handleLoad();
    },
    handleReset() {
      // 置空搜索关键词
      this.searchWord = null;
      // 退出搜索模式
      this.mode = null;
      this.handleLoad();
    },
    handlePageChange(page) {
      // 搜索模式下或者未进行过滤时，查询所有数据
      if (this.mode != 'filter') {
        this.handleLoad(page);
      } else {
        // 过滤模式下，根据过滤类型查询数据
        switch (this.filterType) {
          case 'contact':
            this.loadContactUser(this.currentGroup, page);
            break;
          case 'org':
            this.loadOrgUser(this.currentOrg, page);
            break;
          case 'policy':
            this.loadPolicyUser(this.currentPolicy, page);
            break;
          case 'role':
            this.loadRoleUser(this.currentRole, page);
            break;
        }
      }
    },
    handleSizeChange(size) {
      this.pagination.pageSize = size;
      this.handlePageChange(this.pagination.page);
    },
    // 处理过滤类型变化的事件
    handleFilterTypeChange(type) {
      this.filterType = type;
    },
    getQueryFilter(page) {
      const queryFilter = {
        querys: [],
        pageBean: this.getPageBean(page)
      };
      if (this.quickSearchProps && this.quickSearchProps.constructor == String && this.searchWord) {
        const props = this.quickSearchProps.split(',');
        props.forEach(item => {
          let query = {
            property: item,
            value: this.searchWord,
            group: 'main',
            operation: 'LIKE',
            relation: 'OR'
          };
          queryFilter.querys.push(query);
        });
      }
      return queryFilter;
    },
    // 获取查询参数中的分页信息(不传page时默认查询第一页)
    getPageBean(page) {
      const pageBean = {
        ...this.pagination
      };
      delete pageBean['total'];
      pageBean.page = page || 1;
      return pageBean;
    },
    handleLoad(page) {
      const param = this.getQueryFilter(page);
      this.data = this.data || [];
      this.loadAllUser(param);
    },
    initCurrentValue(user) {
      this.$emit('input', user.fullname);
      // 同时更新绑定的字段
      if (this.config) {
        // 配置了id的绑定关系，则回填到指定属性上
        if (this.config.hasOwnProperty('id')) {
          utils["a" /* default */].setValueByConfigKey(this, this.config, 'id', user.id);
        }
        // 配置了fullname的绑定关系，则回填到指定的属性上
        if (this.config.hasOwnProperty('fullname')) {
          utils["a" /* default */].setValueByConfigKey(this, this.config, 'fullname', user.fullname);
        }
        // 配置了account的绑定关系，则回填到指定的属性上
        if (this.config.hasOwnProperty('account')) {
          utils["a" /* default */].setValueByConfigKey(this, this.config, 'account', user.account);
        }
        if (this.config.hasOwnProperty('mobile')) {
          utils["a" /* default */].setValueByConfigKey(this, this.config, 'mobile', user.mobile);
        }
        if (this.config.hasOwnProperty('email')) {
          utils["a" /* default */].setValueByConfigKey(this, this.config, 'email', user.email);
        }
      }
    },
    // 加载全部用户
    loadAllUser(param) {
      this.$requestConfig.getUserList(param).then(data => {
        const {
          rows,
          page,
          pageSize,
          total
        } = data;
        if (this.isMobile && page > 1) {
          this.data = this.data.concat(rows);
        } else {
          this.data = rows;
        }
        const paginationResult = {
          page,
          pageSize,
          total
        };
        this.$set(this, 'pagination', paginationResult);
      });
    },
    // 加载常用联系人
    loadContactUser(group, page) {
      this.mode = 'filter';
      this.currentGroup = group;
      const param = {
        pageBean: this.getPageBean(page)
      };
      if (group != 'all') {
        param.contactGroupId = group;
      }
      if (this.$requestConfig.getContactUser) {
        this.$requestConfig.getContactUser(param).then(data => {
          if (data.state && data.value) {
            const {
              rows,
              page,
              pageSize,
              total
            } = data.value;
            if (this.isMobile && page > 1) {
              this.data = this.data.concat(rows);
            } else {
              this.data = rows;
            }
            const paginationResult = {
              page,
              pageSize,
              total
            };
            this.$set(this, 'pagination', paginationResult);
          }
        });
      }
    },
    valueChange(value) {
      this.$emit('input', value);
    },
    // 通过组织查询用户
    loadOrgUser(org, page) {
      this.mode = 'filter';
      this.currentOrg = org;
      let queryFilter = {
        pageBean: this.getPageBean(page),
        querys: []
      };
      let query = {
        property: 'uo.path_',
        value: org.path,
        group: 'main',
        operation: 'RIGHT_LIKE',
        relation: 'AND'
      };
      if (org.path) {
        queryFilter.querys.push(query);
      }
      this.loadAllUser(queryFilter);
    },
    // 按照角色查询用户
    loadRoleUser(role, page) {
      this.mode = 'filter';
      this.currentRole = role;
      let queryFilter = {
        pageBean: this.getPageBean(page),
        querys: []
      };
      if (role) {
        queryFilter.params = {
          role_id_: role
        };
      }
      this.loadAllUser(queryFilter);
    },
    // 通过策略查询用户
    loadPolicyUser(params, page) {
      this.mode = 'filter';
      this.currentOrg = params;
      let queryFilter = {
        pageBean: this.getPageBean(page),
        querys: []
      };
      let query = null;
      const {
        type,
        ids,
        paths
      } = params;
      switch (type) {
        // 所在主部门
        case '1':
          query = {
            property: 'uo.id_',
            value: params.id,
            group: 'main',
            operation: 'EQUAL',
            relation: 'AND'
          };
          queryFilter.querys.push(query);
          this.loadAllUser(queryFilter);
          break;
        // 所在主部门及下级部门
        case '2':
          query = {
            property: 'uo.path_',
            value: params.path,
            group: 'main',
            operation: 'RIGHT_LIKE',
            relation: 'AND'
          };
          queryFilter.querys.push(query);
          this.loadAllUser(queryFilter);
          break;
        // 所在部门
        case '3':
          ids.forEach(id => {
            query = {
              property: 'uo.id_',
              value: id,
              group: 'main',
              operation: 'EQUAL',
              relation: 'OR'
            };
            queryFilter.querys.push(query);
          });
          this.loadAllUser(queryFilter);
          break;
        // 所在部门及下级部门
        case '4':
          paths.forEach(path => {
            query = {
              property: 'uo.path_',
              value: path,
              group: 'main',
              operation: 'RIGHT_LIKE',
              relation: 'OR'
            };
            queryFilter.querys.push(query);
          });
          this.loadAllUser(queryFilter);
          break;
      }
    },
    handleChange(data) {
      this.$emit('change', data);
    }
  }
});
// CONCATENATED MODULE: ./packages/UserSelectorInput/src/main.vue?vue&type=script&lang=js
 /* harmony default export */ var packages_UserSelectorInput_src_mainvue_type_script_lang_js = (UserSelectorInput_src_mainvue_type_script_lang_js); 
// CONCATENATED MODULE: ./packages/UserSelectorInput/src/main.vue





/* normalize component */

var UserSelectorInput_src_main_component = normalizeComponent(
  packages_UserSelectorInput_src_mainvue_type_script_lang_js,
  mainvue_type_template_id_639dacfe_render,
  mainvue_type_template_id_639dacfe_staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* harmony default export */ var UserSelectorInput_src_main = (UserSelectorInput_src_main_component.exports);
// CONCATENATED MODULE: ./packages/UserSelectorInput/index.js

UserSelectorInput_src_main.install = function (Vue) {
  Vue.component(UserSelectorInput_src_main.name, UserSelectorInput_src_main);
};
/* harmony default export */ var UserSelectorInput = (UserSelectorInput_src_main);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"8bdeefa2-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/OrgSelectorInput/src/OrgSelectorInput.vue?vue&type=template&id=88711d18
var OrgSelectorInputvue_type_template_id_88711d18_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.permission != 'n')?_c('div',{class:[
    'inputs',
    _vm.formInputsDisplay == 'block'
      ? 'ht-form-inputs__block'
      : 'ht-form-inputs__inline' ]},[_c('ht-org-selector',{attrs:{"title":_vm.title,"form-inputs-display":_vm.formInputsDisplay,"validate":_vm.validate,"name":_vm.inputName,"placeholder":_vm.placeholder,"permission":_vm.permission_sub,"single":_vm.single,"config":_vm.config,"data":_vm.data,"pagination":_vm.pagination,"append-to-body":_vm.appendToBody,"select-label":_vm.selectLabel,"quick-search-props":_vm.quickSearchProps,"mode":_vm.mode,"show-path":_vm.showPath},on:{"filter-type-change":_vm.handleFilterTypeChange,"valueChange":_vm.valueChange,"change":_vm.handleChange,"search":_vm.handleSearch,"reset":_vm.handleReset,"page-change":_vm.handlePageChange,"size-change":_vm.handleSizeChange,"load-org":_vm.loadOrg,"load-policy-org":_vm.loadPolicyOrg,"row-click":function (row) { return _vm.$emit('row-click', row); },"select-data":function (data) { return _vm.$emit('select-data', data); }},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:"value"}})],1):_vm._e()}
var OrgSelectorInputvue_type_template_id_88711d18_staticRenderFns = []


// CONCATENATED MODULE: ./packages/OrgSelectorInput/src/OrgSelectorInput.vue?vue&type=template&id=88711d18

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/OrgSelectorInput/src/OrgSelectorInput.vue?vue&type=script&lang=js
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//







/* harmony default export */ var OrgSelectorInputvue_type_script_lang_js = ({
  name: 'HtOrgSelectorInput',
  mixins: [mixins_permission["a" /* default */], inputName["a" /* default */], mixins_form["a" /* default */], mobileMode["a" /* default */]],
  props: {
    value: String,
    single: Boolean,
    config: Object,
    appendToBody: {
      type: Boolean,
      default: false
    },
    selectCurrent: {
      type: Boolean,
      default: false
    },
    title: {
      type: String,
      default() {
        return Object(locale["c" /* t */])('ht.selector.orgTitle');
      }
    },
    quickSearchProps: {
      type: String,
      default: 'name,code,pathName'
    },
    pageSize: {
      type: Number,
      default: 20
    },
    showPath: {
      type: Boolean,
      default: false
    }
  },
  data() {
    return {
      mode: null,
      // 搜索模式
      filterType: 'org',
      //过滤类型(org:组织，policy:策略)
      currentGroup: null,
      currentOrg: null,
      currentPolicy: null,
      searchWord: null,
      data: [],
      pagination: {
        page: 1,
        pageSize: this.pageSize,
        total: 0,
        showTotal: true
      }
    };
  },
  computed: {
    selectLabel() {
      return this.showPath ? 'pathName' : 'name';
    }
  },
  mounted() {
    // 没有值而且需要显示当前组织
    if (!this.value && this.selectCurrent) {
      this.$requestConfig.getCurrentUser('org').then(currentUserOrg => {
        this.initCurrentOrg(currentUserOrg);
      });
    }
    if (!this.data || this.data.length == 0) {
      this.handleLoad();
    }
  },
  methods: {
    handleSearch(word) {
      if (!word || !word.trim()) {
        this.handleReset();
        return;
      }
      // 存储搜索关键词
      this.searchWord = word;
      // 进入搜索模式
      this.mode = 'search';
      this.handleLoad();
    },
    handleReset() {
      // 置空搜索关键词
      this.searchWord = null;
      // 退出搜索模式
      this.mode = null;
      this.handleLoad();
    },
    handlePageChange(page) {
      // 搜索模式下或者未进行过滤时，查询所有数据
      if (this.mode != 'filter') {
        this.handleLoad(page);
      } else {
        // 过滤模式下，根据过滤类型查询数据
        switch (this.filterType) {
          case 'org':
            this.loadOrg(this.currentOrg, page);
            break;
          case 'policy':
            this.loadPolicyOrg(this.currentPolicy, page);
            break;
        }
      }
    },
    handleSizeChange(size) {
      this.pagination.pageSize = size;
      this.handlePageChange(this.pagination.page);
    },
    // 处理过滤类型变化的事件
    handleFilterTypeChange(type) {
      this.filterType = type;
    },
    getQueryFilter(page) {
      const queryFilter = {
        querys: [],
        pageBean: this.getPageBean(page)
      };
      if (this.quickSearchProps && this.quickSearchProps.constructor == String && this.searchWord) {
        const props = this.quickSearchProps.split(',');
        props.forEach(item => {
          let query = {
            property: item,
            value: this.searchWord,
            group: 'main',
            operation: 'LIKE',
            relation: 'OR'
          };
          queryFilter.querys.push(query);
        });
      }
      return queryFilter;
    },
    // 获取查询参数中的分页信息(不传page时默认查询第一页)
    getPageBean(page) {
      const pageBean = {
        ...this.pagination
      };
      delete pageBean['total'];
      pageBean.page = page || 1;
      return pageBean;
    },
    handleLoad(page) {
      const param = this.getQueryFilter(page);
      this.data = this.data || [];
      this.loadAllOrg(param);
    },
    initCurrentOrg(org) {
      if (org && this.config) {
        // 配置了id的绑定关系，则回填到指定属性上
        if (this.config.hasOwnProperty('id')) {
          utils["a" /* default */].setValueByConfigKey(this, this.config, 'id', org.orgId);
        }
        // 配置了code的绑定关系，则回填到指定的属性上
        if (this.config.hasOwnProperty('code')) {
          utils["a" /* default */].setValueByConfigKey(this, this.config, 'code', org.orgCode);
        }
        // 配置了name的绑定关系，则回填到指定的属性上
        if (this.config.hasOwnProperty('name')) {
          utils["a" /* default */].setValueByConfigKey(this, this.config, 'name', org.orgName);
        }
        // 配置了pathName的绑定关系，则回填到指定的属性上
        if (this.config.hasOwnProperty('pathName')) {
          utils["a" /* default */].setValueByConfigKey(this, this.config, 'pathName', org.pathName);
        }
      }
      org && setTimeout(() => {
        this.$emit('input', this.showPath ? org.pathName : org.orgName);
      });
    },
    // 通过组织查询用户
    loadOrg(org, page) {
      this.mode = 'filter';
      this.currentOrg = org;
      let queryFilter = {
        pageBean: this.getPageBean(page),
        querys: []
      };
      let query = {
        property: 'path',
        value: org.path,
        group: 'main',
        operation: 'RIGHT_LIKE',
        relation: 'AND'
      };
      if (org.path) {
        queryFilter.querys.push(query);
      }
      this.loadAllOrg(queryFilter);
    },
    // 通过策略查询用户
    loadPolicyOrg(params, page) {
      this.mode = 'filter';
      this.currentOrg = params;
      let queryFilter = {
        pageBean: this.getPageBean(page),
        querys: []
      };
      let query = null;
      const {
        type,
        ids,
        paths
      } = params;
      switch (type) {
        // 所在主部门
        case '1':
          query = {
            property: 'id_',
            value: params.id,
            group: 'main',
            operation: 'EQUAL',
            relation: 'AND'
          };
          queryFilter.querys.push(query);
          this.loadAllOrg(queryFilter);
          break;
        // 所在主部门及下级部门
        case '2':
          query = {
            property: 'path_',
            value: params.path,
            group: 'main',
            operation: 'RIGHT_LIKE',
            relation: 'AND'
          };
          queryFilter.querys.push(query);
          this.loadAllOrg(queryFilter);
          break;
        // 所在部门
        case '3':
          ids.forEach(id => {
            query = {
              property: 'id_',
              value: id,
              group: 'main',
              operation: 'EQUAL',
              relation: 'OR'
            };
            queryFilter.querys.push(query);
          });
          this.loadAllOrg(queryFilter);
          break;
        // 所在部门及下级部门
        case '4':
          paths.forEach(path => {
            query = {
              property: 'path_',
              value: path,
              group: 'main',
              operation: 'RIGHT_LIKE',
              relation: 'OR'
            };
            queryFilter.querys.push(query);
          });
          this.loadAllOrg(queryFilter);
          break;
      }
    },
    // 加载全部组织
    loadAllOrg(param) {
      this.$requestConfig.getOrgList(param).then(data => {
        const {
          rows,
          page,
          pageSize,
          total
        } = data;
        if (this.isMobile && page > 1) {
          this.data = this.data.concat(rows);
        } else {
          this.data = rows;
        }
        const paginationResult = {
          page,
          pageSize,
          total
        };
        this.$set(this, 'pagination', paginationResult);
      });
    },
    valueChange(value) {
      this.$emit('input', value);
    },
    handleChange(data) {
      this.$emit('change', data);
    }
  }
});
// CONCATENATED MODULE: ./packages/OrgSelectorInput/src/OrgSelectorInput.vue?vue&type=script&lang=js
 /* harmony default export */ var src_OrgSelectorInputvue_type_script_lang_js = (OrgSelectorInputvue_type_script_lang_js); 
// CONCATENATED MODULE: ./packages/OrgSelectorInput/src/OrgSelectorInput.vue





/* normalize component */

var OrgSelectorInput_component = normalizeComponent(
  src_OrgSelectorInputvue_type_script_lang_js,
  OrgSelectorInputvue_type_template_id_88711d18_render,
  OrgSelectorInputvue_type_template_id_88711d18_staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* harmony default export */ var OrgSelectorInput = (OrgSelectorInput_component.exports);
// CONCATENATED MODULE: ./packages/OrgSelectorInput/index.js

OrgSelectorInput.install = function (Vue) {
  Vue.component(OrgSelectorInput.name, OrgSelectorInput);
};
/* harmony default export */ var packages_OrgSelectorInput = (OrgSelectorInput);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"8bdeefa2-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/RoleSelectorInput/src/main.vue?vue&type=template&id=89d4024e
var mainvue_type_template_id_89d4024e_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.permission != 'n')?_c('div',{class:[
    'inputs',
    _vm.formInputsDisplay == 'block'
      ? 'ht-form-inputs__block'
      : 'ht-form-inputs__inline' ]},[_c('ht-role-selector',{attrs:{"title":_vm.title,"form-inputs-display":_vm.formInputsDisplay,"validate":_vm.validate,"select-label":"name","placeholder":_vm.placeholder,"permission":_vm.permission_sub,"single":_vm.single,"config":_vm.config,"name":_vm.inputName,"data":_vm.data,"pagination":_vm.pagination,"append-to-body":_vm.appendToBody,"quick-search-props":_vm.quickSearchProps,"mode":_vm.mode},on:{"valueChange":_vm.valueChange,"change":_vm.handleChange,"search":_vm.handleSearch,"reset":_vm.handleReset,"page-change":_vm.handlePageChange,"size-change":_vm.handleSizeChange,"row-click":function (row) { return _vm.$emit('row-click', row); },"select-data":function (data) { return _vm.$emit('select-data', data); }},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:"value"}})],1):_vm._e()}
var mainvue_type_template_id_89d4024e_staticRenderFns = []


// CONCATENATED MODULE: ./packages/RoleSelectorInput/src/main.vue?vue&type=template&id=89d4024e

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/RoleSelectorInput/src/main.vue?vue&type=script&lang=js
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//






/* harmony default export */ var RoleSelectorInput_src_mainvue_type_script_lang_js = ({
  name: 'HtRoleSelectorInput',
  mixins: [mixins_permission["a" /* default */], inputName["a" /* default */], mixins_form["a" /* default */], mobileMode["a" /* default */]],
  props: {
    value: String,
    single: Boolean,
    config: Object,
    appendToBody: {
      type: Boolean,
      default: false
    },
    title: {
      type: String,
      default() {
        return Object(locale["c" /* t */])('ht.selector.roleTitle');
      }
    },
    pageSize: {
      type: Number,
      default: 20
    },
    quickSearchProps: {
      type: String,
      default: 'name,code'
    }
  },
  data() {
    return {
      data: [],
      mode: 'search',
      // 搜索模式
      searchWord: null,
      pagination: {
        page: 1,
        pageSize: this.pageSize,
        total: 0,
        showTotal: true
      }
    };
  },
  mounted() {
    if (!this.data || this.data.length == 0) {
      this.handleLoad();
    }
  },
  methods: {
    getQueryFilter(page) {
      const queryFilter = {
        querys: [],
        pageBean: this.getPageBean(page)
      };
      if (this.quickSearchProps && this.quickSearchProps.constructor == String && this.searchWord) {
        const props = this.quickSearchProps.split(',');
        props.forEach(item => {
          let query = {
            property: item,
            value: this.searchWord,
            group: 'main',
            operation: 'LIKE',
            relation: 'OR'
          };
          queryFilter.querys.push(query);
        });
      }
      return queryFilter;
    },
    handleLoad(page) {
      const param = this.getQueryFilter(page);
      this.data = this.data || [];
      this.loadAllRole(param);
    },
    // 加载全部角色
    loadAllRole(param) {
      this.$requestConfig.getRoleList(param).then(data => {
        const {
          rows,
          page,
          pageSize,
          total
        } = data;
        if (this.isMobile && page > 1) {
          this.data = this.data.concat(rows);
        } else {
          this.data = rows;
        }
        const paginationResult = {
          page,
          pageSize,
          total
        };
        this.$set(this, 'pagination', paginationResult);
      });
    },
    valueChange(value) {
      this.$emit('input', value);
    },
    handleChange(data) {
      this.$emit('change', data);
    },
    handleSearch(word) {
      if (!word || !word.trim()) {
        this.handleReset();
        return;
      }
      // 存储搜索关键词
      this.searchWord = word;
      // 进入搜索模式
      this.mode = 'search';
      this.handleLoad();
    },
    handleReset() {
      // 置空搜索关键词
      this.searchWord = null;
      // 退出搜索模式
      this.mode = 'search';
      this.handleLoad();
    },
    handlePageChange(page) {
      // 搜索模式下或者未进行过滤时，查询所有数据
      this.handleLoad(page);
    },
    handleSizeChange(size) {
      this.pagination.pageSize = size;
      this.handlePageChange(this.pagination.page);
    },
    // 获取查询参数中的分页信息(不传page时默认查询第一页)
    getPageBean(page) {
      const pageBean = {
        ...this.pagination
      };
      delete pageBean['total'];
      pageBean.page = page || 1;
      return pageBean;
    }
  }
});
// CONCATENATED MODULE: ./packages/RoleSelectorInput/src/main.vue?vue&type=script&lang=js
 /* harmony default export */ var packages_RoleSelectorInput_src_mainvue_type_script_lang_js = (RoleSelectorInput_src_mainvue_type_script_lang_js); 
// CONCATENATED MODULE: ./packages/RoleSelectorInput/src/main.vue





/* normalize component */

var RoleSelectorInput_src_main_component = normalizeComponent(
  packages_RoleSelectorInput_src_mainvue_type_script_lang_js,
  mainvue_type_template_id_89d4024e_render,
  mainvue_type_template_id_89d4024e_staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* harmony default export */ var RoleSelectorInput_src_main = (RoleSelectorInput_src_main_component.exports);
// CONCATENATED MODULE: ./packages/RoleSelectorInput/index.js

RoleSelectorInput_src_main.install = function (Vue) {
  Vue.component(RoleSelectorInput_src_main.name, RoleSelectorInput_src_main);
};
/* harmony default export */ var RoleSelectorInput = (RoleSelectorInput_src_main);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"8bdeefa2-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/PostSelectorInput/src/PostSelectorInput.vue?vue&type=template&id=49fea40c
var PostSelectorInputvue_type_template_id_49fea40c_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.permission != 'n')?_c('div',{class:[
    'inputs',
    _vm.formInputsDisplay == 'block'
      ? 'ht-form-inputs__block'
      : 'ht-form-inputs__inline' ]},[_c('ht-post-selector',{attrs:{"title":_vm.title,"form-inputs-display":_vm.formInputsDisplay,"validate":_vm.validate,"name":_vm.inputName,"placeholder":_vm.placeholder,"permission":_vm.permission_sub,"single":_vm.single,"config":_vm.config,"data":_vm.data,"table-columns":_vm.tableColumns,"pagination":_vm.pagination,"demensions":_vm.demensions,"default-demension":_vm.defaultDemension,"orgs":_vm.orgs,"append-to-body":_vm.appendToBody,"show-switch-dimension":_vm.showSwitchDimension,"select-label":"name","quick-search-props":_vm.quickSearchProps,"mode":_vm.mode},on:{"filter-type-change":_vm.handleFilterTypeChange,"valueChange":_vm.valueChange,"search":_vm.handleSearch,"reset":_vm.handleReset,"page-change":_vm.handlePageChange,"size-change":_vm.handleSizeChange,"load-org-post":_vm.loadOrgPost,"load-policy-post":_vm.loadPolicyPost,"change":_vm.handleChange,"row-click":function (row) { return _vm.$emit('row-click', row); },"select-data":function (data) { return _vm.$emit('select-data', data); }},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:"value"}})],1):_vm._e()}
var PostSelectorInputvue_type_template_id_49fea40c_staticRenderFns = []


// CONCATENATED MODULE: ./packages/PostSelectorInput/src/PostSelectorInput.vue?vue&type=template&id=49fea40c

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/PostSelectorInput/src/PostSelectorInput.vue?vue&type=script&lang=js
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//







/* harmony default export */ var PostSelectorInputvue_type_script_lang_js = ({
  name: 'HtPostSelectorInput',
  mixins: [mixins_permission["a" /* default */], inputName["a" /* default */], mixins_form["a" /* default */], mobileMode["a" /* default */]],
  props: {
    value: String,
    single: Boolean,
    config: Object,
    appendToBody: {
      type: Boolean,
      default: false
    },
    selectCurrent: Boolean,
    title: {
      type: String,
      default() {
        return Object(locale["c" /* t */])('ht.selector.postTitle');
      }
    },
    showSwitchDimension: {
      type: Boolean,
      default: true
    },
    pageSize: {
      type: Number,
      default: 20
    },
    quickSearchProps: {
      type: String,
      default: 'p.pos_name_,p.code_,o.path_name_'
    }
  },
  data() {
    return {
      data: [],
      demensions: [],
      defaultDemension: null,
      orgs: [],
      tableColumns: [{
        prop: 'name',
        label: this.$t('ht.selector.name')
      }, {
        prop: 'code',
        label: this.$t('ht.selector.code')
      }, {
        prop: 'orgName',
        label: this.$t('ht.selector.orgName')
      }],
      orgLength: 0,
      createQuery: {},
      mode: null,
      // 搜索模式
      filterType: 'org',
      //过滤类型(org:组织，policy:策略)
      currentGroup: null,
      currentOrg: null,
      currentPolicy: null,
      searchWord: null,
      pagination: {
        page: 1,
        pageSize: this.pageSize,
        total: 0,
        showTotal: true
      }
    };
  },
  mounted() {
    if (!this.value && this.selectCurrent) {
      this.$requestConfig.getCurrentUser('post').then(currentUserPost => {
        this.initCurrentPost(currentUserPost);
      });
    }
    if (!this.data || this.data.length == 0) {
      this.handleLoad();
    }
  },
  methods: {
    initCurrentPost(post) {
      post && post.postName && this.$emit('input', post.postName);
      if (post && this.config) {
        // 配置了id的绑定关系，则回填到指定属性上
        if (this.config.hasOwnProperty('id')) {
          utils["a" /* default */].setValueByConfigKey(this, this.config, 'id', post.postId);
        }
        // 配置了code的绑定关系，则回填到指定的属性上
        if (this.config.hasOwnProperty('code')) {
          utils["a" /* default */].setValueByConfigKey(this, this.config, 'code', post.postCode);
        }
        // 配置了name的绑定关系，则回填到指定的属性上
        if (this.config.hasOwnProperty('name')) {
          utils["a" /* default */].setValueByConfigKey(this, this.config, 'name', post.postName);
        }
      }
    },
    valueChange(value) {
      this.$emit('input', value);
    },
    handleChange(data) {
      this.$emit('change', data);
    },
    handleSearch(word) {
      if (!word || !word.trim()) {
        this.handleReset();
        return;
      }
      // 存储搜索关键词
      this.searchWord = word;
      // 进入搜索模式
      this.mode = 'search';
      this.handleLoad();
    },
    handleReset() {
      // 置空搜索关键词
      this.searchWord = null;
      // 退出搜索模式
      this.mode = null;
      this.handleLoad();
    },
    handlePageChange(page) {
      // 搜索模式下或者未进行过滤时，查询所有数据
      if (this.mode != 'filter') {
        this.handleLoad(page);
      } else {
        // 过滤模式下，根据过滤类型查询数据
        switch (this.filterType) {
          case 'org':
            this.loadOrgPost(this.currentOrg, page);
            break;
          case 'policy':
            this.loadPolicyPost(this.currentPolicy, page);
            break;
        }
      }
    },
    handleSizeChange(size) {
      this.pagination.pageSize = size;
      this.handlePageChange(this.pagination.page);
    },
    // 处理过滤类型变化的事件
    handleFilterTypeChange(type) {
      this.filterType = type;
    },
    getQueryFilter(page) {
      const queryFilter = {
        querys: [],
        pageBean: this.getPageBean(page)
      };
      if (this.quickSearchProps && this.quickSearchProps.constructor == String && this.searchWord) {
        const props = this.quickSearchProps.split(',');
        props.forEach(item => {
          let query = {
            property: item,
            value: this.searchWord,
            group: 'main',
            operation: 'LIKE',
            relation: 'OR'
          };
          queryFilter.querys.push(query);
        });
      }
      return queryFilter;
    },
    // 获取查询参数中的分页信息(不传page时默认查询第一页)
    getPageBean(page) {
      const pageBean = {
        ...this.pagination
      };
      delete pageBean['total'];
      pageBean.page = page || 1;
      return pageBean;
    },
    handleLoad(page) {
      const param = this.getQueryFilter(page);
      this.data = this.data || [];
      this.loadAllPost(param);
    },
    // 加载全部岗位
    loadAllPost(param) {
      this.$requestConfig.getPostList(param).then(data => {
        const {
          rows,
          page,
          pageSize,
          total
        } = data;
        if (this.isMobile && page > 1) {
          this.data = this.data.concat(rows);
        } else {
          this.data = rows;
        }
        const paginationResult = {
          page,
          pageSize,
          total
        };
        this.$set(this, 'pagination', paginationResult);
      });
    },
    // 通过组织查询岗位
    loadOrgPost(org, page) {
      this.mode = 'filter';
      this.currentOrg = org;
      let queryFilter = {
        pageBean: this.getPageBean(page),
        querys: []
      };
      let query = {
        property: 'path_',
        value: org.path,
        group: 'main',
        operation: 'RIGHT_LIKE',
        relation: 'AND'
      };
      if (org.path) {
        queryFilter.querys.push(query);
      }
      this.loadAllPost(queryFilter);
    },
    // 通过策略查询岗位
    loadPolicyPost(params, page) {
      this.mode = 'filter';
      this.currentOrg = params;
      let queryFilter = {
        pageBean: this.getPageBean(page),
        querys: []
      };
      let query = null;
      const {
        type,
        ids,
        paths
      } = params;
      switch (type) {
        // 所在主部门
        case '1':
          query = {
            property: 'o.id_',
            value: params.id,
            group: 'main',
            operation: 'EQUAL',
            relation: 'AND'
          };
          queryFilter.querys.push(query);
          this.loadAllPost(queryFilter);
          break;
        // 所在主部门及下级部门
        case '2':
          query = {
            property: 'o.path_',
            value: params.path,
            group: 'main',
            operation: 'RIGHT_LIKE',
            relation: 'AND'
          };
          queryFilter.querys.push(query);
          this.loadAllPost(queryFilter);
          break;
        // 所在部门
        case '3':
          ids.forEach(id => {
            query = {
              property: 'o.id_',
              value: id,
              group: 'main',
              operation: 'EQUAL',
              relation: 'OR'
            };
            queryFilter.querys.push(query);
          });
          this.loadAllPost(queryFilter);
          break;
        // 所在部门及下级部门
        case '4':
          paths.forEach(path => {
            query = {
              property: 'o.path_',
              value: path,
              group: 'main',
              operation: 'RIGHT_LIKE',
              relation: 'OR'
            };
            queryFilter.querys.push(query);
          });
          this.loadAllPost(queryFilter);
          break;
      }
    }
  }
});
// CONCATENATED MODULE: ./packages/PostSelectorInput/src/PostSelectorInput.vue?vue&type=script&lang=js
 /* harmony default export */ var src_PostSelectorInputvue_type_script_lang_js = (PostSelectorInputvue_type_script_lang_js); 
// CONCATENATED MODULE: ./packages/PostSelectorInput/src/PostSelectorInput.vue





/* normalize component */

var PostSelectorInput_component = normalizeComponent(
  src_PostSelectorInputvue_type_script_lang_js,
  PostSelectorInputvue_type_template_id_49fea40c_render,
  PostSelectorInputvue_type_template_id_49fea40c_staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* harmony default export */ var PostSelectorInput = (PostSelectorInput_component.exports);
// CONCATENATED MODULE: ./packages/PostSelectorInput/index.js

PostSelectorInput.install = function (Vue) {
  Vue.component(PostSelectorInput.name, PostSelectorInput);
};
/* harmony default export */ var packages_PostSelectorInput = (PostSelectorInput);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"8bdeefa2-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/JobSelectorInput/src/main.vue?vue&type=template&id=921bc442
var mainvue_type_template_id_921bc442_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.permission != 'n')?_c('div',{class:[
    'inputs',
    _vm.formInputsDisplay == 'block'
      ? 'ht-form-inputs__block'
      : 'ht-form-inputs__inline' ]},[_c('ht-job-selector',{attrs:{"title":_vm.title,"form-inputs-display":_vm.formInputsDisplay,"validate":_vm.validate,"select-label":"name","placeholder":_vm.placeholder,"permission":_vm.permission_sub,"single":_vm.single,"config":_vm.config,"name":_vm.inputName,"data":_vm.data,"pagination":_vm.pagination,"quick-search-props":_vm.quickSearchProps,"mode":_vm.mode,"append-to-body":_vm.appendToBody},on:{"valueChange":_vm.valueChange,"change":_vm.handleChange,"search":_vm.handleSearch,"reset":_vm.handleReset,"page-change":_vm.handlePageChange,"size-change":_vm.handleSizeChange,"row-click":function (row) { return _vm.$emit('row-click', row); },"select-data":function (data) { return _vm.$emit('select-data', data); }},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:"value"}})],1):_vm._e()}
var mainvue_type_template_id_921bc442_staticRenderFns = []


// CONCATENATED MODULE: ./packages/JobSelectorInput/src/main.vue?vue&type=template&id=921bc442

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/JobSelectorInput/src/main.vue?vue&type=script&lang=js
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//






/* harmony default export */ var JobSelectorInput_src_mainvue_type_script_lang_js = ({
  name: 'HtJobSelectorInput',
  mixins: [mixins_permission["a" /* default */], inputName["a" /* default */], mixins_form["a" /* default */], mobileMode["a" /* default */]],
  props: {
    value: String,
    single: Boolean,
    config: Object,
    appendToBody: {
      type: Boolean,
      default: false
    },
    title: {
      type: String,
      default() {
        return Object(locale["c" /* t */])('ht.selector.jobTitle');
      }
    },
    pageSize: {
      type: Number,
      default: 20
    },
    quickSearchProps: {
      type: String,
      default: 'name,code'
    }
  },
  data() {
    return {
      data: [],
      mode: 'search',
      // 搜索模式
      searchWord: null,
      pagination: {
        page: 1,
        pageSize: this.pageSize,
        total: 0,
        showTotal: true
      }
    };
  },
  mounted() {
    if (!this.data || this.data.length == 0) {
      this.handleLoad();
    }
  },
  methods: {
    getQueryFilter(page) {
      const queryFilter = {
        querys: [],
        pageBean: this.getPageBean(page)
      };
      if (this.quickSearchProps && this.quickSearchProps.constructor == String && this.searchWord) {
        const props = this.quickSearchProps.split(',');
        props.forEach(item => {
          let query = {
            property: item,
            value: this.searchWord,
            group: 'main',
            operation: 'LIKE',
            relation: 'OR'
          };
          queryFilter.querys.push(query);
        });
      }
      return queryFilter;
    },
    handleLoad(page) {
      const param = this.getQueryFilter(page);
      this.data = this.data || [];
      this.loadAllJob(param);
    },
    // 加载全部岗位
    loadAllJob(param) {
      this.$requestConfig.getJobList(param).then(data => {
        const {
          rows,
          page,
          pageSize,
          total
        } = data;
        if (this.isMobile && page > 1) {
          this.data = this.data.concat(rows);
        } else {
          this.data = rows;
        }
        const paginationResult = {
          page,
          pageSize,
          total
        };
        this.$set(this, 'pagination', paginationResult);
      });
    },
    valueChange(value) {
      this.$emit('input', value);
    },
    handleChange(data) {
      this.$emit('change', data);
    },
    handleSearch(word) {
      if (!word || !word.trim()) {
        this.handleReset();
        return;
      }
      // 存储搜索关键词
      this.searchWord = word;
      // 进入搜索模式
      this.mode = 'search';
      this.handleLoad();
    },
    handleReset() {
      // 置空搜索关键词
      this.searchWord = null;
      // 退出搜索模式
      this.mode = 'search';
      this.handleLoad();
    },
    handlePageChange(page) {
      // 搜索模式下或者未进行过滤时，查询所有数据
      this.handleLoad(page);
    },
    handleSizeChange(size) {
      this.pagination.pageSize = size;
      this.handlePageChange(this.pagination.page);
    },
    // 获取查询参数中的分页信息(不传page时默认查询第一页)
    getPageBean(page) {
      const pageBean = {
        ...this.pagination
      };
      delete pageBean['total'];
      pageBean.page = page || 1;
      return pageBean;
    }
  }
});
// CONCATENATED MODULE: ./packages/JobSelectorInput/src/main.vue?vue&type=script&lang=js
 /* harmony default export */ var packages_JobSelectorInput_src_mainvue_type_script_lang_js = (JobSelectorInput_src_mainvue_type_script_lang_js); 
// CONCATENATED MODULE: ./packages/JobSelectorInput/src/main.vue





/* normalize component */

var JobSelectorInput_src_main_component = normalizeComponent(
  packages_JobSelectorInput_src_mainvue_type_script_lang_js,
  mainvue_type_template_id_921bc442_render,
  mainvue_type_template_id_921bc442_staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* harmony default export */ var JobSelectorInput_src_main = (JobSelectorInput_src_main_component.exports);
// CONCATENATED MODULE: ./packages/JobSelectorInput/index.js

JobSelectorInput_src_main.install = function (Vue) {
  Vue.component(JobSelectorInput_src_main.name, JobSelectorInput_src_main);
};
/* harmony default export */ var JobSelectorInput = (JobSelectorInput_src_main);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"8bdeefa2-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/DimensionSelectorInput/src/main.vue?vue&type=template&id=0747cf60
var mainvue_type_template_id_0747cf60_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.permission != 'n')?_c('div',{class:[
    'inputs',
    _vm.formInputsDisplay == 'block'
      ? 'ht-form-inputs__block'
      : 'ht-form-inputs__inline' ]},[_c('ht-dimension-selector',{attrs:{"validate":_vm.validate,"select-label":"name","placeholder":_vm.placeholder,"permission":_vm.permission_sub,"single":_vm.single,"config":_vm.config,"name":_vm.inputName,"data":_vm.data,"pagination":_vm.pagination,"append-to-body":_vm.appendToBody,"quick-search-props":_vm.quickSearchProps,"mode":_vm.mode},on:{"valueChange":_vm.valueChange,"change":_vm.handleChange,"search":_vm.handleSearch,"reset":_vm.handleReset,"page-change":_vm.handlePageChange,"size-change":_vm.handleSizeChange,"row-click":function (row) { return _vm.$emit('row-click', row); },"select-data":function (data) { return _vm.$emit('select-data', data); }},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:"value"}})],1):_vm._e()}
var mainvue_type_template_id_0747cf60_staticRenderFns = []


// CONCATENATED MODULE: ./packages/DimensionSelectorInput/src/main.vue?vue&type=template&id=0747cf60

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/DimensionSelectorInput/src/main.vue?vue&type=script&lang=js
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//




/* harmony default export */ var DimensionSelectorInput_src_mainvue_type_script_lang_js = ({
  name: 'HtDimensionSelectorInput',
  mixins: [mixins_permission["a" /* default */], inputName["a" /* default */], mixins_form["a" /* default */]],
  props: {
    value: String,
    single: Boolean,
    config: Object,
    appendToBody: {
      type: Boolean,
      default: false
    },
    pageSize: {
      type: Number,
      default: 20
    },
    quickSearchProps: {
      type: String,
      default: 'demName,demCode'
    }
  },
  data() {
    return {
      data: [],
      mode: 'search',
      // 搜索模式
      searchWord: null,
      pagination: {
        page: 1,
        pageSize: this.pageSize,
        total: 0,
        showTotal: true
      }
    };
  },
  mounted() {
    if (!this.data || this.data.length == 0) {
      this.handleLoad();
    }
  },
  methods: {
    getQueryFilter(page) {
      const queryFilter = {
        querys: [],
        pageBean: this.getPageBean(page)
      };
      if (this.quickSearchProps && this.quickSearchProps.constructor == String && this.searchWord) {
        const props = this.quickSearchProps.split(',');
        props.forEach(item => {
          let query = {
            property: item,
            value: this.searchWord,
            group: 'main',
            operation: 'LIKE',
            relation: 'OR'
          };
          queryFilter.querys.push(query);
        });
      }
      return queryFilter;
    },
    handleLoad(page) {
      const param = this.getQueryFilter(page);
      this.data = this.data || [];
      this.loadAllDimension(param);
    },
    // 加载全部岗位
    loadAllDimension(param) {
      this.$requestConfig.getDimensionList(param).then(data => {
        const {
          rows,
          page,
          pageSize,
          total
        } = data;
        if (this.isMobile && page > 1) {
          this.data = this.data.concat(rows);
        } else {
          this.data = rows;
        }
        this.pagination.page = page;
        this.pagination.pageSize = pageSize;
        this.pagination.total = total;
      });
    },
    valueChange(value) {
      this.$emit('input', value);
    },
    handleChange(data) {
      this.$emit('change', data);
    },
    handleSearch(word) {
      if (!word || !word.trim()) {
        this.handleReset();
        return;
      }
      // 存储搜索关键词
      this.searchWord = word;
      // 进入搜索模式
      this.mode = 'search';
      this.handleLoad();
    },
    handleReset() {
      // 置空搜索关键词
      this.searchWord = null;
      // 退出搜索模式
      this.mode = 'search';
      this.handleLoad();
    },
    handlePageChange(page) {
      // 搜索模式下或者未进行过滤时，查询所有数据
      this.handleLoad(page);
    },
    handleSizeChange(size) {
      this.pagination.pageSize = size;
      this.handlePageChange(this.pagination.page);
    },
    // 获取查询参数中的分页信息(不传page时默认查询第一页)
    getPageBean(page) {
      const pageBean = {
        ...this.pagination
      };
      delete pageBean['total'];
      pageBean.page = page || 1;
      return pageBean;
    }
  }
});
// CONCATENATED MODULE: ./packages/DimensionSelectorInput/src/main.vue?vue&type=script&lang=js
 /* harmony default export */ var packages_DimensionSelectorInput_src_mainvue_type_script_lang_js = (DimensionSelectorInput_src_mainvue_type_script_lang_js); 
// CONCATENATED MODULE: ./packages/DimensionSelectorInput/src/main.vue





/* normalize component */

var DimensionSelectorInput_src_main_component = normalizeComponent(
  packages_DimensionSelectorInput_src_mainvue_type_script_lang_js,
  mainvue_type_template_id_0747cf60_render,
  mainvue_type_template_id_0747cf60_staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* harmony default export */ var DimensionSelectorInput_src_main = (DimensionSelectorInput_src_main_component.exports);
// CONCATENATED MODULE: ./packages/DimensionSelectorInput/index.js

DimensionSelectorInput_src_main.install = function (Vue) {
  Vue.component(DimensionSelectorInput_src_main.name, DimensionSelectorInput_src_main);
};
/* harmony default export */ var DimensionSelectorInput = (DimensionSelectorInput_src_main);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"8bdeefa2-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/Switch/src/main.vue?vue&type=template&id=bec41844
var mainvue_type_template_id_bec41844_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.permission !== 'n')?_c('div',{directives:[{name:"express",rawName:"v-express"}],class:[
    'inputs',
    _vm.formInputsDisplay == 'block'
      ? 'ht-form-inputs__block'
      : 'ht-form-inputs__inline' ]},[(_vm.isShowSwitch)?_c('el-switch',{directives:[{name:"validate",rawName:"v-validate",value:(_vm.inputValidate),expression:"inputValidate"}],attrs:{"name":_vm.inputName,"width":_vm.width,"active-color":_vm.activeColor,"inactive-color":_vm.inactiveColor,"active-value":_vm.activeValue,"inactive-value":_vm.inactiveValue,"active-text":_vm.activeText,"inactive-text":_vm.inactiveText,"disabled":_vm.isDisabled},on:{"change":function (val) { return _vm.$emit('change', val); }},model:{value:(_vm.inputVal),callback:function ($$v) {_vm.inputVal=$$v},expression:"inputVal"}}):_vm._e(),(_vm.isShowText)?_c('ht-field-tail',{attrs:{"field-name":_vm.inputName,"readonly":!_vm.inputWriteable,"input-value":"","tag-format-value":_vm.tagValue}}):_vm._e()],1):_vm._e()}
var mainvue_type_template_id_bec41844_staticRenderFns = []


// CONCATENATED MODULE: ./packages/Switch/src/main.vue?vue&type=template&id=bec41844

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/Switch/src/main.vue?vue&type=script&lang=js
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//




/* harmony default export */ var Switch_src_mainvue_type_script_lang_js = ({
  name: 'HtSwitch',
  mixins: [mixins_permission["a" /* default */], inputName["a" /* default */], mixins_form["a" /* default */]],
  props: {
    value: [String, Number, Boolean],
    disabled: Boolean,
    width: Number,
    activeValue: {
      type: [String, Number, Boolean],
      default: true
    },
    inactiveValue: {
      type: [String, Number, Boolean],
      default: false
    },
    activeText: String,
    inactiveText: String,
    activeColor: String,
    inactiveColor: String
  },
  computed: {
    inputVal: {
      get() {
        return this.value;
      },
      set(val) {
        if (val || [0, false].includes(val)) {
          this.$emit('input', val);
        }
      }
    },
    tagValue() {
      const tagVal = this.value == this.activeValue ? this.activeText ? this.activeText : this.value : this.inactiveText ? this.inactiveText : this.value;
      return [tagVal];
    },
    isShowText() {
      return this.permission !== 'n' && this.currentShowMode !== 'input';
    },
    isShowSwitch() {
      return this.inputWriteable || this.currentShowMode === 'input';
    }
  }
});
// CONCATENATED MODULE: ./packages/Switch/src/main.vue?vue&type=script&lang=js
 /* harmony default export */ var packages_Switch_src_mainvue_type_script_lang_js = (Switch_src_mainvue_type_script_lang_js); 
// CONCATENATED MODULE: ./packages/Switch/src/main.vue





/* normalize component */

var Switch_src_main_component = normalizeComponent(
  packages_Switch_src_mainvue_type_script_lang_js,
  mainvue_type_template_id_bec41844_render,
  mainvue_type_template_id_bec41844_staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* harmony default export */ var Switch_src_main = (Switch_src_main_component.exports);
// CONCATENATED MODULE: ./packages/Switch/index.js

Switch_src_main.install = function (Vue) {
  Vue.component(Switch_src_main.name, Switch_src_main);
};
/* harmony default export */ var Switch = (Switch_src_main);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"8bdeefa2-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/Tag/src/main.vue?vue&type=template&id=52385fb5&scoped=true
var mainvue_type_template_id_52385fb5_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.permission != 'n')?_c('div',{class:[
    'inputs',
    _vm.formInputsDisplay == 'block'
      ? 'ht-form-inputs__block'
      : 'ht-form-inputs__inline' ]},[(_vm.inputWriteable)?_c('el-select',{directives:[{name:"validate",rawName:"v-validate",value:(_vm.inputValidate),expression:"inputValidate"}],ref:"fuzzySearch",staticStyle:{"width":"100%"},attrs:{"size":_vm.inputSize,"filterable":_vm.filterable,"remote":_vm.filterable,"remote-method":_vm.remoteMethod,"multiple":_vm.multiple,"clearable":"","name":_vm.inputName},on:{"focus":_vm.focusSelectValue,"visible-change":_vm.visibleChange},model:{value:(_vm.inputVal),callback:function ($$v) {_vm.inputVal=$$v},expression:"inputVal"}},[_c('div',{directives:[{name:"loading",rawName:"v-loading",value:(_vm.loading),expression:"loading"}]},_vm._l((_vm.options),function(item){return _c('el-option',{key:item.id,attrs:{"label":item.name,"value":item.name}})}),1),_c('div',{staticClass:"text-center"},[_c('a',{staticClass:"text-normal"},[_c('el-pagination',{attrs:{"layout":"prev, pager, next","page-size":_vm.pagination.pageSize,"pager-count":5,"current-page":_vm.pagination.page,"total":_vm.pagination.total},on:{"current-change":_vm.currentChange}})],1)]),_c('div',{staticClass:"ht-tag__append"},[(_vm.creatingTag)?_c('el-button',{staticStyle:{"width":"100%"},attrs:{"size":"small","type":"primary","plain":""},on:{"click":_vm.add}},[_vm._v("\n        "+_vm._s(_vm.$t('ht.common.add'))+"\n      ")]):_vm._e()],1),(_vm.creatingTag)?_c('template',{slot:"empty"},[(_vm.creatingTag)?_c('el-button',{staticStyle:{"width":"100%"},attrs:{"size":"small","type":"primary","plain":""},on:{"click":_vm.add}},[_vm._v("\n        "+_vm._s(_vm.$t('ht.common.add'))+"\n      ")]):_vm._e()],1):_vm._e()],2):_vm._e(),_c('ht-field-tail',{attrs:{"field-name":_vm.inputName,"readonly":!_vm.inputWriteable,"input-value":_vm.inputVal,"tag-format-value":_vm.tagValue}})],1):_vm._e()}
var mainvue_type_template_id_52385fb5_scoped_true_staticRenderFns = []


// CONCATENATED MODULE: ./packages/Tag/src/main.vue?vue&type=template&id=52385fb5&scoped=true

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/Tag/src/main.vue?vue&type=script&lang=js
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//





/* harmony default export */ var Tag_src_mainvue_type_script_lang_js = ({
  name: 'HtTag',
  mixins: [mixins_permission["a" /* default */], inputName["a" /* default */], linkage, mixins_form["a" /* default */]],
  props: {
    value: String,
    filterable: {
      type: Boolean,
      default: false
    },
    expand: {
      type: Boolean,
      default: false
    },
    tagKey: String,
    multiple: {
      type: Boolean,
      default: false
    }
  },
  data() {
    return {
      options: [],
      pagination: {
        pageSize: 5,
        page: 1,
        total: 0
      },
      loading: false,
      currentQuery: '',
      isExistTag: true
    };
  },
  computed: {
    inputVal: {
      set(value) {
        if (value && this.multiple) {
          this.$emit('input', value.join(','));
        } else {
          this.$emit('input', value);
        }
      },
      get() {
        if (this.value && this.multiple) {
          return this.value.split(',');
        }
        return this.value;
      }
    },
    tagValue() {
      return this.inputVal && this.inputVal.constructor == Array ? this.inputVal : this.inputVal && this.inputVal.constructor == String ? [this.inputVal] : [];
    },
    creatingTag() {
      return this.expand && this.currentQuery !== '' && !this.isExistTag;
    }
  },
  watch: {
    currentQuery: {
      handler(newVal) {
        if (this.options) {
          this.isExistTag = this.options.some(item => item.name == newVal);
        } else {
          this.isExistTag = false;
        }
      }
    }
  },
  mounted() {
    this.search();
  },
  methods: {
    focusSelectValue() {
      if (this.$refs.fuzzySearch.$refs.input) {
        this.$refs.fuzzySearch.$refs.input.blur = () => {
          this.currentQuery = '';
          this.search();
        };
      }
    },
    visibleChange(flag) {
      //单选时输入框关闭时重新搜索内容
      if (!flag && !this.multiple) {
        this.currentQuery = '';
        this.search();
      }
    },
    remoteMethod(query) {
      this.currentQuery = query;
      let param = {
        pageBean: this.pagination,
        querys: [{
          property: 'type_key_',
          value: this.tagKey,
          group: 'query',
          operation: 'EQUAL',
          relation: 'AND'
        }]
      };
      if (query) {
        param.querys.push({
          property: 'name_',
          value: query,
          group: 'query',
          operation: 'LIKE',
          relation: 'AND'
        });
      }
      this.loading = true;
      this.$requestConfig.getTagList(param).then(data => {
        this.options = data.rows;
        this.isExistTag = this.options.some(item => item.name == this.currentQuery);
        this.pagination = {
          pageSize: data.pageSize,
          page: data.page,
          total: data.total
        };
      }).finally(() => {
        this.loading = false;
      });
    },
    currentChange(page) {
      this.pagination.page = page;
      this.remoteMethod(this.currentQuery);
    },
    add() {
      let param = {
        name: this.currentQuery,
        typeKey: this.tagKey
      };
      this.$requestConfig.saveTag(param).then(data => {
        if (data.state) {
          this.$message({
            type: 'success',
            message: '添加成功'
          });
          this.remoteMethod(this.currentQuery);
        } else {
          this.$message({
            type: 'error',
            message: '添加失败'
          });
        }
      }).catch(() => {
        // this.$message({ type: 'error', message: '添加失败' })
      });
    },
    search() {
      let param = {
        pageBean: this.pagination,
        querys: [{
          property: 'type_key_',
          value: this.tagKey,
          group: 'query',
          operation: 'EQUAL',
          relation: 'AND'
        }]
      };
      this.$requestConfig.getTagList(param).then(data => {
        this.options = data.rows;
        this.pagination = {
          pageSize: data.pageSize,
          page: data.page,
          total: data.total
        };
      });
    }
  }
});
// CONCATENATED MODULE: ./packages/Tag/src/main.vue?vue&type=script&lang=js
 /* harmony default export */ var packages_Tag_src_mainvue_type_script_lang_js = (Tag_src_mainvue_type_script_lang_js); 
// EXTERNAL MODULE: ./packages/Tag/src/main.vue?vue&type=style&index=0&id=52385fb5&prod&lang=scss&scoped=true
var mainvue_type_style_index_0_id_52385fb5_prod_lang_scss_scoped_true = __webpack_require__("c8d4");

// CONCATENATED MODULE: ./packages/Tag/src/main.vue






/* normalize component */

var Tag_src_main_component = normalizeComponent(
  packages_Tag_src_mainvue_type_script_lang_js,
  mainvue_type_template_id_52385fb5_scoped_true_render,
  mainvue_type_template_id_52385fb5_scoped_true_staticRenderFns,
  false,
  null,
  "52385fb5",
  null
  
)

/* harmony default export */ var Tag_src_main = (Tag_src_main_component.exports);
// CONCATENATED MODULE: ./packages/Tag/index.js

Tag_src_main.install = function (Vue) {
  Vue.component(Tag_src_main.name, Tag_src_main);
};
/* harmony default export */ var Tag = (Tag_src_main);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"8bdeefa2-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/SelectTree/src/SelectTree.vue?vue&type=template&id=0490c08d&scoped=true
var SelectTreevue_type_template_id_0490c08d_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.permission != 'n')?_c('div',{class:[
    'inputs',
    _vm.formInputsDisplay == 'block'
      ? 'ht-form-inputs__block'
      : 'ht-form-inputs__inline' ]},[(_vm.inputWriteable && _vm.ganged)?_c('el-select',{directives:[{name:"validate",rawName:"v-validate",value:(_vm.inputValidate),expression:"inputValidate"}],ref:"treeselect",staticStyle:{"width":"100%"},attrs:{"name":_vm.inputName,"size":_vm.inputSize,"clearable":_vm.clearable,"placeholder":_vm.placeholder,"filterable":_vm.filterable,"filter-method":_vm.filterMethod,"multiple":_vm.multiple,"popper-class":_vm.isShowPage ? 'has-page' : 'ht-select__dropdown'},on:{"clear":function () { return _vm.$emit('clear'); },"remove-tag":_vm.handleSelectTagRemove,"focus":_vm.selectBlur,"visible-change":_vm.handleVisibleChange},model:{value:(_vm.inputVal),callback:function ($$v) {_vm.inputVal=$$v},expression:"inputVal"}},[_vm._l((_vm.tempoptions),function(item){return _c('el-option',{directives:[{name:"show",rawName:"v-show",value:(false),expression:"false"}],key:item.key,attrs:{"value":item.key,"label":item.value}})}),_c('el-option',{attrs:{"value":"","disabled":""}},[_c('el-tree',{ref:"treeselectElTree",attrs:{"node-key":"key","data":_vm.options,"highlight-current":true,"default-expand-all":true,"expand-on-click-node":false,"props":_vm.defaultProps,"indent":_vm.indent,"filter-node-method":_vm.filterNode,"show-checkbox":_vm.multiple,"check-strictly":!_vm.cascade},on:{"check":_vm.handleNodeClick,"node-click":_vm.handleNodeClick,"check-change":_vm.handleCheckChange}})],1),(_vm.isShowPage)?_c('el-pagination',{attrs:{"current-page":_vm.pageBean.page,"page-size":_vm.pageBean.pageSize,"layout":"total, prev, pager, next","total":_vm.pageBean.total,"pager-count":5,"hide-on-single-page":false,"small":""},on:{"update:currentPage":function($event){return _vm.$set(_vm.pageBean, "page", $event)},"update:current-page":function($event){return _vm.$set(_vm.pageBean, "page", $event)},"current-change":_vm.handleCurrentChange}}):_vm._e()],2):_vm._e(),(_vm.inputWriteable && !_vm.ganged)?_c('ht-select',{ref:"selected",attrs:{"validate":_vm.inputValidate,"options":_vm.options,"name":_vm.inputName,"size":_vm.inputSize,"clearable":_vm.clearable,"placeholder":_vm.placeholder,"filterable":_vm.filterable,"reserve-keyword":"","multiple":_vm.multiple,"permission":_vm.permission_sub},on:{"blur":_vm.selectBlur},nativeOn:{"click":function($event){return _vm.clickNative($event)}},model:{value:(_vm.inputVal),callback:function ($$v) {_vm.inputVal=$$v},expression:"inputVal"}}):_vm._e(),_c('ht-field-tail',{attrs:{"field-name":_vm.inputName,"readonly":!_vm.inputWriteable,"input-value":"","tag-format-value":_vm.labelValue}})],1):_vm._e()}
var SelectTreevue_type_template_id_0490c08d_scoped_true_staticRenderFns = []


// CONCATENATED MODULE: ./packages/SelectTree/src/SelectTree.vue?vue&type=template&id=0490c08d&scoped=true

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/SelectTree/src/SelectTree.vue?vue&type=script&lang=js
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//







/* harmony default export */ var SelectTreevue_type_script_lang_js = ({
  name: 'HtSelectTree',
  mixins: [mixins_permission["a" /* default */], inputName["a" /* default */], linkage, ganged, mixins_form["a" /* default */]],
  props: {
    value: String,
    selectlist: Array,
    multiple: {
      type: Boolean,
      default: false
    },
    clearable: {
      type: Boolean,
      default: true
    },
    indent: {
      type: Number,
      default: 8
    },
    filterable: {
      type: Boolean,
      default: false
    },
    customQuery: Object,
    cascade: {
      type: Boolean,
      default: false
    },
    limitCount: {
      type: Number,
      default: 0
    }
  },
  data() {
    return {
      options: [],
      tempoptions: [],
      tagFormatValue: [],
      defaultProps: {
        children: 'children',
        label: 'value'
      },
      pageBean: {
        page: 1,
        pageSize: 20,
        total: 0
      },
      queryVersion: 0
    };
  },
  computed: {
    inputVal: {
      get() {
        if (this.multiple) {
          if (this.value) {
            return this.value.split(',');
          } else {
            return [];
          }
        } else if (this.value || this.value === 0) {
          return this.value + '';
        } else {
          return this.value;
        }
      },
      set(val) {
        if (this.multiple) {
          this.$emit('input', val.join(','));
        } else {
          this.$emit('input', val);
          if (!this.multiple && val) {
            //判断对话框是否绑定了关联查询
            if (this.customQuery && this.customQuery.custQueryJson && this.customQuery.custQueryJson.length > 0) {
              let custQueryJson = this.customQuery.custQueryJson;
              for (let i = 0; i < custQueryJson.length; i++) {
                if (custQueryJson[i].conditionfield.length > 0) {
                  this.doSubCustomQuery(custQueryJson[i]);
                } else {
                  console.error('[' + custQueryJson[i].comment + ']' + this.$t('ht.customDialog.relationSearchNotBindField'));
                }
              }
            }
          }
        }
      }
    },
    labelValue() {
      const labelAry = [];
      this.tempoptions.forEach(opt => {
        if (this.multiple) {
          if (this.inputVal.some(v => v == opt.key)) {
            labelAry.push(opt.value);
          }
        } else {
          if (opt.key == this.inputVal) {
            labelAry.push(opt.value);
            return;
          }
        }
      });
      return labelAry;
    },
    isShowPage() {
      return this.ganged && this.ganged.alias && this.ganged.needPage == 1 && this.pageBean.page;
    }
  },
  mounted() {
    this.loadOption('init');
  },
  methods: {
    handleSelectTagRemove(value) {
      this.$refs.treeselectElTree.setChecked(value, false, this.cascade);
    },
    //判断对象里面的值是否为空
    objIsEmpty(obj) {
      for (let key in obj) {
        if (obj[key]) {
          return false;
        }
      }
      return true;
    },
    // 加载选项
    loadOption(isInit = '') {
      if (this.ganged && this.ganged.alias) {
        // 如果初始化时不需加载选项时
        if (isInit === 'init' && this.ganged.noInit === 'true') {
          return;
        }
        this.dynamicLoadOption();
      } else {
        this.options = this.selectlist ? this.selectlist : [];
      }
    },
    // 动态加载选项
    dynamicLoadOption() {
      this.queryVersion += 1;
      let versionFlag = this.queryVersion;
      this.doCustomQuery(null, false, {
        page: this.pageBean.page,
        isChangePage: this.isChangePage
      }).then(data => {
        // 如果同一个动态加载项，同时出发多次时，后面的请求会被拦截，所以此处需要将标识减1
        if (data === null) {
          this.queryVersion -= 1;
        }
        if (versionFlag < this.queryVersion) {
          return;
        }
        if (data && this.ganged.PId) {
          this.tempoptions = [];
          data = utils["a" /* default */].tile2nest(data, this.ganged.valueBind || 'key', this.ganged.PId);
          this.addSelectList(data);
          this.options = data;
        } else if (data) {
          this.tempoptions = [];
          this.addSelectList(data);
          this.options = data;
        }
      });
    },
    doSubCustomQuery() {
      //TODO 实现关联子查询
    },
    clickNative: function () {
      this.loadOption();
    },
    selectBlur: function () {
      this.loadOption();
    },
    handleCheckChange(data, currentChecked) {
      if (this.multiple) {
        let checkedNodes = this.$refs.treeselectElTree.getCheckedNodes();
        if (this.limitCount > 0 && checkedNodes.length > this.limitCount && currentChecked) {
          this.$refs.treeselectElTree.setChecked(data, false, true);
          return;
        }
        let modelValue = [];
        this.tempoptions = checkedNodes;
        for (let data of checkedNodes) {
          modelValue.push(data.key);
        }
        this.$emit('input', modelValue.join(','));
      }
    },
    handleNodeClick(data) {
      if (!this.multiple) {
        this.$emit('input', data.key);
        if (data.key) {
          //判断对话框是否绑定了关联查询
          if (this.customQuery && this.customQuery.custQueryJson && this.customQuery.custQueryJson.length > 0) {
            let custQueryJson = this.customQuery.custQueryJson;
            for (let i = 0; i < custQueryJson.length; i++) {
              if (custQueryJson[i].conditionfield.length > 0) {
                this.doSubCustomQuery(custQueryJson[i]);
              } else {
                console.error('[' + custQueryJson[i].comment + ']' + this.$t('ht.customDialog.relationSearchNotBindField'));
              }
            }
          }
        }
        this.$refs.treeselect.blur();
        setTimeout(() => {
          this.$validator.validate();
        });
      }
    },
    filterNode(value, data) {
      if (!value) return true;
      return data.value.indexOf(value) !== -1;
    },
    filterMethod(query) {
      this.$refs.treeselectElTree.filter(query);
    },
    addSelectList(list) {
      let valueFiled = (this.ganged.valueBind || '') == 'key' ? '' : this.ganged.valueBind;
      let labelFiled = (this.ganged.labelBind || '') == 'value' ? '' : this.ganged.labelBind;
      if (list && list.length > 0) {
        list.forEach(l => {
          if (valueFiled) {
            l['key'] = l[valueFiled];
          }
          if (labelFiled) {
            l['value'] = l[labelFiled];
          }
          this.tempoptions.push(l);
          if (l.children) {
            this.addSelectList(l.children);
          }
        });
      }
    },
    handleCurrentChange(page) {
      this.isChangePage = true;
      this.pageBean.page = page;
      this.dynamicLoadOption();
    },
    handleVisibleChange() {
      this.pageBean.page = 1;
    }
  }
});
// CONCATENATED MODULE: ./packages/SelectTree/src/SelectTree.vue?vue&type=script&lang=js
 /* harmony default export */ var src_SelectTreevue_type_script_lang_js = (SelectTreevue_type_script_lang_js); 
// EXTERNAL MODULE: ./packages/SelectTree/src/SelectTree.vue?vue&type=style&index=0&id=0490c08d&prod&lang=scss&scoped=true
var SelectTreevue_type_style_index_0_id_0490c08d_prod_lang_scss_scoped_true = __webpack_require__("52cb");

// CONCATENATED MODULE: ./packages/SelectTree/src/SelectTree.vue






/* normalize component */

var SelectTree_component = normalizeComponent(
  src_SelectTreevue_type_script_lang_js,
  SelectTreevue_type_template_id_0490c08d_scoped_true_render,
  SelectTreevue_type_template_id_0490c08d_scoped_true_staticRenderFns,
  false,
  null,
  "0490c08d",
  null
  
)

/* harmony default export */ var SelectTree = (SelectTree_component.exports);
// CONCATENATED MODULE: ./packages/SelectTree/index.js

SelectTree.install = function (Vue) {
  Vue.component(SelectTree.name, SelectTree);
};
/* harmony default export */ var packages_SelectTree = (SelectTree);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"8bdeefa2-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/Button/src/main.vue?vue&type=template&id=52e83331&scoped=true
var mainvue_type_template_id_52e83331_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.permission !== 'n')?_c('div',{directives:[{name:"express",rawName:"v-express"}],class:[
    'inputs',
    _vm.formInputsDisplay == 'block'
      ? 'ht-form-inputs__block'
      : 'ht-form-inputs__inline' ]},[(_vm.isShowInput)?_c('ht-input',{attrs:{"size":_vm.inputSize,"placeholder":_vm.placeholder,"type":"text","permission":_vm.permission_sub},model:{value:(_vm.inputVal),callback:function ($$v) {_vm.inputVal=$$v},expression:"inputVal"}},[(_vm.inputWriteable)?_c('template',{slot:"append"},[_c('el-button',{attrs:{"btn":"btn","size":_vm.inputSize,"type":"primary","icon":_vm.icon},on:{"click":_vm.customEvilJS}},[_vm._v("\n        "+_vm._s(_vm.btnName)+"\n      ")])],1):_vm._e()],2):_c('el-button',{attrs:{"disabled":!_vm.inputWriteable,"btn":"btn","size":_vm.inputSize,"type":"primary","icon":_vm.icon},on:{"click":_vm.customEvilJS}},[_vm._v("\n    "+_vm._s(_vm.btnName)+"\n  ")])],1):_vm._e()}
var mainvue_type_template_id_52e83331_scoped_true_staticRenderFns = []


// CONCATENATED MODULE: ./packages/Button/src/main.vue?vue&type=template&id=52e83331&scoped=true

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/Button/src/main.vue?vue&type=script&lang=js
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//





/* harmony default export */ var Button_src_mainvue_type_script_lang_js = ({
  name: 'HtButton',
  mixins: [mixins_permission["a" /* default */], inputName["a" /* default */], mixins_form["a" /* default */], mixins_script],
  props: {
    value: [String, Number],
    icon: String,
    btnName: String,
    isShowInput: Boolean
  },
  computed: {
    inputVal: {
      get() {
        return this.value;
      },
      set(val) {
        this.$emit('input', val);
      }
    }
  },
  methods: {
    customEvilJS() {
      const result = this.evilJS();
      if (result != null && result != undefined) {
        this.inputVal = result;
      }
    }
  }
});
// CONCATENATED MODULE: ./packages/Button/src/main.vue?vue&type=script&lang=js
 /* harmony default export */ var packages_Button_src_mainvue_type_script_lang_js = (Button_src_mainvue_type_script_lang_js); 
// EXTERNAL MODULE: ./packages/Button/src/main.vue?vue&type=style&index=0&id=52e83331&prod&lang=scss&scoped=true
var mainvue_type_style_index_0_id_52e83331_prod_lang_scss_scoped_true = __webpack_require__("9a01");

// CONCATENATED MODULE: ./packages/Button/src/main.vue






/* normalize component */

var Button_src_main_component = normalizeComponent(
  packages_Button_src_mainvue_type_script_lang_js,
  mainvue_type_template_id_52e83331_scoped_true_render,
  mainvue_type_template_id_52e83331_scoped_true_staticRenderFns,
  false,
  null,
  "52e83331",
  null
  
)

/* harmony default export */ var Button_src_main = (Button_src_main_component.exports);
// CONCATENATED MODULE: ./packages/Button/index.js

Button_src_main.install = function (Vue) {
  Vue.component(Button_src_main.name, Button_src_main);
};
/* harmony default export */ var Button = (Button_src_main);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"8bdeefa2-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/Image/src/main.vue?vue&type=template&id=7ed4f3c4
var mainvue_type_template_id_7ed4f3c4_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.permission != 'n')?_c('img',{style:(_vm.imgStyle),attrs:{"src":_vm.src},on:{"click":_vm.imgClick}}):_vm._e()}
var mainvue_type_template_id_7ed4f3c4_staticRenderFns = []


// CONCATENATED MODULE: ./packages/Image/src/main.vue?vue&type=template&id=7ed4f3c4

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/Image/src/main.vue?vue&type=script&lang=js
//
//
//
//
//
//
//
//



/* harmony default export */ var Image_src_mainvue_type_script_lang_js = ({
  name: 'HtImage',
  mixins: [mixins_permission["a" /* default */]],
  props: {
    isDisplay: {
      type: Boolean,
      default: true
    },
    imgSrc: String,
    fileJson: String,
    imgHeight: Number,
    imgWidth: Number,
    openUrl: String,
    openType: String
  },
  data() {
    return {
      src: ''
    };
  },
  computed: {
    imgStyle() {
      return {
        height: this.imgHeight > 0 ? `${this.imgHeight}px` : 'auto',
        width: this.imgWidth > 0 ? `${this.imgWidth}px` : 'auto',
        maxWidth: '100%',
        cursor: this.openUrl ? 'pointer' : ''
      };
    }
  },
  created() {
    if (this.isDisplay) {
      if (this.fileJson && this.$requestConfig.download) {
        var json = JSON.parse(this.fileJson);
        // 全局附件下载方法
        this.$requestConfig.download(json[0].id).then(response => {
          const data = response instanceof ArrayBuffer ? response : response.data;
          this.src = Object(brower["a" /* createObjectURL */])(new Blob([data]));
        }).catch(err => {
          //表单预览，下载图片等文件失败时，提示语
          this.$message.error(this.$t('ht.image.downloadErrorMsg'));
        });
      }
    } else {
      this.src = this.imgSrc;
    }
  },
  methods: {
    imgClick() {
      if (this.openUrl) {
        window.open(this.openUrl, '_blank');
      }
    }
  }
});
// CONCATENATED MODULE: ./packages/Image/src/main.vue?vue&type=script&lang=js
 /* harmony default export */ var packages_Image_src_mainvue_type_script_lang_js = (Image_src_mainvue_type_script_lang_js); 
// CONCATENATED MODULE: ./packages/Image/src/main.vue





/* normalize component */

var Image_src_main_component = normalizeComponent(
  packages_Image_src_mainvue_type_script_lang_js,
  mainvue_type_template_id_7ed4f3c4_render,
  mainvue_type_template_id_7ed4f3c4_staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* harmony default export */ var Image_src_main = (Image_src_main_component.exports);
// CONCATENATED MODULE: ./packages/Image/index.js

Image_src_main.install = function (Vue) {
  Vue.component(Image_src_main.name, Image_src_main);
};
/* harmony default export */ var Image = (Image_src_main);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"8bdeefa2-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/Hyperlink/src/main.vue?vue&type=template&id=9307fa3e
var mainvue_type_template_id_9307fa3e_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.permission != 'n')?_c('a',{staticClass:"site-a",attrs:{"href":_vm.targetAddress,"target":_vm.target}},[_vm._v(_vm._s(_vm.title))]):_vm._e()}
var mainvue_type_template_id_9307fa3e_staticRenderFns = []


// CONCATENATED MODULE: ./packages/Hyperlink/src/main.vue?vue&type=template&id=9307fa3e

// EXTERNAL MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/Hyperlink/src/main.vue?vue&type=script&lang=js
var Hyperlink_src_mainvue_type_script_lang_js = __webpack_require__("7b1b");

// CONCATENATED MODULE: ./packages/Hyperlink/src/main.vue?vue&type=script&lang=js
 /* harmony default export */ var packages_Hyperlink_src_mainvue_type_script_lang_js = (Hyperlink_src_mainvue_type_script_lang_js["a" /* default */]); 
// EXTERNAL MODULE: ./packages/Hyperlink/src/main.vue?vue&type=style&index=0&id=9307fa3e&prod&lang=css
var mainvue_type_style_index_0_id_9307fa3e_prod_lang_css = __webpack_require__("5360");

// CONCATENATED MODULE: ./packages/Hyperlink/src/main.vue






/* normalize component */

var Hyperlink_src_main_component = normalizeComponent(
  packages_Hyperlink_src_mainvue_type_script_lang_js,
  mainvue_type_template_id_9307fa3e_render,
  mainvue_type_template_id_9307fa3e_staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* harmony default export */ var Hyperlink_src_main = (Hyperlink_src_main_component.exports);
// CONCATENATED MODULE: ./packages/Hyperlink/index.js

Hyperlink_src_main.install = function (Vue) {
  Vue.component(Hyperlink_src_main.name, Hyperlink_src_main);
};
/* harmony default export */ var Hyperlink = (Hyperlink_src_main);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"8bdeefa2-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/Chart/src/Chart.vue?vue&type=template&id=0e6d18d3&scoped=true
var Chartvue_type_template_id_0e6d18d3_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.permission != 'n')?_c('el-tabs',{style:({ width: _vm.charWidth }),attrs:{"type":"card"},on:{"tab-click":_vm.initClick}},[_c('el-tab-pane',{attrs:{"label":_vm.t('ht.chart.viewChart')}},[(_vm.showTable)?_c('div',{style:({ width: _vm.charWidth, height: _vm.charHeight }),attrs:{"id":_vm.chartKey}}):_vm._e()]),_c('el-tab-pane',{attrs:{"label":_vm.t('ht.chart.viewData')}},[(_vm.showTable)?_c('ht-table',{ref:"table",attrs:{"data":_vm.data,"page-result":_vm.pageResult,"default-querys":_vm.defaultQuery,"selectable":false,"show-export":false,"show-custom-column":false,"quick-search-props":_vm.quickSearchProp,"nopagination":true,"height":"500"},on:{"load":_vm.loadData}},[_vm._l((_vm.customChart.xaxisField),function(xaxisField){return _c('ht-table-column',{key:xaxisField.field,attrs:{"prop":xaxisField.field.toUpperCase(),"label":xaxisField.comment}})}),_vm._l((_vm.customChart.displayfield),function(displayfield){return _c('ht-table-column',{key:displayfield.field,attrs:{"prop":displayfield.field.toUpperCase(),"label":displayfield.comment}})})],2):_vm._e()],1)],1):_vm._e()}
var Chartvue_type_template_id_0e6d18d3_scoped_true_staticRenderFns = []


// CONCATENATED MODULE: ./packages/Chart/src/Chart.vue?vue&type=template&id=0e6d18d3&scoped=true

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/Chart/src/Chart.vue?vue&type=script&lang=js
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//





/* harmony default export */ var Chartvue_type_script_lang_js = ({
  name: 'HtChart',
  mixins: [mixins_permission["a" /* default */], mixins_locale],
  props: {
    id: {
      type: [String, Number],
      required: true
    },
    width: {
      type: String,
      default: ''
    },
    height: {
      type: String,
      default: ''
    },
    selectList: {
      type: String,
      default: ''
    },
    chartKey: {
      type: [String, Number],
      required: true
    }
  },
  data() {
    return {
      showTable: false,
      customChart: {},
      pageResult: {
        page: -1,
        pageSize: 20,
        total: 0
      },
      data: [],
      quickSearchProp: '',
      defaultQuery: [],
      queryOpTransObj: {
        EQ: 'EQUAL',
        BETWEEN: 'BETWEEN',
        GE: 'GREAT_EQUAL',
        LE: 'LESS_EQUAL',
        LK: 'LIKE',
        IN: 'IN'
      },
      querrySelectList: [],
      myChart: null
    };
  },
  computed: {
    charWidth() {
      if (this.width) {
        return this.width + 'px';
      }
      return '100%';
    },
    charHeight() {
      if (this.height) {
        return this.height + 'px';
      }
      return this.customChart.height + 'px';
    }
  },
  watch: {
    id: function (newV) {
      if (newV) {
        this.customChart = [];
        this.data = [];
        this.quickSearchProp = '';
        this.defaultQuery = [];
        this.showTable = false;
        this.initData();
      }
    }
  },
  created() {
    this.$root.$on('collapse-active-names', result => {
      if (result && result.length > 0) {
        this.$nextTick(() => {
          this.resizeChart();
        });
      }
    });
  },
  mounted() {
    this.$nextTick(() => {
      this.initData();
    });
    if (this.selectList) {
      this.querrySelectList = JSON.parse(Object(base64["a" /* decode */])(this.selectList));
      const pInst = utils["a" /* default */].getOnlineFormInstance(this);
      this.querrySelectList.forEach(obj => {
        let path = 'data.' + obj.selectField;
        pInst.$watch(path, () => {
          this.customChart = [];
          this.data = [];
          this.quickSearchProp = '';
          this.defaultQuery = [];
          this.showTable = false;
          this.$nextTick(() => {
            this.initData();
          });
        });
      });
    }
    window.addEventListener('resize', this.resizeChart);
  },
  destroyed() {
    window.removeEventListener('resize', this.resizeChart);
  },
  methods: {
    resizeChart() {
      this.myChart ? this.myChart.resize() : '';
    },
    initClick(tabVue) {
      if (tabVue.index == '1') {
        this.$refs.table.load();
      }
    },
    loadData(param, cb) {
      if (this.customChart.alias) {
        if (this.customChart.conf.maxLength && this.customChart.conf.maxLength != '0') {
          param.pageBean.pageSize = parseInt(this.customChart.conf.maxLength);
        } else {
          param.pageBean.pageSize = -1;
        }
        const pInst = utils["a" /* default */].getOnlineFormInstance(this);
        let conditions = this.customChart.conditionfield;
        let querrySelectList = this.querrySelectList;
        let queryFilter = param && param.querys ? param.querys : [];
        querrySelectList.forEach(item => {
          let value = utils["a" /* default */].getValueByPath(pInst.data, item.selectField);
          let query = conditions.find(obj => obj.field == item.bindSelectd);
          queryFilter.push({
            property: query.field,
            value: value,
            operation: this.queryOpTransObj[query.condition],
            group: 'main'
          });
        });
        param.querys = queryFilter;
        this.$requestConfig.getChartListData(this.customChart.alias, param).then(response => {
          this.data = response.rows;
          this.customChart.rows = this.data;
          this.buildChart(this.customChart);
        }).finally(() => {
          cb();
        });
      } else {
        cb();
      }
    },
    initData() {
      this.$requestConfig.getChartById(this.id).then(data => {
        if (data) {
          data.conditionfield = JSON.parse(data.conditionfield);
          data.displayfield = JSON.parse(data.displayfield);
          data.xaxisField = JSON.parse(data.xaxisField);
          data.sortfield = JSON.parse(data.sortfield);
          data.conf = JSON.parse(data.conf);
          this.customChart = data;
          this.initCondition();
          this.showTable = true;
        }
      });
    },
    initCondition() {
      let conditions = this.customChart.conditionfield;
      for (let i = 0; i < conditions.length; i++) {
        if (conditions[i].defaultType === '1') {
          this.quickSearchProp += conditions[i].field.toUpperCase() + ',';
        } else {
          this.defaultQuery.push({
            property: conditions[i].field,
            value: conditions[i].defaultValue,
            operation: this.queryOpTransObj[conditions[i].condition],
            group: 'main'
          });
        }
      }
    },
    buildChart(data) {
      this.myChart = this.$echarts.init(document.getElementById(this.chartKey), 'default');
      let grid = this.getGrid();
      data.conf.title.text = data.name;
      data.conf.title.top = this.getTitlePosition();
      let option = {
        title: data.conf.title,
        tooltip: {},
        toolbox: {
          feature: {
            saveAsImage: {}
          }
        },
        legend: {},
        grid: grid,
        series: {}
      };
      switch (data.style) {
        case 1:
          option = this.buildLine(data, option);
          break;
        case 3:
          option = this.buildPie(data, option);
          break;
        case 4:
          option = this.buildRadar(data, option);
          break;
        case 5:
          option = this.buildFunnel(data, option);
          break;
        case 6:
          option = this.buildScatter(data, option);
          break;
        case 7:
          option = this.buildHeatmap(data, option);
          break;
        default:
          break;
      }
      this.adjustChatTitle(data, option);
      this.myChart.setOption(option);
    },
    buildLine(data, option) {
      let displayField = this.customChart.displayfield;
      let legendData = [];
      let xAxisData = [];
      let seriesData = [];
      let xAxisField = {};
      let series = this.customChart.conf.series;
      if (this.customChart.xaxisField) xAxisField = this.customChart.xaxisField[0];
      for (let i = 0, d; d = displayField[i++];) {
        if (d) {
          let arr = [];
          let type = d.type;
          legendData.push(d.comment);
          for (let j = 0, res; res = data.rows[j++];) {
            if (i === 1) {
              let value = res[xAxisField.field.toUpperCase()];
              if (xAxisField.dbType === 'date' && value && typeof value === 'number') {
                value = new Date(value).format(this.defaultFormat);
              }
              xAxisData.push(value);
            }
            if (res) {
              let value = res[d.field.toUpperCase()];
              if (value && value.length >= 8) option.grid.left = '25%';
              arr.push(value);
            }
          }
          let se = {
            name: d.comment,
            type: d.type,
            data: arr,
            stack: series.stack ? 'one' : null
          };
          if (!series.doubleYAxis) {
            se.yAxisIndex = d.yAxis === 1 ? 0 : 1;
          }
          if (type === 'line') {
            se.smooth = series.smooth;
          }
          seriesData.push(se);
        }
      }
      option.series = seriesData;
      option.tooltip = {
        trigger: 'axis'
      };
      option.legend.y = 50;
      if (series.showType || !series.doubleYAxis) {
        option.xAxis = [{
          type: 'category',
          data: xAxisData
        }];
        option.yAxis = series.doubleYAxis ? [{
          type: 'value'
        }] : [{
          type: 'value'
        }, {
          type: 'value'
        }];
      } else {
        option.xAxis = [{
          type: 'value'
        }];
        option.yAxis = [{
          type: 'category',
          data: xAxisData
        }];
      }
      option.yAxis[0].axisLabel = {
        color: '#444343',
        formatter: function (value, index) {
          // value大于1000时除以1000并拼接k，小于1000按原格式显示
          if (value >= 1000) {
            value = value / 1000 + 'k';
          } else if (value < 1000) {
            value;
          }
          return value;
        }
      };
      //柱状图的时候两端留空。避免柱状图挡住y轴。折线图则不留空，
      if (data.style === 2) option.xAxis[0]['boundaryGap'] = true;
      if (data.conf) {
        let obj = data.conf;
        if (obj.yMin === 2) option.yAxis[0]['min'] = 'dataMin';
        if (obj.xShowAll === 2) option.xAxis[0]['axisLabel'] = {
          interval: 0,
          //横轴信息全部显示
          rotate: 30
        };
      }
      if (data.rows && data.rows.length > 20 && !series.dataZoom) {
        option.dataZoom = [{
          start: 0,
          end: 10,
          handleIcon: 'M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4v1.3h1.3v-1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7V23h6.6V24.4z M13.3,19.6H6.7v-1.4h6.6V19.6z',
          handleSize: '80%',
          handleStyle: {
            color: '#fff',
            shadowBlur: 3,
            shadowColor: 'rgba(0, 0, 0, 0.6)',
            shadowOffsetX: 2,
            shadowOffsetY: 2
          }
        }];
        option.grid.bottom = 50;
      } else {
        delete option.dataZoom;
      }
      option.legend = data.conf.legend;
      option.legend.data = legendData;
      return option;
    },
    buildPie(data, option) {
      let displayField = data.displayfield;
      let legendData = [];
      let seriesData = [];
      let xAxisField = data.xaxisField;
      let series = data.conf.series;
      if (xAxisField) xAxisField = xAxisField[0];
      if (series.showType) {
        let duration = 100 / data.rows.length;
        for (let j = 0; j < data.rows.length; j++) {
          let value = [];
          for (let i = 0; i < displayField.length; i++) {
            value.push({
              name: displayField[i].comment,
              value: data.rows[j][displayField[i].field.toUpperCase()]
            });
            if (j === 0) {
              legendData.push(displayField[i].comment);
            }
          }
          seriesData.push({
            name: data.rows[j][xAxisField.field.toUpperCase()],
            type: 'pie',
            data: value,
            radius: [series.radius[0] + '%', series.radius[1] + '%'],
            center: [Number(series.center[0]) + j * duration + '%', series.center[1] + '%'],
            roseType: series.roseType,
            selectedMode: series.selectedMode,
            label: {
              position: series.label.position
            },
            itemStyle: {
              emphasis: {
                shadowBlur: 10,
                shadowOffsetX: 0,
                shadowColor: 'rgba(0, 0, 0, 0.5)'
              }
            }
          });
        }
      } else {
        let duration = 100 / displayField.length;
        for (let i = 0; i < displayField.length; i++) {
          let value = [];
          for (let j = 0; j < data.rows.length; j++) {
            value.push({
              name: data.rows[j][xAxisField.field.toUpperCase()],
              value: data.rows[j][displayField[i].field.toUpperCase()]
            });
            if (i === 0) {
              legendData.push(data.rows[j][xAxisField.field.toUpperCase()] + '');
            }
          }
          seriesData.push({
            name: displayField[i].comment,
            type: 'pie',
            data: value,
            radius: [series.radius[0] + '%', series.radius[1] + '%'],
            center: [Number(series.center[0]) + i * duration + '%', series.center[1] + '%'],
            roseType: series.roseType,
            selectedMode: series.selectedMode,
            label: {
              position: series.label.position
            },
            itemStyle: {
              emphasis: {
                shadowBlur: 10,
                shadowOffsetX: 0,
                shadowColor: 'rgba(0, 0, 0, 0.5)'
              }
            }
          });
        }
      }
      option.series = seriesData;
      option.tooltip = {
        trigger: 'item',
        formatter: '{a} <br/>{b} : {c} ({d}%)'
      };
      option.legend = data.conf.legend;
      option.legend.data = legendData;
      return option;
    },
    buildRadar(data, option) {
      let displayField = data.displayfield;
      let legendData = [];
      let xAxisField = data.xaxisField;
      let arr = [];
      let seriesData = [];
      let indicator = [];
      let series = data.conf.series;
      if (xAxisField) xAxisField = xAxisField[0];
      if (series.showType) {
        for (let j = 0; j < data.rows.length; j++) {
          let value = [];
          for (let i = 0; i < displayField.length; i++) {
            value.push(data.rows[j][displayField[i].field.toUpperCase()]);
            if (j === 0) {
              indicator.push({
                name: displayField[i].comment
              });
            }
          }
          legendData.push(data.rows[j][xAxisField.field.toUpperCase()] + '');
          arr.push({
            name: data.rows[j][xAxisField.field.toUpperCase()],
            value: value,
            areaStyle: {
              opacity: '0'
            }
          });
        }
        seriesData = [{
          type: 'radar',
          data: arr,
          itemStyle: {
            emphasis: {
              areaStyle: {
                opacity: series.areaStyle ? '0' : '0.5'
              }
            }
          }
        }];
      } else {
        for (let i = 0; i < displayField.length; i++) {
          let value = [];
          for (let j = 0; j < data.rows.length; j++) {
            value.push(data.rows[j][displayField[i].field.toUpperCase()]);
            if (i === 0) {
              indicator.push({
                name: data.rows[j][xAxisField.field.toUpperCase()]
              });
            }
          }
          legendData.push(displayField[i].comment);
          arr.push({
            name: displayField[i].comment,
            value: value,
            areaStyle: {
              opacity: '0'
            }
          });
        }
        seriesData = [{
          type: 'radar',
          data: arr,
          itemStyle: {
            emphasis: {
              areaStyle: {
                opacity: series.areaStyle ? '0' : '0.5'
              }
            }
          }
        }];
      }
      option.series = seriesData;
      option.radar = {
        center: [series.center[0] + '%', series.center[1] + '%'],
        radius: series.radius,
        indicator: indicator
      };
      option.legend = data.conf.legend;
      option.legend.data = legendData;
      return option;
    },
    buildFunnel(data, option) {
      let displayField = data.displayfield;
      let legendData = [];
      let xAxisField = data.xaxisField;
      let seriesData = [];
      let series = data.conf.series;
      if (xAxisField) xAxisField = xAxisField[0];

      //列数据展示
      if (series.showType) {
        let duration = 100 / data.rows.length;
        for (let j = 0; j < data.rows.length; j++) {
          let value = [];
          for (let i = 0; i < displayField.length; i++) {
            value.push({
              name: displayField[i].comment,
              value: data.rows[j][displayField[i].field.toUpperCase()]
            });
            if (j === 0) {
              legendData.push(displayField[i].comment);
            }
          }
          seriesData.push({
            name: data.rows[j][xAxisField.field.toUpperCase()],
            type: 'funnel',
            data: value,
            width: duration - 5 + '%',
            left: j * duration + '%',
            funnelAlign: series.funnelAlign,
            sort: series.sort,
            label: {
              position: series.label.position
            }
          });
        }
      } else {
        //行数据展示
        let duration = 100 / displayField.length;
        for (let i = 0; i < displayField.length; i++) {
          let value = [];
          for (let j = 0; j < data.rows.length; j++) {
            value.push({
              name: data.rows[j][xAxisField.field.toUpperCase()],
              value: data.rows[j][displayField[i].field.toUpperCase()]
            });
            if (i === 0) {
              legendData.push(data.rows[j][xAxisField.field.toUpperCase()] + '');
            }
          }
          seriesData.push({
            name: displayField[i].comment,
            type: 'funnel',
            data: value,
            width: duration - 5 + '%',
            left: i * duration + '%',
            funnelAlign: series.funnelAlign,
            sort: series.sort,
            label: {
              position: series.label.position
            }
          });
        }
      }
      option.series = seriesData;
      option.legend = data.conf.legend;
      option.legend.data = legendData;
      return option;
    },
    buildScatter(data, option) {
      let displayField = data.displayfield;
      let legendData = [];
      let xAxisData = [];
      let xAxisField = data.xaxisField;
      let seriesData = [];
      let series = data.conf.series;
      if (xAxisField) xAxisField = xAxisField[0];
      if (series.showType) {
        for (let j = 0; j < data.rows.length; j++) {
          let value = [];
          for (let i = 0; i < displayField.length; i++) {
            if (j === 0) {
              xAxisData.push(displayField[i].comment);
            }
            value.push([displayField[i].comment, data.rows[j][displayField[i].field.toUpperCase()]]);
          }
          legendData.push(data.rows[j][xAxisField.field.toUpperCase()] + '');
          seriesData.push({
            name: data.rows[j][xAxisField.field.toUpperCase()],
            type: 'scatter',
            data: value
          });
        }
      } else {
        for (let i = 0; i < displayField.length; i++) {
          let value = [];
          for (let j = 0; j < data.rows.length; j++) {
            if (i === 0) {
              xAxisData.push(data.rows[j][xAxisField.field.toLocaleUpperCase()]);
            }
            value.push([data.rows[j][xAxisField.field.toLocaleUpperCase()], data.rows[j][displayField[i].field.toLocaleUpperCase()]]);
          }
          legendData.push(displayField[i].comment);
          seriesData.push({
            name: displayField[i].comment,
            type: 'scatter',
            data: value
          });
          if (displayField[i].regression && displayField[i].regression !== 'none') {
            let myRegression = this.$ecStat.regression(displayField[i].regression, value);
            myRegression.points.sort(function (a, b) {
              return a[0] - b[0];
            });
            seriesData.push({
              name: 'line',
              type: 'line',
              showSymbol: false,
              data: myRegression.points,
              markPoint: {
                itemStyle: {
                  color: 'transparent'
                },
                label: {
                  show: true,
                  position: 'left',
                  formatter: myRegression.expression,
                  color: '#333',
                  fontSize: 14
                },
                data: [{
                  coord: myRegression.points[myRegression.points.length - 1]
                }]
              }
            });
          }
        }
      }
      option.series = seriesData;
      option.xAxis = {
        type: data.conf.series.xAxisType
      };
      if (data.conf.series.xAxisType === 'category') {
        option.xAxis.data = xAxisData;
      }
      option.yAxis = {};
      option.legend = data.conf.legend;
      option.legend.data = legendData;
      return option;
    },
    buildHeatmap(data, option) {
      let displayField = data.displayfield;
      let legendData = [];
      let rows = [];
      let columns = [];
      let arr = [];
      let max = 0;
      let xAxisField = data.xaxisField;
      if (xAxisField) xAxisField = xAxisField[0];
      for (let i = 0; i < data.rows.length; i++) {
        for (let j = 0; j < displayField.length; j++) {
          if (i === 0) {
            columns.push(displayField[j].comment);
          }
          arr.push([i, j, data.rows[i][displayField[j].field.toUpperCase()]]);
          if (data.rows[i][displayField[j].field.toUpperCase()] > max) {
            max = data.rows[i][displayField[j].field.toUpperCase()];
          }
        }
        rows.push(data.rows[i][xAxisField.field.toUpperCase()]);
      }
      option.series = [{
        type: 'heatmap',
        data: arr,
        label: {
          normal: {
            show: true
          }
        }
      }];
      option.xAxis = {
        type: 'category',
        data: rows,
        splitArea: {
          show: true
        }
      };
      option.yAxis = {
        type: 'category',
        data: columns,
        splitArea: {
          show: true
        }
      };
      option.visualMap = {
        min: 0,
        max: max,
        calculable: true,
        orient: 'horizontal',
        left: 'center',
        bottom: '0%'
      };
      option.tooltip = {
        position: 'top'
      };
      option.legend = data.conf.legend;
      option.legend.data = legendData;
      return option;
    },
    getGrid() {
      let top = 0;
      let bottom = 0;
      let grid = {};
      if (this.customChart.conf.title.show) {
        if (this.customChart.conf.title.top === 'top') {
          top += 7;
          if (this.customChart.conf.title.subtext) {
            top += 5;
          }
        } else if (this.customChart.conf.title.top === 'bottom') {
          bottom += 16;
        }
      }
      if (this.customChart.conf.legend.show) {
        if (this.customChart.conf.legend.top === 'top') {
          top += 7;
        } else if (this.customChart.conf.legend.top === 'bottom') {
          bottom += 10;
        }
      }
      if (top !== 0) {
        grid.top = top + '%';
      } else {
        grid.top = '5%';
      }
      if (bottom !== 0) {
        grid.bottom = bottom + '%';
      }
      return grid;
    },
    getTitlePosition() {
      if (this.customChart.conf.title.top === 'top') {
        return this.customChart.conf.legend.show && this.customChart.conf.legend.top === 'top' ? '20' : 'auto';
      } else if (this.customChart.conf.title.top === 'bottom') {
        return this.customChart.conf.legend.show && this.customChart.conf.legend.top === 'bottom' ? '84%' : '88%';
      } else {
        return this.customChart.conf.title.top;
      }
    },
    adjustChatTitle(data, option) {
      option.legend.top = 30;
      option.grid.top = 80;
      if (data.conf && data.conf.title && data.conf.title.subtext) {
        option.legend.top = 50;
        option.grid.top = 100;
      }
    }
  }
});
// CONCATENATED MODULE: ./packages/Chart/src/Chart.vue?vue&type=script&lang=js
 /* harmony default export */ var src_Chartvue_type_script_lang_js = (Chartvue_type_script_lang_js); 
// EXTERNAL MODULE: ./packages/Chart/src/Chart.vue?vue&type=style&index=0&id=0e6d18d3&prod&scoped=true&lang=css
var Chartvue_type_style_index_0_id_0e6d18d3_prod_scoped_true_lang_css = __webpack_require__("1c94");

// CONCATENATED MODULE: ./packages/Chart/src/Chart.vue






/* normalize component */

var Chart_component = normalizeComponent(
  src_Chartvue_type_script_lang_js,
  Chartvue_type_template_id_0e6d18d3_scoped_true_render,
  Chartvue_type_template_id_0e6d18d3_scoped_true_staticRenderFns,
  false,
  null,
  "0e6d18d3",
  null
  
)

/* harmony default export */ var Chart = (Chart_component.exports);
// CONCATENATED MODULE: ./packages/Chart/index.js

Chart.install = function (Vue) {
  Vue.component(Chart.name, Chart);
};
/* harmony default export */ var packages_Chart = (Chart);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"8bdeefa2-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/Map/src/Map.vue?vue&type=template&id=ca432a28
var Mapvue_type_template_id_ca432a28_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.permission !== 'n')?_c('div',{staticClass:"amap-page"},[(_vm.showEffect === 'tile')?[_c('ht-input',{attrs:{"permission":_vm.permission_sub,"name":_vm.inputName,"title":_vm.inputVal,"display-style":_vm.displayStyle,"clearable":false},model:{value:(_vm.inputVal),callback:function ($$v) {_vm.inputVal=$$v},expression:"inputVal"}},[(_vm.inputWriteable)?_c('i',{staticClass:"el-input__icon",attrs:{"slot":"prefix","title":_vm.$t('ht.map.title')},slot:"prefix"},[_c('ht-icon',{attrs:{"name":"map"}})],1):_vm._e(),(_vm.inputWriteable && _vm.inputVal)?_c('i',{staticClass:"el-input__icon",attrs:{"slot":"suffix","title":_vm.$t('ht.map.clearMsg')},on:{"click":_vm.clearPosition},slot:"suffix"},[_c('ht-icon',{attrs:{"name":"close"}})],1):_vm._e()]),_c('div',{staticClass:"amap-page_map_container",style:(_vm.mapStyle)},[(_vm.plugin.length > 0)?_c('div',[_c('el-amap-search-box',{staticClass:"search-box",attrs:{"search-option":_vm.searchOption,"on-search-result":_vm.onSearchResult}}),_c('el-amap',{staticClass:"amap-demo",attrs:{"vid":"amap","plugin":_vm.plugin,"center":_vm.mapCenter,"zoom":_vm.zoom,"resize-enable":_vm.resizeEnable,"events":_vm.events}},_vm._l((_vm.markers),function(marker,$index){return _c('el-amap-marker',{key:$index,attrs:{"position":marker}})}),1)],1):_vm._e()])]:[_c('ht-input',{attrs:{"permission":_vm.permission_sub,"name":_vm.inputName,"title":_vm.inputVal,"display-style":_vm.displayStyle,"clearable":false,"placeholder":"请选择","readonly":"readonly"},nativeOn:{"click":function($event){return _vm.openMapDia($event)}},model:{value:(_vm.inputVal),callback:function ($$v) {_vm.inputVal=$$v},expression:"inputVal"}},[(_vm.inputWriteable)?_c('i',{staticClass:"el-input__icon",attrs:{"slot":"prefix","title":_vm.$t('ht.map.title')},on:{"click":_vm.openMapDia},slot:"prefix"},[_c('ht-icon',{attrs:{"name":"map"}})],1):_vm._e(),_c('template',{slot:"append"},[_c('ht-icon',{staticClass:"amap-page_map",attrs:{"name":"gaode"},on:{"click":_vm.openMapDia}})],1),(_vm.inputWriteable && _vm.inputVal)?_c('i',{staticClass:"el-input__icon",attrs:{"slot":"suffix","title":_vm.$t('ht.map.clearMsg')},on:{"click":_vm.clearPosition},slot:"suffix"},[_c('ht-icon',{attrs:{"name":"close"}})],1):_vm._e()],2),_c('div',{directives:[{name:"show",rawName:"v-show",value:(_vm.mapDiaVisible),expression:"mapDiaVisible"}],staticClass:"amap-page_dialog"},[_c('div',{staticClass:"amap-page_dialog_container"},[(_vm.plugin.length > 0)?_c('div',[_c('el-amap-search-box',{staticClass:"search-box",attrs:{"search-option":_vm.searchOption,"on-search-result":_vm.onSearchResult}}),_c('el-amap',{staticClass:"amap-demo",attrs:{"vid":"amap","plugin":_vm.plugin,"center":_vm.mapCenter,"zoom":_vm.zoom,"resize-enable":_vm.resizeEnable,"events":_vm.events}},_vm._l((_vm.markers),function(marker,$index){return _c('el-amap-marker',{key:$index,attrs:{"position":marker}})}),1)],1):_vm._e()]),_c('div',{staticClass:"amap-page_dialog_text"},[_c('div',[_vm._v(_vm._s(_vm.preAddress))]),(_vm.prePosition.length)?_c('div',[_vm._v("\n          "+_vm._s(_vm.$t('ht.map.longitude'))+"："+_vm._s(_vm.prePosition[0])+"，"+_vm._s(_vm.$t('ht.map.latitude'))+"："+_vm._s(_vm.prePosition[1])+"\n        ")]):_vm._e()]),_c('div',{staticClass:"amap-page_dialog_footer"},[_c('el-button',{attrs:{"type":"primary"},on:{"click":_vm.confirmAddress}},[_vm._v("\n          "+_vm._s(_vm.$t('ht.common.confirm'))+"\n        ")]),_c('el-button',{on:{"click":function($event){_vm.mapDiaVisible = false}}},[_vm._v("\n          "+_vm._s(_vm.$t('ht.common.cancle'))+"\n        ")])],1)])]],2):_vm._e()}
var Mapvue_type_template_id_ca432a28_staticRenderFns = []


// CONCATENATED MODULE: ./packages/Map/src/Map.vue?vue&type=template&id=ca432a28

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/Map/src/Map.vue?vue&type=script&lang=js
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//





/* harmony default export */ var Mapvue_type_script_lang_js = ({
  name: 'HtMap',
  mixins: [mixins_permission["a" /* default */], inputName["a" /* default */], mixins_form["a" /* default */]],
  props: {
    value: String,
    appendPosition: {
      type: Boolean,
      default: false
    },
    locationPath: String,
    showEffect: String,
    // dialog 弹出 tile 铺开
    widthMap: String,
    heightMap: String
  },
  data() {
    const self = this;
    return {
      mapCenter: [121.59996, 31.197646],
      markers: [],
      address: '',
      zoom: 12,
      resizeEnable: true,
      lng: 0,
      lat: 0,
      loaded: false,
      searchOption: {
        //poi搜索条件  默认全国
        city: this.$t('ht.map.nationwide'),
        citylimit: false //是否限制城市内搜索
      },
      plugin: [],
      mapDiaVisible: false,
      preAddress: '',
      prePosition: [],
      events: {
        click: self.mapClick
      },
      geocoder: null,
      position: [],
      addressText: ''
    };
  },
  computed: {
    inputVal() {
      return this.value;
    },
    formatAddress() {
      let str = this.addressText;
      if (str && this.appendPosition) {
        str += this.$t('ht.map.coordinate') + JSON.stringify(this.position);
      }
      return str;
    },
    mapStyle() {
      return {
        width: this.widthMap,
        height: this.heightMap
      };
    }
  },
  watch: {
    formatAddress: function (newVal) {
      if (newVal === this.value) {
        return;
      }
      this.$emit('input', newVal);
      if (!this.appendPosition && this.locationPath) {
        this.updateFormVal(this.position);
      }
    }
  },
  mounted() {
    if (this.showEffect === 'tile') {
      this.initMap();
    }
  },
  methods: {
    onSearchResult(pois) {
      if (pois.length > 0) {
        //获取选择的地址经纬度
        this.updateMarker(pois[0]);
        this.updateCurVal(pois[0].address + pois[0].name, [pois[0].lng, pois[0].lat]);
      }
    },
    initMap() {
      const self = this;
      setTimeout(() => {
        self.plugin = ['AMap.Autocomplete', {
          enableHighAccuracy: true,
          //是否使用高精度定位，默认:true
          timeout: 10000,
          //超过10秒后停止定位，默认：5s
          buttonPosition: 'RB',
          //定位按钮的停靠位置
          // eslint-disable-next-line
          buttonOffset: new AMap.Pixel(5, 10),
          //定位按钮与设置的停靠位置的偏移量，默认：Pixel(10, 20)
          zoomToAccuracy: true,
          //定位成功后是否自动调整地图视野到定位点
          markerOptions: {
            //自定义定位点样式，同Marker的Options
            // eslint-disable-next-line
            offset: new AMap.Pixel(-18, -36),
            content: '<img src="https://a.amap.com/jsapi_demos/static/resource/img/user.png" style="width:36px;height:36px"/>'
          },
          showCircle: true,
          //是否显示定位精度圈
          circleOptions: {
            //定位精度圈的样式
            strokeColor: '#0093FF',
            noSelect: true,
            strokeOpacity: 0.5,
            strokeWeight: 1,
            fillColor: '#02B0FF',
            fillOpacity: 0.25
          },
          extensions: 'all',
          pName: 'Geolocation',
          events: {
            init(o) {
              if (!self.value) {
                // o 是高德地图定位插件实例  获取当前位置
                o.getCurrentPosition((status, result) => {
                  if (result && result.position) {
                    self.lng = result.position.lng;
                    self.lat = result.position.lat;
                    self.center = [self.lng, self.lat];
                    self.getAddressByCode(result.position);
                  }
                });
              }
            }
          }
        }, {
          //poi搜索插件
          pName: 'PlaceSearch',
          events: {
            init() {}
          }
        }];
        // eslint-disable-next-line
        self.geocoder = new AMap.Geocoder();
      }, 500);
    },
    openMapDia() {
      if (!this.inputWriteable) {
        return;
      }
      if (typeof AMap == 'undefined') {
        this.$message.error(this.$t('ht.map.notMapComponent'));
        return;
      }
      this.mapDiaVisible = true;
      this.initMap();
    },
    confirmAddress() {
      this.addressText = this.preAddress;
      this.position = this.prePosition;
      this.mapDiaVisible = false;
    },
    mapClick(data) {
      this.updateMarker(data.lnglat);
      this.getAddressByCode(data.lnglat);
    },
    // 更新点
    updateMarker(position) {
      this.mapCenter = [position.lng, position.lat];
      if (this.markers.length > 0 && this.markers[0][0] != this.mapCenter[0] && this.markers[0][1] != this.mapCenter[1]) {
        this.markers = []; //清空经纬度
        this.markers.push([position.lng, position.lat]);
      } else if (this.markers.length == 0) {
        this.markers.push([position.lng, position.lat]);
      }
    },
    getAddressByCode(data) {
      this.geocoder.getAddress([data.lng, data.lat], (status, result) => {
        if (status === 'complete' && result.regeocode) {
          this.updateCurVal(result.regeocode.formattedAddress, [data.lng, data.lat]);
        }
      });
    },
    updateCurVal(name, position) {
      if (!this.inputWriteable) {
        return;
      }
      this.preAddress = name;
      this.prePosition = position;
      if (this.showEffect === 'tile') {
        this.confirmAddress();
      }
    },
    clearPosition() {
      this.position = [];
      this.addressText = '';
    },
    // 更新绑定的字段
    updateFormVal(value) {
      const pInst = utils["a" /* default */].getOnlineFormInstance(this);
      utils["a" /* default */].setValueByPath(pInst, this.locationPath, value && value.length ? JSON.stringify(value) : '');
    }
  }
});
// CONCATENATED MODULE: ./packages/Map/src/Map.vue?vue&type=script&lang=js
 /* harmony default export */ var src_Mapvue_type_script_lang_js = (Mapvue_type_script_lang_js); 
// EXTERNAL MODULE: ./packages/Map/src/Map.vue?vue&type=style&index=0&id=ca432a28&prod&lang=scss
var Mapvue_type_style_index_0_id_ca432a28_prod_lang_scss = __webpack_require__("0132");

// CONCATENATED MODULE: ./packages/Map/src/Map.vue






/* normalize component */

var Map_component = normalizeComponent(
  src_Mapvue_type_script_lang_js,
  Mapvue_type_template_id_ca432a28_render,
  Mapvue_type_template_id_ca432a28_staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* harmony default export */ var src_Map = (Map_component.exports);
// CONCATENATED MODULE: ./packages/Map/index.js

src_Map.install = function (Vue) {
  Vue.component(src_Map.name, src_Map);
};
/* harmony default export */ var packages_Map = (src_Map);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"8bdeefa2-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/Qrcode/src/Qrcode.vue?vue&type=template&id=0fb8cc18&scoped=true
var Qrcodevue_type_template_id_0fb8cc18_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.permission != 'n')?_c('div',{style:(_vm.containerStyle)},[_c('canvas',{directives:[{name:"show",rawName:"v-show",value:(_vm.showCode),expression:"showCode"}],ref:"htQrcode",staticClass:"qr-canvas"}),(!_vm.showCode)?[_c('span',[_vm._v("-")]),(_vm.instId && !_vm.isSupportMobile)?_c('div',{staticClass:"error-tooltip"},[_vm._v("\n      "+_vm._s(_vm.$t('ht.qrCode.tip'))+"\n    ")]):_vm._e()]:_vm._e()],2):_vm._e()}
var Qrcodevue_type_template_id_0fb8cc18_scoped_true_staticRenderFns = []


// CONCATENATED MODULE: ./packages/Qrcode/src/Qrcode.vue?vue&type=template&id=0fb8cc18&scoped=true

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/Qrcode/src/Qrcode.vue?vue&type=script&lang=js
//
//
//
//
//
//
//
//
//
//
//
//
//


/* harmony default export */ var Qrcodevue_type_script_lang_js = ({
  name: 'HtQrcode',
  mixins: [mixins_permission["a" /* default */]],
  props: {
    width: {
      type: Number,
      default: 130
    },
    height: {
      type: Number,
      default: 130
    },
    url: String,
    instId: [String, Number],
    isSupportMobile: {
      type: Boolean,
      default: false
    }
  },
  data() {
    return {
      showCode: false,
      curUrl: null
    };
  },
  computed: {
    containerStyle() {
      return {
        width: `${this.width}px`,
        height: `${this.height}px`,
        display: 'inline-block'
      };
    },
    urlVal() {
      return this.curUrl ? this.curUrl : this.url;
    }
  },
  watch: {
    urlVal: {
      handler: function (newVal) {
        if (newVal) {
          this.$nextTick(() => this.initQrcode());
        }
      },
      immediate: true
    }
  },
  mounted() {
    if (!this.url && this.instId && this.isSupportMobile) {
      this.getQrcodeUrl();
    }
  },
  methods: {
    getQrcodeUrl() {
      // 未传入url时，调用外部方法获取url
      if (this.$requestConfig.getQrcodeUrl) {
        const result = this.$requestConfig.getQrcodeUrl(this.instId);
        if (result) {
          if (result.constructor == Promise) {
            result.then(data => {
              this.curUrl = data && data.value.shortUrl;
            });
          } else if (result.constructor == String) {
            this.curUrl = result;
          }
        }
      }
    },
    initQrcode() {
      let noErr = true;
      this.$qrcode.toCanvas(this.$refs.htQrcode, `${this.$requestConfig.getBaseMobileUrl()}/${this.urlVal}`, function (error) {
        if (error) {
          noErr = false;
          throw error;
        }
      });
      this.showCode = noErr;
    }
  }
});
// CONCATENATED MODULE: ./packages/Qrcode/src/Qrcode.vue?vue&type=script&lang=js
 /* harmony default export */ var src_Qrcodevue_type_script_lang_js = (Qrcodevue_type_script_lang_js); 
// EXTERNAL MODULE: ./packages/Qrcode/src/Qrcode.vue?vue&type=style&index=0&id=0fb8cc18&prod&lang=scss&scoped=true
var Qrcodevue_type_style_index_0_id_0fb8cc18_prod_lang_scss_scoped_true = __webpack_require__("b627");

// CONCATENATED MODULE: ./packages/Qrcode/src/Qrcode.vue






/* normalize component */

var Qrcode_component = normalizeComponent(
  src_Qrcodevue_type_script_lang_js,
  Qrcodevue_type_template_id_0fb8cc18_scoped_true_render,
  Qrcodevue_type_template_id_0fb8cc18_scoped_true_staticRenderFns,
  false,
  null,
  "0fb8cc18",
  null
  
)

/* harmony default export */ var Qrcode = (Qrcode_component.exports);
// CONCATENATED MODULE: ./packages/Qrcode/index.js

Qrcode.install = function (Vue) {
  Vue.component(Qrcode.name, Qrcode);
};
/* harmony default export */ var packages_Qrcode = (Qrcode);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"8bdeefa2-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/DataView/src/DataView.vue?vue&type=template&id=319bba8a&scoped=true
var DataViewvue_type_template_id_319bba8a_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.permission != 'n')?_c('div',{staticClass:"fullWidth"},[_c('ht-template-preview',{attrs:{"template-key":_vm.templateKey,"single":"true","is-data-view":true,"data-view":_vm.dataView}})],1):_vm._e()}
var DataViewvue_type_template_id_319bba8a_scoped_true_staticRenderFns = []


// CONCATENATED MODULE: ./packages/DataView/src/DataView.vue?vue&type=template&id=319bba8a&scoped=true

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/DataView/src/DataView.vue?vue&type=script&lang=js
//
//
//
//
//
//
//
//
//
//


/* harmony default export */ var DataViewvue_type_script_lang_js = ({
  name: 'HtDataView',
  mixins: [mixins_permission["a" /* default */]],
  props: {
    templateKey: {
      type: String,
      required: true
    },
    options: {
      type: String,
      required: false
    },
    isDataView: {
      type: Boolean,
      default: true
    }
  },
  data() {
    return {
      dataView: {}
    };
  },
  mounted() {
    //数据视图
    if (this.options) {
      this.dataView = JSON.parse(this.options);
    }
  },
  created() {},
  methods: {}
});
// CONCATENATED MODULE: ./packages/DataView/src/DataView.vue?vue&type=script&lang=js
 /* harmony default export */ var src_DataViewvue_type_script_lang_js = (DataViewvue_type_script_lang_js); 
// EXTERNAL MODULE: ./packages/DataView/src/DataView.vue?vue&type=style&index=0&id=319bba8a&prod&scoped=true&lang=css
var DataViewvue_type_style_index_0_id_319bba8a_prod_scoped_true_lang_css = __webpack_require__("5a63");

// CONCATENATED MODULE: ./packages/DataView/src/DataView.vue






/* normalize component */

var DataView_component = normalizeComponent(
  src_DataViewvue_type_script_lang_js,
  DataViewvue_type_template_id_319bba8a_scoped_true_render,
  DataViewvue_type_template_id_319bba8a_scoped_true_staticRenderFns,
  false,
  null,
  "319bba8a",
  null
  
)

/* harmony default export */ var DataView = (DataView_component.exports);
// CONCATENATED MODULE: ./packages/DataView/index.js

DataView.install = function (Vue) {
  Vue.component(DataView.name, DataView);
};
/* harmony default export */ var packages_DataView = (DataView);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"8bdeefa2-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/RelevantFlow/src/main.vue?vue&type=template&id=661ca3b1&scoped=true
var mainvue_type_template_id_661ca3b1_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.permission != 'n')?_c('el-container',{staticClass:"relevant-container"},[(_vm.inputWriteable)?_c('el-footer',{staticStyle:{"height":"40px","line-height":"40px","padding":"0px"}},[_c('el-button',{staticStyle:{"margin-left":"0"},attrs:{"type":"primary","size":"small","icon":"el-icon-plus","plain":"","round":""},on:{"click":_vm.flowSelected}},[_vm._v("\n      "+_vm._s(_vm.$t('ht.common.add'))+"\n    ")])],1):_vm._e(),_c('el-input',{directives:[{name:"validate",rawName:"v-validate",value:(_vm.inputValidate),expression:"inputValidate"}],staticStyle:{"display":"none"},attrs:{"name":_vm.inputName},model:{value:(_vm.inputVal),callback:function ($$v) {_vm.inputVal=$$v},expression:"inputVal"}}),(_vm.dataTable.length > 0)?_c('el-table',{staticStyle:{"width":"100%"},attrs:{"data":_vm.dataTable,"border":"","row-key":"subject"}},[_c('el-table-column',{attrs:{"type":"index","width":"70","align":"center","label":_vm.$t('ht.common.index')}}),_c('el-table-column',{attrs:{"label":_vm.$t('ht.relevantFlow.flowSubject'),"align":"center"},scopedSlots:_vm._u([{key:"default",fn:function(scope){return [_c('span',{staticClass:"subject",on:{"click":function($event){return _vm.handleRowClick(scope.row)}}},[_vm._v("\n          "+_vm._s(scope.row.subject)+"\n        ")])]}}],null,false,2877911235)}),_c('el-table-column',{attrs:{"prop":"creator","align":"center","label":_vm.$t('ht.relevantFlow.sponsor'),"width":"110"}}),_c('el-table-column',{attrs:{"prop":"createTime","align":"center","width":"160","label":_vm.$t('ht.relevantFlow.originatingTime')}}),(_vm.inputWriteable)?_c('el-table-column',{attrs:{"prop":"","label":_vm.$t('ht.common.operation'),"align":"center","width":"200"},scopedSlots:_vm._u([{key:"default",fn:function(scope){return [_c('el-button',{attrs:{"size":"small","icon":"el-icon-arrow-up","plain":""},on:{"click":function($event){return _vm.up(scope.$index)}}}),_c('el-button',{attrs:{"size":"small","icon":"el-icon-arrow-down","plain":""},on:{"click":function($event){return _vm.down(scope.$index)}}}),_c('el-button',{attrs:{"type":"danger","size":"small","icon":"el-icon-delete","plain":""},on:{"click":function($event){return _vm.remove(scope.row)}}})]}}],null,false,2262440661)}):_vm._e()],1):_vm._e(),_c('el-dialog',{attrs:{"title":_vm.$t('ht.relevantFlow.addFlowTitle'),"visible":_vm.relatedInformationDialog,"close-on-click-modal":false,"width":_vm.isMobile ? '100%' : '60%',"top":_vm.isMobile ? '0' : '8vh',"append-to-body":"","custom-class":_vm.isMobile ? 'mobile-related-dialog' : ''},on:{"update:visible":function($event){_vm.relatedInformationDialog=$event}}},[(!_vm.isMobile)?_c('el-col',{staticClass:"searchStyle",attrs:{"span":24}},[_c('el-col',{staticStyle:{"text-align":"center"},attrs:{"span":2}},[_vm._v("\n        "+_vm._s(_vm.$t('ht.relevantFlow.flowTitle'))+"：\n      ")]),_c('el-col',{attrs:{"span":5}},[_c('el-input',{attrs:{"size":"small","clearable":"","placeholder":_vm.$t('ht.relevantFlow.placeholder'),"prefix-icon":"el-icon-search"},model:{value:(_vm.subject),callback:function ($$v) {_vm.subject=$$v},expression:"subject"}})],1),_c('el-col',{staticStyle:{"text-align":"center"},attrs:{"span":2}},[_vm._v("\n        "+_vm._s(_vm.$t('ht.relevantFlow.createTime'))+"：\n      ")]),_c('el-col',{attrs:{"span":9}},[_c('ht-date-picker',{attrs:{"placeholder":_vm.$t('ht.relevantFlow.createTime'),"arrow-control":"","format":"yyyy-MM-dd"},model:{value:(_vm.createTime),callback:function ($$v) {_vm.createTime=$$v},expression:"createTime"}})],1),_c('el-button',{staticStyle:{"margin-left":"20px"},attrs:{"size":"small","type":"primary","icon":"el-icon-search"},on:{"click":function($event){return _vm.search()}}},[_vm._v("\n        "+_vm._s(_vm.$t('ht.common.search'))+"\n      ")]),_c('el-button',{attrs:{"size":"small","icon":"el-icon-refresh"},on:{"click":_vm.reset}},[_vm._v("\n        "+_vm._s(_vm.$t('ht.common.reset'))+"\n      ")])],1):_c('div',{staticClass:"mobile-search"},[_c('el-input',{staticClass:"mobile-search_input",attrs:{"clearable":"","placeholder":_vm.$t('ht.relevantFlow.placeholder'),"prefix-icon":"el-icon-search"},model:{value:(_vm.subject),callback:function ($$v) {_vm.subject=$$v},expression:"subject"}}),_c('el-button',{staticStyle:{"margin-left":"10px"},attrs:{"size":"mini","type":"primary","icon":"el-icon-search"},on:{"click":function($event){return _vm.search()}}},[_vm._v("\n        "+_vm._s(_vm.$t('ht.common.search'))+"\n      ")]),_c('el-button',{attrs:{"size":"mini","icon":"el-icon-refresh"},on:{"click":_vm.reset}},[_vm._v("\n        "+_vm._s(_vm.$t('ht.common.reset'))+"\n      ")])],1),_c('div',{staticClass:"record-content"},[_c('el-table',{directives:[{name:"loading",rawName:"v-loading",value:(_vm.tableLoading),expression:"tableLoading"}],ref:"flowTable",staticStyle:{"width":"100%"},attrs:{"data":_vm.rows,"stripe":"","border":"","header-cell-class-name":"todo-header-row","row-class-name":"todo-row","size":"medium","default-sort":{ prop: 'createTime', order: 'descending' },"height":_vm.isMobile ? _vm.tableHeight : 450},on:{"selection-change":_vm.handleChecked,"select":_vm.onTableSelect,"row-click":_vm.RowClick}},[_c('el-table-column',{attrs:{"type":"selection","width":"60","align":"center","sortable":""}}),_c('el-table-column',{attrs:{"type":"index","align":"center","width":"70","label":_vm.$t('ht.common.index')}}),_c('el-table-column',{attrs:{"prop":"creator","width":"120","label":_vm.$t('ht.relevantFlow.creator'),"align":"center"}}),_c('el-table-column',{attrs:{"prop":"subject","width":"400","label":_vm.$t('ht.relevantFlow.flowTitle'),"align":"center"}}),_c('el-table-column',{attrs:{"prop":"procDefName","width":"280","label":_vm.$t('ht.relevantFlow.procDefName'),"align":"center"}}),_c('el-table-column',{attrs:{"prop":"createTime","label":_vm.$t('ht.relevantFlow.createTime'),"align":"center"}})],1),_c('div',{staticClass:"relevant-flow_page",class:_vm.isMobile ? 'mobile' : ''},[_c('el-pagination',{attrs:{"current-page":_vm.pagination.page,"page-sizes":[10, 20, 50, 100, 300, 500],"page-size":_vm.pagination.pageSize,"layout":_vm.isMobile
              ? 'prev, pager, next'
              : 'total, sizes, prev, pager, next, jumper',"total":_vm.total,"pager-count":5,"small":_vm.isMobile},on:{"size-change":_vm.handleSizeChange,"current-change":_vm.handleCurrentChange}})],1)],1),_c('div',{staticClass:"dialog-footer",attrs:{"slot":"footer"},slot:"footer"},[_c('el-button',{attrs:{"type":"primary","size":"small"},on:{"click":_vm.confirm}},[_vm._v("\n        "+_vm._s(_vm.$t('ht.common.confirm'))+"\n      ")]),_c('el-button',{attrs:{"size":"small"},on:{"click":_vm.cancel}},[_vm._v("\n        "+_vm._s(_vm.$t('ht.common.cancle'))+"\n      ")])],1)],1)],1):_vm._e()}
var mainvue_type_template_id_661ca3b1_scoped_true_staticRenderFns = []


// CONCATENATED MODULE: ./packages/RelevantFlow/src/main.vue?vue&type=template&id=661ca3b1&scoped=true

// CONCATENATED MODULE: ./packages/RelevantFlow/src/relevantFlow.js
/* harmony default export */ var relevantFlow = ({
  data() {
    return {
      pagination: {},
      rows: [],
      total: 0,
      tableLoading: false
    };
  },
  methods: {
    setPaginationSize(size) {
      this.pagination.pageSize = size;
    },
    setPaginationPageNum(currentPage) {
      this.pagination.page = currentPage;
    },
    getlistJson(query) {
      this.tableLoading = true;
      this.$requestConfig.getRelevantFlow(query).then(data => {
        this.rows = data.rows;
        this.total = data.total;
        this.pageBean = {
          page: data.page,
          pageSize: data.pageSize,
          showTotal: true
        };
      }).finally(() => {
        this.tableLoading = false;
      });
    }
  }
});
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/RelevantFlow/src/main.vue?vue&type=script&lang=js
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//






const SYNC_FIELDS = ['id', 'subject', 'creator', 'createTime', 'status'];
/* harmony default export */ var RelevantFlow_src_mainvue_type_script_lang_js = ({
  name: 'HtRelevantFlow',
  mixins: [mixins_permission["a" /* default */], inputName["a" /* default */], mixins_form["a" /* default */], relevantFlow, mobileMode["a" /* default */]],
  props: {
    value: String,
    searchConfig: {
      type: Object,
      default: () => {
        return {
          isPaging: true,
          pageSize: 10
        };
      }
    },
    flowRangeKey: String
  },
  data() {
    return {
      relatedInformationDialog: false,
      checked: true,
      subject: '',
      inputVal: '',
      createTime: '',
      checkBoxData: [],
      checkBoxDataAll: [],
      dataTable: []
    };
  },
  computed: {
    tableHeight() {
      return window.innerHeight - 250;
    }
  },
  watch: {
    inputVal: function (newVal) {
      this.$emit('input', newVal);
    }
  },
  created() {
    this.$validator = this.$root.$validator;
  },
  mounted() {
    if (this.modelName) {
      if (this.value && Array.isArray(JSON.parse(this.value))) {
        this.dataTable = JSON.parse(this.value);
      } else {
        this.dataTable = [];
      }
    }
  },
  methods: {
    cancel() {
      this.relatedInformationDialog = false;
    },
    //确认
    confirm() {
      const _me = this;
      this.checkBoxData.forEach(row => {
        let res = _me.indexArray(_me.checkBoxDataAll, row);
        if (res == -1) {
          _me.checkBoxDataAll.push(row);
        }
      });
      this.dataTable = this.checkBoxDataAll;
      this.relatedInformationDialog = false;
      if (this.modelName) {
        const syncData = [];
        this.dataTable.forEach(row => {
          const obj = {};
          syncData.push(obj);
          SYNC_FIELDS.forEach(field => {
            obj[field] = row[field];
          });
        });
        this.inputVal = JSON.stringify(syncData);
      }
    },
    handleChecked(value) {
      this.checkBoxData = value;
    },
    handleSizeChange: function (size) {
      //每页下拉显示数据
      this.setPaginationSize(size);
      this.search();
    },
    handleCurrentChange: function (currentPage) {
      const this_ = this;
      if (this.checkBoxData != undefined && this.checkBoxData.length > 0) {
        this.checkBoxData.forEach(row => {
          let res = this_.indexArray(this_.checkBoxDataAll, row);
          if (res == -1) {
            this_.checkBoxDataAll.push(row);
          }
        });
      }
      this_.checkBoxData = this_.checkBoxDataAll;
      //点击第几页
      this.setPaginationPageNum(currentPage);
      this.search();
    },
    RowClick(row) {
      this.$refs.flowTable.toggleRowSelection(row);
    },
    check() {
      const this_ = this;
      setTimeout(() => {
        if (this_.checkBoxData == undefined || this_.checkBoxData.length == 0) {
          this_.checkBoxData = this_.checkBoxDataAll;
        }
        if (Array.isArray(this_.checkBoxData)) {
          this_.checkBoxData.forEach(row => {
            let res = this_.indexArray(this_.rows, row);
            if (res != -1) {
              this_.$refs.flowTable.toggleRowSelection(this_.rows[res]);
            }
          });
        }
      }, 250);
    },
    onTableSelect(rows, row) {
      let selected = rows.length && rows.indexOf(row) !== -1;
      if (!selected) {
        let res = this.indexArray(this.checkBoxDataAll, row);
        this.checkBoxDataAll.splice(res, 1);
        if (this.checkBoxDataAll.length == 0) {
          this.checkBoxData = [];
        }
      }
    },
    search() {
      let querys = []; //查询条件
      let queryFilter = {};
      let pageBean = {
        pageBean: this.pagination
      };
      if (this.subject != '') {
        querys.push({
          property: 'SUBJECT_',
          value: this.subject,
          group: 'main',
          operation: 'LIKE',
          relation: 'AND'
        });
      }
      if (this.createTime != '') {
        querys.push({
          property: 'CREATE_TIME_',
          value: this.createTime,
          group: 'main',
          operation: 'BETWEEN',
          relation: 'AND'
        });
      }
      if (this.flowRangeKey) {
        querys.push({
          property: 'procDefKey',
          value: this.flowRangeKey,
          group: 'main',
          operation: 'IN',
          relation: 'AND'
        });
      }
      if (querys.length > 0) {
        if (this.searchConfig.isPaging) {
          queryFilter = {
            pageBean: {
              page: '1',
              pageSize: this.searchConfig.pageSize,
              showTotal: 'true'
            },
            querys
          };
        } else {
          queryFilter = {
            pageBean: {}
          };
        }
        this.getlistJson(queryFilter);
      } else {
        this.getlistJson(pageBean);
      }
      this.check();
    },
    flowSelected: function () {
      if (this.checkBoxData == undefined || this.checkBoxData.length == 0) {
        this.checkBoxData = this.dataTable;
      }
      this.relatedInformationDialog = true;
      var pageBean = {};
      if (this.searchConfig.isPaging) {
        pageBean = {
          page: 1,
          pageSize: this.searchConfig.pageSize,
          showTotal: true
        };
      }
      let pagination = {
        pageBean: pageBean
      };
      if (this.flowRangeKey) {
        pagination.querys = [{
          property: 'procDefKey',
          value: this.flowRangeKey,
          group: 'main',
          operation: 'IN',
          relation: 'AND'
        }];
      }
      this.getlistJson(pagination);
      setTimeout(() => {
        this.check();
      }, 500);
    },
    //重置
    reset() {
      this.subject = '';
      this.createTime = '';
      this.search();
    },
    remove(row) {
      this.dataTable.remove(row);
      if (this.modelName) {
        if (this.dataTable.length < 1) {
          this.inputVal = '';
        } else {
          this.inputVal = JSON.stringify(this.dataTable);
        }
      }
    },
    //上移按钮
    up(idx) {
      idx = Number.parseInt(idx);
      if (idx < 1) {
        return;
      }
      var t = this.dataTable[idx - 1];
      this.$set(this.dataTable, idx - 1, this.dataTable[idx]);
      this.$set(this.dataTable, idx, t);
      if (this.modelName) {
        this.inputVal = JSON.stringify(this.dataTable);
      }
    },
    //下移按钮
    down(idx) {
      idx = Number.parseInt(idx);
      if (idx >= this.dataTable.length - 1) {
        return;
      }
      var t = this.dataTable[idx + 1];
      this.$set(this.dataTable, idx + 1, this.dataTable[idx]);
      this.$set(this.dataTable, idx, t);
      if (this.modelName) {
        this.inputVal = JSON.stringify(this.dataTable);
      }
    },
    handleRowClick(row) {
      this.$requestConfig.handleRelevantFlowClick(row);
    },
    //去重json数组重复数据
    uniqueArray(array, key) {
      var result = [array[0]];
      for (var i = 1; i < array.length; i++) {
        var item = array[i];
        var repeat = false;
        for (var j = 0; j < result.length; j++) {
          if (item[key] == result[j][key]) {
            repeat = true;
            break;
          }
        }
        if (!repeat) {
          result.push(item);
        }
      }
      return result;
    },
    indexArray(array, item) {
      for (var i = 0; i < array.length; i++) {
        if (array[i].id == item.id) {
          return i;
        }
      }
      return -1;
    }
  }
});
// CONCATENATED MODULE: ./packages/RelevantFlow/src/main.vue?vue&type=script&lang=js
 /* harmony default export */ var packages_RelevantFlow_src_mainvue_type_script_lang_js = (RelevantFlow_src_mainvue_type_script_lang_js); 
// EXTERNAL MODULE: ./packages/RelevantFlow/src/main.vue?vue&type=style&index=0&id=661ca3b1&prod&lang=scss&scoped=true
var mainvue_type_style_index_0_id_661ca3b1_prod_lang_scss_scoped_true = __webpack_require__("6ad9");

// CONCATENATED MODULE: ./packages/RelevantFlow/src/main.vue






/* normalize component */

var RelevantFlow_src_main_component = normalizeComponent(
  packages_RelevantFlow_src_mainvue_type_script_lang_js,
  mainvue_type_template_id_661ca3b1_scoped_true_render,
  mainvue_type_template_id_661ca3b1_scoped_true_staticRenderFns,
  false,
  null,
  "661ca3b1",
  null
  
)

/* harmony default export */ var RelevantFlow_src_main = (RelevantFlow_src_main_component.exports);
// CONCATENATED MODULE: ./packages/RelevantFlow/index.js

RelevantFlow_src_main.install = function (Vue) {
  Vue.component(RelevantFlow_src_main.name, RelevantFlow_src_main);
};
/* harmony default export */ var RelevantFlow = (RelevantFlow_src_main);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"8bdeefa2-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/Milepost/src/main.vue?vue&type=template&id=727443e7
var mainvue_type_template_id_727443e7_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.permission != 'n')?_c('el-steps',{attrs:{"active":_vm.inputVal,"direction":_vm.direction,"align-center":"","finish-status":"success"}},_vm._l((_vm.stepList),function(item){return _c('el-step',{key:item.title,attrs:{"title":item.title,"description":item.description}})}),1):_vm._e()}
var mainvue_type_template_id_727443e7_staticRenderFns = []


// CONCATENATED MODULE: ./packages/Milepost/src/main.vue?vue&type=template&id=727443e7

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/Milepost/src/main.vue?vue&type=script&lang=js
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//




/* harmony default export */ var Milepost_src_mainvue_type_script_lang_js = ({
  name: 'HtMilepost',
  mixins: [mixins_permission["a" /* default */], inputName["a" /* default */], mixins_form["a" /* default */]],
  props: {
    value: [Number, String],
    direction: {
      type: String
    },
    content: String
  },
  computed: {
    inputVal: function () {
      if (this.value === null || this.value === undefined) {
        return 1;
      }
      const valNum = Number(this.value);
      return isNaN(valNum) ? 1 : valNum;
    },
    stepList() {
      return JSON.parse(this.content);
    }
  }
});
// CONCATENATED MODULE: ./packages/Milepost/src/main.vue?vue&type=script&lang=js
 /* harmony default export */ var packages_Milepost_src_mainvue_type_script_lang_js = (Milepost_src_mainvue_type_script_lang_js); 
// CONCATENATED MODULE: ./packages/Milepost/src/main.vue





/* normalize component */

var Milepost_src_main_component = normalizeComponent(
  packages_Milepost_src_mainvue_type_script_lang_js,
  mainvue_type_template_id_727443e7_render,
  mainvue_type_template_id_727443e7_staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* harmony default export */ var Milepost_src_main = (Milepost_src_main_component.exports);
// CONCATENATED MODULE: ./packages/Milepost/index.js

Milepost_src_main.install = function (Vue) {
  Vue.component(Milepost_src_main.name, Milepost_src_main);
};
/* harmony default export */ var Milepost = (Milepost_src_main);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"8bdeefa2-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/Text/src/main.vue?vue&type=template&id=9162787e&scoped=true
var mainvue_type_template_id_9162787e_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.permission != 'n')?_c('div',{staticClass:"ht-text",style:(_vm.textStyle)},[_vm._t("tip"),_vm._v("\n  "+_vm._s(_vm.doDecode(_vm.textValue))+"\n")],2):_vm._e()}
var mainvue_type_template_id_9162787e_scoped_true_staticRenderFns = []


// CONCATENATED MODULE: ./packages/Text/src/main.vue?vue&type=template&id=9162787e&scoped=true

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/Text/src/main.vue?vue&type=script&lang=js
//
//
//
//
//
//
//



/* harmony default export */ var Text_src_mainvue_type_script_lang_js = ({
  name: 'HtText',
  mixins: [mixins_permission["a" /* default */]],
  props: {
    textValue: String,
    color: {
      type: String,
      default: '#666'
    },
    fontSize: {
      type: String,
      default: '12px'
    },
    fontWeight: {
      type: String,
      default: '400'
    },
    paddingTop: String,
    paddingBottom: String,
    paddingLeft: String,
    paddingRight: String,
    textAlign: {
      type: String,
      default: 'center',
      validator: val => {
        return ['left', 'center', 'right'].indexOf(val) > -1;
      }
    }
  },
  computed: {
    textStyle() {
      return {
        color: this.color,
        fontSize: this.fontSize,
        textAlign: this.textAlign,
        fontWeight: this.fontWeight,
        paddingTop: this.paddingTop,
        paddingBottom: this.paddingBottom,
        paddingLeft: this.paddingLeft,
        paddingRight: this.paddingRight
      };
    }
  },
  methods: {
    doDecode(value) {
      return Object(base64["c" /* isBase64 */])(value) ? Object(base64["a" /* decode */])(value) : value;
    }
  }
});
// CONCATENATED MODULE: ./packages/Text/src/main.vue?vue&type=script&lang=js
 /* harmony default export */ var packages_Text_src_mainvue_type_script_lang_js = (Text_src_mainvue_type_script_lang_js); 
// EXTERNAL MODULE: ./packages/Text/src/main.vue?vue&type=style&index=0&id=9162787e&prod&lang=scss&scoped=true
var mainvue_type_style_index_0_id_9162787e_prod_lang_scss_scoped_true = __webpack_require__("bbd0");

// CONCATENATED MODULE: ./packages/Text/src/main.vue






/* normalize component */

var Text_src_main_component = normalizeComponent(
  packages_Text_src_mainvue_type_script_lang_js,
  mainvue_type_template_id_9162787e_scoped_true_render,
  mainvue_type_template_id_9162787e_scoped_true_staticRenderFns,
  false,
  null,
  "9162787e",
  null
  
)

/* harmony default export */ var Text_src_main = (Text_src_main_component.exports);
// CONCATENATED MODULE: ./packages/Text/index.js

Text_src_main.install = function (Vue) {
  Vue.component(Text_src_main.name, Text_src_main);
};
/* harmony default export */ var Text = (Text_src_main);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"8bdeefa2-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/Rate/src/main.vue?vue&type=template&id=02cb5775&scoped=true
var mainvue_type_template_id_02cb5775_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.permission != 'n')?_c('div',{class:[
    'inputs',
    _vm.formInputsDisplay == 'block'
      ? 'ht-form-inputs__block'
      : 'ht-form-inputs__inline' ]},[_c('input',{directives:[{name:"model",rawName:"v-model",value:(_vm.value),expression:"value"},{name:"validate",rawName:"v-validate",value:(_vm.inputValidate),expression:"inputValidate"}],attrs:{"type":"hidden","name":_vm.inputName},domProps:{"value":(_vm.value)},on:{"input":function($event){if($event.target.composing){ return; }_vm.value=$event.target.value}}}),_c('el-rate',{attrs:{"max":_vm.max,"allow-half":_vm.allowHalf,"show-score":_vm.showScore || !_vm.inputWriteable,"text-color":_vm.textColor,"disabled":!_vm.inputWriteable,"icon-classes":_vm.iconClasses,"void-icon-class":_vm.iconClass,"disabled-void-icon-class":_vm.iconClass,"colors":_vm.activeColors},model:{value:(_vm.inputVal),callback:function ($$v) {_vm.inputVal=$$v},expression:"inputVal"}}),(_vm.showScore)?_c('span',{staticClass:"core"},[_vm._v(_vm._s(_vm.$t('ht.common.minute')))]):_vm._e(),_c('ht-field-tail',{staticClass:"ht-rate-field-tail",attrs:{"writeable":_vm.inputWriteable,"field-name":_vm.inputName,"input-value":_vm.value},on:{"update:writeable":function($event){_vm.inputWriteable=$event}}})],1):_vm._e()}
var mainvue_type_template_id_02cb5775_scoped_true_staticRenderFns = []


// CONCATENATED MODULE: ./packages/Rate/src/main.vue?vue&type=template&id=02cb5775&scoped=true

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/Rate/src/main.vue?vue&type=script&lang=js
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//




/* harmony default export */ var Rate_src_mainvue_type_script_lang_js = ({
  name: 'HtRate',
  mixins: [mixins_permission["a" /* default */], inputName["a" /* default */], mixins_form["a" /* default */]],
  props: {
    value: [Number, String],
    allowHalf: {
      type: Boolean,
      default: false
    },
    max: {
      type: Number,
      default: 5
    },
    defaultValue: {
      type: Number,
      default: 5
    },
    showScore: {
      type: Boolean,
      default: false
    },
    textColor: {
      type: String,
      default: '#1F2D3D'
    },
    iconClass: {
      type: String,
      default: 'el-icon-star-off'
    },
    activeColor: {
      type: String,
      default: '#F7BA2A'
    }
  },
  computed: {
    inputVal: {
      get() {
        if (this.value !== null && this.value !== undefined && this.value.constructor == String) {
          if (this.value.trim() == '') {
            return 0;
          }
          const valueNum = Number(this.value);
          if (isNaN(valueNum)) {
            throw this.$t('ht.rate.tip');
          }
          return valueNum;
        }
        return this.value;
      },
      set(val) {
        this.$emit('input', val === 0 ? '' : val);
      }
    },
    iconClasses() {
      console.log(this.iconClass, 'iconClass');
      let defaultClass = this.iconClass === 'el-icon-star-off' ? 'el-icon-star-on' : this.iconClass;
      return [defaultClass, defaultClass, defaultClass];
    },
    activeColors() {
      return [this.activeColor, this.activeColor, this.activeColor];
    }
  },
  mounted() {
    if (!this.value) {
      this.inputVal = this.defaultValue;
    }
  }
});
// CONCATENATED MODULE: ./packages/Rate/src/main.vue?vue&type=script&lang=js
 /* harmony default export */ var packages_Rate_src_mainvue_type_script_lang_js = (Rate_src_mainvue_type_script_lang_js); 
// EXTERNAL MODULE: ./packages/Rate/src/main.vue?vue&type=style&index=0&id=02cb5775&prod&lang=scss&scoped=true
var mainvue_type_style_index_0_id_02cb5775_prod_lang_scss_scoped_true = __webpack_require__("f422");

// CONCATENATED MODULE: ./packages/Rate/src/main.vue






/* normalize component */

var Rate_src_main_component = normalizeComponent(
  packages_Rate_src_mainvue_type_script_lang_js,
  mainvue_type_template_id_02cb5775_scoped_true_render,
  mainvue_type_template_id_02cb5775_scoped_true_staticRenderFns,
  false,
  null,
  "02cb5775",
  null
  
)

/* harmony default export */ var Rate_src_main = (Rate_src_main_component.exports);
// CONCATENATED MODULE: ./packages/Rate/index.js

Rate_src_main.install = function (Vue) {
  Vue.component(Rate_src_main.name, Rate_src_main);
};
/* harmony default export */ var Rate = (Rate_src_main);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"8bdeefa2-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/Slider/src/main.vue?vue&type=template&id=7360a368&scoped=true
var mainvue_type_template_id_7360a368_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.permission != 'n')?_c('div',{class:[
    'inputs',
    _vm.formInputsDisplay == 'block'
      ? 'ht-form-inputs__block'
      : 'ht-form-inputs__inline',
    _vm.isMobile ? 'mobile-slider__wrap' : '' ]},[(_vm.isMobile)?[(_vm.isPreview)?_c('span',{staticClass:"tip"},[_vm._v("\n      "+_vm._s(_vm.$t('ht.slider.tip'))+"\n    ")]):_c('van-slider',{attrs:{"max":_vm.max,"min":_vm.min,"step":_vm.step,"inactive-color":_vm.inactiveColor,"active-color":_vm.activeColor,"disabled":!_vm.inputWriteable},scopedSlots:_vm._u([{key:"button",fn:function(){return [_c('div',{staticClass:"custom-button"},[_vm._v(_vm._s(_vm.inputVal))])]},proxy:true}],null,false,1920191881),model:{value:(_vm.inputVal),callback:function ($$v) {_vm.inputVal=$$v},expression:"inputVal"}})]:_c('el-slider',{attrs:{"max":_vm.max,"min":_vm.min,"step":_vm.step,"show-input":_vm.showInput,"disabled":!_vm.inputWriteable},model:{value:(_vm.inputVal),callback:function ($$v) {_vm.inputVal=$$v},expression:"inputVal"}}),_c('input',{directives:[{name:"model",rawName:"v-model",value:(_vm.value),expression:"value"},{name:"validate",rawName:"v-validate",value:(_vm.inputValidate),expression:"inputValidate"}],attrs:{"type":"hidden","name":_vm.inputName},domProps:{"value":(_vm.value)},on:{"input":function($event){if($event.target.composing){ return; }_vm.value=$event.target.value}}})],2):_vm._e()}
var mainvue_type_template_id_7360a368_scoped_true_staticRenderFns = []


// CONCATENATED MODULE: ./packages/Slider/src/main.vue?vue&type=template&id=7360a368&scoped=true

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/Slider/src/main.vue?vue&type=script&lang=js
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//





/* harmony default export */ var Slider_src_mainvue_type_script_lang_js = ({
  name: 'HtSlider',
  mixins: [mixins_permission["a" /* default */], inputName["a" /* default */], mixins_form["a" /* default */], mobileMode["a" /* default */]],
  props: {
    value: [Number, String],
    max: {
      type: Number,
      default: 100
    },
    min: {
      type: [String, Number],
      default: 0
    },
    defaultValue: {
      type: Number,
      default: 50
    },
    step: {
      type: Number,
      default: 1
    },
    showInput: {
      type: Boolean,
      default: false
    },
    activeColor: {
      type: String,
      default: '#409EFF'
    },
    inactiveColor: {
      type: String,
      default: '#e5e5e5'
    },
    isPreview: {
      type: Boolean,
      default: false
    }
  },
  computed: {
    inputVal: {
      get() {
        if (this.value !== null && this.value !== undefined && this.value.constructor == String) {
          if (this.value.trim() == '') {
            return 0;
          }
          const valueNum = Number(this.value);
          if (isNaN(valueNum)) {
            throw this.$t('ht.slider.errorMsg');
          }
          return valueNum;
        }
        return this.value;
      },
      set(val) {
        this.$emit('input', val);
      }
    }
  },
  mounted() {
    if (!this.value) {
      this.inputVal = this.defaultValue;
    }
  }
});
// CONCATENATED MODULE: ./packages/Slider/src/main.vue?vue&type=script&lang=js
 /* harmony default export */ var packages_Slider_src_mainvue_type_script_lang_js = (Slider_src_mainvue_type_script_lang_js); 
// EXTERNAL MODULE: ./packages/Slider/src/main.vue?vue&type=style&index=0&id=7360a368&prod&lang=scss&scoped=true
var mainvue_type_style_index_0_id_7360a368_prod_lang_scss_scoped_true = __webpack_require__("4c6c");

// CONCATENATED MODULE: ./packages/Slider/src/main.vue






/* normalize component */

var Slider_src_main_component = normalizeComponent(
  packages_Slider_src_mainvue_type_script_lang_js,
  mainvue_type_template_id_7360a368_scoped_true_render,
  mainvue_type_template_id_7360a368_scoped_true_staticRenderFns,
  false,
  null,
  "7360a368",
  null
  
)

/* harmony default export */ var Slider_src_main = (Slider_src_main_component.exports);
// CONCATENATED MODULE: ./packages/Slider/index.js

Slider_src_main.install = function (Vue) {
  Vue.component(Slider_src_main.name, Slider_src_main);
};
/* harmony default export */ var Slider = (Slider_src_main);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"8bdeefa2-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/TemplateForm/src/main.vue?vue&type=template&id=f78ff794&scoped=true
var mainvue_type_template_id_f78ff794_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-main',{staticClass:"base-main"},[_c('div',{staticClass:"base-main_box"},[_c('div',{attrs:{"id":"printData"}},[(!_vm.inDialog)?_c('div',{staticClass:"form-container"},[_c('span',[_vm._v(_vm._s(_vm.$t('ht.templateForm.formContent')))])]):_vm._e(),_c('div',{staticClass:"form-content"},[(_vm.html)?_c('form',[_c('ht-online-form',{ref:"onlineForm",staticClass:"custom-form",attrs:{"html":_vm.html,"data":_vm.data,"permission":_vm.permission,"is-view":_vm.isView,"is-print":_vm.print},on:{"loadSuccess":_vm.loadSuccess}})],1):_vm._e()])]),(_vm.showOperation)?_c('div',{ref:"btnRegion",staticClass:"base-main_bottom_btn"},[(_vm.startFlow && _vm.startFlow != 'false' && _vm.action != 'get')?_c('el-button',{attrs:{"type":"success","disabled":_vm.disabled},on:{"click":_vm.start}},[_vm._v("\n        "+_vm._s(_vm.startLable)+"\n      ")]):_vm._e(),(_vm.isShow && _vm.action != 'editDraft')?_c('el-button',{attrs:{"type":"primary","disabled":_vm.disabled},on:{"click":function($event){return _vm.boSave()}}},[_vm._v("\n        "+_vm._s(_vm.$t('ht.common.save'))+"\n      ")]):_vm._e(),_c('el-button',{attrs:{"type":"default","disabled":_vm.disabled},on:{"click":function($event){return _vm.printDetail()}}},[_vm._v("\n        "+_vm._s(_vm.printLable)+"\n      ")]),_c('el-button',{attrs:{"type":"default"},on:{"click":function($event){return _vm.close(false)}}},[_vm._v("\n        "+_vm._s(_vm.$t('ht.common.return'))+"\n      ")])],1):_vm._e()])])}
var mainvue_type_template_id_f78ff794_scoped_true_staticRenderFns = []


// CONCATENATED MODULE: ./packages/TemplateForm/src/main.vue?vue&type=template&id=f78ff794&scoped=true

// EXTERNAL MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/TemplateForm/src/main.vue?vue&type=script&lang=js
var TemplateForm_src_mainvue_type_script_lang_js = __webpack_require__("4ebe");

// CONCATENATED MODULE: ./packages/TemplateForm/src/main.vue?vue&type=script&lang=js
 /* harmony default export */ var packages_TemplateForm_src_mainvue_type_script_lang_js = (TemplateForm_src_mainvue_type_script_lang_js["a" /* default */]); 
// EXTERNAL MODULE: ./packages/TemplateForm/src/main.vue?vue&type=style&index=0&id=f78ff794&prod&lang=scss&scoped=true
var mainvue_type_style_index_0_id_f78ff794_prod_lang_scss_scoped_true = __webpack_require__("0fca");

// CONCATENATED MODULE: ./packages/TemplateForm/src/main.vue






/* normalize component */

var TemplateForm_src_main_component = normalizeComponent(
  packages_TemplateForm_src_mainvue_type_script_lang_js,
  mainvue_type_template_id_f78ff794_scoped_true_render,
  mainvue_type_template_id_f78ff794_scoped_true_staticRenderFns,
  false,
  null,
  "f78ff794",
  null
  
)

/* harmony default export */ var TemplateForm_src_main = (TemplateForm_src_main_component.exports);
// CONCATENATED MODULE: ./packages/TemplateForm/index.js

TemplateForm_src_main.install = function (Vue) {
  Vue.component(TemplateForm_src_main.name, TemplateForm_src_main);
};
/* harmony default export */ var TemplateForm = (TemplateForm_src_main);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"8bdeefa2-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/TemplateBatchUpdate/src/TemplateBatchUpdateDialog.vue?vue&type=template&id=3479ec44&scoped=true
var TemplateBatchUpdateDialogvue_type_template_id_3479ec44_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.dialogFormVisible)?_c('el-dialog',{attrs:{"title":_vm.title,"visible":_vm.dialogFormVisible,"close-on-click-modal":false,"width":"30%","destroy-on-close":""},on:{"update:visible":function($event){_vm.dialogFormVisible=$event}}},[_c('el-form',{directives:[{name:"form",rawName:"v-form"}],staticStyle:{"width":"100%"},attrs:{"data-vv-scope":"custom-form","label-width":"100px","name":"online-form","model":_vm.updateData}},_vm._l((_vm.listForm),function(item,index){return _c('el-form-item',{key:index,attrs:{"label":item.desc}},[(item.outType == 'input')?[_c('ht-input',{staticStyle:{"width":"95%"},attrs:{"validate":{ required: item.isRequired }},model:{value:(_vm.updateData[item.name]),callback:function ($$v) {_vm.$set(_vm.updateData, item.name, $$v)},expression:"updateData[item.name]"}})]:_vm._e(),(item.outType == 'number')?[_c('ht-input',{staticStyle:{"width":"95%"},attrs:{"type":"number","validate":{ required: item.isRequired }},model:{value:(_vm.updateData[item.name]),callback:function ($$v) {_vm.$set(_vm.updateData, item.name, $$v)},expression:"updateData[item.name]"}})]:_vm._e(),(item.outType == 'data')?[_c('ht-date',{staticStyle:{"width":"95%"},attrs:{"validate":{ required: item.isRequired }},model:{value:(_vm.updateData[item.name]),callback:function ($$v) {_vm.$set(_vm.updateData, item.name, $$v)},expression:"updateData[item.name]"}})]:_vm._e(),(item.outType == 'select')?[_c('ht-select',{staticStyle:{"width":"95%"},attrs:{"validate":{ required: item.isRequired },"model-name":"updateData[item.name]","placeholder":"","ganged":item.ganged,"multiple":false,"filterable":false,"allow-create":false,"permission":"w","selectlist":item.selectData},model:{value:(_vm.updateData[item.name]),callback:function ($$v) {_vm.$set(_vm.updateData, item.name, $$v)},expression:"updateData[item.name]"}},[_c('span',{attrs:{"slot":"labeldesc"},slot:"labeldesc"},[_vm._v("\n            "+_vm._s(_vm.$t('ht.templateBatchUpdateDialog.string'))+"\n          ")])])]:_vm._e(),(item.outType == 'dialog')?[_c('ht-custom-dialog',{staticStyle:{"width":"95%"},attrs:{"validate":{ required: item.isRequired },"model-name":("updateData." + (item.name)),"custdialog":item.custdialog,"permission":"w"},model:{value:(_vm.updateData[item.name]),callback:function ($$v) {_vm.$set(_vm.updateData, item.name, $$v)},expression:"updateData[item.name]"}})]:(item.outType == 'user')?[_c('ht-user-selector-input',{staticStyle:{"width":"95%"},attrs:{"validate":{ required: item.isRequired },"select-current":item.selectCurrent,"single":item.single,"append-to-body":true,"config":item.bindConfig},model:{value:(_vm.updateData[item.name]),callback:function ($$v) {_vm.$set(_vm.updateData, item.name, $$v)},expression:"updateData[item.name]"}})]:(item.outType == 'org')?[_c('ht-org-selector-input',{attrs:{"select-current":item.selectCurrent,"single":item.single,"append-to-body":true,"config":item.bindConfig},model:{value:(_vm.updateData[item.name]),callback:function ($$v) {_vm.$set(_vm.updateData, item.name, $$v)},expression:"updateData[item.name]"}})]:(item.outType == 'post')?[_c('ht-post-selector-input',{attrs:{"append-to-body":true,"config":item.bindConfig},model:{value:(_vm.updateData[item.name]),callback:function ($$v) {_vm.$set(_vm.updateData, item.name, $$v)},expression:"updateData[item.name]"}})]:(item.outType == 'role')?[_c('ht-role-selector-input',{attrs:{"append-to-body":true,"config":item.bindConfig},model:{value:(_vm.updateData[item.name]),callback:function ($$v) {_vm.$set(_vm.updateData, item.name, $$v)},expression:"updateData[item.name]"}})]:(item.outType == 'job')?[_c('ht-job-selector-input',{attrs:{"append-to-body":true,"config":item.bindConfig},model:{value:(_vm.updateData[item.name]),callback:function ($$v) {_vm.$set(_vm.updateData, item.name, $$v)},expression:"updateData[item.name]"}})]:(item.outType == 'dem')?[_c('ht-dimension-selector-input',{attrs:{"append-to-body":true,"config":item.bindConfig},model:{value:(_vm.updateData[item.name]),callback:function ($$v) {_vm.$set(_vm.updateData, item.name, $$v)},expression:"updateData[item.name]"}})]:_vm._e()],2)}),1),_c('div',{staticClass:"dialog-footer",attrs:{"slot":"footer"},slot:"footer"},[_c('el-button',{on:{"click":function($event){_vm.dialogFormVisible = false}}},[_vm._v("\n      "+_vm._s(_vm.$t('ht.common.cancle'))+"\n    ")]),_c('el-button',{attrs:{"type":"primary"},on:{"click":_vm.onConfirm}},[_vm._v("\n      "+_vm._s(_vm.$t('ht.common.confirm'))+"\n    ")])],1)],1):_vm._e()}
var TemplateBatchUpdateDialogvue_type_template_id_3479ec44_scoped_true_staticRenderFns = []


// CONCATENATED MODULE: ./packages/TemplateBatchUpdate/src/TemplateBatchUpdateDialog.vue?vue&type=template&id=3479ec44&scoped=true

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/TemplateBatchUpdate/src/TemplateBatchUpdateDialog.vue?vue&type=script&lang=js
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//


/* harmony default export */ var TemplateBatchUpdateDialogvue_type_script_lang_js = ({
  name: 'HtTemplateBatchUpdateDialog',
  data() {
    return {
      dialogFormVisible: false,
      listForm: [],
      updateData: {},
      title: '',
      data: {}
    };
  },
  mounted() {},
  methods: {
    onConfirm() {
      const me_ = this;
      utils["a" /* default */].validateForm(this, 'custom-form').then(() => {
        let confirmData = JSON.parse(JSON.stringify(me_.updateData));
        Object.keys(me_.data).forEach(key => {
          if (!confirmData.hasOwnProperty(key)) {
            confirmData[key] = me_.data[key];
          }
        });
        me_.dialogFormVisible = false;
        me_.$emit('onConfirm', confirmData);
      }).catch(() => {
        me_.$message.error(me_.$t('ht.templateBatchUpdateDialog.errorMsg'));
      });
    },
    closeDialog() {
      this.dialogFormVisible = false;
    },
    showDialog(title, data) {
      Object.assign(this.$data, this.$options.data());
      this.dialogFormVisible = true;
      this.listForm = data;
      this.title = title;
    }
  }
});
// CONCATENATED MODULE: ./packages/TemplateBatchUpdate/src/TemplateBatchUpdateDialog.vue?vue&type=script&lang=js
 /* harmony default export */ var src_TemplateBatchUpdateDialogvue_type_script_lang_js = (TemplateBatchUpdateDialogvue_type_script_lang_js); 
// CONCATENATED MODULE: ./packages/TemplateBatchUpdate/src/TemplateBatchUpdateDialog.vue





/* normalize component */

var TemplateBatchUpdateDialog_component = normalizeComponent(
  src_TemplateBatchUpdateDialogvue_type_script_lang_js,
  TemplateBatchUpdateDialogvue_type_template_id_3479ec44_scoped_true_render,
  TemplateBatchUpdateDialogvue_type_template_id_3479ec44_scoped_true_staticRenderFns,
  false,
  null,
  "3479ec44",
  null
  
)

/* harmony default export */ var TemplateBatchUpdateDialog = (TemplateBatchUpdateDialog_component.exports);
// CONCATENATED MODULE: ./packages/TemplateBatchUpdate/index.js

TemplateBatchUpdateDialog.install = function (Vue) {
  Vue.component(TemplateBatchUpdateDialog.name, TemplateBatchUpdateDialog);
};
/* harmony default export */ var TemplateBatchUpdate = (TemplateBatchUpdateDialog);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"8bdeefa2-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/TemplateFormDialog/src/main.vue?vue&type=template&id=32cad0a1&scoped=true
var mainvue_type_template_id_32cad0a1_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{style:({ '--dialogHeight': _vm.dialogHeight }),attrs:{"title":_vm.$t('ht.templateForm.formContent'),"visible":_vm.dialogVisible,"width":_vm.dialogWidth,"custom-class":"template-form-dialog","top":"5vh","append-to-body":_vm.appendToBody},on:{"update:visible":function($event){_vm.dialogVisible=$event}}},[_c('span',[(_vm.dialogVisible)?_c('ht-template-form',{staticClass:"template-form-dialog_form",attrs:{"template-key":_vm.templateKey,"is-share":false,"open-type":"dialog","in-dialog":true,"dialog-param":_vm.dialogParam,"action":_vm.action,"quit-after-saving":_vm.quitAfterSaving},on:{"close":_vm.close}}):_vm._e()],1)])}
var mainvue_type_template_id_32cad0a1_scoped_true_staticRenderFns = []


// CONCATENATED MODULE: ./packages/TemplateFormDialog/src/main.vue?vue&type=template&id=32cad0a1&scoped=true

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/TemplateFormDialog/src/main.vue?vue&type=script&lang=js
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//

/* harmony default export */ var TemplateFormDialog_src_mainvue_type_script_lang_js = ({
  name: 'HtTemplateFormDialog',
  props: {
    appendToBody: {
      type: Boolean,
      default: false
    }
  },
  data() {
    return {
      dialogVisible: false,
      templateKey: '',
      action: 'get',
      dialogWidth: '70%',
      dialogHeight: '',
      dialogParam: {},
      quitAfterSaving: false
    };
  },
  methods: {
    showDialog(param) {
      this.templateKey = param.templateKey;
      this.action = param.action;
      this.dialogParam = param.dialogParam;
      this.dialogHeight = param.dialogHeight;
      this.dialogWidth = param.dialogWidth;
      this.quitAfterSaving = !(!param.quitAfterSaving || param.quitAfterSaving == 'false');
      this.dialogVisible = true;
    },
    close() {
      this.dialogVisible = false;
      this.$emit('close');
    }
  }
});
// CONCATENATED MODULE: ./packages/TemplateFormDialog/src/main.vue?vue&type=script&lang=js
 /* harmony default export */ var packages_TemplateFormDialog_src_mainvue_type_script_lang_js = (TemplateFormDialog_src_mainvue_type_script_lang_js); 
// EXTERNAL MODULE: ./packages/TemplateFormDialog/src/main.vue?vue&type=style&index=0&id=32cad0a1&prod&lang=scss&scoped=true
var mainvue_type_style_index_0_id_32cad0a1_prod_lang_scss_scoped_true = __webpack_require__("e75e");

// CONCATENATED MODULE: ./packages/TemplateFormDialog/src/main.vue






/* normalize component */

var TemplateFormDialog_src_main_component = normalizeComponent(
  packages_TemplateFormDialog_src_mainvue_type_script_lang_js,
  mainvue_type_template_id_32cad0a1_scoped_true_render,
  mainvue_type_template_id_32cad0a1_scoped_true_staticRenderFns,
  false,
  null,
  "32cad0a1",
  null
  
)

/* harmony default export */ var TemplateFormDialog_src_main = (TemplateFormDialog_src_main_component.exports);
// CONCATENATED MODULE: ./packages/TemplateFormDialog/index.js

TemplateFormDialog_src_main.install = function (Vue) {
  Vue.component(TemplateFormDialog_src_main.name, TemplateFormDialog_src_main);
};
/* harmony default export */ var TemplateFormDialog = (TemplateFormDialog_src_main);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"8bdeefa2-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/TemplateIframeDialog/src/main.vue?vue&type=template&id=55fe59d8&scoped=true
var mainvue_type_template_id_55fe59d8_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{style:({ '--dialogHeight': _vm.dialogHeight }),attrs:{"title":("url" + (_vm.$t('ht.common.content'))),"visible":_vm.dialogVisible,"width":_vm.dialogWidth,"custom-class":"template-iframe-dialog","top":"5vh"},on:{"update:visible":function($event){_vm.dialogVisible=$event}}},[_c('iframe',{staticClass:"template-iframe-dialog_iframe",attrs:{"width":"100%","frameborder":"0","hspace":"0","src":_vm.url}})])}
var mainvue_type_template_id_55fe59d8_scoped_true_staticRenderFns = []


// CONCATENATED MODULE: ./packages/TemplateIframeDialog/src/main.vue?vue&type=template&id=55fe59d8&scoped=true

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/TemplateIframeDialog/src/main.vue?vue&type=script&lang=js
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//

/* harmony default export */ var TemplateIframeDialog_src_mainvue_type_script_lang_js = ({
  name: 'HtTemplateIframeDialog',
  data() {
    return {
      dialogVisible: false,
      dialogWidth: '70%',
      dialogHeight: '740px',
      url: ''
    };
  },
  methods: {
    showDialog(param) {
      this.url = param.url;
      if (param.dialogWidth) {}
      this.dialogWidth = param.dialogWidth && String(param.dialogWidth).includes('px') ? param.dialogWidth : param.dialogWidth ? param.dialogWidth + 'px' : '70%';
      this.dialogHeight = param.dialogHeight && String(param.dialogHeight).includes('px') ? param.dialogHeight : param.dialogHeight ? param.dialogHeight + 'px' : '740px';
      this.dialogVisible = true;
    }
  }
});
// CONCATENATED MODULE: ./packages/TemplateIframeDialog/src/main.vue?vue&type=script&lang=js
 /* harmony default export */ var packages_TemplateIframeDialog_src_mainvue_type_script_lang_js = (TemplateIframeDialog_src_mainvue_type_script_lang_js); 
// EXTERNAL MODULE: ./packages/TemplateIframeDialog/src/main.vue?vue&type=style&index=0&id=55fe59d8&prod&lang=scss&scoped=true
var mainvue_type_style_index_0_id_55fe59d8_prod_lang_scss_scoped_true = __webpack_require__("1fd4");

// CONCATENATED MODULE: ./packages/TemplateIframeDialog/src/main.vue






/* normalize component */

var TemplateIframeDialog_src_main_component = normalizeComponent(
  packages_TemplateIframeDialog_src_mainvue_type_script_lang_js,
  mainvue_type_template_id_55fe59d8_scoped_true_render,
  mainvue_type_template_id_55fe59d8_scoped_true_staticRenderFns,
  false,
  null,
  "55fe59d8",
  null
  
)

/* harmony default export */ var TemplateIframeDialog_src_main = (TemplateIframeDialog_src_main_component.exports);
// CONCATENATED MODULE: ./packages/TemplateIframeDialog/index.js

TemplateIframeDialog_src_main.install = function (Vue) {
  Vue.component(TemplateIframeDialog_src_main.name, TemplateIframeDialog_src_main);
};
/* harmony default export */ var TemplateIframeDialog = (TemplateIframeDialog_src_main);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"8bdeefa2-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/FlowChart/src/main.vue?vue&type=template&id=fceb4028&scoped=true
var mainvue_type_template_id_fceb4028_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-dialog',{attrs:{"width":"80%","title":_vm.$t('ht.flowChart.title'),"visible":_vm.showFlowChart,"close-on-click-modal":false,"append-to-body":"","custom-class":_vm.customClass},on:{"update:visible":function($event){_vm.showFlowChart=$event}}},[_c('div',{staticClass:"btn-group"},_vm._l((_vm.btnList),function(item){return _c('div',{key:item.id,staticClass:"btn-item"},[_c('span',{staticClass:"icon",style:({ background: item.bgColor })}),_c('span',{staticClass:"label"},[_vm._v(_vm._s(item.label))])])}),0),_c('div',{staticClass:"flow-chart"},[_c('div',{style:({
          position: 'relative',
          width: _vm.imgWidth + 'px',
          height: _vm.imgHeight + 'px',
          background: 'url(' + _vm.backGroundImg + ') no-repeat',
        })},[_vm._l((_vm.listLayout),function(layout){return [(_vm.instId)?_c('el-popover',{key:layout.nodeId,attrs:{"trigger":"hover","placement":"bottom-start"}},[(_vm.nodeOpinions[layout.nodeId])?_c('div',{staticClass:"options"},[_c('div',{staticClass:"title"},[_vm._v("\n                "+_vm._s(_vm.$t('ht.flowChart.taskApprovalDetail'))+"\n              ")]),(_vm.hasOpinion(layout))?_vm._l((_vm.getData(layout)),function(op){return _c('table',{key:op.id},[_c('tr',[_c('td',{staticClass:"label"},[_vm._v(_vm._s(_vm.$t('ht.flowChart.taskName')))]),_c('td',{staticClass:"value"},[_vm._v(_vm._s(op.taskName))])]),_c('tr',{directives:[{name:"show",rawName:"v-show",value:(op.auditor),expression:"op.auditor"}]},[_c('td',{staticClass:"label"},[_vm._v(_vm._s(_vm.$t('ht.flowChart.executor')))]),_c('td',{staticClass:"value"},[_vm._v(_vm._s(op.auditorName))])]),_c('tr',{directives:[{name:"show",rawName:"v-show",value:(!op.auditor),expression:"!op.auditor"}]},[_c('td',{staticClass:"label"},[_c('span',[_vm._v(_vm._s(_vm.$t('ht.flowChart.candidate')))]),_c('el-tooltip',{attrs:{"effect":"light","content":_vm.$t('ht.flowChart.tooltipContent'),"placement":"right"}},[_c('i',{staticClass:"el-icon-question"})])],1),_c('td',{staticClass:"value"},_vm._l((op.qualfieds),function(user){return _c('span',{key:user.id},[(!user.users)?_c('el-button',{attrs:{"disabled":true}},[_vm._v("\n                          "+_vm._s(user.name)+"\n                        ")]):_vm._e(),(user.users)?_c('el-tooltip',{attrs:{"effect":"light","content":user.users,"placement":"top"}},[_c('el-button',[_vm._v(_vm._s(user.name))])],1):_vm._e()],1)}),0)]),_c('tr',[_c('td',{staticClass:"label"},[_vm._v(_vm._s(_vm.$t('ht.date.startTime')))]),_c('td',{staticClass:"value"},[_vm._v(_vm._s(op.createTime))])]),_c('tr',[_c('td',{staticClass:"label"},[_vm._v(_vm._s(_vm.$t('ht.date.endTime')))]),_c('td',{staticClass:"value"},[_vm._v(_vm._s(op.completeTime))])]),_c('tr',[_c('td',{staticClass:"label"},[_vm._v("\n                      "+_vm._s(_vm.$t('ht.flowChart.approvalTime'))+"\n                    ")]),_c('td',{staticClass:"value"},[_vm._v(_vm._s(_vm._f("calcDuration")(op.durMs)))])]),_c('tr',[_c('td',{staticClass:"label"},[_vm._v(_vm._s(_vm.$t('ht.common.status')))]),_c('td',{staticClass:"value"},[_vm._v(_vm._s(op.statusVal))])]),_c('tr',[_c('td',{staticClass:"label"},[_vm._v(_vm._s(_vm.$t('ht.flowChart.opinion')))]),_c('td',{staticClass:"opinion"},[_vm._v(_vm._s(op.opinion))])])])}):[_c('div',{staticClass:"sub-title"},[_vm._v("\n                  "+_vm._s(_vm.$t('ht.flowChart.nodeSettingDetails'))+"\n                ")]),_c('table',[_c('tr',[_c('td',{staticClass:"label"},[_vm._v(_vm._s(_vm.$t('ht.common.status')))]),_c('td',{staticClass:"value"},[_vm._v("\n                      "+_vm._s(_vm.$t('ht.flowChart.notTask'))+"\n                    ")])]),_c('tr',[_c('td',{staticClass:"label"},[_c('span',[_vm._v(_vm._s(_vm.$t('ht.flowChart.tentativeCandidate')))]),_c('el-tooltip',{attrs:{"effect":"light","content":_vm.$t('ht.flowChart.tentativeCandidateTip'),"placement":"right"}},[_c('i',{staticClass:"el-icon-question"})])],1),_c('td',{staticClass:"value"},_vm._l((_vm.getData(layout)),function(user){return _c('span',{key:user.id},[(!user.users)?_c('el-button',{staticStyle:{"margin-right":"5px"},attrs:{"disabled":true}},[_vm._v("\n                          "+_vm._s(user.name)+"\n                        ")]):_c('el-tooltip',{attrs:{"effect":"light","content":user.users,"placement":"top"}},[_c('el-button',[_vm._v("\n                            "+_vm._s(user.name)+"\n                          ")])],1)],1)}),0)])])]],2):_vm._e(),(_vm.showLayout(layout))?_c('el-button',{style:(_vm.getStyle(layout)),attrs:{"slot":"reference"},slot:"reference"}):_vm._e()],1):_vm._e()]})],2)])])],1)}
var mainvue_type_template_id_fceb4028_scoped_true_staticRenderFns = []


// CONCATENATED MODULE: ./packages/FlowChart/src/main.vue?vue&type=template&id=fceb4028&scoped=true

// EXTERNAL MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/FlowChart/src/main.vue?vue&type=script&lang=js
var FlowChart_src_mainvue_type_script_lang_js = __webpack_require__("f0b6");

// CONCATENATED MODULE: ./packages/FlowChart/src/main.vue?vue&type=script&lang=js
 /* harmony default export */ var packages_FlowChart_src_mainvue_type_script_lang_js = (FlowChart_src_mainvue_type_script_lang_js["a" /* default */]); 
// EXTERNAL MODULE: ./packages/FlowChart/src/main.vue?vue&type=style&index=0&id=fceb4028&prod&lang=scss&scoped=true
var mainvue_type_style_index_0_id_fceb4028_prod_lang_scss_scoped_true = __webpack_require__("8653");

// CONCATENATED MODULE: ./packages/FlowChart/src/main.vue






/* normalize component */

var FlowChart_src_main_component = normalizeComponent(
  packages_FlowChart_src_mainvue_type_script_lang_js,
  mainvue_type_template_id_fceb4028_scoped_true_render,
  mainvue_type_template_id_fceb4028_scoped_true_staticRenderFns,
  false,
  null,
  "fceb4028",
  null
  
)

/* harmony default export */ var FlowChart_src_main = (FlowChart_src_main_component.exports);
// CONCATENATED MODULE: ./packages/FlowChart/index.js

FlowChart_src_main.install = function (Vue) {
  Vue.component(FlowChart_src_main.name, FlowChart_src_main);
};
/* harmony default export */ var FlowChart = (FlowChart_src_main);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"8bdeefa2-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/ProcessRecord/src/main.vue?vue&type=template&id=e91ba498&scoped=true
var mainvue_type_template_id_e91ba498_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.dialogVisible)?_c('div',{staticClass:"record-wrap"},[_c('el-dialog',{attrs:{"title":_vm.$t('ht.approvalHistory.approvalRecord'),"visible":_vm.dialogVisible,"width":"80%"},on:{"update:visible":function($event){_vm.dialogVisible=$event}}},[(_vm.dialogVisible)?_c('div',{staticClass:"record-content"},[_c('ht-table',{attrs:{"data":_vm.rows,"show-export":false,"show-custom-column":false,"nopagination":true},on:{"loading":_vm.loadData}},[_c('ht-table-column',{attrs:{"width":"50","align":"center","label":_vm.$t('ht.common.index'),"type":"index"}}),_c('ht-table-column',{attrs:{"label":_vm.$t('ht.approvalHistory.approvalNode'),"width":"170","align":"center","prop":"taskName","show-overflow-tooltip":""}}),_c('ht-table-column',{attrs:{"prop":"qualfiedNames","label":_vm.$t('ht.approvalHistory.pendingApprovers'),"show-overflow-tooltip":"","width":"110","align":"center"},scopedSlots:_vm._u([{key:"default",fn:function(ref){
var row = ref.row;
return [(
                row.status != 'awaiting_check' &&
                  _vm.qualfiedsName(row.qualfiedNames, true) < 2
              )?_c('span',[_vm._v("\n              "+_vm._s(row.qualfiedNames)+"\n            ")]):_vm._e(),(
                row.status === 'awaiting_check' &&
                  row.qualfieds &&
                  row.qualfieds.length === 1 &&
                  !row.qualfieds[0].users
              )?_c('span',[_vm._v("\n              "+_vm._s(row.qualfiedNames)+"\n            ")]):_vm._e(),(
                row.status == 'awaiting_check' ||
                  _vm.qualfiedsName(row.qualfiedNames, true) > 1
              )?_c('el-popover',{attrs:{"placement":"right","popper-class":"right-popover","trigger":"hover"}},[_c('div',[_c('p',{staticClass:"qualfied_names"},[_vm._v("\n                  "+_vm._s(_vm.$t('ht.approvalHistory.name'))+"\n                ")]),(_vm.isQualfiedListHasUser(row.qualfieds))?_c('div',{staticClass:"btn__wrap"},_vm._l((row.qualfieds),function(item,index){return _c('p',{key:index},[(item.users)?_c('el-tooltip',{staticClass:"item",attrs:{"effect":"light","placement":"top","content":item.users}},[_c('el-button',{attrs:{"plain":"","size":"mini"}},[_vm._v(_vm._s(item.name))])],1):_vm._e(),(!item.users)?_c('el-button',{attrs:{"plain":"","size":"mini"}},[_vm._v("\n                      "+_vm._s(item.name)+"\n                    ")]):_vm._e()],1)}),0):_c('div',{staticClass:"btn__wrap"},_vm._l((_vm.qualfiedsName(
                      row.qualfiedNames,
                      false
                    )),function(item,index){return _c('p',{key:index},[_c('el-button',{attrs:{"plain":"","size":"mini"}},[_vm._v(_vm._s(item))])],1)}),0)]),(
                  _vm.isQualfiedListHasUser(row.qualfieds) ||
                    _vm.qualfiedsName(row.qualfiedNames, true) > 1
                )?_c('i',{staticClass:"el-icon-more qualfied-more__icon",attrs:{"slot":"reference"},slot:"reference"}):_vm._e()]):_vm._e()]}}],null,false,4088102685)}),_c('ht-table-column',{attrs:{"label":_vm.$t('ht.approvalHistory.handler'),"width":"110","align":"center","prop":"auditorName","show-overflow-tooltip":""}}),_c('ht-table-column',{attrs:{"align":"center","label":_vm.$t('ht.approvalHistory.handlingSituation'),"width":"140","show-overflow-tooltip":""},scopedSlots:_vm._u([{key:"default",fn:function(ref){
                var row = ref.row;
return [(row.statusVal == '待审批')?_c('span',[_vm._v("\n              "+_vm._s(row.isRead == 0
                  ? _vm.$t('ht.approvalHistory.notRead')
                  : _vm.$t('ht.approvalHistory.read'))+"\n            ")]):_c('span',[_vm._v("\n              "+_vm._s(row.statusVal)+"\n            ")])]}}],null,false,3953192907)}),_c('ht-table-column',{attrs:{"label":_vm.$t('ht.approvalHistory.handleOpinion'),"show-overflow-tooltip":"","align":"center"},scopedSlots:_vm._u([{key:"default",fn:function(ref){
                  var row = ref.row;
return [_c('strong',[_c('span',{staticStyle:{"white-space":"pre-wrap"}},[_vm._v(_vm._s(row.opinion))])]),_c('br'),(row.filesArray && row.filesArray.length != 0)?_c('div',{staticClass:"appendix"},[_c('div',{staticClass:"title"},[_vm._v(_vm._s(_vm.$t('ht.approvalHistory.file'))+"：")]),_vm._l((row.filesArray),function(item,index){return _c('div',{key:index,staticStyle:{"cursor":"pointer"}},[_c('el-tag',{on:{"click":function($event){return _vm.search(item)}}},[_vm._v(_vm._s(item.name))])],1)})],2):_vm._e(),_c('br')]}}],null,false,281907932)}),_c('ht-table-column',{attrs:{"label":_vm.$t('ht.approvalHistory.operateTime'),"width":"170","align":"center","show-overflow-tooltip":""},scopedSlots:_vm._u([{key:"default",fn:function(ref){
                  var row = ref.row;
return [_c('span',[_vm._v(_vm._s(row.completeTime))])]}}],null,false,2310087064)}),_c('ht-table-column',{attrs:{"align":"center","label":_vm.$t('ht.approvalHistory.stayTime'),"width":"110","show-overflow-tooltip":""},scopedSlots:_vm._u([{key:"default",fn:function(ref){
                  var row = ref.row;
return [_c('span',[_vm._v(_vm._s(_vm.formatTimeLag(row)))])]}}],null,false,1205228343)})],1)],1):_vm._e()])],1):_vm._e()}
var mainvue_type_template_id_e91ba498_scoped_true_staticRenderFns = []


// CONCATENATED MODULE: ./packages/ProcessRecord/src/main.vue?vue&type=template&id=e91ba498&scoped=true

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/ProcessRecord/src/main.vue?vue&type=script&lang=js
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//


/* harmony default export */ var ProcessRecord_src_mainvue_type_script_lang_js = ({
  name: 'ProcessRecord',
  props: {
    instId: String,
    taskId: String,
    referOpinion: Boolean,
    nodeType: String,
    defId: String,
    nodeId: String,
    myReadType: {
      type: String,
      default: ''
    }
  },
  data() {
    return {
      src: '',
      data: {
        taskId: '',
        referOpinion: false
      },
      fileId: '',
      // 获取row的key值
      // getRowKeys(row) {
      //   return row.id
      // },
      previewNodeFormDialogVisible: false,
      opinionSelectNodeId: '',
      opinionInstId: '',
      opinionTaskId: '',
      opinionFormData: '',
      opinionTaskName: '',
      opinionProcDefId: '',
      rows: [],
      // 表格数据
      dialogVisible: false
    };
  },
  created() {
    this.initParams();
  },
  methods: {
    showDialog() {
      this.dialogVisible = true;
    },
    initParams() {
      if (this.instId) {
        this.data.instId = this.instId;
        this.data.taskId = this.taskId;
        this.data.referOpinion = this.referOpinion;
        this.data.nodeType = this.nodeType;
        this.data.defId = this.defId;
        this.data.nodeId = this.nodeId;
        //类型为我的请求时添加参数isRequest进行过滤
        if (this.myReadType === 'request') {
          this.data.isRequest = true;
        }
      }
    },
    qualfiedsName(names, isLength) {
      if (names && isLength) {
        return names.split(',').length;
      }
      if (names && !isLength) {
        return names.split(',');
      }
    },
    isQualfiedListHasUser(data) {
      if (Array.isArray(data)) {
        for (let i = 0; i < data.length; i++) {
          if (data[i].users) {
            return true;
          }
        }
        return false;
      }
    },
    //持续时间
    formatTimeLag(row) {
      let endTimes = null;
      if (!row.completeTime) {
        endTimes = utils["a" /* default */].formatDate(new Date());
      } else {
        endTimes = row.completeTime;
      }
      const {
        days,
        hours,
        minutes,
        seconds
      } = utils["a" /* default */].dateDuration(row.createTime, endTimes);
      if (days > 0) return days + this.$t('ht.common.day');
      if (hours > 0) return hours + this.$t('ht.common.hour');
      if (minutes > 0) return minutes + this.$t('ht.common.minute');
      if (minutes == 0 && seconds >= 0) return this.$t('ht.approvalHistory.lessOneMinute');
    },
    search(item) {
      this.$preview(item);
    },
    loadData(param, cb) {
      const params = {
        instId: this.instId,
        taskId: this.taskId,
        referOpinion: this.referOpinion,
        nodeType: this.nodeType,
        defId: this.defId,
        nodeId: this.nodeId
      };
      this.$requestConfig.getOpinionsById(params).then(response => {
        response.map(e => {
          //有可能出现e.files是"\"\""的情况
          if (e.files && JSON.parse(e.files)) {
            e.filesArray = JSON.parse(JSON.parse(e.files));
          }
        });
        if (response && response.length) {
          this.rows = response.filter(item => item.status !== 'skip');
        }
      }).finally(() => {
        cb();
      });
    }
  }
});
// CONCATENATED MODULE: ./packages/ProcessRecord/src/main.vue?vue&type=script&lang=js
 /* harmony default export */ var packages_ProcessRecord_src_mainvue_type_script_lang_js = (ProcessRecord_src_mainvue_type_script_lang_js); 
// EXTERNAL MODULE: ./packages/ProcessRecord/src/main.vue?vue&type=style&index=0&id=e91ba498&prod&lang=scss&scoped=true
var mainvue_type_style_index_0_id_e91ba498_prod_lang_scss_scoped_true = __webpack_require__("efc4");

// CONCATENATED MODULE: ./packages/ProcessRecord/src/main.vue






/* normalize component */

var ProcessRecord_src_main_component = normalizeComponent(
  packages_ProcessRecord_src_mainvue_type_script_lang_js,
  mainvue_type_template_id_e91ba498_scoped_true_render,
  mainvue_type_template_id_e91ba498_scoped_true_staticRenderFns,
  false,
  null,
  "e91ba498",
  null
  
)

/* harmony default export */ var ProcessRecord_src_main = (ProcessRecord_src_main_component.exports);
// CONCATENATED MODULE: ./packages/ProcessRecord/index.js

ProcessRecord_src_main.install = function (Vue) {
  Vue.component(ProcessRecord_src_main.name, ProcessRecord_src_main);
};
/* harmony default export */ var ProcessRecord = (ProcessRecord_src_main);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"8bdeefa2-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/TemplateImportResult/src/main.vue?vue&type=template&id=38e423d6&scoped=true
var mainvue_type_template_id_38e423d6_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.dialogVisible)?_c('el-dialog',{attrs:{"title":_vm.$t('ht.templateImportResult.title'),"visible":_vm.dialogVisible,"width":"70%"},on:{"update:visible":function($event){_vm.dialogVisible=$event}}},[_c('span',[_c('el-tabs',{attrs:{"type":"card","tab-position":"top"},on:{"tab-click":_vm.handleTabClick},model:{value:(_vm.activeName),callback:function ($$v) {_vm.activeName=$$v},expression:"activeName"}},_vm._l((_vm.data),function(item){return _c('el-tab-pane',{key:item.entName,attrs:{"label":((item.desc) + "(" + (item.entName) + ")"),"name":item.entName}},[_c('el-table',{attrs:{"data":(item.pageList && item.pageList.rows) || item.rows,"border":"","stripe":"","height":"500px"}},[_c('el-table-column',{attrs:{"type":"index","align":"center"}}),_c('el-table-column',{attrs:{"label":_vm.$t('ht.templateImportResult.mainKey'),"align":"center"},scopedSlots:_vm._u([{key:"default",fn:function(scope){return [_c('span',[_vm._v("\n                  "+_vm._s(scope.row.dataNode[_vm.entMap[item.entName].pkKey])+"\n                ")])]}}],null,true)}),_c('el-table-column',{attrs:{"label":_vm.$t('ht.templateImportResult.foreignKey'),"align":"center"},scopedSlots:_vm._u([{key:"default",fn:function(scope){return [_c('span',[_vm._v("\n                  "+_vm._s(scope.row.dataNode[_vm.entMap[item.entName].fk])+"\n                ")])]}}],null,true)}),_c('el-table-column',{attrs:{"label":_vm.$t('ht.templateImportResult.validOrNot'),"align":"center"},scopedSlots:_vm._u([{key:"default",fn:function(scope){return [(!scope.row.state)?_c('el-tag',{attrs:{"type":"danger"}},[_vm._v("\n                  "+_vm._s(_vm.$t('ht.templateImportResult.no'))+"\n                ")]):_vm._e(),(scope.row.state)?_c('el-tag',{attrs:{"type":"success"}},[_vm._v("\n                  "+_vm._s(_vm.$t('ht.templateImportResult.yes'))+"\n                ")]):_vm._e()]}}],null,true)}),_c('el-table-column',{attrs:{"label":_vm.$t('ht.templateImportResult.errorInfo'),"prop":"cause","align":"center"}}),_c('el-table-column',{attrs:{"label":_vm.$t('ht.templateImportResult.duplicateOrNot'),"align":"center"},scopedSlots:_vm._u([{key:"default",fn:function(scope){return [(scope.row.repeat)?_c('el-tag',{attrs:{"type":"danger"}},[_vm._v("\n                  "+_vm._s(_vm.$t('ht.templateImportResult.yes'))+"\n                ")]):_c('el-tag',{attrs:{"type":"success"}},[_vm._v("\n                  "+_vm._s(_vm.$t('ht.templateImportResult.no'))+"\n                ")])]}}],null,true)}),_vm._l((_vm.attributeMap[item.entName] || []),function(column){return _c('el-table-column',{key:column.id,attrs:{"label":column.desc,"align":"center"},scopedSlots:_vm._u([{key:"default",fn:function(scope){return [_c('span',[_vm._v("\n                  "+_vm._s(scope.row.dataNode[column.name])+"\n                ")])]}}],null,true)})})],2),_c('el-pagination',{attrs:{"current-page":_vm.pageBean.page,"page-sizes":[20, 40, 60, 80, 100, 200, 300, 400],"page-size":_vm.pageBean.pageSize,"layout":"total, sizes, prev, pager, next, jumper","total":_vm.pageBean.total},on:{"size-change":_vm.handleSizeChange,"current-change":_vm.handleCurrentChange}})],1)}),1)],1),_c('span',{attrs:{"slot":"footer"},slot:"footer"},[_c('el-button',{on:{"click":function($event){_vm.dialogVisible = false}}},[_vm._v("\n        "+_vm._s(_vm.$t('ht.common.cancle'))+"\n      ")]),_c('el-button',{attrs:{"type":"primary"},on:{"click":_vm.processImportResult}},[_vm._v("\n        "+_vm._s(_vm.$t('ht.templateImportResult.import'))+"\n      ")])],1)]):_vm._e()],1)}
var mainvue_type_template_id_38e423d6_scoped_true_staticRenderFns = []


// CONCATENATED MODULE: ./packages/TemplateImportResult/src/main.vue?vue&type=template&id=38e423d6&scoped=true

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/TemplateImportResult/src/main.vue?vue&type=script&lang=js
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//

/* harmony default export */ var TemplateImportResult_src_mainvue_type_script_lang_js = ({
  name: 'TemplateImportResult',
  props: {
    templateInfo: {
      type: Object,
      default: () => {
        return {};
      }
    }
  },
  data() {
    return {
      cacheKey: '',
      dialogVisible: false,
      activeName: '',
      data: [],
      entMap: {},
      attributeMap: {},
      mapLoaded: false,
      pageBean: {
        page: 1,
        pageSize: 20,
        total: 0
      },
      currentIndex: 0
    };
  },
  methods: {
    handleSizeChange(pageSize) {
      this.pageBean.pageSize = pageSize;
      this.loadData(true);
    },
    handleCurrentChange(page) {
      this.pageBean.page = page;
      this.loadData(true);
    },
    showDialog(cacheKey) {
      this.cacheKey = cacheKey;
      this.currentIndex = 0;
      this.loadData();
      //this.dialogVisible = true
    },
    handleTabClick(tab) {
      this.currentIndex = Number(tab.index);
      this.pageBean = {
        page: 1,
        pageSize: 20
      };
      this.loadData(true);
    },
    loadData(isSizeOrPageChange = false) {
      const this_ = this;
      this.$requestConfig.getTemplateImportResult(this_.cacheKey, this.pageBean).then(resp => {
        if (!resp || !resp.length) {
          this_.$message.error(this_.$t('ht.templateImportResult.importFail'));
        } else {
          this_.data = resp;
          if (resp[this.currentIndex] && resp[this.currentIndex].pageList) {
            const {
              page,
              pageSize,
              total
            } = resp[this.currentIndex].pageList;
            this.pageBean = {
              page,
              pageSize,
              total
            };
          }
          if (resp.length && !isSizeOrPageChange) {
            this.activeName = resp[0].entName;
          }
          let entAttributeMap = {};
          let entMap = {};
          if (!this_.mapLoaded) {
            this.$requestConfig.getBoDefinition(this_.templateInfo.boDefAlias).then(boJson => {
              let fn_ = function (obj) {
                entMap[obj.name] = obj;
                if (obj.attributeList && obj.attributeList.length) {
                  entAttributeMap[obj.name] = obj.attributeList;
                }
                if (obj.childEnts && obj.childEnts.length) {
                  obj.childEnts.forEach(fn_);
                }
              };
              fn_(boJson.boEnt);
              this_.attributeMap = entAttributeMap;
              this_.entMap = entMap;
              this_.mapLoaded = true;
              this_.dialogVisible = true;
            });
          } else {
            this_.dialogVisible = true;
          }
        }
      });
    },
    processImportResult() {
      const loading = this.$loading({
        text: this.$t('ht.templateImportResult.loadingText')
      });
      this.$requestConfig.saveImportResult(this.cacheKey, this.templateInfo.alias).then(result => {
        if (result.state) {
          this.$message.success(result.message);
          this.dialogVisible = false;
          loading.close();
          this.$emit('after-save');
        }
      }).catch(() => {
        loading.close();
      });
    }
  }
});
// CONCATENATED MODULE: ./packages/TemplateImportResult/src/main.vue?vue&type=script&lang=js
 /* harmony default export */ var packages_TemplateImportResult_src_mainvue_type_script_lang_js = (TemplateImportResult_src_mainvue_type_script_lang_js); 
// CONCATENATED MODULE: ./packages/TemplateImportResult/src/main.vue





/* normalize component */

var TemplateImportResult_src_main_component = normalizeComponent(
  packages_TemplateImportResult_src_mainvue_type_script_lang_js,
  mainvue_type_template_id_38e423d6_scoped_true_render,
  mainvue_type_template_id_38e423d6_scoped_true_staticRenderFns,
  false,
  null,
  "38e423d6",
  null
  
)

/* harmony default export */ var TemplateImportResult_src_main = (TemplateImportResult_src_main_component.exports);
// CONCATENATED MODULE: ./packages/TemplateImportResult/index.js

TemplateImportResult_src_main.install = function (Vue) {
  Vue.component(TemplateImportResult_src_main.name, TemplateImportResult_src_main);
};
/* harmony default export */ var TemplateImportResult = (TemplateImportResult_src_main);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"8bdeefa2-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/TemplateTaskCirculate/src/main.vue?vue&type=template&id=9642b776&scoped=true
var mainvue_type_template_id_9642b776_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.dialogVisible)?_c('el-dialog',{attrs:{"title":_vm.$t('ht.templateTaskCirculate.title'),"visible":_vm.dialogVisible,"width":"70%"},on:{"update:visible":function($event){_vm.dialogVisible=$event},"close":_vm.closeDialog}},[_c('span',[_c('el-form',{ref:"form",attrs:{"model":_vm.form,"label-width":"100px","inline":false,"size":"normal","data-vv-scope":"todoReadForm"}},[_c('ht-form-item',{attrs:{"label":_vm.$t('ht.templateTaskCirculate.circulators'),"required":""}},[_c('ht-user-selector-input',{ref:"htUserSelector",attrs:{"append-to-body":"","quick-search-props":"fullname,account,phone,email","permission":"b","config":{ id: 'form' }},on:{"input":_vm.syncInputUserId},model:{value:(_vm.form.users),callback:function ($$v) {_vm.$set(_vm.form, "users", $$v)},expression:"form.users"}})],1),_c('ht-form-item',{attrs:{"label":_vm.$t('ht.templateTaskCirculate.circulateExplain'),"required":""}},[_c('div',{staticClass:"approval-comments"},[_c('ht-input',{ref:"opinionInput",attrs:{"type":"textarea","display-style":"block","placeholder":_vm.$t('ht.templateTaskCirculate.placeholder'),"name":_vm.$t('ht.templateTaskCirculate.approvalOpinion'),"validate":"required","maxlength":500,"max":500,"autosize":{ minRows: 4, maxRows: 4 },"permission":"b"},model:{value:(_vm.form.opinion),callback:function ($$v) {_vm.$set(_vm.form, "opinion", $$v)},expression:"form.opinion"}}),_c('div',{staticClass:"common-words"},[_c('el-button',{attrs:{"title":_vm.$t('ht.templateTaskCirculate.addCommonWord'),"icon":"el-icon-plus","size":"mini"},on:{"click":_vm.addCommonOpinion}}),_c('span',[_vm._v(_vm._s(_vm.$t('ht.templateTaskCirculate.commonWord'))+"：")]),_vm._l((_vm.commonWordsList),function(commonOpinion){return _c('span',{key:commonOpinion},[(commonOpinion.length > 30)?_c('el-tag',{attrs:{"title":commonOpinion},nativeOn:{"click":function($event){return _vm.choseCommonOpinion(commonOpinion)}}},[_vm._v("\n                  "+_vm._s(commonOpinion.substring(0, 30))+"...\n                ")]):_c('el-tag',{attrs:{"effect":"plain","type":"info"},nativeOn:{"click":function($event){return _vm.choseCommonOpinion(commonOpinion)}}},[_vm._v("\n                  "+_vm._s(commonOpinion)+"\n                ")])],1)}),_c('span',{staticClass:"word-count"},[_vm._v(_vm._s(_vm.wordCount)+"/500")])],2)],1)]),_c('ht-form-item',{attrs:{"label":_vm.$t('ht.templateTaskCirculate.uploadFile')}},[_c('ht-file',{attrs:{"type":"list","downloadable":false},model:{value:(_vm.fileList),callback:function ($$v) {_vm.fileList=$$v},expression:"fileList"}})],1)],1)],1),_c('span',{attrs:{"slot":"footer"},slot:"footer"},[_c('el-button',{attrs:{"type":"primary"},on:{"click":_vm.confirm}},[_vm._v("\n        "+_vm._s(_vm.$t('ht.common.confirm'))+"\n      ")]),_c('el-button',{on:{"click":_vm.closeDialog}},[_vm._v(_vm._s(_vm.$t('ht.common.cancle')))])],1)]):_vm._e()],1)}
var mainvue_type_template_id_9642b776_scoped_true_staticRenderFns = []


// CONCATENATED MODULE: ./packages/TemplateTaskCirculate/src/main.vue?vue&type=template&id=9642b776&scoped=true

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/TemplateTaskCirculate/src/main.vue?vue&type=script&lang=js
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//

/* harmony default export */ var TemplateTaskCirculate_src_mainvue_type_script_lang_js = ({
  name: 'TemplateTaskCirculate',
  data() {
    return {
      dialogVisible: false,
      form: {
        users: '',
        userId: '',
        opinion: ''
      },
      fileList: '',
      defKey: '',
      instId: '',
      taskId: '',
      commonWordsList: [],
      commonWordLoaded: false,
      wordCount: 0
    };
  },
  watch: {
    'form.opinion': {
      handler(val) {
        this.$emit('get-opinion', val);
        this.opinionInput();
      },
      deep: true
    }
  },
  methods: {
    showDialog(row, flowBtnPermission) {
      const instId = row['bpm_proc_inst_id_'];
      this.defKey = row['bpm_proc_def_key_'];
      this.instId = instId;
      if (instId) {
        this.taskId = flowBtnPermission[instId] ? flowBtnPermission[instId].taskId || '' : '';
      }
      this.$validator = this.$root.$validator;
      this.commonWordLoaded || this.loadCommonWord();
      this.dialogVisible = true;
    },
    confirm() {
      this.$validator.validateAll('todoReadForm').then(result => {
        if (!result) {
          this.$message.warning(this.$t('ht.templateTaskCirculate.validateErrorMsg'));
          return false;
        }
        const data = {
          copyToType: '0',
          files: JSON.stringify(this.fileList || []),
          instanceId: this.instId,
          opinion: this.form.opinion,
          messageType: 'inner',
          userId: this.form.userId,
          taskId: this.taskId
        };
        this.$requestConfig.transToMore(data).then(resp => {
          if (resp.state) {
            this.$message.success(resp.message);
            this.closeDialog();
          } else if (resp.message) {
            this.$message.error(resp.message);
          }
        });
      });
    },
    loadCommonWord() {
      this.$requestConfig.getCommonWordsByDefKeyAndTypeId(this.defKey).then(resp => {
        this.commonWordLoaded = true;
        this.commonWordsList = resp;
      });
    },
    closeDialog() {
      this.$set(this, 'form', {
        users: '',
        userId: '',
        opinion: ''
      });
      this.taskId = '';
      this.instId = '';
      this.fileList = '';
      this.dialogVisible = false;
    },
    //选择常用语
    choseCommonOpinion(commonOpinion) {
      this.form.opinion += commonOpinion;
      this.opinionInput();
      // 触发校验
      this.$nextTick(() => {
        this.$refs.opinionInput.$validator.validate();
      });
      if (this.form.opinion.length >= 500) {
        this.form.opinion = this.form.opinion.substr(0, 500);
        this.opinionInput();
        return;
      }
    },
    //统计输入和选择常用语长度
    opinionInput() {
      this.wordCount = this.form.opinion.length;
    },
    //添加常用语
    addCommonOpinion() {
      if (!this.form.opinion) {
        this.$message.warning(`${this.$t('ht.common.enter')}${this.$t('ht.templateTaskCirculate.approvalOpinion')}`);
        return;
      }
      this.$confirm(this.$t('ht.templateTaskCirculate.confirmMsg', {
        opinion: this.form.opinion
      })).then(() => {
        const params = {
          expression: this.form.opinion,
          departmentId: '',
          postId: '',
          roleId: '',
          type: 4
        };
        this.$requestConfig.savaCommonWords(params).then(data => {
          if (data.state) {
            this.$message({
              type: 'success',
              message: data.message
            });
            this.loadCommonWord();
          } else if (data.message) {
            this.$message.error(data.message);
          }
        });
      }).catch(() => {});
    },
    syncInputUserId() {
      let selection = this.$refs['htUserSelector'].$refs['userSelectorEl'].selectors;
      this.form.userId = selection.map(item => item.id).join(',');
    }
  }
});
// CONCATENATED MODULE: ./packages/TemplateTaskCirculate/src/main.vue?vue&type=script&lang=js
 /* harmony default export */ var packages_TemplateTaskCirculate_src_mainvue_type_script_lang_js = (TemplateTaskCirculate_src_mainvue_type_script_lang_js); 
// EXTERNAL MODULE: ./packages/TemplateTaskCirculate/src/main.vue?vue&type=style&index=0&id=9642b776&prod&lang=scss&scoped=true
var mainvue_type_style_index_0_id_9642b776_prod_lang_scss_scoped_true = __webpack_require__("2c66");

// CONCATENATED MODULE: ./packages/TemplateTaskCirculate/src/main.vue






/* normalize component */

var TemplateTaskCirculate_src_main_component = normalizeComponent(
  packages_TemplateTaskCirculate_src_mainvue_type_script_lang_js,
  mainvue_type_template_id_9642b776_scoped_true_render,
  mainvue_type_template_id_9642b776_scoped_true_staticRenderFns,
  false,
  null,
  "9642b776",
  null
  
)

/* harmony default export */ var TemplateTaskCirculate_src_main = (TemplateTaskCirculate_src_main_component.exports);
// CONCATENATED MODULE: ./packages/TemplateTaskCirculate/index.js

TemplateTaskCirculate_src_main.install = function (Vue) {
  Vue.component(TemplateTaskCirculate_src_main.name, TemplateTaskCirculate_src_main);
};
/* harmony default export */ var TemplateTaskCirculate = (TemplateTaskCirculate_src_main);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"8bdeefa2-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/HistoricalApproval/src/main.vue?vue&type=template&id=5e75cd3c&scoped=true
var mainvue_type_template_id_5e75cd3c_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:"record-wrap"},[_c('div',{staticClass:"record-content"},[_c('el-table',{attrs:{"span-method":_vm.arraySpanMethod,"data":_vm.rows,"selectable":false,"show-export":false,"show-custom-column":false,"nopagination":true,"border":true},on:{"loading":_vm.loadData}},[_c('el-table-column',{attrs:{"width":"60","align":"center","label":_vm.$t('ht.common.index'),"type":"index"}}),_c('el-table-column',{attrs:{"label":_vm.$t('ht.approvalHistory.approvalNode'),"width":"170","align":"center","prop":"taskName","show-overflow-tooltip":_vm.overToolTip}}),_c('el-table-column',{attrs:{"label":_vm.$t('ht.approvalHistory.pendingApprovers'),"show-overflow-tooltip":_vm.overToolTip,"width":"110","align":"center"},scopedSlots:_vm._u([{key:"default",fn:function(ref){
var ref_row = ref.row;
var status = ref_row.status;
var qualfieds = ref_row.qualfieds;
var qualfiedNames = ref_row.qualfiedNames;
return [(_vm.showQualfiedsNames(status, qualfieds, qualfiedNames))?_c('span',[_vm._v("\n            "+_vm._s(qualfiedNames)+"\n          ")]):_vm._e(),(
              status == 'awaiting_check' ||
                _vm.qualfiedsName(qualfiedNames, true) > 1
            )?_c('el-popover',{attrs:{"placement":"right","popper-class":"right-popover","trigger":"hover"}},[_c('div',[_c('p',{staticClass:"qualfied_names"},[_vm._v("\n                "+_vm._s(_vm.$t('ht.approvalHistory.name'))+"\n              ")]),(_vm.isQualfiedListHasUser(qualfieds))?_c('div',{staticClass:"btn__wrap"},_vm._l((qualfieds),function(item,index){return _c('p',{key:index},[(item.users)?_c('el-tooltip',{staticClass:"item",attrs:{"effect":"light","placement":"top","content":item.users}},[_c('el-button',{attrs:{"plain":"","size":"mini"}},[_vm._v(_vm._s(item.name))])],1):_vm._e(),(!item.users)?_c('el-button',{attrs:{"plain":"","size":"mini"}},[_vm._v("\n                    "+_vm._s(item.name)+"\n                  ")]):_vm._e()],1)}),0):_c('div',{staticClass:"btn__wrap"},_vm._l((_vm.qualfiedsName(qualfiedNames, false)),function(item,index){return _c('p',{key:index},[_c('el-button',{attrs:{"plain":"","size":"mini"}},[_vm._v(_vm._s(item))])],1)}),0)]),(
                _vm.isQualfiedListHasUser(qualfieds) ||
                  _vm.qualfiedsName(qualfiedNames, true) > 1
              )?_c('i',{staticClass:"el-icon-more qualfied-more__icon",attrs:{"slot":"reference"},slot:"reference"}):_vm._e()]):_vm._e()]}}])}),_c('el-table-column',{attrs:{"label":_vm.$t('ht.approvalHistory.handler'),"width":"110","align":"center","prop":"auditorName","show-overflow-tooltip":_vm.overToolTip},scopedSlots:_vm._u([{key:"default",fn:function(ref){
              var row = ref.row;
return [_c('span',[_vm._v(_vm._s(row.auditorName))])]}}])}),_c('el-table-column',{attrs:{"align":"center","label":_vm.$t('ht.approvalHistory.handlingSituation'),"width":"140","show-overflow-tooltip":_vm.overToolTip},scopedSlots:_vm._u([{key:"default",fn:function(ref){
              var ref_row = ref.row;
              var isRead = ref_row.isRead;
              var statusVal = ref_row.statusVal;
return [(statusVal == _vm.$t('ht.flowChart.notApproval'))?_c('span',[_vm._v("\n            "+_vm._s(isRead == 0
                ? _vm.$t('ht.approvalHistory.notRead')
                : _vm.$t('ht.approvalHistory.read'))+"\n          ")]):_c('span',[_vm._v("\n            "+_vm._s(statusVal)+"\n          ")])]}}])}),_c('el-table-column',{attrs:{"label":_vm.$t('ht.approvalHistory.handleOpinion'),"show-overflow-tooltip":_vm.overToolTip,"align":"center"},scopedSlots:_vm._u([{key:"default",fn:function(ref){
                var ref_row = ref.row;
                var opinion = ref_row.opinion;
                var filesArray = ref_row.filesArray;
return [_c('strong',[_c('span',{staticStyle:{"white-space":"pre-wrap"}},[_vm._v(_vm._s(opinion))])]),(filesArray && filesArray.length)?_c('div',{staticClass:"appendix"},[_c('div',{staticClass:"title"},[_vm._v(_vm._s(_vm.$t('ht.approvalHistory.file'))+"：")]),_c('div',{staticClass:"file-content"},_vm._l((filesArray),function(item,index){return _c('div',{key:index,staticClass:"attachment"},[_c('el-tooltip',{attrs:{"placement":"bottom-start","effect":"light"}},[_c('div',{attrs:{"slot":"content"},slot:"content"},[_c('el-button',{attrs:{"icon":"el-icon-download","circle":""},on:{"click":function($event){return _vm.downloadAttachments(item)}}})],1),_c('el-tag',{on:{"click":function($event){return _vm.search(item)}}},[_vm._v(_vm._s(item.name))])],1)],1)}),0)]):_vm._e()]}}])}),_c('el-table-column',{attrs:{"label":_vm.$t('ht.approvalHistory.operateTime'),"width":"170","align":"center","show-overflow-tooltip":_vm.overToolTip},scopedSlots:_vm._u([{key:"default",fn:function(ref){
                var row = ref.row;
return [_c('span',{staticStyle:{"white-space":"pre-wrap"}},[_vm._v(_vm._s(row.completeTime))])]}}])}),_c('el-table-column',{attrs:{"align":"center","label":_vm.$t('ht.approvalHistory.stayTime'),"width":"110","show-overflow-tooltip":_vm.overToolTip},scopedSlots:_vm._u([{key:"default",fn:function(ref){
                var row = ref.row;
return [_c('span',[_vm._v(_vm._s(_vm.formatTimeLag(row)))])]}}])})],1)],1)])}
var mainvue_type_template_id_5e75cd3c_scoped_true_staticRenderFns = []


// CONCATENATED MODULE: ./packages/HistoricalApproval/src/main.vue?vue&type=template&id=5e75cd3c&scoped=true

// EXTERNAL MODULE: external "moment"
var external_moment_ = __webpack_require__("c32d");
var external_moment_default = /*#__PURE__*/__webpack_require__.n(external_moment_);

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/HistoricalApproval/src/main.vue?vue&type=script&lang=js
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//


/* harmony default export */ var HistoricalApproval_src_mainvue_type_script_lang_js = ({
  name: 'HtHistoricalApproval',
  componentName: 'HtHistoricalApproval',
  props: {
    instId: String,
    order: Boolean
  },
  data() {
    return {
      nodeIdMap: {},
      src: '',
      data: {
        taskId: '',
        referOpinion: false
      },
      fileId: '',
      previewNodeFormDialogVisible: false,
      opinionSelectNodeId: '',
      opinionInstId: '',
      opinionTaskId: '',
      opinionFormData: '',
      opinionTaskName: '',
      opinionProcDefId: '',
      rows: [] // 表格数据
    };
  },
  created() {
    this.initParams();
    this.loadData();
  },
  methods: {
    arraySpanMethod({
      row,
      column,
      rowIndex,
      columnIndex
    }) {
      if (this.order && columnIndex === 1) {
        if (this.nodeIdMap[row.taskKey].length > 1 && this.nodeIdMap[row.taskKey][this.nodeIdMap[row.taskKey].length - 1] == row) {
          return {
            rowspan: this.nodeIdMap[row.taskKey].length,
            colspan: 1
          };
        } else if (this.nodeIdMap[row.taskKey].length > 1) {
          return {
            rowspan: 0,
            colspan: 0
          };
        } else {
          return {
            rowspan: 1,
            colspan: 1
          };
        }
      }
    },
    showQualfiedsNames(status, qualfieds, qualfiedNames) {
      const length = this.qualfiedsName(qualfiedNames, true);
      return length < 2 && status != 'awaiting_check' || status == 'awaiting_check' && qualfieds && qualfieds.length == 1 && !qualfieds[0].users;
    },
    initParams() {
      if (this.instId) {
        this.data.instId = this.instId;
        this.data.taskId = this.taskId;
        this.data.referOpinion = this.referOpinion;
        this.data.nodeType = this.nodeType;
        this.data.defId = this.defId;
        this.data.nodeId = this.nodeId;
        //类型为我的请求时添加参数isRequest进行过滤
        if (this.myReadType === 'request') {
          this.data.isRequest = true;
        }
      }
    },
    qualfiedsName(names, isLength) {
      if (names && isLength) {
        return names.split(',').length;
      }
      if (names && !isLength) {
        return names.split(',');
      }
    },
    isQualfiedListHasUser(data) {
      if (Array.isArray(data)) {
        for (let i = 0; i < data.length; i++) {
          if (data[i].users) {
            return true;
          }
        }
        return false;
      }
    },
    //持续时间
    formatTimeLag(row) {
      let endTimes = new external_moment_default.a();
      if (!row.completeTime) {
        endTimes = new external_moment_default.a(new Date());
      } else {
        endTimes = new external_moment_default.a(new Date(row.completeTime));
      }
      let createTime = new external_moment_default.a(new Date(row.createTime));
      let duration = external_moment_default.a.duration(endTimes.diff(createTime));
      let {
        _data
      } = duration;
      if (_data.days > 0) return _data.days + this.$t('ht.common.day');
      if (_data.hours > 0) return _data.hours + this.$t('ht.common.hour');
      if (_data.minutes > 0) return _data.minutes + this.$t('ht.common.minute');
      if (_data.minutes == 0 && _data.seconds >= 0) return this.$t('ht.approvalHistory.lessOneMinute');
    },
    search(item) {
      this.$preview(item);
    },
    downloadAttachments(item) {
      // downloadFile(item.response?.fileId, item.response?.fileName)
    },
    loadData(param, cb) {
      const params = {
        instId: this.instId,
        taskId: null,
        referOpinion: true,
        defId: null,
        nodeId: null
      };
      this.nodeIdMap = {};
      this.$requestConfig.getOpinionsById(params).then(response => {
        this.orderFlag = true;
        for (let x = response.length - 1; x > -1; x--) {
          let e = response[x];
          if (!this.nodeIdMap[e.taskKey]) {
            this.nodeIdMap[e.taskKey] = [];
          }
          this.nodeIdMap[e.taskKey].push(e);
          //有可能出现e.files是"\"\""的情况
          if (e.files && JSON.parse(e.files)) {
            response[x].filesArray = JSON.parse(JSON.parse(e.files));
          }
        }
        let newArr = [];
        let flagMap = {};
        if (!this.order) {
          this.rows = response;
          return;
        }
        for (let x = response.length - 1; x > -1; x--) {
          if (!flagMap[response[x].taskKey]) {
            newArr.push.apply(newArr, this.nodeIdMap[response[x].taskKey]);
            flagMap[response[x].taskKey] = '1';
          }
        }
        this.rows = newArr.reverse();
      }).finally(() => {
        // cb?.()
      });
    }
  }
});
// CONCATENATED MODULE: ./packages/HistoricalApproval/src/main.vue?vue&type=script&lang=js
 /* harmony default export */ var packages_HistoricalApproval_src_mainvue_type_script_lang_js = (HistoricalApproval_src_mainvue_type_script_lang_js); 
// EXTERNAL MODULE: ./packages/HistoricalApproval/src/main.vue?vue&type=style&index=0&id=5e75cd3c&prod&lang=scss&scoped=true
var mainvue_type_style_index_0_id_5e75cd3c_prod_lang_scss_scoped_true = __webpack_require__("df21");

// CONCATENATED MODULE: ./packages/HistoricalApproval/src/main.vue






/* normalize component */

var HistoricalApproval_src_main_component = normalizeComponent(
  packages_HistoricalApproval_src_mainvue_type_script_lang_js,
  mainvue_type_template_id_5e75cd3c_scoped_true_render,
  mainvue_type_template_id_5e75cd3c_scoped_true_staticRenderFns,
  false,
  null,
  "5e75cd3c",
  null
  
)

/* harmony default export */ var HistoricalApproval_src_main = (HistoricalApproval_src_main_component.exports);
// CONCATENATED MODULE: ./packages/HistoricalApproval/index.js

HistoricalApproval_src_main.install = function (Vue) {
  Vue.component(HistoricalApproval_src_main.name, HistoricalApproval_src_main);
};
/* harmony default export */ var HistoricalApproval = (HistoricalApproval_src_main);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"8bdeefa2-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/Iframe/src/main.vue?vue&type=template&id=8d59025c&scoped=true
var mainvue_type_template_id_8d59025c_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{"name":_vm.iframeNmae + 'Div'}},[(_vm.isReday)?_c('iframe',{style:(_vm.iframeStyle),attrs:{"id":"iframeControl","src":_vm.endSrc,"height":_vm.endHeight,"width":_vm.width,"name":_vm.iframeNmae,"frameborder":_vm.frameborder}}):_vm._e()])}
var mainvue_type_template_id_8d59025c_scoped_true_staticRenderFns = []


// CONCATENATED MODULE: ./packages/Iframe/src/main.vue?vue&type=template&id=8d59025c&scoped=true

// EXTERNAL MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/Iframe/src/main.vue?vue&type=script&lang=js
var Iframe_src_mainvue_type_script_lang_js = __webpack_require__("ca3a");

// CONCATENATED MODULE: ./packages/Iframe/src/main.vue?vue&type=script&lang=js
 /* harmony default export */ var packages_Iframe_src_mainvue_type_script_lang_js = (Iframe_src_mainvue_type_script_lang_js["a" /* default */]); 
// CONCATENATED MODULE: ./packages/Iframe/src/main.vue





/* normalize component */

var Iframe_src_main_component = normalizeComponent(
  packages_Iframe_src_mainvue_type_script_lang_js,
  mainvue_type_template_id_8d59025c_scoped_true_render,
  mainvue_type_template_id_8d59025c_scoped_true_staticRenderFns,
  false,
  null,
  "8d59025c",
  null
  
)

/* harmony default export */ var Iframe_src_main = (Iframe_src_main_component.exports);
// CONCATENATED MODULE: ./packages/Iframe/index.js

Iframe_src_main.install = function (Vue) {
  Vue.component(Iframe_src_main.name, Iframe_src_main);
};
/* harmony default export */ var Iframe = (Iframe_src_main);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"8bdeefa2-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/PostDialog/src/main.vue?vue&type=template&id=442d3650&scoped=true
var mainvue_type_template_id_442d3650_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:"ht-post-dialog"},[(!_vm.isMobile)?_c('post-selector-dialog',{ref:"postSelectorDialog",attrs:{"title":_vm.title,"append-to-body":_vm.appendToBody,"data":_vm.data,"pagination":_vm.pagination,"select-label":_vm.selectLabel,"quick-search-props":_vm.quickSearchProps,"single":_vm.single,"search-placeholder":_vm.searchPlaceholder,"primary-field":_vm.primaryField,"mode":_vm.mode},on:{"filter-type-change":_vm.handleFilterTypeChange,"search":_vm.handleSearch,"reset":_vm.handleReset,"row-click":function (row) { return _vm.$emit('row-click', row); },"select-data":function (data) { return _vm.$emit('on-confirm', data); },"page-change":_vm.handlePageChange,"load-org-post":_vm.loadOrgPost,"load-policy-post":_vm.loadPolicyPost},model:{value:(_vm.selectors),callback:function ($$v) {_vm.selectors=$$v},expression:"selectors"}}):_c('post-selector-mobile-dialog',{ref:"postSelectorMobileDialog",attrs:{"title":_vm.title,"append-to-body":_vm.appendToBody,"data":_vm.data,"pagination":_vm.pagination,"select-label":_vm.selectLabel,"single":_vm.single,"search-placeholder":_vm.searchPlaceholder,"primary-field":_vm.primaryField},on:{"search":_vm.handleSearch,"reset":_vm.handleReset,"row-click":function (row) { return _vm.$emit('row-click', row); },"select-data":function (data) { return _vm.$emit('on-confirm', data); },"page-change":_vm.handlePageChange},model:{value:(_vm.selectors),callback:function ($$v) {_vm.selectors=$$v},expression:"selectors"}})],1)}
var mainvue_type_template_id_442d3650_scoped_true_staticRenderFns = []


// CONCATENATED MODULE: ./packages/PostDialog/src/main.vue?vue&type=template&id=442d3650&scoped=true

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/PostDialog/src/main.vue?vue&type=script&lang=js
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//





/* harmony default export */ var PostDialog_src_mainvue_type_script_lang_js = ({
  name: 'HtPostDialog',
  components: {
    PostSelectorDialog: PostSelectorDialog,
    PostSelectorMobileDialog: PostSelectorMobileDialog
  },
  mixins: [mobileMode["a" /* default */]],
  props: {
    value: String,
    single: Boolean,
    config: Object,
    appendToBody: {
      type: Boolean,
      default: false
    },
    selectCurrent: Boolean,
    title: {
      type: String,
      default() {
        return Object(locale["c" /* t */])('ht.selector.postTitle');
      }
    },
    showSwitchDimension: {
      type: Boolean,
      default: true
    },
    pageSize: {
      type: Number,
      default: 20
    },
    quickSearchProps: {
      type: String,
      default: 'p.pos_name_,p.code_,o.path_name_'
    },
    searchPlaceholder: {
      type: String,
      default() {
        return Object(locale["c" /* t */])('ht.selector.orgDefaultPlaceholder');
      }
    },
    selectLabel: {
      type: String,
      default: 'name'
    },
    currentSelectPost: Array
  },
  data() {
    return {
      selectors: [],
      mode: null,
      // 搜索模式
      filterType: 'org',
      //过滤类型(org:组织，policy:策略)
      currentGroup: null,
      currentOrg: null,
      currentPolicy: null,
      searchWord: null,
      data: [],
      pagination: {
        page: 1,
        pageSize: this.pageSize,
        total: 0,
        showTotal: true
      }
    };
  },
  computed: {
    primaryField: function () {
      return this.config && this.config.hasOwnProperty('id') ? 'id' : this.config && this.config.hasOwnProperty('code') ? 'code' : this.selectLabel;
    }
  },
  mounted() {
    if (!this.data || this.data.length == 0) {
      this.handleLoad();
    }
  },
  methods: {
    showDialog() {
      this.selectors = this.currentSelectPost ? this.currentSelectPost : [];
      if (this.isMobile) {
        this.$refs.postSelectorMobileDialog.showDialog();
      } else {
        this.$refs.postSelectorDialog.showDialog();
      }
    },
    handleSearch(word) {
      if (!word || !word.trim()) {
        this.handleReset();
        return;
      }
      // 存储搜索关键词
      this.searchWord = word;
      // 进入搜索模式
      this.mode = 'search';
      this.handleLoad();
    },
    handleReset() {
      // 置空搜索关键词
      this.searchWord = null;
      // 退出搜索模式
      this.mode = null;
      this.handleLoad();
    },
    handlePageChange(page) {
      // 搜索模式下或者未进行过滤时，查询所有数据
      if (this.mode != 'filter') {
        this.handleLoad(page);
      } else {
        // 过滤模式下，根据过滤类型查询数据
        switch (this.filterType) {
          case 'org':
            this.loadOrgPost(this.currentOrg, page);
            break;
          case 'policy':
            this.loadPolicyPost(this.currentPolicy, page);
            break;
        }
      }
    },
    // 处理过滤类型变化的事件
    handleFilterTypeChange(type) {
      this.filterType = type;
    },
    getQueryFilter(page) {
      const queryFilter = {
        querys: [],
        pageBean: this.getPageBean(page)
      };
      if (this.quickSearchProps && this.quickSearchProps.constructor == String && this.searchWord) {
        const props = this.quickSearchProps.split(',');
        props.forEach(item => {
          let query = {
            property: item,
            value: this.searchWord,
            group: 'main',
            operation: 'LIKE',
            relation: 'OR'
          };
          queryFilter.querys.push(query);
        });
      }
      return queryFilter;
    },
    // 获取查询参数中的分页信息(不传page时默认查询第一页)
    getPageBean(page) {
      const pageBean = {
        ...this.pagination
      };
      delete pageBean['total'];
      pageBean.page = page || 1;
      return pageBean;
    },
    handleLoad(page) {
      const param = this.getQueryFilter(page);
      this.data = this.data || [];
      this.loadAllPost(param);
    },
    // 加载全部岗位
    loadAllPost(param) {
      this.$requestConfig.getPostList(param).then(data => {
        const {
          rows,
          page,
          pageSize,
          total
        } = data;
        if (this.isMobile && page > 1) {
          this.data = this.data.concat(rows);
        } else {
          this.data = rows;
        }
        const paginationResult = {
          page,
          pageSize,
          total
        };
        this.$set(this, 'pagination', paginationResult);
      });
    },
    // 通过组织查询岗位
    loadOrgPost(org, page) {
      this.mode = 'filter';
      this.currentOrg = org;
      let queryFilter = {
        pageBean: this.getPageBean(page),
        querys: []
      };
      let query = {
        property: 'path_',
        value: org.path,
        group: 'main',
        operation: 'RIGHT_LIKE',
        relation: 'AND'
      };
      if (org.path) {
        queryFilter.querys.push(query);
      }
      this.loadAllPost(queryFilter);
    },
    // 通过策略查询岗位
    loadPolicyPost(params, page) {
      this.mode = 'filter';
      this.currentOrg = params;
      let queryFilter = {
        pageBean: this.getPageBean(page),
        querys: []
      };
      let query = null;
      const {
        type,
        ids,
        paths
      } = params;
      switch (type) {
        // 所在主部门
        case '1':
          query = {
            property: 'o.id_',
            value: params.id,
            group: 'main',
            operation: 'EQUAL',
            relation: 'AND'
          };
          queryFilter.querys.push(query);
          this.loadAllPost(queryFilter);
          break;
        // 所在主部门及下级部门
        case '2':
          query = {
            property: 'o.path_',
            value: params.path,
            group: 'main',
            operation: 'RIGHT_LIKE',
            relation: 'AND'
          };
          queryFilter.querys.push(query);
          this.loadAllPost(queryFilter);
          break;
        // 所在部门
        case '3':
          ids.forEach(id => {
            query = {
              property: 'o.id_',
              value: id,
              group: 'main',
              operation: 'EQUAL',
              relation: 'OR'
            };
            queryFilter.querys.push(query);
          });
          this.loadAllPost(queryFilter);
          break;
        // 所在部门及下级部门
        case '4':
          paths.forEach(path => {
            query = {
              property: 'o.path_',
              value: path,
              group: 'main',
              operation: 'RIGHT_LIKE',
              relation: 'OR'
            };
            queryFilter.querys.push(query);
          });
          this.loadAllPost(queryFilter);
          break;
      }
    }
  }
});
// CONCATENATED MODULE: ./packages/PostDialog/src/main.vue?vue&type=script&lang=js
 /* harmony default export */ var packages_PostDialog_src_mainvue_type_script_lang_js = (PostDialog_src_mainvue_type_script_lang_js); 
// CONCATENATED MODULE: ./packages/PostDialog/src/main.vue





/* normalize component */

var PostDialog_src_main_component = normalizeComponent(
  packages_PostDialog_src_mainvue_type_script_lang_js,
  mainvue_type_template_id_442d3650_scoped_true_render,
  mainvue_type_template_id_442d3650_scoped_true_staticRenderFns,
  false,
  null,
  "442d3650",
  null
  
)

/* harmony default export */ var PostDialog_src_main = (PostDialog_src_main_component.exports);
// CONCATENATED MODULE: ./packages/PostDialog/index.js

PostDialog_src_main.install = function (Vue) {
  Vue.component(PostDialog_src_main.name, PostDialog_src_main);
};
/* harmony default export */ var PostDialog = (PostDialog_src_main);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"8bdeefa2-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/JobDialog/src/main.vue?vue&type=template&id=400f71c0&scoped=true
var mainvue_type_template_id_400f71c0_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:" inputs ht-job-dialog"},[(_vm.isMobile)?_c('job-selector-mobile-dialog',{ref:"jobSelectorMobileDialog",attrs:{"search-placeholder":_vm.searchPlaceholder,"single":_vm.single,"data":_vm.data,"pagination":_vm.pagination,"select-label":_vm.selectLabel,"quick-search-props":_vm.quickSearchProps,"append-to-body":_vm.appendToBody,"title":_vm.title,"primary-field":_vm.primaryField},on:{"search":_vm.handleSearch,"reset":_vm.handleReset,"row-click":function (row) { return _vm.$emit('row-click', row); },"select-data":function (data) { return _vm.$emit('on-confirm', data); },"page-change":_vm.handlePageChange},model:{value:(_vm.selectors),callback:function ($$v) {_vm.selectors=$$v},expression:"selectors"}}):_c('job-selector-dialog',{ref:"jobSelectorDialog",attrs:{"search-placeholder":_vm.searchPlaceholder,"single":_vm.single,"data":_vm.data,"pagination":_vm.pagination,"select-label":_vm.selectLabel,"quick-search-props":_vm.quickSearchProps,"append-to-body":_vm.appendToBody,"title":_vm.title,"primary-field":_vm.primaryField,"mode":_vm.mode},on:{"search":_vm.handleSearch,"reset":_vm.handleReset,"row-click":function (row) { return _vm.$emit('row-click', row); },"select-data":function (data) { return _vm.$emit('on-confirm', data); },"page-change":_vm.handlePageChange},model:{value:(_vm.selectors),callback:function ($$v) {_vm.selectors=$$v},expression:"selectors"}})],1)}
var mainvue_type_template_id_400f71c0_scoped_true_staticRenderFns = []


// CONCATENATED MODULE: ./packages/JobDialog/src/main.vue?vue&type=template&id=400f71c0&scoped=true

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/JobDialog/src/main.vue?vue&type=script&lang=js
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//





/* harmony default export */ var JobDialog_src_mainvue_type_script_lang_js = ({
  name: 'HtJobDialog',
  components: {
    JobSelectorDialog: JobSelectorDialog,
    JobSelectorMobileDialog: JobSelectorMobileDialog
  },
  mixins: [mobileMode["a" /* default */]],
  props: {
    value: String,
    single: Boolean,
    config: Object,
    appendToBody: {
      type: Boolean,
      default: false
    },
    title: {
      type: String,
      default() {
        return Object(locale["c" /* t */])('ht.selector.jobTitle');
      }
    },
    pageSize: {
      type: Number,
      default: 20
    },
    quickSearchProps: {
      type: String,
      default: 'name,code'
    },
    searchPlaceholder: {
      type: String,
      default() {
        return Object(locale["c" /* t */])('ht.selector.nameCode');
      }
    },
    selectLabel: {
      type: String,
      default: 'name'
    },
    currentSelectJob: Array
  },
  data() {
    return {
      selectors: [],
      mode: 'search',
      // 搜索模式
      searchWord: null,
      data: [],
      pagination: {
        page: 1,
        pageSize: this.pageSize,
        total: 0,
        showTotal: true
      }
    };
  },
  computed: {
    primaryField: function () {
      return this.config && this.config.hasOwnProperty('id') ? 'id' : this.config && this.config.hasOwnProperty('code') ? 'code' : this.selectLabel;
    }
  },
  mounted() {
    if (!this.data || this.data.length == 0) {
      this.handleLoad();
    }
  },
  methods: {
    showDialog() {
      this.selectors = this.currentSelectJob ? this.currentSelectJob : [];
      if (this.isMobile) {
        this.$refs.jobSelectorMobileDialog.showDialog();
      } else {
        this.$refs.jobSelectorDialog.showDialog();
      }
    },
    handleSearch(word) {
      if (!word || !word.trim()) {
        this.handleReset();
        return;
      }
      // 存储搜索关键词
      this.searchWord = word;
      // 进入搜索模式
      this.mode = 'search';
      this.handleLoad();
    },
    handleReset() {
      // 置空搜索关键词
      this.searchWord = null;
      // 退出搜索模式
      this.mode = 'search';
      this.handleLoad();
    },
    handlePageChange(page) {
      // 搜索模式下或者未进行过滤时，查询所有数据
      this.handleLoad(page);
    },
    // 获取查询参数中的分页信息(不传page时默认查询第一页)
    getPageBean(page) {
      const pageBean = {
        ...this.pagination
      };
      delete pageBean['total'];
      pageBean.page = page || 1;
      return pageBean;
    },
    getQueryFilter(page) {
      const queryFilter = {
        querys: [],
        pageBean: this.getPageBean(page)
      };
      if (this.quickSearchProps && this.quickSearchProps.constructor == String && this.searchWord) {
        const props = this.quickSearchProps.split(',');
        props.forEach(item => {
          let query = {
            property: item,
            value: this.searchWord,
            group: 'main',
            operation: 'LIKE',
            relation: 'OR'
          };
          queryFilter.querys.push(query);
        });
      }
      return queryFilter;
    },
    handleLoad(page) {
      const param = this.getQueryFilter(page);
      this.data = this.data || [];
      this.loadAllJob(param);
    },
    // 加载全部岗位
    loadAllJob(param) {
      this.$requestConfig.getJobList(param).then(data => {
        const {
          rows,
          page,
          pageSize,
          total
        } = data;
        if (this.isMobile && page > 1) {
          this.data = this.data.concat(rows);
        } else {
          this.data = rows;
        }
        const paginationResult = {
          page,
          pageSize,
          total
        };
        this.$set(this, 'pagination', paginationResult);
      });
    }
  }
});
// CONCATENATED MODULE: ./packages/JobDialog/src/main.vue?vue&type=script&lang=js
 /* harmony default export */ var packages_JobDialog_src_mainvue_type_script_lang_js = (JobDialog_src_mainvue_type_script_lang_js); 
// CONCATENATED MODULE: ./packages/JobDialog/src/main.vue





/* normalize component */

var JobDialog_src_main_component = normalizeComponent(
  packages_JobDialog_src_mainvue_type_script_lang_js,
  mainvue_type_template_id_400f71c0_scoped_true_render,
  mainvue_type_template_id_400f71c0_scoped_true_staticRenderFns,
  false,
  null,
  "400f71c0",
  null
  
)

/* harmony default export */ var JobDialog_src_main = (JobDialog_src_main_component.exports);
// CONCATENATED MODULE: ./packages/JobDialog/index.js

JobDialog_src_main.install = function (Vue) {
  Vue.component(JobDialog_src_main.name, JobDialog_src_main);
};
/* harmony default export */ var JobDialog = (JobDialog_src_main);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"8bdeefa2-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/RoleDialog/src/main.vue?vue&type=template&id=bda1145c&scoped=true
var mainvue_type_template_id_bda1145c_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:" inputs ht-job-dialog"},[(_vm.isMobile)?_c('role-selector-mobile-dialog',{ref:"roleSelectorMobileDialog",attrs:{"search-placeholder":_vm.searchPlaceholder,"single":_vm.single,"data":_vm.data,"table-columns":_vm.tableColumns,"pagination":_vm.pagination,"select-label":_vm.selectLabel,"quick-search-props":_vm.quickSearchProps,"append-to-body":_vm.appendToBody,"title":_vm.title,"primary-field":_vm.primaryField},on:{"search":_vm.handleSearch,"reset":_vm.handleReset,"page-change":_vm.handlePageChange,"row-click":function (row) { return _vm.$emit('row-click', row); },"select-data":function (data) { return _vm.$emit('on-confirm', data); }},model:{value:(_vm.selectors),callback:function ($$v) {_vm.selectors=$$v},expression:"selectors"}}):_c('role-selector-dialog',{ref:"roleSelectorDialog",attrs:{"title":_vm.title,"append-to-body":_vm.appendToBody,"data":_vm.data,"pagination":_vm.pagination,"select-label":_vm.selectLabel,"quick-search-props":_vm.quickSearchProps,"single":_vm.single,"search-placeholder":_vm.searchPlaceholder,"primary-field":_vm.primaryField,"mode":_vm.mode},on:{"search":_vm.handleSearch,"reset":_vm.handleReset,"page-change":_vm.handlePageChange,"row-click":function (row) { return _vm.$emit('row-click', row); },"select-data":function (data) { return _vm.$emit('on-confirm', data); }},model:{value:(_vm.selectors),callback:function ($$v) {_vm.selectors=$$v},expression:"selectors"}})],1)}
var mainvue_type_template_id_bda1145c_scoped_true_staticRenderFns = []


// CONCATENATED MODULE: ./packages/RoleDialog/src/main.vue?vue&type=template&id=bda1145c&scoped=true

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/RoleDialog/src/main.vue?vue&type=script&lang=js
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//





/* harmony default export */ var RoleDialog_src_mainvue_type_script_lang_js = ({
  name: 'HtRoleDialog',
  components: {
    RoleSelectorDialog: RoleSelectorDialog,
    RoleSelectorMobileDialog: RoleSelectorMobileDialog
  },
  mixins: [mobileMode["a" /* default */]],
  props: {
    value: String,
    single: Boolean,
    config: Object,
    appendToBody: {
      type: Boolean,
      default: false
    },
    title: {
      type: String,
      default() {
        return Object(locale["c" /* t */])('ht.selector.roleTitle');
      }
    },
    pageSize: {
      type: Number,
      default: 20
    },
    quickSearchProps: {
      type: String,
      default: 'name,code'
    },
    searchPlaceholder: {
      type: String,
      default() {
        return Object(locale["c" /* t */])('ht.selector.rolePlaceholder');
      }
    },
    selectLabel: {
      type: String,
      default: 'name'
    },
    currentSelectRole: Array
  },
  data() {
    return {
      selectors: [],
      mode: 'search',
      // 搜索模式
      searchWord: null,
      data: [],
      pagination: {
        page: 1,
        pageSize: this.pageSize,
        total: 0,
        showTotal: true
      }
    };
  },
  computed: {
    primaryField: function () {
      return this.config && this.config.hasOwnProperty('id') ? 'id' : this.config && this.config.hasOwnProperty('code') ? 'code' : this.selectLabel;
    }
  },
  mounted() {
    if (!this.data || this.data.length == 0) {
      this.handleLoad();
    }
  },
  methods: {
    showDialog() {
      this.selectors = this.currentSelectRole ? this.currentSelectRole : [];
      if (this.isMobile) {
        this.$refs.roleSelectorMobileDialog.showDialog();
      } else {
        this.$refs.roleSelectorDialog.showDialog();
      }
    },
    handleSearch(word) {
      if (!word || !word.trim()) {
        this.handleReset();
        return;
      }
      // 存储搜索关键词
      this.searchWord = word;
      // 进入搜索模式
      this.mode = 'search';
      this.handleLoad();
    },
    handleReset() {
      // 置空搜索关键词
      this.searchWord = null;
      // 退出搜索模式
      this.mode = 'search';
      this.handleLoad();
    },
    handlePageChange(page) {
      // 搜索模式下或者未进行过滤时，查询所有数据
      this.handleLoad(page);
    },
    // 获取查询参数中的分页信息(不传page时默认查询第一页)
    getPageBean(page) {
      const pageBean = {
        ...this.pagination
      };
      delete pageBean['total'];
      pageBean.page = page || 1;
      return pageBean;
    },
    getQueryFilter(page) {
      const queryFilter = {
        querys: [],
        pageBean: this.getPageBean(page)
      };
      if (this.quickSearchProps && this.quickSearchProps.constructor == String && this.searchWord) {
        const props = this.quickSearchProps.split(',');
        props.forEach(item => {
          let query = {
            property: item,
            value: this.searchWord,
            group: 'main',
            operation: 'LIKE',
            relation: 'OR'
          };
          queryFilter.querys.push(query);
        });
      }
      return queryFilter;
    },
    handleLoad(page) {
      const param = this.getQueryFilter(page);
      this.data = this.data || [];
      this.loadAllRole(param);
    },
    // 加载全部角色
    loadAllRole(param) {
      this.$requestConfig.getRoleList(param).then(data => {
        const {
          rows,
          page,
          pageSize,
          total
        } = data;
        if (this.isMobile && page > 1) {
          this.data = this.data.concat(rows);
        } else {
          this.data = rows;
        }
        const paginationResult = {
          page,
          pageSize,
          total
        };
        this.$set(this, 'pagination', paginationResult);
      });
    }
  }
});
// CONCATENATED MODULE: ./packages/RoleDialog/src/main.vue?vue&type=script&lang=js
 /* harmony default export */ var packages_RoleDialog_src_mainvue_type_script_lang_js = (RoleDialog_src_mainvue_type_script_lang_js); 
// CONCATENATED MODULE: ./packages/RoleDialog/src/main.vue





/* normalize component */

var RoleDialog_src_main_component = normalizeComponent(
  packages_RoleDialog_src_mainvue_type_script_lang_js,
  mainvue_type_template_id_bda1145c_scoped_true_render,
  mainvue_type_template_id_bda1145c_scoped_true_staticRenderFns,
  false,
  null,
  "bda1145c",
  null
  
)

/* harmony default export */ var RoleDialog_src_main = (RoleDialog_src_main_component.exports);
// CONCATENATED MODULE: ./packages/RoleDialog/index.js

RoleDialog_src_main.install = function (Vue) {
  Vue.component(RoleDialog_src_main.name, RoleDialog_src_main);
};
/* harmony default export */ var RoleDialog = (RoleDialog_src_main);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"8bdeefa2-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/CustomComponent/src/main.vue?vue&type=template&id=c27508c2
var mainvue_type_template_id_c27508c2_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.loadOver)?[_c(_vm.componentName,{ref:_vm.vueObj.alias,tag:"component",attrs:{"data":_vm.data,"permission":_vm.permission,"vueObj":_vm.vueObj,"component":_vm.component}})]:_vm._e()],2)}
var mainvue_type_template_id_c27508c2_staticRenderFns = []


// CONCATENATED MODULE: ./packages/CustomComponent/src/main.vue?vue&type=template&id=c27508c2

// EXTERNAL MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/CustomComponent/src/main.vue?vue&type=script&lang=js
var CustomComponent_src_mainvue_type_script_lang_js = __webpack_require__("3c76");

// CONCATENATED MODULE: ./packages/CustomComponent/src/main.vue?vue&type=script&lang=js
 /* harmony default export */ var packages_CustomComponent_src_mainvue_type_script_lang_js = (CustomComponent_src_mainvue_type_script_lang_js["a" /* default */]); 
// CONCATENATED MODULE: ./packages/CustomComponent/src/main.vue





/* normalize component */

var CustomComponent_src_main_component = normalizeComponent(
  packages_CustomComponent_src_mainvue_type_script_lang_js,
  mainvue_type_template_id_c27508c2_render,
  mainvue_type_template_id_c27508c2_staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* harmony default export */ var CustomComponent_src_main = (CustomComponent_src_main_component.exports);
// CONCATENATED MODULE: ./packages/CustomComponent/index.js

CustomComponent_src_main.install = function (Vue) {
  Vue.component(CustomComponent_src_main.name, CustomComponent_src_main);
};
/* harmony default export */ var CustomComponent = (CustomComponent_src_main);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"8bdeefa2-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/UrlParameter/src/main.vue?vue&type=template&id=42611007&scoped=true
var mainvue_type_template_id_42611007_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.permission !== 'n')?_c('div',[_vm._v("\n  "+_vm._s(_vm.value)+"\n  ")]):_vm._e()}
var mainvue_type_template_id_42611007_scoped_true_staticRenderFns = []


// CONCATENATED MODULE: ./packages/UrlParameter/src/main.vue?vue&type=template&id=42611007&scoped=true

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/UrlParameter/src/main.vue?vue&type=script&lang=js
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//





/* harmony default export */ var UrlParameter_src_mainvue_type_script_lang_js = ({
  mixins: [mobileMode["a" /* default */], mixins_permission["a" /* default */], inputName["a" /* default */], mixins_form["a" /* default */]],
  name: 'HtUrlParameter',
  componentName: 'HtUrlParameter',
  props: {
    value: [String, Number, Boolean],
    bindKey: [String]
  },
  data() {
    return {};
  },
  mounted() {},
  created() {
    if (this.bindKey) {
      let v = this.getUrlMap();
      if (v != undefined && v != this.value) {
        this.$emit('input', v);
      }
    }
  },
  methods: {
    getUrlMap() {
      let url = window.location.search;
      let urlParams = new Object();
      // 判断是否有问号
      if (url.indexOf("?") != -1) {
        let str = url.substr(1);
        let strs = str.split("&");
        for (let i = 0; i < strs.length; i++) {
          // 每一项等号左边为属性，等号右边为属性的值，值需要使用 decodeURI() 函数对通过 escape() 或 url 编码过的字符串进行解码。
          urlParams[strs[i].split("=")[0]] = decodeURI(strs[i].split("=")[1]);
        }
      }
      // 自己定义修改需要获取url中哪个参数
      return urlParams[this.bindKey];
    }
  }
});
// CONCATENATED MODULE: ./packages/UrlParameter/src/main.vue?vue&type=script&lang=js
 /* harmony default export */ var packages_UrlParameter_src_mainvue_type_script_lang_js = (UrlParameter_src_mainvue_type_script_lang_js); 
// CONCATENATED MODULE: ./packages/UrlParameter/src/main.vue





/* normalize component */

var UrlParameter_src_main_component = normalizeComponent(
  packages_UrlParameter_src_mainvue_type_script_lang_js,
  mainvue_type_template_id_42611007_scoped_true_render,
  mainvue_type_template_id_42611007_scoped_true_staticRenderFns,
  false,
  null,
  "42611007",
  null
  
)

/* harmony default export */ var UrlParameter_src_main = (UrlParameter_src_main_component.exports);
// CONCATENATED MODULE: ./packages/UrlParameter/index.js

UrlParameter_src_main.install = function (Vue) {
  Vue.component(UrlParameter_src_main.name, UrlParameter_src_main);
};
/* harmony default export */ var UrlParameter = (UrlParameter_src_main);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"8bdeefa2-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/Global/src/GlobalValidate.vue?vue&type=template&id=2b501c50&scoped=true
var GlobalValidatevue_type_template_id_2b501c50_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_vm._t("default")],2)}
var GlobalValidatevue_type_template_id_2b501c50_scoped_true_staticRenderFns = []


// CONCATENATED MODULE: ./packages/Global/src/GlobalValidate.vue?vue&type=template&id=2b501c50&scoped=true

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/Global/src/GlobalValidate.vue?vue&type=script&lang=js
//
//
//
//
//



const {
  Base64
} = __webpack_require__("f43e");
/* harmony default export */ var GlobalValidatevue_type_script_lang_js = ({
  name: 'HtGlobalValidate',
  componentName: 'HtGlobalValidate',
  mixins: [emitter],
  props: {
    verificationJson: String,
    data: Object
  },
  data() {
    return {
      verificationList: []
    };
  },
  created() {
    let _this = this;
    this.$on('global-validate', () => {
      _this.validate();
    });
  },
  mounted() {
    if (this.verificationJson) {
      this.verificationList = JSON.parse(Base64.decode(this.verificationJson));
    }
  },
  methods: {
    validate() {
      let result = true;
      if (this.verificationList && this.verificationList.length > 0) {
        let pInst = utils["a" /* default */].getOnlineFormInstance(this);
        let _this = this;
        let messages = [];
        this.verificationList.forEach(item => {
          _this.execFun(pInst, item, messages);
        });
        if (messages.length > 0) {
          result = false;
          this.$notify.error({
            title: this.$t('ht.common.warmTips'),
            dangerouslyUseHTMLString: true,
            message: messages.join('<br/>')
          });
        }
      }
      if (result) {
        result = this.validateTable();
      }
      this.dispatch('HtOnlineForm', 'global-validate-result', [result]);
    },
    execFun(pInst, item, messages) {
      let formulasDiyJs = item.formulasDiyJs;
      if (formulasDiyJs.indexOf('return') === -1) {
        formulasDiyJs = 'return ' + formulasDiyJs;
      }
      let Fn = Function('data', '_me', '$Formulas', formulasDiyJs); //一个变量指向Function，防止有些前端编译工具报错
      try {
        let result = Fn(pInst.data, pInst, pInst.$Formulas);
        if (!result) {
          messages.push(item.tips);
        }
      } catch (err) {
        messages.push(this.$t('ht.global.validateErrorMsg', {
          name: item.name
        }));
      }
    },
    validateTable() {
      const tables = utils["a" /* default */].getOnlineFormInstance(this).permission.table; //获取table权限
      const boData = utils["a" /* default */].getOnlineFormInstance(this).data; //获取表单bo对象
      let newBoData = {};
      //获取所有表单字段对象
      for (let k in boData) {
        newBoData = boData[k];
      }
      for (let key in tables) {
        const subData = newBoData['sub_' + key];
        //如果有导入属性，则表明不是子表而是数据报表，不做必填校验
        if (tables[key] && tables[key].hasOwnProperty('export')) {
          continue;
        }
        if ([true, 'true'].includes(tables[key].required) && subData) {
          if (subData.length == 0) {
            this.$message({
              message: this.$t('ht.global.subTableRequired'),
              type: 'warning'
            });
            return false;
          } else if (subData.length > 0 && this.validateSunTable(tables, subData).length > 0) {
            this.$message({
              message: this.$t('ht.global.sunTableRequired'),
              type: 'warning'
            });
            return false;
          }
        }
      }
      return true;
    },
    validateSunTable(tables, subData) {
      const requiredTableKeyList = [];
      const notPassingSunTableKey = [];
      //获取必填子表/孙表字段名
      for (let key in tables) {
        if ([true, 'true'].includes(tables[key].required)) {
          requiredTableKeyList.push(`sub_${key}`);
        }
      }
      subData.map(item => {
        for (let sunKey in item) {
          if (requiredTableKeyList.includes(sunKey) && item[sunKey].length <= 0) {
            notPassingSunTableKey.push(sunKey);
          }
        }
      });
      return notPassingSunTableKey;
    }
  }
});
// CONCATENATED MODULE: ./packages/Global/src/GlobalValidate.vue?vue&type=script&lang=js
 /* harmony default export */ var src_GlobalValidatevue_type_script_lang_js = (GlobalValidatevue_type_script_lang_js); 
// CONCATENATED MODULE: ./packages/Global/src/GlobalValidate.vue





/* normalize component */

var GlobalValidate_component = normalizeComponent(
  src_GlobalValidatevue_type_script_lang_js,
  GlobalValidatevue_type_template_id_2b501c50_scoped_true_render,
  GlobalValidatevue_type_template_id_2b501c50_scoped_true_staticRenderFns,
  false,
  null,
  "2b501c50",
  null
  
)

/* harmony default export */ var GlobalValidate = (GlobalValidate_component.exports);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"8bdeefa2-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/Global/src/GlobalQuery.vue?vue&type=template&id=5851aa0a
var GlobalQueryvue_type_template_id_5851aa0a_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span')}
var GlobalQueryvue_type_template_id_5851aa0a_staticRenderFns = []


// CONCATENATED MODULE: ./packages/Global/src/GlobalQuery.vue?vue&type=template&id=5851aa0a

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/Global/src/GlobalQuery.vue?vue&type=script&lang=js
//
//
//
//



/* harmony default export */ var GlobalQueryvue_type_script_lang_js = ({
  name: 'HtGlobalQuery',
  props: {
    queryJson: {
      type: Array,
      default: () => {
        return [];
      }
    }
  },
  data() {
    return {
      formInst: null,
      subOldValueMap: {},
      subQueryConfig: []
    };
  },
  mounted() {
    if (!this.formInst) {
      this.formInst = utils["a" /* default */].getOnlineFormInstance(this.$parent);
    }
    if (this.queryJson.length > 0) {
      let _this = this;
      this.queryJson.forEach(item => {
        if (item.triggerTime) {
          let resultBind = {};
          if (item.resultfield && item.resultfield.length > 0) {
            item.resultfield.forEach(field => {
              resultBind[field.field] = field.fieldPath;
            });
          }
          if (item.triggerTime.indexOf('change') != -1 && item.triggerField) {
            //值变化触发
            if (item.entType === 'main') {
              //主表
              _this.formInst.$watch(item.triggerField, function (newVal, oldVal) {
                if ((newVal != '' || oldVal != undefined) && newVal !== oldVal) {
                  _this.doQuery(item.alias, item.conditionfield, resultBind, null);
                }
              }
              // { immediate: true }
              );
            } else {
              //子表
              const triggerPath = item.triggerField.split('.');
              const triggerField = triggerPath[triggerPath.length - 1];
              _this.subOldValueMap[item.subPath] = [];
              item.triggerPath = triggerPath;
              item.triggerField = triggerField;
              item.resultBind = resultBind;
              _this.subQueryConfig.push(item);
              _this.formInst.$watch('data.' + item.subPath, function (newVal) {
                let myOldVal = _this.subOldValueMap[item.subPath];
                _this.subQueryConfig.filter(i => {
                  return i.subPath === item.subPath;
                }).forEach(subItem => {
                  if (newVal !== myOldVal) {
                    try {
                      if (newVal && newVal.length == 1 && (!newVal || newVal.length == 0)) {
                        //新增
                        //取子表的最后一行
                        if (subItem.triggerTime.indexOf('load') != -1) {
                          //如果是初始化加载，新增时才触发
                          _this.doQuery(subItem.alias, subItem.conditionfield, subItem.resultBind, newVal.length - 1);
                        }
                      } else if (newVal.length > myOldVal.length) {
                        for (let i = myOldVal.length; i < newVal.length; i++) {
                          _this.doQuery(subItem.alias, subItem.conditionfield, subItem.resultBind, i);
                        }
                      } else if (myOldVal.length > newVal.length) {
                        //删除
                        //不用做处理
                      } else if (newVal.length > 0 && myOldVal.length === newVal.length) {
                        //值变化
                        for (let i = 0; i < newVal.length; i++) {
                          if (newVal[i][subItem.triggerField] !== myOldVal[i][subItem.triggerField]) {
                            _this.doQuery(subItem.alias, subItem.conditionfield, subItem.resultBind, i);
                          }
                        }
                      }
                    } catch (error) {
                      console.error(this.$t('ht.global.errorMsg') + ':' + error);
                    }
                    _this.subOldValueMap[subItem.subPath] = JSON.parse(JSON.stringify(newVal));
                  }
                });
              }, {
                deep: true
              });
            }
          }
          if (item.triggerTime.indexOf('load') != -1 && item.entType === 'main') {
            //加载时触发 & 不包含子表
            if (item.noValuabletrigger && item.noValuableField) {
              //有值不触发
              const val = utils["a" /* default */].getValueByPath(this.formInst, item.noValuableField);
              if (val != '' && val != undefined && val != null) {
                return;
              }
            }
            setTimeout(() => {
              _this.doQuery(item.alias, item.conditionfield, resultBind, null);
            }, 100);
          }
        }
      });
    }
  },
  methods: {
    doQuery(alias, params, resultBind, index) {
      try {
        let _this = this;
        let queryParams = {};
        if (params && params.length > 0) {
          params.forEach(item => {
            queryParams[item.field] = null;
            if (!item.defaultValue && item.fieldPath) {
              const val = utils["a" /* default */].getValueByPath(this.formInst, item.fieldPath, index);
              queryParams[item.field] = val || item.emptyValue; // emptyValue-关联查询绑定参数为空时的绑定值
            }
          });
        }
        services_CustomQuery.load(alias, queryParams).then(res => {
          let data = [];
          if (res.constructor == Object) {
            data = res.listKey ? res[res.listKey] : res.rows;
          } else {
            data = res;
          }
          if (data && data.constructor == Array && resultBind && resultBind.constructor == Object) {
            // 关联查询值回绑时，默认获取返回的第一条记录
            Object.keys(resultBind).forEach(k => {
              const path = resultBind[k];
              const value = _this.getBindValue(data, k);
              // 主表
              if (index == null) {
                utils["a" /* default */].setValueByPath(this.formInst, path, value);
              }
              // 子表
              else {
                utils["a" /* default */].setValueByPath(this.formInst, path, value, index);
              }
            });
          }
        });
      } catch (error) {
        console.error(this.$t('ht.global.errorMsg') + ':' + error);
      }
    },
    getBindValue(data, key) {
      //当系统接到触发请求要带出数据时，发现有多个查询结果，此时将多个结果以逗号分隔的模式全部都带出来
      let value = [];
      data.forEach(item => {
        if (!utils["a" /* default */].isEmpty(item[key])) {
          value.push(item[key]);
        }
      });
      return value.join(',');
    }
  }
});
// CONCATENATED MODULE: ./packages/Global/src/GlobalQuery.vue?vue&type=script&lang=js
 /* harmony default export */ var src_GlobalQueryvue_type_script_lang_js = (GlobalQueryvue_type_script_lang_js); 
// CONCATENATED MODULE: ./packages/Global/src/GlobalQuery.vue





/* normalize component */

var GlobalQuery_component = normalizeComponent(
  src_GlobalQueryvue_type_script_lang_js,
  GlobalQueryvue_type_template_id_5851aa0a_render,
  GlobalQueryvue_type_template_id_5851aa0a_staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* harmony default export */ var GlobalQuery = (GlobalQuery_component.exports);
// CONCATENATED MODULE: ./packages/Global/index.js


GlobalValidate.install = function (Vue) {
  Vue.component(GlobalValidate.name, GlobalValidate);
};
GlobalQuery.install = function (Vue) {
  Vue.component(GlobalQuery.name, GlobalQuery);
};

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"8bdeefa2-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/Subtable/src/SubDialog.vue?vue&type=template&id=360d3b35&scoped=true
var SubDialogvue_type_template_id_360d3b35_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:"inputs",style:({ display: 'inline-block', float: 'right' })},[(_vm.isShow || _vm.currentInitFillData == 'true')?_c('el-button',{staticClass:"custom-dialog-btn",attrs:{"type":"text","size":"mini"},on:{"click":_vm.showDialog}},[_c('i',{staticClass:"custom-dialog-icon",class:_vm.custdialog.icon
          ? 'el-input__icon ' + _vm.custdialog.icon
          : 'el-input__icon icon-department',staticStyle:{"line-height":"10px"}}),_vm._v("\n    "+_vm._s(_vm.custdialog.name)+"\n  ")]):_vm._e(),_c('el-dialog',{attrs:{"visible":_vm.customDialogShowList,"title":_vm.customDialog.name,"close-on-click-modal":false,"before-close":_vm.dialogCancel,"append-to-body":"","top":"6vh","width":"60%"},on:{"update:visible":function($event){_vm.customDialogShowList=$event},"opened":_vm.afterOpen}},[_c('el-container',{staticStyle:{"overflow":"auto"},style:(_vm.style)},[(_vm.customDialog.style == 2)?_c('el-aside',{directives:[{name:"show",rawName:"v-show",value:(_vm.treeShow),expression:"treeShow"}],staticStyle:{"width":"23%"}},[_c('el-card',[_c('div',{staticClass:"clearfix",attrs:{"slot":"header"},slot:"header"},[_c('span',{staticStyle:{"font-size":"16px"}},[_vm._v(_vm._s(_vm.leftTreeTitle))])]),_c('el-tree',{ref:"combinationTree",attrs:{"data":_vm.combinationTreeData,"props":_vm.defaultProps,"node-key":_vm.nodeKey,"highlight-current":"","check-on-click-node":true,"lazy":"","load":_vm.loadTree},on:{"node-click":_vm.combiTreeClick}})],1)],1):_vm._e(),(_vm.customDialog.style == 2)?_c('el-divider',{attrs:{"direction":"vertical"}}):_vm._e(),_c('el-container',[(_vm.querysShow)?_c('el-header',{staticClass:"middle-header"},[_vm._l((_vm.conditionBind),function(condition,index){return _c('div',{key:index,staticClass:"search-item"},[_c('p',{staticStyle:{"font-size":"14px"}},[_vm._v(_vm._s(condition.comment)+":")]),(condition.controllerType == '1')?_c('div',[_c('el-input',{staticStyle:{"width":"180px","padding":"10px 0","margin":"0 5px 0 5px"},attrs:{"size":"small","clearable":"","placeholder":_vm.placeholders[index],"prefix-icon":"el-icon-search"},nativeOn:{"keyup":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,"enter",13,$event.key,"Enter")){ return null; }return _vm.searchEnterFun($event)}},model:{value:(_vm.queryParams[index][condition.field]),callback:function ($$v) {_vm.$set(_vm.queryParams[index], condition.field, $$v)},expression:"queryParams[index][condition.field]"}})],1):_vm._e(),(condition.controllerType == '2')?_c('div',{staticStyle:{"margin-right":"10px"}},_vm._l((condition.config.options),function(itemR,$index1){return _c('el-radio',{key:$index1,attrs:{"label":itemR.key},model:{value:(_vm.queryParams[index][condition.field]),callback:function ($$v) {_vm.$set(_vm.queryParams[index], condition.field, $$v)},expression:"queryParams[index][condition.field]"}},[_vm._v("\n                "+_vm._s(itemR.value)+"\n              ")])}),1):_vm._e(),(condition.controllerType == '3')?_c('div',{staticStyle:{"margin-right":"10px"}},[(condition.config.choiceType == 'static')?_c('ht-select',{attrs:{"placeholder":_vm.quickSearch,"options":condition.config.options},model:{value:(_vm.queryParams[index][condition.field]),callback:function ($$v) {_vm.$set(_vm.queryParams[index], condition.field, $$v)},expression:"queryParams[index][condition.field]"}}):_c('ht-select',{attrs:{"placeholder":_vm.quickSearch,"ganged":{
                  alias: condition.config.customQuery.alias,
                  valueBind: condition.config.customQuery.valueBind,
                  noInit: '',
                  labelBind: condition.config.customQuery.labelBind,
                  gangedBind: '{}',
                  bind: condition.config.bind,
                },"multiple":false,"filterable":false,"allow-create":false,"selectlist":[],"query-params":_vm.queryParams},model:{value:(_vm.queryParams[condition.field]),callback:function ($$v) {_vm.$set(_vm.queryParams, condition.field, $$v)},expression:"queryParams[condition.field]"}})],1):_vm._e(),(condition.controllerType == '4')?_c('div',{staticStyle:{"margin-right":"10px"}},[_c('ht-tag',{attrs:{"tag-key":condition.config.tag,"placeholder":_vm.quickSearch,"filterable":condition.config.filterable,"expand":condition.config.expand},model:{value:(_vm.queryParams[index][condition.field]),callback:function ($$v) {_vm.$set(_vm.queryParams[index], condition.field, $$v)},expression:"queryParams[index][condition.field]"}})],1):_vm._e()])}),(_vm.conditionBind && _vm.conditionBind.length > 0)?_c('div',{staticClass:"btn-wrap"},[_c('el-button',{staticStyle:{"margin-left":"20px"},attrs:{"size":"small","type":"primary","icon":"el-icon-search"},on:{"click":function($event){return _vm.search(true)}}},[_vm._v("\n              "+_vm._s(_vm.$t('ht.common.search'))+"\n            ")]),_c('el-button',{attrs:{"size":"small","icon":"el-icon-refresh"},on:{"click":_vm.reset}},[_vm._v("\n              "+_vm._s(_vm.$t('ht.common.reset'))+"\n            ")])],1):_vm._e()],2):_vm._e(),_c('el-main',{staticStyle:{"padding":"0 20 0 20"}},[_c('el-table',{ref:"orgTable",staticClass:"org-table",staticStyle:{"width":"100%"},attrs:{"data":_vm.dialogData,"stripe":"","border":"","size":"medium","max-height":"500px"},on:{"row-click":_vm.orgRowClick,"selection-change":_vm.orgTableSelection,"select":_vm.onTableSelect,"select-all":_vm.selectAll}},[(_vm.customDialog.selectNum != 1)?_c('el-table-column',{attrs:{"type":"selection","align":"center","width":"45","selectable":_vm.selectable}}):_vm._e(),(_vm.customDialog.selectNum === 1)?_c('el-table-column',{attrs:{"align":"center","width":"50"},scopedSlots:_vm._u([{key:"default",fn:function(scope){return [_c('el-radio',{staticClass:"textRadio",attrs:{"label":scope.$index,"disabled":_vm.selectable(scope.row)},on:{"selection-change":_vm.orgTableSelection},model:{value:(_vm.undefineda),callback:function ($$v) {_vm.undefineda=$$v},expression:"undefineda"}})]}}],null,false,2605609712)}):_vm._e(),_c('el-table-column',{attrs:{"type":"index","width":"50","align":"center","label":_vm.$t('ht.common.index')}}),_vm._l((_vm.displayfield),function(field,$index){return _c('el-table-column',{key:field.field,staticStyle:{"width":"100%"},attrs:{"show-overflow-tooltip":true,"prop":field.field,"label":field.comment},scopedSlots:_vm._u([{key:"default",fn:function(scope){return [(field.formatterType == '1' && field.dateFormat)?_c('span',[_vm._v("\n                  "+_vm._s(_vm._f("dateformat")(scope.row[field.field],field.dateFormat))+"\n                ")]):(field.formatterType == '2' && field.formatterData.length)?_c('span',[_vm._v("\n                  "+_vm._s(_vm.formatDictLabel(scope.row[field.field],$index))+"\n                ")]):_c('span',[_vm._v(_vm._s(scope.row[field.field]))])]}}],null,true)})})],2)],1),_c('el-footer',[(_vm.customDialog.needPage)?_c('el-row',{staticStyle:{"padding-top":"15px","justify-content":"space-between"},attrs:{"type":"flex","justify":"end"}},[(_vm.customDialog.style == 2)?_c('el-button',{attrs:{"icon":_vm.toggleBtn,"size":"mini","type":"default"},on:{"click":_vm.toggleTree}}):_vm._e(),_c('el-pagination',{attrs:{"small":"","current-page":_vm.pagination.page,"page-sizes":[10, 20, 50, 100],"page-size":_vm.pagination.pageSize,"layout":"total, sizes, prev, pager, next, jumper","total":_vm.total},on:{"size-change":_vm.handleSizeChange,"current-change":_vm.handleCurrentChange}})],1):_vm._e()],1)],1)],1),_c('span',{staticClass:"dialog-footer",staticStyle:{"text-align":"center"},attrs:{"slot":"footer"},slot:"footer"},[_c('el-button',{attrs:{"size":"small","type":"primary"},on:{"click":_vm.dialogConfirm}},[_vm._v("\n        "+_vm._s(_vm.$t('ht.common.confirm'))+"\n      ")]),_c('el-button',{attrs:{"size":"small"},on:{"click":_vm.dialogCancel}},[_vm._v("\n        "+_vm._s(_vm.$t('ht.common.cancle'))+"\n      ")])],1)],1),_c('el-dialog',{attrs:{"visible":_vm.customDialogShowTree,"title":_vm.customDialog.name,"close-on-click-modal":false,"before-close":_vm.dialogCancelTree,"append-to-body":"","top":"6vh","width":"40%"},on:{"update:visible":function($event){_vm.customDialogShowTree=$event}}},[_c('el-container',{staticStyle:{"overflow":"auto","min-height":"300px"},style:(_vm.style)},[_c('el-tree',{ref:"tree",staticStyle:{"width":"100%"},attrs:{"data":_vm.props1,"props":_vm.defaultProps,"node-key":_vm.nodeKey,"highlight-current":"","show-checkbox":_vm.customDialog.selectNum === -1,"check-on-click-node":true,"check-strictly":false,"lazy":"","load":_vm.loadTree},on:{"node-click":_vm.treeClick,"check-change":_vm.getChecked}})],1),_c('span',{staticClass:"dialog-footer",staticStyle:{"text-align":"center"},attrs:{"slot":"footer"},slot:"footer"},[_c('el-button',{attrs:{"size":"small","type":"primary"},on:{"click":_vm.dialogTreeConfirm}},[_vm._v("\n        "+_vm._s(_vm.$t('ht.common.confirm'))+"\n      ")]),_c('el-button',{attrs:{"size":"small"},on:{"click":_vm.dialogCancelTree}},[_vm._v("\n        "+_vm._s(_vm.$t('ht.common.cancle'))+"\n      ")])],1)],1)],1)}
var SubDialogvue_type_template_id_360d3b35_scoped_true_staticRenderFns = []


// CONCATENATED MODULE: ./packages/Subtable/src/SubDialog.vue?vue&type=template&id=360d3b35&scoped=true

// CONCATENATED MODULE: ./packages/Subtable/src/dialog.js

/* harmony default export */ var src_dialog = ({
  data() {
    return {
      total: 0,
      dialogData: []
    };
  },
  methods: {
    getDialogByAlias(alias) {
      return this.$requestConfig.getCustomDialogByAlias(alias);
    },
    getListJson(dialog) {
      const params = {
        url: dialog.queryUrl,
        method: dialog.requestType,
        data: dialog.pageBean
      };
      return this.$requestConfig.request(params).then(data => {
        // TODO 返回的数据 key是否需要转小写？？
        if (data && data.constructor === Array) {
          this.dialogData = data;
        } else {
          this.dialogData = utils["a" /* default */].getValueByPath(data, dialog.listKey || 'rows');
        }
        this.total = utils["a" /* default */].getValueByPath(data, dialog.totalKey || 'total');
        return;
      });
    },
    setListJson(rows) {
      return new Promise(resolve => {
        this.dialogData = rows;
        resolve();
      });
    },
    getTreeListJson(dialog) {
      const params = {
        url: dialog.url,
        method: dialog.requestType,
        data: dialog.paramsObj
      };
      return this.$requestConfig.request(params);
    }
  }
});
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/Subtable/src/SubDialog.vue?vue&type=script&lang=js
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//





/* harmony default export */ var SubDialogvue_type_script_lang_js = ({
  name: 'HtSubDialog',
  mixins: [src_dialog],
  props: {
    custdialog: {
      type: Object,
      default: () => {
        return {};
      }
    },
    initFillData: String,
    initFillDataType: String,
    relation: String,
    extendProp: {
      type: Object,
      default: () => {
        return {};
      }
    },
    maxRow: Number,
    newInitVersion: String,
    initBackFillData: {
      type: Array,
      default: () => {
        return [];
      }
    }
  },
  data() {
    return {
      quickSearch: '',
      //填写提示
      conditionBind: [],
      //参数查询字段
      nodeKey: 'ID_',
      //树形数据父Id
      customDialogShowList: false,
      customDialogShowTree: false,
      style: '',
      //对话框宽高
      selectOrgs: null,
      config: null,
      displayfield: [],
      //显示字段
      customDialog: {},
      queryParam: '',
      //查询条件输入的值
      props1: [],
      showData: [],
      checkBoxDataAll: [],
      //选中对象的集合
      defaultProps: {
        children: 'children',
        label: 'label'
      },
      propsData: [],
      querysShow: false,
      //是否显示搜索框
      undefineda: '',
      isCurrentChange: false,
      //是否不执行 orgTableSelection方法
      pagination: {
        page: 1,
        pageSize: 10,
        total: 0
      },
      param: [],
      //绑定的表单字段
      treeList: [],
      displayField: {},
      queryParams: [],
      placeholders: [],
      oldselectOrgs: [],
      combinationTreeData: [],
      combiTreeDisplayField: [],
      combinationTreeQuerys: [],
      combinationRule: {},
      toggleBtn: 'el-icon-arrow-left',
      treeShow: true,
      transtionWidth: '25%',
      leftTreeTitle: '',
      isShow: true,
      currentInitFillData: 'false',
      fixedParams: {} // 传过来的固定值
    };
  },
  watch: {
    props1: function () {
      //树形
      if (this.showData != undefined && this.showData.length > 0) {
        const this_ = this;
        let data = [];
        for (let i = 0; i < this.showData.length; i++) {
          data.push(this.showData[i]);
        }
        setTimeout(() => {
          for (let i = 0; i < data.length; i++) {
            this_.$refs.tree.setChecked(data[i], true);
            this_.checkNode(data[i], this_);
          }
        }, 200);
      }
    }
  },
  mounted() {
    if (Object.keys(this.extendProp).length == 0 || this.extendProp.initFillData) {
      this.currentInitFillData = this.initFillData;
    }
    let requestType = window.location.href.split('?')[0].split('/');
    let isDoneList = window.location.href.split('/');
    if (requestType[requestType.length - 1] == 'get' || requestType[requestType.length - 2] == 'get' || isDoneList[isDoneList.length - 1] == 'doneList') {
      this.isShow = false;
    }
    // 此处加一个标识，新版本子表初始化时不走此逻辑
    if (this.currentInitFillData == 'true' && this.newInitVersion !== 'true') {
      this.initTemplateData();
    }
  },
  methods: {
    selectAll(selection) {
      if (this.oldselectOrgs != null && selection.length > 0) {
        for (let x = 0; x < selection.length; x++) {
          if (this.indexArray(this.oldselectOrgs, selection[x]) === -1) {
            this.oldselectOrgs.push(selection[x]);
          }
        }
        this.selectOrgs = external_lodash_default.a.cloneDeep(this.oldselectOrgs);
      } else {
        this.selectOrgs = external_lodash_default.a.cloneDeep(selection);
      }
    },
    checkNode(data, this_, pnode) {
      if (data.Pid) {
        let node = this_.$refs.tree.getNode(data.Pid);
        node.indeterminate = true;
        if (node.data.Pid) {
          this_.$refs.tree.getNode(node.data.Pid).indeterminate = true;
          this.checkNode(this_.$refs.tree.getNode(node.data.Pid).data, this_, this_.$refs.tree.getNode(node.data.Pid));
        }
        if (!node.indeterminate) {
          node.indeterminate = true;
        }
      } else if (pnode && !pnode.indeterminate) {
        pnode.indeterminate = true;
      }
    },
    //回车查询
    searchEnterFun: function (e) {
      var keyCode = window.event ? e.keyCode : e.which;
      if (keyCode == 13) {
        this.search();
      }
    },
    handleSizeChange: function (size) {
      this.isCurrentChange = true;
      //每页下拉显示数据
      this.pagination.pageSize = size;
      this.search();
    },
    handleCurrentChange: function (currentPage) {
      const this_ = this;
      if (this.selectOrgs != undefined && this.selectOrgs.length > 0) {
        this.selectOrgs.forEach(row => {
          let res = this_.indexArray(this_.checkBoxDataAll, row);
          if (res == -1) {
            this_.checkBoxDataAll.push(row);
          }
        });
      }
      this.isCurrentChange = true;
      //点击第几页
      this.pagination.page = currentPage;
      this.search();
    },
    checkList() {
      const this_ = this;
      setTimeout(() => {
        //列表
        if (this_.checkBoxDataAll != undefined && this_.checkBoxDataAll.length > 0) {
          this_.checkBoxDataAll.forEach(row => {
            let res = this_.indexArray(this_.dialogData, row);
            this_.undefineda = res;
            if (res != -1) {
              this_.isCurrentChange = true;
              this_.toggleRowSelection(res, true);
            }
          });
        }
      }, 300);
    },
    toggleRowSelection(res, val) {
      this.$refs.orgTable.toggleRowSelection(this.dialogData[res], val);
    },
    showDialog() {
      const this_ = this;
      this.undefineda = '';
      //第二次点击子表回填对话框 第一次选中的数据不是选中状态
      if (this_.selectOrgs) {
        this_.selectOrgs.splice(0, this_.selectOrgs.length);
        this_.checkBoxDataAll.splice(0, this_.checkBoxDataAll.length);
      }
      var alias = this.custdialog.custDialog.alias;
      this.getDialogByAlias(alias).then(customDialog => {
        if (!customDialog || !customDialog.alias) {
          external_element_ui_["Message"].error(this_.$t('ht.customDialog.errorMsg', {
            alias: alias
          }));
          return;
        }
        if (customDialog.style == 1) {
          var displaylist = JSON.parse(customDialog.displayfield);
          this_.nodeKey = displaylist.id;
        }
        if (customDialog.needPage && customDialog.requestType === 'POST') {
          let obj = {};
          this.getLastKeyByPath(obj, customDialog.pageKey, 1);
          this.getLastKeyByPath(obj, customDialog.pageSizeKey, 10);
          this.getLastKeyByPath(obj, customDialog.totalKey, true);
          const exp = utils["a" /* default */].parseExp(customDialog.dataParam, obj, true);
          if (exp) {
            const params = JSON.parse(exp);
            if (params.pageBean) {
              this.pagination = {
                ...params.pageBean
              };
            }
          }
        }
        //对话框按表单字段查询（参数传入的）
        let bindList = this_.custdialog.custDialog.conditions;
        this_.param = []; //绑定的表单字段
        if (bindList.length > 0) {
          bindList.forEach(ele => {
            //绑定表单字段
            if (ele.defaultType == '3' && ele.bind) {
              let obj = {};
              obj.field = ele.field;
              obj.bind = ele.bind;
              obj.bindType = ele.bindType;
              this_.param.push(obj);
            }
          });
        }
        //判断对话框查询是否有条件
        let userInputList = JSON.parse(customDialog.conditionfield);
        this_.quickSearch = ''; //填写提示 placeholder
        this_.conditionBind = [];
        let queryParams = [];
        let placeholders = [];
        if (userInputList.length > 0) {
          userInputList.forEach(ele => {
            var obj = {};
            //条件查询参数（用户输入的） 文本框输入
            if (ele.defaultType == '1') {
              obj[ele.field] = '';
              queryParams.push(obj);
              this_.conditionBind.push(ele);
              placeholders.push(this_.$t('ht.common.enter') + ele.comment);
            }
            if (ele.defaultType == '2' && ele.defaultValue) {
              this_.fixedParams[ele.field] = ele.defaultValue;
            }
          });
          this.$set(this, 'queryParams', queryParams);
          this.$set(this, 'placeholders', placeholders);
        }
        //判断是否显示条件查询输入框
        if (this_.quickSearch != '') {
          this_.querysShow = true;
        } else {
          this_.querysShow = true;
        }
        this_.quickSearch = this_.$t('ht.common.enter') + this.quickSearch + this_.$t('ht.common.search');
        this_.style = 'height:' + customDialog.height + 'px';
        if (window.screen.height && window.screen.height <= 900) {
          this.style = 'height:440px';
        }
        if (customDialog.style == 0 || customDialog.style == 2) {
          //列表
          this_.customDialogShow({
            alias: alias,
            customDialog: customDialog
          });
        } else if (customDialog.style == 1) {
          //树形
          this_.pageParam = {
            alias: alias,
            customDialog: customDialog
          };
          this_.customDialog = customDialog;
          let param = {};
          this_.conditionfieldTree = [];
          //判断是否存在条件
          if (customDialog.conditionfield) {
            this_.conditionfieldTree = JSON.parse(customDialog.conditionfield);
            if (this_.conditionfieldTree.length > 0) {
              for (let i = this_.conditionfieldTree.length - 1; i >= 0; i--) {
                //判断条件字段是否是动态传入（defaultType：4：动态传入，2：固定值 ）
                if (this_.conditionfieldTree[i].defaultType == '4') {
                  param[this_.conditionfieldTree[i].field] = this_.conditionfieldTree[i].comment;
                }
              }
            }
          }
          //有动态传入的字段
          if (JSON.stringify(param) != '{}') {
            this_.dialogVisible = true;
          } else {
            //无动态传入的字段
            this_.customDialogTreeShow(this_.pageParam);
          }
        }
      });
    },
    getLastKeyByPath(obj, path, value) {
      if (!obj || !path || path.constructor != String) {
        return;
      }
      if (!/^\w?.*[\w|\]]$/.test(path)) {
        return;
      }
      let pathAry = path.split('.');
      if (pathAry.length == 1) {
        obj[path] = value;
      } else {
        let length = pathAry.length;
        obj[pathAry[length - 1]] = value;
      }
    },
    //判断数据是否包含某个对象，并返回数据包含对象的下标
    indexArray(array, item) {
      if (array.length == 0) {
        return -1;
      }
      for (let i = 0; i < array.length; i++) {
        if (JSON.stringify(array[i]) == JSON.stringify(item)) {
          return i;
        }
      }
      return -1;
    },
    //点击列表某一个复选框时触发
    onTableSelect(rows, row) {
      this.isCurrentChange = false;
      //判断点击列表数据时复选框是否勾选  selected：true不勾选，false勾选
      let selected = this.selectOrgs && this.selectOrgs.length > 0 && this.indexArray(this.selectOrgs, row) !== -1;
      if (selected) {
        this.isCurrentChange = true;
        let res = this.indexArray(this.selectOrgs, row);
        this.selectOrgs.splice(res, 1);
      }
    },
    //点击列表某一条数据时触发
    orgRowClick(row, column, event) {
      if (this.customDialog.selectNum === 1) {
        event.currentTarget && event.currentTarget.children[0] && event.currentTarget.children[0].children[0] && event.currentTarget.children[0].children[0].children[0] && event.currentTarget.children[0].children[0].children[0].dispatchEvent(new Event('click'));
        this.selectOrgs = [];
        this.selectOrgs.push(row);
        let curIndex = this.indexArray(this.dialogData, row);
        this.undefineda = curIndex;
      } else if (this.customDialog.selectNum != 1) {
        this.isCurrentChange = false;
        //判断点击列表数据时复选框是否勾选  selected：true不勾选，false勾选
        let selected = this.selectOrgs && this.selectOrgs.length > 0 && this.indexArray(this.selectOrgs, row) !== -1;
        if (selected) {
          this.isCurrentChange = true;
          let res = this.indexArray(this.selectOrgs, row);
          this.selectOrgs.splice(res, 1);
        }
        this.$refs.orgTable.toggleRowSelection(row);
      }
    },
    //列表复选框有改变时触发
    orgTableSelection(selection) {
      //全选的情况特殊处理(为了与原本功能逻辑不冲突,先复制一份旧的选中数据.然后拿到全选事件中去计算)
      this.oldselectOrgs = external_lodash_default.a.cloneDeep(this.selectOrgs);
      //多选
      if (this.customDialog.selectNum != 1 && !this.isCurrentChange) {
        if (selection && selection.length > 0) {
          if (selection.length == 1 && (!this.selectOrgs || this.selectOrgs.length == 0)) {
            this.selectOrgs = selection;
          } else if ((!this.selectOrgs || this.selectOrgs.length == 0) && selection.length > 1) {
            if (!this.selectOrgs) {
              this.selectOrgs = [];
            }
            for (let i = selection.length - 1; i >= 0; i--) {
              this.selectOrgs.push(selection[i]);
            }
          } else if (this.isCurrentChange && selection.length >= 10) {
            if (!this.selectOrgs) {
              this.selectOrgs = [];
            } else {
              for (let u = this.selectOrgs.length - 1; u >= 0; u--) {
                let res = this.indexArray(selection, this.selectOrgs[u]);
                if (res != -1) {
                  this.selectOrgs.splice(res, 1);
                }
              }
            }
            for (let i = 0; i < selection.length; i++) {
              this.selectOrgs.push(selection[i]);
            }
          } else {
            for (let i = selection.length - 1; i >= 0; i--) {
              this.selectOrgs.push(selection[i]);
              break;
            }
          }
        }
      }
    },
    dialogConfirm() {
      if (!this.selectOrgs || this.selectOrgs.length == 0) {
        this.$message.error(this.$t('ht.subTable.errorMsg'));
        return;
      }
      this.queryParam = '';
      this.customDialogShowList = false;
      this.syncInputValue();
    },
    //重置
    reset() {
      this.queryParams.forEach(paramObj => {
        for (let key in paramObj) {
          this.queryParams[key] = '';
        }
      });
      //组合树重置
      if (this.$refs.combinationTree) {
        let nodes = this.$refs.combinationTree.store.nodesMap;
        for (let key in nodes) {
          nodes[key].expanded = false;
        }
      }
      this.combinationTreeQuerys.splice(0);
      this.search(true);
    },
    //查询
    search(resetPagintion) {
      let querys = []; //查询条件
      let queryFilter = {};
      if (JSON.stringify(this.pagination) == '{}') {
        this.pagination = {
          page: 1,
          pageSize: 10,
          showTotal: 'true'
        };
      }
      let pageBean = {
        pageBean: this.pagination
      };
      if (resetPagintion) {
        pageBean.pageBean = {
          page: 1,
          pageSize: 10,
          showTotal: 'true'
        };
      }
      //用户输入的
      if (this.queryParams.length != 0 && this.queryParams[0] != '') {
        this.conditionBind.forEach((item, index) => {
          if (this.queryParams[index][item.field]) {
            querys.push({
              property: item.field,
              value: this.queryParams[index][item.field],
              group: 'main',
              operation: 'LIKE',
              relation: 'AND'
            });
          }
        });
      }
      //参数传入的查询拼接
      if (this.param) {
        const pInst = utils["a" /* default */].getOnlineFormInstance(this);
        this.param.forEach(item => {
          querys.push({
            property: item.field,
            // value: utils.getValueByPath(pInst, item.bind),
            value: item.bindType === 2 ? item.bind : utils["a" /* default */].getValueByPath(pInst, item.bind),
            group: 'main',
            operation: 'LIKE',
            relation: 'AND'
          });
        });
      }
      //来自组合对话框的
      if (this.combinationTreeQuerys && this.combinationTreeQuerys.length != 0) {
        for (let i = 0; i < this.combinationTreeQuerys.length; i++) {
          querys.push(this.combinationTreeQuerys[i]);
        }
      }
      // post restful接口，并且配置了post参数。则以post参数作为请求参数
      if (this.customDialog.dsType != 'dataSource' && this.customDialog.requestType == 'POST' && this.customDialog.dataParam && this.customDialog.dataParam.constructor == String) {
        let param = this.param;
        // 构建上下文数据对象
        let ctx = {};
        //根据路径构建想要的分页属性
        let obj = {};
        this.getLastKeyByPath(obj, this.customDialog.pageKey, pageBean.pageBean.page);
        this.getLastKeyByPath(obj, this.customDialog.pageSizeKey, pageBean.pageBean.pageSize);
        this.getLastKeyByPath(obj, this.customDialog.totalKey, pageBean.pageBean.total);
        querys && querys.length && querys.forEach(element => {
          ctx[element.property] = element.value;
        });
        const queryParamMap = this.getSearchValueByKey();
        queryParamMap.pageSize = pageBean.pageBean.pageSize;
        queryParamMap.page = pageBean.pageBean.page;
        queryParamMap.total = pageBean.pageBean.total;
        // 添加用户id 岗位id 组织id
        try {
          if (this.$requestConfig.getUserId()) {
            ctx.userId = this.$requestConfig.getUserId();
          }
          if (this.$requestConfig.getOrgId()) {
            ctx.orgId = this.$requestConfig.getOrgId();
          }
          if (this.$requestConfig.getPostId()) {
            ctx.postId = this.$requestConfig.getPostId();
          }
        } catch (e) {
          console.log(this.$t('ht.customDialog.getIdError'), e);
        }
        const exp = utils["a" /* default */].parseExp(this.customDialog.dataParam, {
          ...ctx,
          ...queryParamMap,
          ...this.fixedParams
        });
        try {
          param = JSON.parse(exp);
          const dataParam = JSON.parse(this.customDialog.dataParam);
          const queryList = dataParam && dataParam.querys && dataParam.querys.map(item => {
            const bindKey = item.value && item.value.replace('${', '').replace('}', '');
            return {
              ...item,
              value: queryParamMap[bindKey] || ctx[bindKey] || ''
            };
          });
          param.querys = queryList;
          if (this.customDialog.needPage) {
            param.pageBean = obj;
          } else {
            param.pageBean.pageSize = -1;
          }

          //构造请求的参数
          let requestParam = {
            pageBean: param,
            queryUrl: this.customDialog.queryUrl,
            requestType: this.customDialog.requestType,
            dsType: this.customDialog.dsType,
            listKey: this.customDialog.listKey,
            pageKey: this.customDialog.pageKey,
            pageSizeKey: this.customDialog.pageSizeKey,
            totalKey: this.customDialog.totalKey
          };
          this.getListJson(requestParam).then(() => {
            this.checkList();
          });
        } catch (e) {
          this.$message.error(`${this.$t('ht.customDialog.postRequestParamError')}${param}`);
        }
      } else {
        if (querys.length > 0) {
          queryFilter = {
            pageBean: pageBean.pageBean,
            querys
          };
          this.customDialog.pageBean = queryFilter;
          this.getListJson(this.customDialog).then(() => {
            this.checkList();
          });
        } else {
          this.customDialog.pageBean = pageBean;
          this.getListJson(this.customDialog).then(() => {
            this.checkList();
          });
        }
      }
    },
    getSearchValueByKey() {
      let queryParamsObj = {};
      if (this.queryParams.length > 0) {
        queryParamsObj = this.conditionBind.reduce((pre, cur, index) => {
          pre[cur.field] = this.queryParams[index][cur.field];
          return pre;
        }, {});
      }
      return queryParamsObj;
    },
    async doQuery(param) {
      let paramLoadData = [];
      const pInst = utils["a" /* default */].getOnlineFormInstance(this);
      //获取关联查询绑定的表单参数
      for (let i = 0; i < param.conditionfield.length; i++) {
        if (param.conditionfield[i].fieldPath != '') {
          let bindVal = utils["a" /* default */].getValueByPath(pInst, param.conditionfield[i].fieldPath, null);
          let obj = {
            key: param.conditionfield[i].field,
            value: bindVal
          };
          paramLoadData.push(obj);
        }
      }
      let queryUrl = param.dsType == 'dataSource' ? '${form}/form/customQuery/v1/doQuery?alias=' + param.alias + '&page=1' : param.url;
      let requestMethod = 'POST';
      //如果关联数据列表查询数据不是数据源则请求方法为restful配置的请求方式
      if (param.dsType != 'dataSource') {
        requestMethod = param.requestType;
      }
      //查询数据
      this.$requestConfig.request({
        url: queryUrl,
        method: requestMethod,
        data: paramLoadData
      }).then(res => {
        //判断是否有关联查询数据返回
        if (res.data.rows.length > 0) {
          //获取关联查询返回的表单参数
          for (let io = 0; io < param.resultfield.length; io++) {
            if (param.resultfield[io].fieldPath != '') {
              let val = '';
              for (let j = 0; j < res.data.rows.length; j++) {
                if (res.data.rows[j][param.resultfield[io].field]) {
                  val = val + res.data.rows[j][param.resultfield[io].field] + ',';
                }
              }
              val = val.substring(0, val.length - 1);
              let pathArr = param.resultfield[io].fieldPath.split('.');
              if (pathArr.length == 3) {
                //主表
                utils["a" /* default */].setValueByPath(pInst, param.resultfield[io].fieldPath, val, null);
              } else if (pathArr.length == 4) {
                //子表
                let subData = pInst.data[pathArr[1]][pathArr[2]];
                if (subData.length == 0) {
                  //子表没数据的情况
                  let subTabName = pathArr[2].replace('sub_', '');
                  //得到子表的所有字段
                  let subInitData = pInst.data[pathArr[1]].initData[subTabName] || {};
                  //把数组里面的值为 null 转换为空字符串
                  let str = JSON.stringify(subInitData).replace(/null/g, '""');
                  let subData = JSON.parse(str);
                  for (var key in subData) {
                    //点添加时判断要新增子表记录中的孙表是否有值
                    if (key.indexOf('sub_') == 0 && subData[key].length > 0) {
                      subData[key] = []; //有则清空
                    }
                    //点添加时判断要新增子表记录中的字段是否有值
                    if (subData[key]) {
                      subData[key] = ''; //有则清空
                    }
                  }
                  //新增一条数据
                  pInst.data[pathArr[1]][pathArr[2]].push(subData);
                  //对话框关联查询返回的值赋值给绑定的字段
                  utils["a" /* default */].setValueByPath(pInst, param.resultfield[io].fieldPath, val, 0);
                } else {
                  //子表有数据的情况
                  for (let p = 0; p < subData.length; p++) {
                    //对话框关联查询返回的值赋值给绑定的字段
                    utils["a" /* default */].setValueByPath(pInst, param.resultfield[io].fieldPath, val, p);
                  }
                }
              }
            }
          }
        } else {
          //没有返回的值则清空
          //获取关联查询返回的表单参数
          for (let iop = 0; iop < param.resultfield.length; iop++) {
            if (param.resultfield[iop].fieldPath != '') {
              let pathArr = param.resultfield[iop].fieldPath.split('.');
              if (pathArr.length == 3) {
                //主表
                //赋值给绑定的字段
                utils["a" /* default */].setValueByPath(pInst, param.resultfield[iop].fieldPath, '', null);
              } else if (pathArr.length == 4) {
                //子表
                let subData = pInst.data[pathArr[1]][pathArr[2]];
                for (let p = 0; p < subData.length; p++) {
                  //对话框关联查询返回的值赋值给绑定的字段
                  utils["a" /* default */].setValueByPath(pInst, param.resultfield[iop].fieldPath, '', p);
                }
              }
            }
          }
        }
      });
    },
    // 同步选择结果
    syncInputValue() {
      var returnStr = JSON.parse(this.customDialog.resultfield);
      //拿到返回的字段
      var field = new Array([returnStr.length]);
      var comment = new Array([returnStr.length]);
      var str = [];
      var ids = [];
      for (var i = 0; i < returnStr.length; i++) {
        field[i] = this.customDialog.dsType == 'dataSource' ? returnStr[i].field.toLowerCase() : returnStr[i].field;
        comment[i] = this.customDialog.dsType == 'dataSource' ? returnStr[i].comment.toLowerCase() : returnStr[i].comment;
      }
      const this_ = this;
      this.selectOrgs.forEach(row => {
        if (this_.checkBoxDataAll || this_.checkBoxDataAll.length < 1) {
          this_.checkBoxDataAll.push(row);
        } else if (JSON.stringify(this_.indexArray).indexOf(JSON.stringify(row)) == -1) {
          this_.checkBoxDataAll.push(row);
        }
      });
      var s = this.selectOrgs;
      if (this.customDialog.selectNum === 1) {
        var temp = '';
        for (var ij = 0; ij < comment.length; ij++) {
          let encodeStr = encodeURIComponent(s[0][field[ij]]);
          temp += '"' + comment[ij] + '":"' + encodeStr + '",';
        }
        if (temp != '') {
          temp = '{' + temp.substring(0, temp.length - 1) + '}';
        }
        str.push(utils["a" /* default */].parseToJson(temp));
        ids.push(s[0].id);
      } else {
        for (var ii = 0; ii < s.length; ii++) {
          var tempp = '';
          for (var j = 0; j < comment.length; j++) {
            let encodeStr = encodeURIComponent(s[ii][field[j]]);
            tempp += '"' + comment[j] + '":"' + encodeStr + '",';
          }
          if (tempp != '') {
            tempp = '{' + tempp.substring(0, tempp.length - 1) + '}';
          }
          str.push(utils["a" /* default */].parseToJson(tempp));
          ids.push(s[ii].id);
        }
      }
      const returnData = str;
      const _this = this;
      const formInst = utils["a" /* default */].getOnlineFormInstance(this);
      //处理自动回填配置
      this.instId = formInst.$parent.instId;
      let custDialog = this.custdialog;
      let fillOrg = {};
      if (custDialog.orgConfig && custDialog.orgConfig.name && this.fillOrg && this.fillOrg.id) {
        const namePath = custDialog.orgConfig.name.split('.');
        const orgNameField = namePath[namePath.length - 1];
        fillOrg[orgNameField] = this.fillOrg.name;
        if (custDialog.orgConfig.id) {
          const idPath = custDialog.orgConfig.id.split('.');
          const orgIdField = idPath[idPath.length - 1];
          fillOrg[orgIdField] = this.fillOrg.id;
        }
        if (custDialog.orgConfig.code) {
          const codePath = custDialog.orgConfig.code.split('.');
          const orgCodeField = codePath[codePath.length - 1];
          fillOrg[orgCodeField] = this.fillOrg.code;
        }
      }
      if (custDialog.orgConfig && custDialog.orgConfig.instId) {
        const instIdPath = custDialog.orgConfig.instId.split('.');
        const instIdField = instIdPath[instIdPath.length - 1];
        fillOrg[instIdField] = this.instId;
      }
      try {
        let returnSize = returnData.length;
        //判断是否是一对一子表
        if (_this.relation && _this.relation == 'onetoone') {
          if (returnSize > 1) {
            this_.$message.error(this_.$t('ht.subTable.subTableError'));
            this_.customDialogShowList = true;
            return;
          }
        }
        returnData.forEach(row => {
          var targetArray = null;
          var subLineData = {};
          this.custdialog.custDialog.mappingConf.forEach(con => {
            if (con.target[0]) {
              targetArray = con.target[0].split('.');
              var from = '';
              if (_this.customDialog.dsType == 'restful') {
                from = con.from;
              } else {
                from = con.from.toLowerCase();
              }
              if (row[from] == undefined) {
                from = from.toUpperCase();
              }
              const value = decodeURIComponent(row[from]) == 'undefined' ? '' : decodeURIComponent(row[from]);
              subLineData[targetArray[targetArray.length - 1]] = value;
            }
          });
          if (targetArray) {
            let subBo = null;
            let sunBo = null;
            // 如果目标路径有4段，则说明是孙表回填
            if (targetArray.length == 4) {
              // 获取子表数据的索引
              const {
                index
              } = utils["a" /* default */].getSubScopeElAndIndex(_this.$el);
              if (index == null) {
                throw _this.$t('ht.subTable.sunTableBackfillError');
              }
              const _subBo = formInst['data'][targetArray[0]][targetArray[1]];
              // 获取孙表数据对象
              sunBo = _subBo[index][targetArray[2]];
              if (!sunBo) {
                sunBo = _subBo[index][targetArray[2]] = [];
              }
            }
            // 否则 是子表回填
            else {
              subBo = formInst['data'][targetArray[0]][targetArray[1]];
            }
            //判断是否大于子表数据最大行数
            if (this_.maxRow != 0) {
              if (subBo && subBo.length + returnSize > this_.maxRow) {
                this_.$message.error(this_.$t('ht.subTable.exceededMaximumRows') + '【' + this_.maxRow + '】');
                this_.customDialogShowList = true;
                throw new Error('EndIterative');
              } else if (sunBo && sunBo.length + returnSize > this_.maxRow) {
                this_.$message.error(this_.$t('ht.subTable.sunTableExceededMaximumRows') + '【' + this_.maxRow + '】');
                this_.customDialogShowList = true;
                throw new Error('EndIterative');
              }
            }
            if (subBo) {
              //子表中的孙表实体（可能存在多个）
              let sunBos = utils["a" /* default */].getSomeAttributeFromParentElement(_this.$el, 'sunBos');
              //如果存在孙表实体则手动添加空孙表数组对象
              if (sunBos) {
                let arrayBo = sunBos.split(',');
                for (let i = 0; i < arrayBo.length; i++) {
                  let key = 'sub_' + arrayBo[i];
                  let value = new Array();
                  subLineData[key] = value;
                }
              }
            }

            //判断是否是一对一子表
            if (_this.relation && _this.relation == 'onetoone') {
              subBo && subBo.splice(0, subBo.length);
              sunBo && sunBo.splice(0, sunBo.length);
            }
            if (fillOrg && JSON.stringify(fillOrg) != '{}') {
              subLineData = {
                ...subLineData,
                ...fillOrg
              };
            }
            // 回填时默认展开逻辑添加
            subLineData.sub_guid = this.guid();
            _this.$root.$emit('add-new-collapse-item', subLineData.sub_guid);
            subBo && subBo.push(subLineData);
            if (sunBo) {
              sunBo.push(subLineData);
              formInst.data = Object.assign({}, formInst.data);
            }
            returnSize--;
          }
        });
      } catch (e) {
        if (e.message != 'EndIterative') throw e;
      }
    },
    //取消按钮
    dialogCancel() {
      const this_ = this;
      this_.queryParam = '';
      this_.setListJson([]).then(() => {
        this_.customDialogShowList = false;
        //判断是否是点击了确认再点击取消的  inputVal没有值则表示直接点击的取消
        if (!this_.inputVal) {
          this_.selectOrgs = [];
        } else {
          this_.selectOrgs = [...this_.showData];
          this.checkBoxDataAll = [...this_.selectOrgs];
        }
      });
    },
    dialogTreeConfirm() {
      const this_ = this;
      if (this_.propsData.length == 0) {
        this_.$message.error(this_.$t('ht.subTable.errorMsg'));
        return;
      }
      this.setListJson([]);
      var returnStr = JSON.parse(this.customDialog.resultfield);
      var field = new Array([returnStr.length]);
      var comment = new Array([returnStr.length]);
      var str = [];
      for (var i = 0; i < returnStr.length; i++) {
        field[i] = returnStr[i].field;
        comment[i] = returnStr[i].comment;
      }
      if (this.customDialog.selectNum === 1) {
        var nodes = this.propsData[0];
        var temp = '';
        for (var ii = 0; ii < comment.length; ii++) {
          temp += '"' + comment[ii] + '":"' + nodes[field[ii]] + '",';
        }
        if (temp != '') {
          temp = '{' + temp.substring(0, temp.length - 1) + '}';
        }
        str.push(utils["a" /* default */].parseToJson(temp));
      } else {
        var curNodes = this.propsData;
        curNodes.forEach((item, k) => {
          var temp = '';
          for (var i = 0; i < comment.length; i++) {
            temp += '"' + comment[i] + '":"' + curNodes[field[i]] + '",';
            temp += '"' + comment[i] + '":"' + curNodes[k][field[i]] + '",';
          }
          if (temp != '') {
            temp = '{' + temp.substring(0, temp.length - 1) + '}';
          }
          str.push(utils["a" /* default */].parseToJson(temp));
        });
      }
      const returnData = str;
      const formInst = utils["a" /* default */].getOnlineFormInstance(this);
      try {
        let returnSize = returnData.length;
        //判断是否是一对一子表
        if (this_.relation && this_.relation == 'onetoone') {
          if (returnSize > 1) {
            this_.$message.error(this_.$t('ht.subTable.subTableError'));
            this_.customDialogShowTree = true;
            return;
          }
        }
        returnData.forEach(row => {
          var targetArray = null;
          var subLineData = {};
          this.custdialog.custDialog.mappingConf.forEach(con => {
            if (con.target[0]) {
              targetArray = con.target[0].split('.');
              var from = '';
              if (this_.customDialog.dsType == 'restful') {
                from = con.from;
              } else {
                from = con.from.toLowerCase();
              }
              if (row[from] == undefined) {
                from = from.toUpperCase();
              }
              subLineData[targetArray[targetArray.length - 1]] = decodeURIComponent(row[from]);
            }
          });
          if (targetArray) {
            var subBo = formInst['data'][targetArray[0]][targetArray[1]];
            //判断是否大于子表数据最大行数
            if (this_.maxRow != 0 && subBo.length + returnSize > this_.maxRow) {
              this_.$message.error(this_.$t('ht.subTable.exceededMaximumRows') + '【' + this_.maxRow + '】');
              this_.customDialogShowTree = true;
              throw new Error('EndIterative');
            }

            //子表中的孙表实体（可能存在多个）
            let sunBos = utils["a" /* default */].getSomeAttributeFromParentElement(this_.$el, 'sunBos');
            //如果存在孙表实体则手动添加空孙表数组对象
            if (sunBos) {
              let arrayBo = sunBos.split(',');
              for (let i = 0; i < arrayBo.length; i++) {
                let key = 'sub_' + arrayBo[i];
                let value = new Array();
                subLineData[key] = value;
              }
            }
            //判断是否是一对一子表
            if (this_.relation && this_.relation == 'onetoone') {
              subBo.splice(0, subBo.length);
            }
            subBo.push(subLineData);
            returnSize--;
          }
        });
        this.customDialogShowTree = false;
      } catch (e) {
        if (e.message != 'EndIterative') throw e;
      }
    },
    dialogCancelTree() {
      this.setListJson([]);
      this.customDialogShowTree = false;
    },
    getChecked(data) {
      if (this.customDialog.selectNum === 1) {
        this.propsData = [];
        this.propsData.push(data);
      } else {
        this.propsData = this.$refs.tree.getCheckedNodes();
      }
    },
    treeClick(data) {
      if (this.customDialog.selectNum === 1) {
        this.propsData = [];
        this.propsData.push(data);
      }
    },
    clearAllSelectOrgs() {
      this.selectOrgs = null;
      this.$refs.orgTable.clearSelection();
    },
    customDialogShow(pageParam) {
      this.customDialogShowList = true;
      this.customDialog = pageParam.customDialog;
      this.customDialog.queryUrl = this.customDialog.dsType == 'dataSource' ? '${form}/form/customDialog/v1/getListData?alias=' + this.customDialog.alias + '&mapParam=' + (this.customDialog.mapParam ? this.customDialog.mapParam : '') : this.customDialog.url;
      if (this.dialogData.length < 1) {
        /*           this.pagination = { page: 1, pageSize: 10, showTotal: 'true' } */
        this.search();
        this.displayfield = JSON.parse(pageParam.customDialog.displayfield);
        if (this.customDialog.dsType == 'dataSource') {
          for (var i = 0; i < this.displayfield.length; i++) {
            this.displayfield[i].field = this.displayfield[i].field.toLowerCase();
          }
        }
      } else if (this.dialogData.length > 1) {
        this.search();
      }
      if (this.dialogData.length > 0 && this.displayfield.length == 0) {
        this.search();
        this.displayfield = JSON.parse(pageParam.customDialog.displayfield);
        if (this.customDialog.dsType == 'dataSource') {
          for (var j = 0; j < this.displayfield.length; j++) {
            this.displayfield[j].field = this.displayfield[j].field.toLowerCase();
          }
        }
      }
    },
    customDialogTreeShow(pageParam) {
      this.customDialog = pageParam.customDialog;
      var customDialog = this.customDialog;
      var mapParam = '';
      if (pageParam.param != undefined) {
        mapParam = JSON.stringify(pageParam.param);
        mapParam = mapParam.substring(1, mapParam.length - 1);
      }
      var requestType = customDialog.dsType == 'dataSource' ? 'GET' : customDialog.requestType ? customDialog.requestType : 'POST';
      var url = '${form}/form/customDialog/v1/getTreeData?alias=' + pageParam.alias + '&mapParam=' + mapParam;
      var paramsObj = {};
      if (customDialog.dsType != 'dataSource') {
        url = customDialog.url;
        var templatePa = customDialog.dataParam;
        let ctx = {};
        if (customDialog.conditionfield) {
          var conditions = JSON.parse(customDialog.conditionfield);
          for (var i = 0; i < conditions.length; i++) {
            var con = conditions[i];
            if (requestType == 'POST') {
              if (templatePa) {
                // templatePa = templatePa.replace(
                //   new RegExp('\\{' + con.field + '\\}', 'g'),
                //   con.defaultValue
                // )
                ctx[con.field] = con.defaultValue;
              } else {
                paramsObj[con.field] = con.defaultValue;
              }
            } else {
              var ljChar = url.indexOf('?') == -1 ? '?' : '&';
              url = url + ljChar + con.field + '=' + con.defaultValue;
            }
          }
          // 添加用户id 岗位id 组织id
          try {
            if (this.$requestConfig.getUserId()) {
              ctx.userId = this.$requestConfig.getUserId();
            }
            if (this.$requestConfig.getOrgId()) {
              ctx.orgId = this.$requestConfig.getOrgId();
            }
            if (this.$requestConfig.getPostId()) {
              ctx.postId = this.$requestConfig.getPostId();
            }
          } catch (e) {
            console.log(this.$t('ht.customDialog.getIdError'), e);
          }
          if (templatePa) {
            templatePa = utils["a" /* default */].parseExp(templatePa, ctx);
            paramsObj = JSON.parse(templatePa);
          }
        }
      }
      var requestParams = {};
      requestParams.requestType = requestType;
      requestParams.url = url;
      requestParams.paramsObj = paramsObj;
      this.searchTree(requestParams);
      this.customDialogShowTree = true;
    },
    //树形查询
    searchTree(requestParams) {
      const this_ = this;
      this.getTreeListJson(requestParams).then(function (response) {
        //显示字段配置
        let displayfield = JSON.parse(this_.customDialog.displayfield);
        this_.displayField = displayfield;
        //把对话框配置的显示字段显示名称赋值给树形的显示值
        this_.defaultProps.label = displayfield.displayName;
        this_.treeList = response;
        //得到要加载树的信息
        this_.props1 = this_.toTreeData(response, displayfield.id, displayfield.pid, displayfield.displayName, displayfield.pvalue ? displayfield.pvalue : 0);
      });
    },
    //加载树的信息
    toTreeData(data, id, pid, name, pvalue) {
      // 建立个树形结构,需要定义个最顶层的父节点，pvalue是0
      return this.translateDataToTree(data, pid, id, name, pvalue);
    },
    translateDataToTree(data, pid, id, name, pvalue) {
      //把树数据有子节点的数据全部过滤掉（只留父节点的数据）
      let parents = data.filter(value => value[id] == value[pid] || value[pid] == null || value[pid] == pvalue);
      if (!parents) {
        parents = data.filter(value => value[pid] !== 'undefined' && value[pid] != null && value[id] != value[pid]);
      }
      return parents;
    },
    loadTree(node, resolve) {
      if (node) {
        let this_ = this;
        let displayField = this_.customDialog.style == 2 ? this_.combiTreeDisplayField : this_.displayField;
        resolve(this.treeList.filter(value => value[displayField.pid] === node.data[displayField.id]));
        if (this.showData && this.showData.length > 0) {
          setTimeout(() => {
            this.showData.forEach(v => {
              if (v.Pid == node.key) {
                this_.$refs.tree.setChecked(v, true);
              } else {
                this_.checkNode(v, this_);
              }
            });
          }, 400);
        }
      }
    },
    afterOpen() {
      //打开对话框之后加载树
      this.loadCombinationTree();
    },
    loadCombinationTree() {
      if (this.customDialog.style != 2) {
        return;
      }
      let combinationRule = JSON.parse(this.customDialog.combinationRule);
      this.combinationRule = combinationRule;
      let treeAlias = combinationRule.leftTree;
      //获取对话框数据
      this.$requestConfig.request({
        url: '${form}/form/customDialog/v2/getByAlias?alias=' + treeAlias,
        method: 'get'
      }).then(resp => {
        if (resp && resp.value) {
          let treeDialog = resp.value;
          this.leftTreeTitle = treeDialog.name;
          let requestType = treeDialog.dsType == 'dataSource' ? 'GET' : treeDialog.requestType ? treeDialog.requestType : 'POST';
          let url = '${form}/form/customDialog/v1/getTreeData?alias=' + treeAlias + '&mapParam=';
          let paramsObj = {};
          if (treeDialog.dsType != 'dataSource') {
            url = treeDialog.url;
            let templatePa = treeDialog.dataParam;
            if (treeDialog.conditionfield) {
              let conditions = JSON.parse(treeDialog.conditionfield);
              for (let i = 0; i < conditions.length; i++) {
                let con = conditions[i];
                if (requestType == 'POST') {
                  if (templatePa) {
                    templatePa = templatePa.replace(new RegExp('\\{' + con.field + '\\}', 'g'), con.defaultValue);
                  } else {
                    paramsObj[con.field] = con.defaultValue;
                  }
                } else {
                  let ljChar = url.indexOf('?') == -1 ? '?' : '&';
                  url = url + ljChar + con.field + '=' + con.defaultValue;
                }
              }
              if (templatePa) {
                paramsObj = JSON.parse(templatePa);
              }
            }
          }
          let requestParams = {};
          requestParams.requestType = requestType;
          requestParams.url = url;
          requestParams.paramsObj = paramsObj;
          this.getTreeListJson(requestParams).then(resp => {
            if (treeDialog.displayfield && treeDialog.resultfield) {
              let displayField = JSON.parse(treeDialog.displayfield);
              let resultfield = JSON.parse(treeDialog.resultfield);
              this.defaultProps.label = displayField.displayName;
              this.treeList = resp;
              this.combiTreeDisplayField = displayField;
              this.combinationTreeData = this.toTreeData(resp, displayField.id, displayField.pid, displayField.displayName, displayField.pvalue ? displayField.pvalue : '0', resultfield);
            }
          });
        }
      });
    },
    combiTreeClick(paramObj) {
      //组合对话框点击左树
      //清空旧的
      this.combinationTreeQuerys.splice(0);
      let combinationRule = JSON.parse(this.customDialog.combinationRule);
      if (!combinationRule.rules || combinationRule.rules.length == 0) {
        return;
      }
      let rules = combinationRule.rules;
      for (let i = 0; i < rules.length; i++) {
        let value = paramObj[rules[i].treeField];
        let property = rules[i].listField;
        this.combinationTreeQuerys.push({
          property: property,
          value: value,
          group: 'treeGroup',
          operation: this.getOperation(rules[i].condition),
          relation: 'AND'
        });
      }
      this.search(true);
    },
    //获取运算符号
    getOperation(old) {
      if (!old) {
        return '';
      }
      if (old == 'EQ') {
        return 'EQUAL';
      }
      if (old == 'LK') {
        return 'LIKE';
      }
      if (old == 'LFK') {
        return 'LIKE';
      }
      if (old == 'IN') {
        return 'IN';
      }
    },
    toggleTree() {
      if (this.treeShow) {
        this.treeShow = false;
        this.transtionWidth = '0%';
        this.toggleBtn = 'el-icon-arrow-right';
      } else {
        this.treeShow = true;
        this.transtionWidth = '25%';
        this.toggleBtn = 'el-icon-arrow-left';
      }
    },
    initTemplateData() {
      let _this = this;
      const custdialog = this.custdialog.custDialog;
      if (!custdialog || !custdialog.mappingConf || custdialog.mappingConf.length < 1) {
        return;
      }
      const targetPath = this.getTargetPath(custdialog.mappingConf);
      const paths = targetPath.split('.');
      const formInst = utils["a" /* default */].getOnlineFormInstance(this);
      //如果已有数据则不需要再次初始化
      const curData = formInst['data'][paths[0]][paths[1]];
      let initType = this.initFillDataType;
      if ((!initType || initType == 'empty') && curData.length > 0 && !(curData.length == 1 && JSON.stringify(curData[0]) == '[]')) {
        return;
      } else if (initType == 'cover') {
        formInst['data'][paths[0]][paths[1]] = [];
      }
      const loading = this.$loading({
        lock: true,
        text: this.$t('ht.subTable.loadingText'),
        spinner: 'el-icon-loading',
        background: 'rgba(0, 0, 0, 0.7)'
      });
      let myCustomDialog = null;
      this.$requestConfig.request({
        url: '${form}/form/customDialog/v1/getByAlias?alias=' + custdialog.alias,
        method: 'get'
      }).then(data => {
        myCustomDialog = data;
        _this.customDialog = data;
      }, () => {
        _this.closeLoading(loading);
        _this.$message({
          message: _this.$t('ht.subTable.getCustomDialogError'),
          type: 'error'
        });
      }).then(function () {
        const currentUser = JSON.parse(sessionStorage.getItem('currentUser'));
        if (!_this.custdialog.orgConfig.code && !_this.custdialog.orgConfig.name && !_this.custdialog.orgConfig.id) {
          _this.closeLoading(loading);
          _this.toFillInitData(_this, myCustomDialog.dsType, formInst['data']);
        } else if (currentUser && localStorage.getItem('curFillOrg_' + currentUser.account)) {
          _this.closeLoading(loading);
          _this.fillOrg = JSON.parse(localStorage.getItem('curFillOrg_' + currentUser.account));
          _this.toFillInitData(_this, myCustomDialog.dsType, formInst['data']);
        } else {
          _this.$requestConfig.request({
            url: '${uc}/api/org/v1/org/getFillOrg',
            method: 'get'
          }).then(respdata => {
            _this.closeLoading(loading);
            const rep = respdata;
            if (rep.state) {
              _this.fillOrg = rep.value;
              localStorage.setItem('curFillOrg_' + currentUser.account, JSON.stringify(rep.value));
              _this.toFillInitData(_this, myCustomDialog.dsType, formInst['data']);
            } else {
              _this.$message({
                message: rep.message,
                type: 'warning'
              });
            }
          }, () => {
            _this.closeLoading(loading);
            _this.$message({
              message: _this.$t('ht.subTable.getCurrentUserError'),
              type: 'warning'
            });
          });
        }
      });
    },
    closeLoading(loading) {
      setTimeout(function () {
        loading.close();
      }, 2000);
    },
    getTargetPath(mappingConf) {
      let target = '';
      if (mappingConf && mappingConf.length > 0) {
        mappingConf.forEach(map => {
          if (map['target'] && map['target'].length == 1 && map['target'][0]) {
            target = map['target'][0];
            return target;
          }
        });
      }
      return target;
    },
    toFillInitData(_this, dsType, curData) {
      const custdialog = this.custdialog.custDialog;
      let params = []; //绑定的表单字段
      if (custdialog.conditions) {
        //对话框按表单字段查询（参数传入的）
        let bindList = custdialog.conditions;
        if (bindList.length > 0) {
          bindList.forEach(ele => {
            //绑定表单字段
            if (ele.defaultType == '3' && ele.bind) {
              let obj = {};
              obj.field = ele.field;
              const bindArray = ele.bind.split('.');
              if (bindArray.length == 3) {
                obj.bind = curData[bindArray[1]][bindArray[2]];
                params.push(obj);
              }
            }
          });
        }
      }
      let url = '${form}/form/customDialog/v1/getListData?alias=' + custdialog.alias;
      if (params.length > 0) {
        let paStr = '';
        params.forEach(pa => {
          if (paStr) {
            paStr += ',';
          }
          paStr = paStr + '"' + pa.field + '":"' + pa.bind + '"';
        });
        url = url + '&mapParam=' + paStr;
      } else {
        url = url + '&mapParam=';
      }
      let method = 'post';
      if (this.customDialog.dsType === 'restful') {
        url = this.customDialog.url;
        method = this.customDialog.requestType;
      }
      const param = {
        pageBean: {
          page: 1,
          pageSize: 1000,
          showTotal: true
        }
      };
      _this.$requestConfig.request({
        url: url,
        method: method,
        data: param
      }).then(respdata => {
        const response = respdata;
        if (this.customDialog.dsType === 'restful') {
          if (response[this.customDialog.listKey]) {
            const rows = response[this.customDialog.listKey];
            _this.syncInitTableValue(_this.maxRow > 0 && rows.length > _this.maxRow ? rows.splice(0, _this.maxRow) : rows, dsType);
          } else if (response && response.constructor === Array) {
            const rows = response;
            _this.syncInitTableValue(_this.maxRow > 0 && rows.length > _this.maxRow ? rows.splice(0, _this.maxRow) : rows, dsType);
          }
        } else {
          if (response.rows) {
            _this.syncInitTableValue(_this.maxRow > 0 && response.rows.length > _this.maxRow ? response.rows.splice(0, _this.maxRow) : response.rows, dsType);
          }
        }
      }, () => {
        _this.$message({
          message: _this.$t('ht.subTable.getDefaultDataError'),
          type: 'error'
        });
      });
    },
    syncInitTableValue(s, dsType) {
      let custDialog = this.custdialog;
      var returnStr = JSON.parse(this.customDialog.resultfield);
      //拿到返回的字段
      var field = new Array([returnStr.length]);
      var comment = new Array([returnStr.length]);
      var str = [];
      var ids = [];
      for (var i = 0; i < returnStr.length; i++) {
        field[i] = dsType == 'dataSource' ? returnStr[i].field.toLowerCase() : returnStr[i].field;
        comment[i] = dsType == 'dataSource' ? returnStr[i].comment.toLowerCase() : returnStr[i].comment;
      }
      if (this.customDialog.selectNum === 1) {
        var temp = '';
        for (var j = 0; j < comment.length; j++) {
          let va = s[0][field[j]];
          va = typeof va == 'undefined' ? '' : va;
          temp += '"' + comment[j] + '":"' + va + '",';
        }
        if (temp != '') {
          temp = '{' + temp.substring(0, temp.length - 1) + '}';
        }
        str.push(utils["a" /* default */].parseToJson(temp));
        ids.push(s[0].id);
      } else {
        for (var l = 0; l < s.length; l++) {
          var tempL = '';
          for (var m = 0; m < comment.length; m++) {
            let va = s[l][field[m]];
            va = typeof va == 'undefined' ? '' : va;
            tempL += '"' + comment[m] + '":"' + va + '",';
          }
          if (tempL != '') {
            tempL = '{' + tempL.substring(0, tempL.length - 1) + '}';
          }
          str.push(utils["a" /* default */].parseToJson(tempL));
          ids.push(s[l].id);
        }
      }
      const formInst = utils["a" /* default */].getOnlineFormInstance(this);
      this.instId = formInst.$parent.instId;
      //处理填制部门
      let fillOrg = {};
      if (custDialog.orgConfig && custDialog.orgConfig.name && this.fillOrg.id) {
        const namePath = custDialog.orgConfig.name.split('.');
        const orgNameField = namePath[namePath.length - 1];
        fillOrg[orgNameField] = this.fillOrg.name;
        if (custDialog.orgConfig.id) {
          const idPath = custDialog.orgConfig.id.split('.');
          const orgIdField = idPath[idPath.length - 1];
          fillOrg[orgIdField] = this.fillOrg.id;
        }
        if (custDialog.orgConfig.code) {
          const codePath = custDialog.orgConfig.code.split('.');
          const orgCodeField = codePath[codePath.length - 1];
          fillOrg[orgCodeField] = this.fillOrg.code;
        }
      }
      if (custDialog.orgConfig.instId) {
        const instIdPath = custDialog.orgConfig.instId.split('.');
        const instIdField = instIdPath[instIdPath.length - 1];
        fillOrg[instIdField] = this.instId;
      }
      const returnData = str;
      const _this = this;
      returnData.forEach(row => {
        var subLineData = {};
        var targetArray = null;
        custDialog.custDialog.mappingConf.forEach(con => {
          if (con.target[0]) {
            targetArray = con.target[0].split('.');
            var from = '';
            if (_this.customDialog.dsType == 'restful') {
              from = con.from;
            } else {
              from = con.from.toLowerCase();
            }
            subLineData[targetArray[targetArray.length - 1]] = row[from];
          }
        });
        if (fillOrg && JSON.stringify(fillOrg) != '{}') {
          subLineData = {
            ...subLineData,
            ...fillOrg
          };
        }
        formInst['data'][targetArray[0]][targetArray[1]].push(subLineData);
      });
    },
    guid() {
      return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {
        var r = Math.random() * 16 | 0,
          v = c == 'x' ? r : r & 0x3 | 0x8;
        return v.toString(16);
      });
    },
    selectable(row) {
      // 获取设置的回填验证字段
      let res = this.custdialog.resultField.filter(item => item.isRepeat).map(item => item.comment);
      if (res && res.length) {
        // 获取当前弹窗要回填验证的字段code
        let innerCode = this.displayfield.filter(item => res.indexOf(item.comment) != -1).map(item => item.field);
        // 获取要回填验证的列表的字段code
        let field = this.custdialog.custDialog.mappingConf.filter(item => res.indexOf(item.from) != -1).map(item => item.target && item.target.join(','));
        let code = [];
        field.forEach(item => {
          code.push(item.split('.')[2]);
        });
        if (this.initBackFillData && this.initBackFillData.length) {
          let filledData = [];
          this.initBackFillData.forEach(item => {
            let str = '';
            code.forEach(codeitem => {
              str += item[codeitem];
            });
            filledData.push(str);
          });
          let diffStr = '';
          innerCode.forEach(codeitem => {
            diffStr += row[codeitem];
          });
          if (filledData.indexOf(diffStr) != -1) {
            if (this.customDialog.selectNum === 1) {
              //单选
              return true;
            } else {
              return false;
            }
          }
        }
      }
      if (this.customDialog.selectNum === 1) {
        //单选
        return false;
      } else {
        return true;
      }
    },
    formatDictLabel(key, index) {
      let data = this.displayfield[index].formatterData;
      let value = '';
      if (data && data.length) {
        data.forEach(item => {
          if (item.key_ == key) {
            value = item.value_;
          }
        });
      }
      return value;
    }
  }
});
// CONCATENATED MODULE: ./packages/Subtable/src/SubDialog.vue?vue&type=script&lang=js
 /* harmony default export */ var src_SubDialogvue_type_script_lang_js = (SubDialogvue_type_script_lang_js); 
// EXTERNAL MODULE: ./packages/Subtable/src/SubDialog.vue?vue&type=style&index=0&id=360d3b35&prod&lang=scss&scoped=true
var SubDialogvue_type_style_index_0_id_360d3b35_prod_lang_scss_scoped_true = __webpack_require__("f38b");

// CONCATENATED MODULE: ./packages/Subtable/src/SubDialog.vue






/* normalize component */

var SubDialog_component = normalizeComponent(
  src_SubDialogvue_type_script_lang_js,
  SubDialogvue_type_template_id_360d3b35_scoped_true_render,
  SubDialogvue_type_template_id_360d3b35_scoped_true_staticRenderFns,
  false,
  null,
  "360d3b35",
  null
  
)

/* harmony default export */ var SubDialog = (SubDialog_component.exports);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"8bdeefa2-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/Subtable/src/SubtableBackfill.vue?vue&type=template&id=1b0d2622
var SubtableBackfillvue_type_template_id_1b0d2622_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span')}
var SubtableBackfillvue_type_template_id_1b0d2622_staticRenderFns = []


// CONCATENATED MODULE: ./packages/Subtable/src/SubtableBackfill.vue?vue&type=template&id=1b0d2622

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/Subtable/src/SubtableBackfill.vue?vue&type=script&lang=js
//
//
//



/* harmony default export */ var SubtableBackfillvue_type_script_lang_js = ({
  name: 'HtSubtableBackfill',
  props: {
    customQuery: {
      type: Object,
      default: () => {
        return {};
      }
    },
    maxRow: Number,
    initFillDataType: String,
    extendProp: {
      type: Object,
      default: () => {
        return {};
      }
    }
  },
  data() {
    return {
      dataPath: []
    };
  },
  watch: {
    extendProp: function (newVal) {
      if (newVal) {
        this.initSubData();
      }
    }
  },
  mounted() {
    this.initSubData();
  },
  methods: {
    initSubData() {
      let _this = this;
      if (!this.extendProp.initFillData) {
        return;
      }
      if (this.customQuery.alias && this.customQuery.resultfield && this.customQuery.resultfield.length) {
        // 如果初始化类型是空时 此处不进行请求
        this.dataPath = this.getDataPath(this.customQuery.resultfield);
        const formInst = utils["a" /* default */].getOnlineFormInstance(this);
        if (this.dataPath && this.initFillDataType === 'empty' && formInst['data'][this.dataPath[0]][this.dataPath[1]].length) {
          return;
        }
        let params = this.prepareLoadParams(this.customQuery.conditionfield);
        const loading = this.$loading({
          lock: true,
          text: this.$t('ht.subTable.loadingText'),
          spinner: 'el-icon-loading',
          background: 'rgba(0, 0, 0, 0.7)'
        });
        services_CustomQuery.load(this.customQuery.alias, params).then(rows => {
          if (loading) {
            loading.close();
          }
          this.backfill(this.maxRow > 0 && rows.length > this.maxRow ? rows.splice(0, this.maxRow) : rows);
        }, () => {
          if (loading) {
            loading.close();
          }
        });
      }
    },
    getDataPath(data) {
      let path = [];
      data.forEach(item => {
        if (item.fieldPath) {
          let pathArr = item.fieldPath.split('.');
          if (pathArr.length > 1) {
            path = pathArr;
          }
        }
      });
      return path;
    },
    backfill(rows) {
      const formInst = utils["a" /* default */].getOnlineFormInstance(this);
      if (this.customQuery.resultfield) {
        if (this.initFillDataType === 'cover') {
          formInst['data'][this.dataPath[0]][this.dataPath[1]] = [];
        }
        rows.forEach(item => {
          let subLineData = {};
          let targetArray = null;
          this.customQuery.resultfield.forEach(sub => {
            if (sub.fieldPath) {
              targetArray = sub.fieldPath.split('.');
              subLineData[targetArray[targetArray.length - 1]] = !utils["a" /* default */].isEmpty(item[sub.field]) ? item[sub.field] : '';
            }
          });
          if (Object.keys(subLineData).length) {
            // 回填时默认展开逻辑添加
            subLineData.sub_guid = this.guid();
            this.$root.$emit('add-new-collapse-item', subLineData.sub_guid);
            formInst['data'][targetArray[0]][targetArray[1]].push(subLineData);
          }
        });
      }
    },
    guid() {
      return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {
        var r = Math.random() * 16 | 0,
          v = c == 'x' ? r : r & 0x3 | 0x8;
        return v.toString(16);
      });
    },
    // 准备查询参数
    prepareLoadParams(condition) {
      let params = {};
      if (condition && condition.length) {
        const formInst = utils["a" /* default */].getOnlineFormInstance(this);
        condition.forEach(item => {
          if (item.fieldPath) {
            let arr = item.fieldPath.split('.');
            if (!utils["a" /* default */].isEmpty(formInst[arr[0]][arr[1]][arr[2]])) params[item.field] = formInst[arr[0]][arr[1]][arr[2]];
          }
        });
      }
      return params;
    }
  }
});
// CONCATENATED MODULE: ./packages/Subtable/src/SubtableBackfill.vue?vue&type=script&lang=js
 /* harmony default export */ var src_SubtableBackfillvue_type_script_lang_js = (SubtableBackfillvue_type_script_lang_js); 
// CONCATENATED MODULE: ./packages/Subtable/src/SubtableBackfill.vue





/* normalize component */

var SubtableBackfill_component = normalizeComponent(
  src_SubtableBackfillvue_type_script_lang_js,
  SubtableBackfillvue_type_template_id_1b0d2622_render,
  SubtableBackfillvue_type_template_id_1b0d2622_staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* harmony default export */ var SubtableBackfill = (SubtableBackfill_component.exports);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"8bdeefa2-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/Subtable/src/SubPagination.vue?vue&type=template&id=8607c506
var SubPaginationvue_type_template_id_8607c506_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-pagination',{attrs:{"current-page":_vm.currentPage,"page-sizes":_vm.pageSizes,"page-size":_vm.pageSize,"layout":_vm.layout,"hide-on-single-page":_vm.hideOnSinglePage,"total":_vm.total},on:{"size-change":_vm.handleSizeChange,"current-change":_vm.handleCurrentChange}})}
var SubPaginationvue_type_template_id_8607c506_staticRenderFns = []


// CONCATENATED MODULE: ./packages/Subtable/src/SubPagination.vue?vue&type=template&id=8607c506

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/Subtable/src/SubPagination.vue?vue&type=script&lang=js
//
//
//
//
//
//
//
//
//
//
//
//


/* harmony default export */ var SubPaginationvue_type_script_lang_js = ({
  name: 'HtSubPagination',
  props: {
    currentPage: {
      type: Number,
      default: 1
    },
    layout: {
      type: String,
      default: 'total, sizes, prev, pager, next, jumper'
    },
    pageSizes: {
      type: Array,
      default: function () {
        return [15, 50, 100, 200, 300];
      }
    },
    pageSize: {
      type: Number,
      default: 15
    },
    hideOnSinglePage: {
      type: Boolean,
      default: false
    },
    rows: {
      type: Array,
      default: function () {
        return [];
      }
    },
    dataSubname: {
      type: String,
      required: true
    }
  },
  data() {
    return {
      myCurrentPage: 1,
      myPageSize: 100,
      total: 0,
      oldTotal: 0
    };
  },
  watch: {
    currentPage: {
      handler: function (newVal) {
        this.myCurrentPage = newVal;
      },
      immediate: true
    },
    pageSize: {
      handler: function (newVal) {
        this.myPageSize = newVal;
      },
      immediate: true
    },
    rows: {
      handler: function (newVal) {
        if (!newVal || newVal.constructor != Array) {
          throw this.$t('ht.subTable.notArrayError');
        }
        if (newVal.length > 0) {
          var obj = SubPagination["a" /* default */]._map.get(this.dataSubname);
          if (obj && obj.rows.length == 0) this.paginationChange();
        }
        // 子表数据变化时更新分页总数
        this.total = newVal.length;
        if (this.total == 0) {
          // 清空子表数据时将子表页码重置为第一页
          this.handleCurrentChange(1);
        } else if (this.total > 0) {
          const pageOffset = SubPagination["a" /* default */].getPageOffset(this.dataSubname, this);
          const currentPage = Math.ceil((pageOffset + this.pageSize) / this.pageSize);
          if (this.total === pageOffset && pageOffset !== 0) {
            this.handleCurrentChange(currentPage - 1);
          }
          //如果添加行，新增页，则跳转到最后一页
          if (this.oldTotal > 0 && this.total == this.oldTotal + 1 && this.oldTotal % this.pageSize == 0) {
            const lastPage = Math.ceil(this.total / this.pageSize);
            if (lastPage >= 0) {
              this.handleCurrentChange(lastPage);
              this.currentPage = lastPage;
            }
          }
        }
        this.oldTotal = this.total;
      },
      immediate: true,
      deep: true
    }
  },
  mounted() {
    this.paginationChange();
  },
  destroyed() {
    SubPagination["a" /* default */].clear(this.dataSubname);
  },
  methods: {
    paginationChange() {
      // 分页变化时，以dataPath为key设置到公共的js对象中
      SubPagination["a" /* default */].set(this.dataSubname, {
        rows: this.rows || [],
        currentPage: this.myCurrentPage,
        pageSize: this.myPageSize
      });
    },
    handleCurrentChange(val) {
      this.myCurrentPage = val;
      this.paginationChange();
    },
    handleSizeChange(val) {
      this.myPageSize = val;
      this.paginationChange();
    }
  }
});
// CONCATENATED MODULE: ./packages/Subtable/src/SubPagination.vue?vue&type=script&lang=js
 /* harmony default export */ var src_SubPaginationvue_type_script_lang_js = (SubPaginationvue_type_script_lang_js); 
// CONCATENATED MODULE: ./packages/Subtable/src/SubPagination.vue





/* normalize component */

var SubPagination_component = normalizeComponent(
  src_SubPaginationvue_type_script_lang_js,
  SubPaginationvue_type_template_id_8607c506_render,
  SubPaginationvue_type_template_id_8607c506_staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* harmony default export */ var src_SubPagination = (SubPagination_component.exports);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"8bdeefa2-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/Subtable/src/SubExportDialog.vue?vue&type=template&id=85893d6a&scoped=true
var SubExportDialogvue_type_template_id_85893d6a_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dropdown',{attrs:{"trigger":"click"},on:{"command":_vm.handleCommand}},[_c('span',{staticClass:"el-dropdown-link export_link"},[_c('ht-icon',{attrs:{"name":"export"}}),_vm._v("\n    "+_vm._s(_vm.$t('ht.subTable.subTableExport'))+"\n  ")],1),_c('el-dropdown-menu',{attrs:{"slot":"dropdown"},slot:"dropdown"},[_c('el-dropdown-item',{attrs:{"command":"current"}},[_vm._v("\n      "+_vm._s(_vm.$t('ht.subTable.currentPageData'))+"\n    ")]),_c('el-dropdown-item',{attrs:{"command":"all"}},[_vm._v("\n      "+_vm._s(_vm.$t('ht.subTable.allData'))+"\n    ")])],1)],1)}
var SubExportDialogvue_type_template_id_85893d6a_scoped_true_staticRenderFns = []


// CONCATENATED MODULE: ./packages/Subtable/src/SubExportDialog.vue?vue&type=template&id=85893d6a&scoped=true

// EXTERNAL MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/Subtable/src/SubExportDialog.vue?vue&type=script&lang=js
var SubExportDialogvue_type_script_lang_js = __webpack_require__("d82d");

// CONCATENATED MODULE: ./packages/Subtable/src/SubExportDialog.vue?vue&type=script&lang=js
 /* harmony default export */ var src_SubExportDialogvue_type_script_lang_js = (SubExportDialogvue_type_script_lang_js["a" /* default */]); 
// EXTERNAL MODULE: ./packages/Subtable/src/SubExportDialog.vue?vue&type=style&index=0&id=85893d6a&prod&lang=scss&scoped=true
var SubExportDialogvue_type_style_index_0_id_85893d6a_prod_lang_scss_scoped_true = __webpack_require__("9c6b");

// CONCATENATED MODULE: ./packages/Subtable/src/SubExportDialog.vue






/* normalize component */

var SubExportDialog_component = normalizeComponent(
  src_SubExportDialogvue_type_script_lang_js,
  SubExportDialogvue_type_template_id_85893d6a_scoped_true_render,
  SubExportDialogvue_type_template_id_85893d6a_scoped_true_staticRenderFns,
  false,
  null,
  "85893d6a",
  null
  
)

/* harmony default export */ var SubExportDialog = (SubExportDialog_component.exports);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"8bdeefa2-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/Subtable/src/SubImportDialog.vue?vue&type=template&id=58936a44&scoped=true
var SubImportDialogvue_type_template_id_58936a44_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:"import-container"},[_c('el-button',{staticClass:"import-btn",attrs:{"type":"text","size":"mini"},on:{"click":function($event){_vm.dialogVisible = true}}},[_c('ht-icon',{attrs:{"name":"import"}}),_vm._v("\n    "+_vm._s(_vm.$t('ht.subTable.subTableImport'))+"\n  ")],1),_c('el-button',{staticClass:"download-btn",attrs:{"type":"text","size":"mini"},on:{"click":_vm.exportFormSub}},[_c('ht-icon',{attrs:{"name":"download"}}),_vm._v("\n    "+_vm._s(_vm.$t('ht.subTable.template'))+"\n  ")],1),_c('el-dialog',{attrs:{"visible":_vm.dialogVisible,"width":"600px","title":_vm.$t('ht.subTable.importDialogTitle'),"append-to-body":"","close-on-click-modal":false},on:{"update:visible":function($event){_vm.dialogVisible=$event}}},[_c('el-form',{directives:[{name:"form",rawName:"v-form",value:({ inputsDisplay: 'block' }),expression:"{ inputsDisplay: 'block' }"}],attrs:{"label-width":"100px","label-position":"left"}},[_c('el-form-item',{attrs:{"label":((_vm.$t('ht.subTable.importFile')) + "：")}},[_c('input',{ref:"selectFile",attrs:{"type":"file","accept":"application/vnd.ms-excel, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"},on:{"change":_vm.fileChange}})]),_c('el-form-item',{attrs:{"label":((_vm.$t('ht.subTable.importModel')) + "：")}},[_c('ht-radio',{attrs:{"options":_vm.modeOptions,"props":{ key: 'mode', value: 'desc' }},model:{value:(_vm.mode),callback:function ($$v) {_vm.mode=$$v},expression:"mode"}})],1),(_vm.importRows && _vm.importRows.length > 0)?_c('el-tag',{staticClass:"read-success__label",attrs:{"type":"warning"}},[_vm._v("\n        "+_vm._s(_vm.$t('ht.subTable.hasRead'))+"\n        "),_c('b',[_vm._v(_vm._s(_vm.importRows.length))]),_vm._v("\n        "+_vm._s(_vm.$t('ht.subTable.strip'))+_vm._s(_vm.$t('ht.subTable.data'))+"，\n        "),_c('a',{on:{"click":function($event){_vm.showRowData = !_vm.showRowData}}},[_vm._v("\n          "+_vm._s(_vm.$t('ht.subTable.checkDetail'))+"\n        ")]),_vm._v("\n        。\n      ")]):_vm._e(),(_vm.showRowData)?_c('pre',{staticClass:"import-rows__pre"},[_vm._v(_vm._s(_vm.importRows))]):_vm._e()],1),_c('span',{staticClass:"dialog-footer",attrs:{"slot":"footer"},slot:"footer"},[_c('el-button',{attrs:{"size":"small","type":"primary","disabled":!_vm.importRows || _vm.importRows.length == 0},on:{"click":_vm.dialogConfirm}},[_vm._v("\n        "+_vm._s(_vm.$t('ht.common.confirm'))+"\n      ")]),_c('el-button',{attrs:{"size":"small"},on:{"click":function($event){_vm.dialogVisible = false}}},[_vm._v("\n        "+_vm._s(_vm.$t('ht.common.cancle'))+"\n      ")])],1)],1)],1)}
var SubImportDialogvue_type_template_id_58936a44_scoped_true_staticRenderFns = []


// CONCATENATED MODULE: ./packages/Subtable/src/SubImportDialog.vue?vue&type=template&id=58936a44&scoped=true

// EXTERNAL MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/Subtable/src/SubImportDialog.vue?vue&type=script&lang=js
var SubImportDialogvue_type_script_lang_js = __webpack_require__("248e");

// CONCATENATED MODULE: ./packages/Subtable/src/SubImportDialog.vue?vue&type=script&lang=js
 /* harmony default export */ var src_SubImportDialogvue_type_script_lang_js = (SubImportDialogvue_type_script_lang_js["a" /* default */]); 
// EXTERNAL MODULE: ./packages/Subtable/src/SubImportDialog.vue?vue&type=style&index=0&id=58936a44&prod&lang=scss&scoped=true
var SubImportDialogvue_type_style_index_0_id_58936a44_prod_lang_scss_scoped_true = __webpack_require__("0b00");

// CONCATENATED MODULE: ./packages/Subtable/src/SubImportDialog.vue






/* normalize component */

var SubImportDialog_component = normalizeComponent(
  src_SubImportDialogvue_type_script_lang_js,
  SubImportDialogvue_type_template_id_58936a44_scoped_true_render,
  SubImportDialogvue_type_template_id_58936a44_scoped_true_staticRenderFns,
  false,
  null,
  "58936a44",
  null
  
)

/* harmony default export */ var SubImportDialog = (SubImportDialog_component.exports);
// CONCATENATED MODULE: ./packages/Subtable/index.js





SubDialog.install = function (Vue) {
  Vue.component(SubDialog.name, SubDialog);
};
SubtableBackfill.install = function (Vue) {
  Vue.component(SubtableBackfill.name, SubtableBackfill);
};
src_SubPagination.install = function (Vue) {
  Vue.component(src_SubPagination.name, src_SubPagination);
};
SubExportDialog.install = function (Vue) {
  Vue.component(SubExportDialog.name, SubExportDialog);
};
SubImportDialog.install = function (Vue) {
  Vue.component(SubImportDialog.name, SubImportDialog);
};

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"8bdeefa2-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/TemplatePreview/src/TemplatePreview.vue?vue&type=template&id=726d533d&scoped=true
var TemplatePreviewvue_type_template_id_726d533d_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:"template-preview-container",attrs:{"name":"data-view"}},[(_vm.html)?_c('span',{staticClass:"template-content"},[(_vm.showDateView)?_c('div',{staticClass:"data_view"},[_c('ht-dataview-runtime-template',{key:_vm.refreshTime,staticClass:"data-preview-wrap",attrs:{"template-key":_vm.templateKey,"html":_vm.html,"search-form":_vm.searchForm,"template-info":_vm.templateInfo,"single":_vm.single,"task-type":_vm.taskType,"is-join-flow":_vm.isJoinFlow,"def-key":_vm.defKey,"is-data-view":_vm.isDataView,"data-view":_vm.dataView,"current-table-height":_vm.tableHeight,"parameterq-querys":_vm.parameterqQuerys}})],1):_vm._e()]):_vm._e(),(_vm.loadedFail)?_c('div',{staticClass:"loaded-fail__div"},[_vm._v("\n    "+_vm._s(_vm.$t('ht.templatePreview.noDataText'))+"\n  ")]):_vm._e()])}
var TemplatePreviewvue_type_template_id_726d533d_scoped_true_staticRenderFns = []


// CONCATENATED MODULE: ./packages/TemplatePreview/src/TemplatePreview.vue?vue&type=template&id=726d533d&scoped=true

// EXTERNAL MODULE: ./src/mixins/templatePreview.js
var templatePreview = __webpack_require__("a8b9");

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/TemplatePreview/src/TemplatePreview.vue?vue&type=script&lang=js
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//



/* harmony default export */ var TemplatePreviewvue_type_script_lang_js = ({
  name: 'HtTemplatePreview',
  props: {
    templateKey: {
      type: String,
      required: true
    },
    parameterqQuerys: String,
    single: String,
    taskType: {
      type: String,
      default: ''
    },
    defKey: String,
    dataView: Object,
    isDataView: {
      type: Boolean,
      default: false
    },
    isJoinFlow: {
      type: Boolean,
      default: false
    },
    tableHeight: {
      type: [Number, Function]
    }
  },
  data() {
    return {
      html: '',
      templateInfo: {},
      loadedFail: false,
      refreshTime: new Date().getTime(),
      showDateView: true
    };
  },
  watch: {
    templateKey: function (newVal) {
      if (newVal) {
        this.init();
      }
    }
  },
  created() {
    this.init();
  },
  methods: {
    // 根据当前formKey初始化
    init() {
      let _me = this;
      this.$requestConfig.getBpmDataTemplateInfo({
        templateKey: this.templateKey
      }).then(result => {
        if (result.state) {
          _me.templateInfo = result.value;
          this.getTemplateDataListForm();
        } else {
          this.$message.error(result.message);
        }
      });
    },
    getTemplateDataListForm() {
      this.$requestConfig.getTemplateDataListForm(this.templateKey).then(result => {
        if (result.state) {
          this.html = result.value;
          this.customInit();
        } else {
          this.loadedFail = true;
          this.$message.error(result.message || this.$t('ht.templatePreview.errorMsg'));
        }
      });
    },
    customInit() {
      external_vue_default.a.component('ht-dataview-runtime-template', {
        mixins: [templatePreview["a" /* default */]],
        props: {
          templateInfo: {
            type: Object
          },
          single: String,
          currentTableHeight: {
            type: [Number, Function]
          },
          isDataView: {
            type: Boolean,
            default: false
          }
        },
        data() {
          return {};
        },
        template: this.html
      });
    }
  }
});
// CONCATENATED MODULE: ./packages/TemplatePreview/src/TemplatePreview.vue?vue&type=script&lang=js
 /* harmony default export */ var src_TemplatePreviewvue_type_script_lang_js = (TemplatePreviewvue_type_script_lang_js); 
// EXTERNAL MODULE: ./packages/TemplatePreview/src/TemplatePreview.vue?vue&type=style&index=0&id=726d533d&prod&lang=scss&scoped=true
var TemplatePreviewvue_type_style_index_0_id_726d533d_prod_lang_scss_scoped_true = __webpack_require__("9942");

// EXTERNAL MODULE: ./packages/TemplatePreview/src/TemplatePreview.vue?vue&type=style&index=1&id=726d533d&prod&lang=scss
var TemplatePreviewvue_type_style_index_1_id_726d533d_prod_lang_scss = __webpack_require__("f333");

// CONCATENATED MODULE: ./packages/TemplatePreview/src/TemplatePreview.vue







/* normalize component */

var TemplatePreview_component = normalizeComponent(
  src_TemplatePreviewvue_type_script_lang_js,
  TemplatePreviewvue_type_template_id_726d533d_scoped_true_render,
  TemplatePreviewvue_type_template_id_726d533d_scoped_true_staticRenderFns,
  false,
  null,
  "726d533d",
  null
  
)

/* harmony default export */ var TemplatePreview = (TemplatePreview_component.exports);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"8bdeefa2-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/TemplatePreview/src/TemplatePreviewFile.vue?vue&type=template&id=5f878c62&scoped=true
var TemplatePreviewFilevue_type_template_id_5f878c62_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.fileList.length > 0)?_c('div',[(_vm.fileList.length <= 2)?_c('div',_vm._l((_vm.showList),function(item,index){return _c('div',{key:index,staticStyle:{"margin-right":"10px"}},[_c('ht-icon',{attrs:{"name":item.icon}}),_c('el-link',{attrs:{"type":"primary"},on:{"click":_vm.openDialog}},[_vm._v("\n        "+_vm._s(item.name)+"\n      ")])],1)}),0):_c('div',[_vm._l((_vm.showList),function(item,index){return _c('span',{key:index,staticStyle:{"margin-right":"6px"}},[_c('ht-icon',{attrs:{"name":item.icon}})],1)}),_c('el-link',{attrs:{"type":"primary"},on:{"click":_vm.openDialog}},[_vm._v("\n      ..."+_vm._s(_vm.$t('ht.templatePreview.fileCount', { fileListCount: _vm.fileList.length }))+"\n    ")])],2),(_vm.dialogVisible)?_c('el-dialog',{attrs:{"title":_vm.dialogTitle,"visible":_vm.dialogVisible,"width":"40%","append-to-body":""},on:{"update:visible":function($event){_vm.dialogVisible=$event}}},[_vm._l((_vm.fileList),function(item,index){return _c('el-row',{key:index},[_c('el-col',{staticStyle:{"display":"flex","justify-content":"space-between","text-align":"left"},attrs:{"span":16}},[_c('div',{staticStyle:{"font-size":"14px","font-family":"Source Han Sans SC","font-weight":"400","line-height":"24px","color":"#333333","opacity":"1","white-space":"initial","margin-right":"16px"}},[_c('ht-icon',{attrs:{"name":item.icon}}),_vm._v("\n          "+_vm._s(item.name)+"\n        ")],1),_c('span',{staticStyle:{"margin-right":"50px","height":"18px","font-size":"12px","font-family":"Source Han Sans SC","font-weight":"400","line-height":"22px","color":"#999999","opacity":"1"}},[_vm._v("\n          "+_vm._s(item.username)+"\n        ")])]),_c('el-col',{attrs:{"span":8}},[_c('el-button',{attrs:{"size":"mini","type":"text"},on:{"click":function($event){return _vm.previewFile(item)}}},[_vm._v("\n          预览\n        ")]),_c('el-button',{attrs:{"size":"mini","type":"text"},on:{"click":function($event){return _vm.download(item.id)}}},[_vm._v("\n          下载\n        ")])],1)],1)}),_c('span',{staticClass:"dialog-footer",attrs:{"slot":"footer"},slot:"footer"},[_c('el-button',{on:{"click":function($event){_vm.dialogVisible = false}}},[_vm._v("取 消")]),_c('el-button',{attrs:{"type":"primary"},on:{"click":function($event){_vm.dialogVisible = false}}},[_vm._v("\n        确 定\n      ")])],1)],2):_vm._e()],1):_vm._e()}
var TemplatePreviewFilevue_type_template_id_5f878c62_scoped_true_staticRenderFns = []


// CONCATENATED MODULE: ./packages/TemplatePreview/src/TemplatePreviewFile.vue?vue&type=template&id=5f878c62&scoped=true

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/TemplatePreview/src/TemplatePreviewFile.vue?vue&type=script&lang=js
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//

const {
  saveAs: TemplatePreviewFilevue_type_script_lang_js_saveAs
} = __webpack_require__("9588");
/* harmony default export */ var TemplatePreviewFilevue_type_script_lang_js = ({
  name: 'HtTemplatePreviewFile',
  props: ['value'],
  data() {
    return {
      fileList: [],
      showList: [],
      dialogVisible: false,
      dialogTitle: ''
    };
  },
  watch: {
    value() {
      this.loadFile();
    }
  },
  mounted() {
    this.loadFile();
  },
  methods: {
    openDialog() {
      this.dialogTitle = `附件(${this.fileList.length})个`;
      this.dialogVisible = true;
    },
    download(fileId) {
      this.$requestConfig.download(fileId).then(({
        data,
        headers
      }) => {
        if (data && headers) {
          // 附件下载
          const fileName = decodeURIComponent(headers['content-disposition'].split(';')[1].split('filename=')[1]);
          const blob = new Blob([data]);
          TemplatePreviewFilevue_type_script_lang_js_saveAs(blob, fileName);
        }
      }).catch(err => {
        this.$message.error(`附件下载失败：${err}`);
      });
    },
    previewFile(file) {
      this.$preview(file);
    },
    loadFile() {
      this.fileList = [];
      if (this.value) {
        let file = JSON.parse(this.value);
        for (let i = 0; i < file.length; i++) {
          let item = file[i].response;
          let obj = {
            id: item.fileId,
            name: item.fileName,
            username: item.username
          };
          let exe = item.fileName.substring(item.fileName.lastIndexOf('.') + 1);
          let icon = '';
          if (exe == 'ppt' || exe == 'pptx') {
            icon = 'ppt';
          } else if (exe == 'doc' || exe == 'docx') {
            icon = 'word';
          } else if (exe == 'xls' || exe == 'xlsx') {
            icon = 'excel';
          } else {
            icon = 'file';
          }
          obj.icon = icon;
          obj.response = item;
          this.fileList.push(obj);
          if (i < 3) {
            this.showList.push(obj);
          }
        }
      }
    }
  }
});
// CONCATENATED MODULE: ./packages/TemplatePreview/src/TemplatePreviewFile.vue?vue&type=script&lang=js
 /* harmony default export */ var src_TemplatePreviewFilevue_type_script_lang_js = (TemplatePreviewFilevue_type_script_lang_js); 
// CONCATENATED MODULE: ./packages/TemplatePreview/src/TemplatePreviewFile.vue





/* normalize component */

var TemplatePreviewFile_component = normalizeComponent(
  src_TemplatePreviewFilevue_type_script_lang_js,
  TemplatePreviewFilevue_type_template_id_5f878c62_scoped_true_render,
  TemplatePreviewFilevue_type_template_id_5f878c62_scoped_true_staticRenderFns,
  false,
  null,
  "5f878c62",
  null
  
)

/* harmony default export */ var TemplatePreviewFile = (TemplatePreviewFile_component.exports);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"8bdeefa2-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/TemplatePreview/src/TemplatePreviewImage.vue?vue&type=template&id=3f7635cf&scoped=true
var TemplatePreviewImagevue_type_template_id_3f7635cf_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.imageList.length > 0)?_c('div',[_vm._l((_vm.showImage),function(item,index){return _c('span',{key:index,staticStyle:{"margin-right":"10px"}},[_c('el-image',{style:(_vm.imageStyle),attrs:{"src":item,"preview-src-list":_vm.imageList}},[_c('div',{staticClass:"image-slot",attrs:{"slot":"error"},slot:"error"},[_c('i',{staticClass:"el-icon-picture-outline"})])])],1)}),(_vm.imageList.length > 3)?_c('span',{staticStyle:{"width":"47px","height":"20px","font-size":"14px","font-family":"Source Han Sans SC","font-weight":"400","line-height":"22px","color":"#333333","opacity":"1","margin-left":"-10px"}},[_vm._v("\n      ..."+_vm._s(_vm.$t('ht.templatePreview.imageCount', {
          imageListCount: _vm.imageList.length,
        }))+"\n    ")]):_vm._e()],2):_vm._e()])}
var TemplatePreviewImagevue_type_template_id_3f7635cf_scoped_true_staticRenderFns = []


// CONCATENATED MODULE: ./packages/TemplatePreview/src/TemplatePreviewImage.vue?vue&type=template&id=3f7635cf&scoped=true

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/TemplatePreview/src/TemplatePreviewImage.vue?vue&type=script&lang=js
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//

/* harmony default export */ var TemplatePreviewImagevue_type_script_lang_js = ({
  name: 'HtTemplatePreviewImage',
  props: ['value'],
  data() {
    return {
      imageList: [],
      showImage: []
    };
  },
  computed: {
    imageStyle() {
      let style = {
        width: '48px',
        height: '48px'
      };
      if (this.imageList > 2) {
        style = {
          width: '36px',
          height: '36px'
        };
      }
      return style;
    }
  },
  watch: {
    value() {
      this.loadImg();
    }
  },
  mounted() {
    this.loadImg();
  },
  methods: {
    loadImg() {
      this.imageList = [];
      if (this.value) {
        let file = JSON.parse(this.value);
        for (let i = 0; i < file.length; i++) {
          let item = file[i];
          let url = this.$requestConfig.portalUrl + '/system/file/v1/getImage?fileId=' + item.response.fileId;
          this.imageList.push(url);
          if (i < 3) {
            this.showImage.push(url);
          }
        }
      }
    }
  }
});
// CONCATENATED MODULE: ./packages/TemplatePreview/src/TemplatePreviewImage.vue?vue&type=script&lang=js
 /* harmony default export */ var src_TemplatePreviewImagevue_type_script_lang_js = (TemplatePreviewImagevue_type_script_lang_js); 
// CONCATENATED MODULE: ./packages/TemplatePreview/src/TemplatePreviewImage.vue





/* normalize component */

var TemplatePreviewImage_component = normalizeComponent(
  src_TemplatePreviewImagevue_type_script_lang_js,
  TemplatePreviewImagevue_type_template_id_3f7635cf_scoped_true_render,
  TemplatePreviewImagevue_type_template_id_3f7635cf_scoped_true_staticRenderFns,
  false,
  null,
  "3f7635cf",
  null
  
)

/* harmony default export */ var TemplatePreviewImage = (TemplatePreviewImage_component.exports);
// CONCATENATED MODULE: ./packages/TemplatePreview/index.js



TemplatePreview.install = function (Vue) {
  Vue.component(TemplatePreview.name, TemplatePreview);
};
TemplatePreviewFile.install = function (Vue) {
  Vue.component(TemplatePreviewFile.name, TemplatePreviewFile);
};
TemplatePreviewImage.install = function (Vue) {
  Vue.component(TemplatePreviewImage.name, TemplatePreviewImage);
};

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"8bdeefa2-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/QuerySqlPreview/src/QuerySqlPreview.vue?vue&type=template&id=644815a2&scoped=true
var QuerySqlPreviewvue_type_template_id_644815a2_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:"data-preview-container",attrs:{"name":"online-form"}},[_c('el-row',{staticClass:"top-title__row"},[_c('h3',{staticClass:"top-title"},[_vm._v(_vm._s(_vm.queryView.name ? _vm.queryView.name : ''))])]),(_vm.html)?[_c('ht-querysql-runtime-template',{staticClass:"data-preview-wrap",attrs:{"sql-alias":_vm.sqlAlias,"alias":_vm.alias,"single":_vm.single,"search-form":_vm.searchForm,"query-view":_vm.queryView}})]:_vm._e(),(_vm.loadedFail)?_c('div',{staticClass:"loaded-fail__div"},[_vm._v("\n    "+_vm._s(_vm.alias)+_vm._s(_vm.$t('ht.preview.querySqlTip'))+"\n  ")]):_vm._e()],2)}
var QuerySqlPreviewvue_type_template_id_644815a2_scoped_true_staticRenderFns = []


// CONCATENATED MODULE: ./packages/QuerySqlPreview/src/QuerySqlPreview.vue?vue&type=template&id=644815a2&scoped=true

// EXTERNAL MODULE: ./src/mixins/querySqlPreview.js
var querySqlPreview = __webpack_require__("b173");

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/QuerySqlPreview/src/QuerySqlPreview.vue?vue&type=script&lang=js
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//



/* harmony default export */ var QuerySqlPreviewvue_type_script_lang_js = ({
  name: 'HtQuerySqlPreview',
  props: {
    viewId: {
      type: String,
      default: ''
    }
  },
  data() {
    return {
      queryView: {},
      displayFields: [],
      html: '',
      alarmSettingMap: {},
      summaryTypeMap: {},
      loadedFail: false,
      sqlAlias: '',
      alias: ''
    };
  },
  watch: {
    viewId: function (newVal) {
      if (newVal) {
        this.init();
      }
    }
  },
  created() {
    this.init();
  },
  methods: {
    // 根据当前formKey初始化
    init() {
      let _me = this;
      this.$requestConfig.getQuerySqlView(this.viewId).then(result => {
        if (result) {
          _me.queryView = result;
          _me.sqlAlias = result.sqlAlias;
          _me.alias = result.alias;
          _me.html = result.template;
          this.customInit();
        } else {
          this.loadedFail = true;
        }
      }).finally(() => {});
    },
    customInit() {
      external_vue_default.a.component('ht-querysql-runtime-template', {
        mixins: [querySqlPreview["a" /* default */]],
        props: {
          single: String,
          sqlAlias: String,
          alias: String,
          queryView: Object
        },
        data() {
          return {};
        },
        template: this.html
      });
    }
  }
});
// CONCATENATED MODULE: ./packages/QuerySqlPreview/src/QuerySqlPreview.vue?vue&type=script&lang=js
 /* harmony default export */ var src_QuerySqlPreviewvue_type_script_lang_js = (QuerySqlPreviewvue_type_script_lang_js); 
// EXTERNAL MODULE: ./packages/QuerySqlPreview/src/QuerySqlPreview.vue?vue&type=style&index=0&id=644815a2&prod&lang=scss&scoped=true
var QuerySqlPreviewvue_type_style_index_0_id_644815a2_prod_lang_scss_scoped_true = __webpack_require__("be8d");

// CONCATENATED MODULE: ./packages/QuerySqlPreview/src/QuerySqlPreview.vue






/* normalize component */

var QuerySqlPreview_component = normalizeComponent(
  src_QuerySqlPreviewvue_type_script_lang_js,
  QuerySqlPreviewvue_type_template_id_644815a2_scoped_true_render,
  QuerySqlPreviewvue_type_template_id_644815a2_scoped_true_staticRenderFns,
  false,
  null,
  "644815a2",
  null
  
)

/* harmony default export */ var QuerySqlPreview = (QuerySqlPreview_component.exports);
// CONCATENATED MODULE: ./packages/QuerySqlPreview/index.js

QuerySqlPreview.install = function (Vue) {
  Vue.component(QuerySqlPreview.name, QuerySqlPreview);
};
/* harmony default export */ var packages_QuerySqlPreview = (QuerySqlPreview);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"8bdeefa2-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/BatchSaveDialog/src/BatchSaveDialog.vue?vue&type=template&id=3fda3444&scoped=true
var BatchSaveDialogvue_type_template_id_3fda3444_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{staticClass:"manage-dialog__wrap",attrs:{"title":_vm.title,"visible":_vm.dialogVisible,"before-close":_vm.handleClose,"close-on-click-modal":false,"append-to-body":true,"top":"6vh"},on:{"update:visible":function($event){_vm.dialogVisible=$event}}},[(_vm.dialogVisible)?_c('batch-save-dialog-show-detail',{ref:"customDialogShowDetail",attrs:{"alias":_vm.alias,"custom-dialog":_vm.customDialog},on:{"orgRowClick":_vm.orgRowClick}}):_vm._e(),_c('div',{staticClass:"dialog-footer",attrs:{"slot":"footer"},slot:"footer"},[_c('el-button',{attrs:{"type":"primary"},on:{"click":_vm.handleSave}},[_vm._v("确 定")]),_c('el-button',{on:{"click":_vm.handleClose}},[_vm._v("取 消")])],1)],1)}
var BatchSaveDialogvue_type_template_id_3fda3444_scoped_true_staticRenderFns = []


// CONCATENATED MODULE: ./packages/BatchSaveDialog/src/BatchSaveDialog.vue?vue&type=template&id=3fda3444&scoped=true

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"8bdeefa2-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/BatchSaveDialog/src/BatchSaveDialogShowDetail.vue?vue&type=template&id=0a421ae5&scoped=true
var BatchSaveDialogShowDetailvue_type_template_id_0a421ae5_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-container',{staticClass:"dialog-el-container"},[(_vm.customDialog.style == 2)?_c('el-aside',{directives:[{name:"show",rawName:"v-show",value:(_vm.treeShow),expression:"treeShow"}],staticClass:"tree-aside",staticStyle:{"width":"23%"}},[_c('el-card',[_c('div',{staticClass:"clearfix",attrs:{"slot":"header"},slot:"header"},[_c('span',{staticStyle:{"font-size":"16px"}},[_vm._v(_vm._s(_vm.leftTreeTitle))])]),_c('el-tree',{ref:"combinationTree",attrs:{"data":_vm.combinationTreeData,"props":_vm.defaultProps,"node-key":_vm.nodeKey,"highlight-current":"","check-on-click-node":true,"lazy":"","load":_vm.loadTree},on:{"node-click":_vm.combiTreeClick}})],1)],1):_vm._e(),_c('el-main',{class:{'combination-dialog_main': _vm.customDialog.style == 2}},[_c('ht-table',{ref:"htTable",attrs:{"data":_vm.tableData,"pageResult":_vm.pageResult,"selectable":_vm.selectable,"nopagination":_vm.nopagination,"show-export":false,"show-custom-column":false,"pagerCount":5,"paginationJustify":"end"},on:{"load":_vm.loadData,"row-click":_vm.orgRowClick},scopedSlots:_vm._u([(_vm.customDialog.conditionfield.length > 0 && _vm.isShowSearch)?{key:"search",fn:function(){return [_c('ht-table-search-panel',{attrs:{"divide":_vm.customDialog.style == 2 ? 2 : 3,"isFlexLayout":false,"label-width":120},nativeOn:{"submit":function($event){$event.preventDefault();}}},_vm._l((_vm.customDialog.conditionfield.filter(
              function (d) { return d.defaultType == '1'; }
            )),function(item,$index){return _c('ht-table-search-field',{key:$index,attrs:{"type":item.type,"label":item.comment,"value-format":item.type == 'date' ? 'yyyy-MM-dd HH:mm:ss' : '',"prop":item.field,"isAlignRight":"","config":item.config,"operation":_vm.getOperation(item.condition)}})}),1)]},proxy:true}:null],null,true)},[[(!_vm.selectable)?_c('ht-table-column',{attrs:{"align":"center","width":"40"},scopedSlots:_vm._u([{key:"default",fn:function(ref){
            var row = ref.row;
            var index = ref.index;
return [_c('el-radio',{attrs:{"label":row[_vm.customDialog.displayfield[0].field] + index},model:{value:(_vm.textRadio),callback:function ($$v) {_vm.textRadio=$$v},expression:"textRadio"}})]}}],null,false,3781559584)}):_vm._e(),_c('ht-table-column',{attrs:{"type":"index","width":"50","align":"center","label":"序号"}}),_vm._l((_vm.customDialog.displayfield),function(item,$index){return _c('ht-table-column',{key:$index,attrs:{"prop":item.field,"label":item.comment,"width":item.width,"sortable":true,"show-overflow-tooltip":true}})})]],2)],1)],1)}
var BatchSaveDialogShowDetailvue_type_template_id_0a421ae5_scoped_true_staticRenderFns = []


// CONCATENATED MODULE: ./packages/BatchSaveDialog/src/BatchSaveDialogShowDetail.vue?vue&type=template&id=0a421ae5&scoped=true

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/BatchSaveDialog/src/BatchSaveDialogShowDetail.vue?vue&type=script&lang=js
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//


/* harmony default export */ var BatchSaveDialogShowDetailvue_type_script_lang_js = ({
  name: 'batch-save-dialog-show-detail',
  props: {
    //自定义对话框的别名
    alias: {
      type: String,
      required: true
    },
    //自定义对话框的配置
    customDialog: {
      type: Object,
      required: true
    }
  },
  mounted() {
    const displayfield = JSON.stringify(this.customDialog.displayfield).toLowerCase();
    this.customDialog.displayfield = JSON.parse(displayfield);
    this.afterOpen();
  },
  data() {
    return {
      customDialogPostParam: [],
      //为REST接口且请求类型是POST，条件字段是固定值的参数
      customDialogGetUrl: '',
      //为REST接口且请求类型是GET，条件字段是固定值的请求地址
      selectionRadio: [],
      //ht-table列表单选选择的数据
      textRadio: '',
      //ht-table列表数据的单选按钮
      selectable: true,
      //表示ht-table列表第一列是否显示复选框
      isShowSearch: false,
      //是否显示高级搜索
      nopagination: false,
      //是否隐藏分页组件，false：显示，true：隐藏
      tableData: [],
      //ht-table列表数据
      pageResult: {
        page: 1,
        pageSize: 20,
        total: 0
      },
      combinationTreeData: [],
      treeShow: true,
      leftTreeTitle: '',
      defaultProps: {
        childen: 'children',
        label: 'label'
      },
      nodeKey: 'ID_',
      treeList: [],
      combinationTreeQuerys: [],
      combineQueryLength: 0,
      queryParam: {}
    };
  },
  created() {
    this.initData();
  },
  methods: {
    //显示对话框
    initData() {
      this.customDialogPostParam = []; //清空为REST接口且请求类型是POST，条件字段是固定值的参数
      this.customDialogGetUrl = ''; //清空为REST接口且请求类型是GET，条件字段是固定值的请求地址
      this.selectionRadio = []; //清空ht-table列表单选选择的数据
      this.textRadio = ''; //清空ht-table列表数据单选按钮的选中状态
      this.isShowSearch = false; //不显示高级搜索
      //是否单选  1：单选；-1：多选
      if (this.customDialog.selectNum == 1) {
        this.selectable = false;
      } else {
        this.selectable = true;
      }
      //是否显示分页组件，true：显示，false：隐藏
      if (this.customDialog.needPage) {
        this.nopagination = false;
        let obj = {};
        const {
          page,
          pageSize,
          total
        } = this.pageResult;
        this.getLastKeyByPath(obj, this.customDialog.pageKey, page);
        this.getLastKeyByPath(obj, this.customDialog.pageSizeKey, pageSize);
        this.getLastKeyByPath(obj, this.customDialog.totalKey, total);
        const exp = utils["a" /* default */].parseExp(this.customDialog.dataParam, obj, true);
        if (exp) {
          const params = JSON.parse(exp);
          if (params.pageBean) {
            this.pageResult = {
              ...params.pageBean
            };
          }
        }
      } else {
        this.nopagination = true;
      }
      //判断是否有条件查询,且数据来源是数据源或者数据来源是REST接口且请求类型是POST
      if (this.customDialog.conditionfield.length > 0 && (this.customDialog.dsType == 'dataSource' || this.customDialog.dsType != 'dataSource' && this.customDialog.requestType == 'POST')) {
        for (let i = this.customDialog.conditionfield.length - 1; i >= 0; i--) {
          //判断条件字段是否是参数传入并控制器的类型为单行文本框  （controllerType有值就代表控制器的类型为单行文本框，defaultType：1：参数传入，2：固定值 ）
          if (this.customDialog.conditionfield[i].controllerType && this.customDialog.conditionfield[i].defaultType == '1') {
            this.isShowSearch = true; //显示高级搜索
            //如果条件字段为data类型，则控制器的类型为日期类型
            if (this.customDialog.conditionfield[i].dbType == 'date') {
              this.customDialog.conditionfield[i].type = 'date';
            } else {
              this.customDialog.conditionfield[i].type = 'text';
            }
          } else {
            if (this.customDialog.dsType != 'dataSource' && this.customDialog.requestType == 'POST') {
              this.customDialogPostParam.push(this.customDialog.conditionfield[i]); //为REST接口且请求类型是POST，条件字段是固定值的参数
            }
            //如果是条件字段固定值就清除
            /*  this.customDialog.conditionfield.splice(i, 1) */
          }
        }
      }
      //判断是否有条件查询,且数据来源是REST接口且请求类型是GET
      if (this.customDialog.conditionfield.length > 0 && this.customDialog.dsType != 'dataSource' && this.customDialog.requestType == 'GET') {
        for (let i = this.customDialog.conditionfield.length - 1; i >= 0; i--) {
          //判断条件字段是否是固定值（defaultType：1：参数传入，2：固定值 ）
          if (this.customDialog.conditionfield[i].defaultType == '2') {
            //判断请求地址是否带有 ？
            if (this.customDialog.url.indexOf('?') == -1) {
              //无
              this.customDialog.url = this.customDialog.url + '?' + this.customDialog.conditionfield[i].comment + '=' + this.customDialog.conditionfield[i].defaultValue;
            } else {
              //有
              this.customDialog.url = this.customDialog.url + '&' + this.customDialog.conditionfield[i].comment + '=' + this.customDialog.conditionfield[i].defaultValue;
            }
            //如果是条件字段固定值就清除
            /*  this.customDialog.conditionfield.splice(i, 1) */
            this.customDialogGetUrl = this.customDialog.url;
            //判断条件字段是否是参数传入并控制器的类型为单行文本框（controllerType有值就代表控制器的类型为单行文本框，defaultType：1：参数传入，2：固定值 ）
          } else if (this.customDialog.conditionfield[i].controllerType && this.customDialog.conditionfield[i].defaultType == '1') {
            this.isShowSearch = true; //显示高级搜索
          }
        }
      }
    },
    //加载数据
    async loadData(param, cb) {
      //构建入参的pageBean
      let obj = {};
      //当前分页信息上下文
      let _pageBeanCtx = {};
      this.getLastKeyByPath(obj, this.customDialog.pageKey, param.pageBean.page);
      this.getLastKeyByPath(obj, this.customDialog.pageSizeKey, param.pageBean.pageSize);
      this.getLastKeyByPath(obj, this.customDialog.totalKey, param.pageBean.total);
      if (param && param.pageBean) {
        param.pageBean = obj;
        _pageBeanCtx = {
          ...obj
        };
      }
      this.queryParam = param;
      //判断是否有来自组合对话框树型部分的查询参数
      if (this.combinationTreeQuerys && this.combinationTreeQuerys.length > 0) {
        if (!param.querys) {
          param.querys = [];
        }
        let searchParamLength = 0;
        for (var i = 0; i < param.querys.length; i++) {
          if (param.querys[i].group && param.querys[i].group == 'treeGroup') {
            searchParamLength = i;
            break;
          }
        }
        param.querys.slice(0, searchParamLength);
        for (let i = 0; i < this.combinationTreeQuerys.length; i++) {
          param.querys.push(this.combinationTreeQuerys[i]);
        }
      }

      // post restful接口，并且配置了post参数。则以post参数作为请求参数
      if (this.customDialog.dsType != 'dataSource' && this.customDialog.requestType == 'POST' && this.customDialog.dataParam && this.customDialog.dataParam.constructor == String) {
        let queryParams = [];
        try {
          const conditionFields = this.customDialog.conditionfield;
          // 构建查询参数
          if (conditionFields && conditionFields.constructor == Array && conditionFields.length > 0) {
            conditionFields.forEach(c => {
              // 默认按照固定值构建查询参数
              if (c.defaultType == '1') {
                let queryArr = [];
                param && param.querys && param.querys.forEach(element => {
                  let newobj = {
                    key: element.property,
                    value: element.value
                  };
                  queryArr.push(newobj);
                });
                queryParams = [...queryArr];
              } else {
                let obj = {
                  key: c.field,
                  value: c.defaultValue
                };
                queryParams.push(obj);
              }
              console.log(queryParams);
            });
          }
        } catch (e) {
          this.$message.error(`条件字段的JSON格式错误${e}`);
        }
        param = this._handlePostData(this.customDialog, queryParams, _pageBeanCtx);
        let pageBean = {};
        if (param && param.pageBean) {
          pageBean = param.pageBean;
        }
        param.pageBean = pageBean;
        // 构建上下文数据对象
        /*  let ctx = {..._pageBeanCtx}
        let pageBean = {}
        param &&
          param.querys &&
          param.querys.forEach(element => {
            ctx[element.property] = element.value
          })
        if (param && param.pageBean) {
          pageBean = param.pageBean
        }
        const exp = utils.parseExp(
          this.customDialog.dataParam,
          ctx,
          true
        )
        try {
          param = JSON.parse(exp)
          param.pageBean = pageBean
        } catch (e) {
          this.$message.error(
            `POST参数不是有效的JSON格式${this.customDialog.dataParam}`
          )
        }  */
      }

      //判断是否有条件查询,且数据来源是REST接口且请求类型是GET，并且判断参数传入是否填写了查询条件
      if (this.customDialog.conditionfield.length > 0 && this.customDialog.dsType != 'dataSource' && this.customDialog.requestType == 'GET' && param.querys && param.querys.length > 0) {
        for (let i = this.customDialog.conditionfield.length - 1; i >= 0; i--) {
          //判断条件字段是否是参数传入并控制器的类型为单行文本框（controllerType有值就代表控制器的类型为单行文本框，defaultType：1：参数传入，2：固定值 ）
          if (this.customDialog.conditionfield[i].controllerType && this.customDialog.conditionfield[i].defaultType == '1') {
            //参数传入填写了查询条件
            for (let j = 0; j < param.querys.length; j++) {
              //判断为REST接口且请求类型是GET，条件字段是固定值的请求地址是否为空
              if (this.customDialogGetUrl != '') {
                this.customDialog.url = this.customDialogGetUrl; //赋值为REST接口且请求类型是GET，条件字段是固定值的请求地址
              } else {
                this.customDialogGetUrl = this.customDialog.url;
              }
              //判断请求地址是否带有 ？
              if (this.customDialog.url.indexOf('?') == -1) {
                //无
                this.customDialog.url = this.customDialog.url + '?' + param.querys[j].property + '=' + param.querys[j].value;
              } else {
                //有
                this.customDialog.url = this.customDialog.url + '&' + param.querys[j].property + '=' + param.querys[j].value;
              }
            }
          }
        }
      } else {
        //判断为REST接口且请求类型是GET，条件字段是固定值的请求地址是否为空
        if (this.customDialogGetUrl != '') {
          this.customDialog.url = this.customDialogGetUrl; //赋值为REST接口且请求类型是GET，条件字段是固定值的请求地址
        }
      }
      let queryUrl = this.customDialog.url;
      //如果自定义对话框列表查询数据不是数据源则请求方法为restful配置的请求方式
      let requestMethod = this.customDialog.requestType;
      if (this.customDialog.dsType == 'selectedApi') {
        queryUrl = '${portal}/portal/portalInterfaceManager/v1/doQuery?alias=' + this.customDialog.apiAlias;
        requestMethod = 'GET';
      } else if (this.customDialog.dsType == 'dataSource') {
        queryUrl = '${form}/form/customDialog/v1/getListData?alias=' + this.alias + '&mapParam=';
        requestMethod = 'POST';
      }

      //非分页模式查询所有
      if (this.nopagination) {
        param.pageBean.page = 1;
        param.pageBean.pageSize = -1;
      }
      //查询数据
      this.$requestConfig.request({
        url: queryUrl,
        method: requestMethod,
        data: param
      }).then(response => {
        if (this.customDialog.dsType == 'selectedApi' && response) {
          //字段名转小写
          let rows = response.constructor == Array ? response : [response];
          let newRows = [];
          if (rows && rows.length > 0) {
            for (let i = 0; i < rows.length; i++) {
              let data = rows[i];
              let keys = Object.keys(data);
              let objRows = {};
              keys.forEach(key => {
                objRows[key.toLowerCase()] = data[key];
              });
              newRows.push(objRows);
            }
          }
          if (newRows.length > 0) {
            this.tableData = newRows;
          } else {
            this.tableData = rows;
          }
          return;
        }
        //如果数据来源是REST接口，且请求类型是GET
        if (this.customDialog.dsType != 'dataSource' && this.customDialog.requestType == 'GET') {
          this.tableData = response;
          this.nopagination = true; //隐藏分页组件
        }
        //如果数据来源是REST接口且请求类型是POST  或者 是选择接口
        if (this.customDialog.dsType != 'dataSource' && this.customDialog.requestType == 'POST' || this.customDialog.dsType == 'selectedApi') {
          let rows = utils["a" /* default */].getValueByPath(response, this.customDialog.listKey);
          let newRows = [];
          if (rows && rows.length > 0) {
            for (let i = 0; i < rows.length; i++) {
              let data = rows[i];
              let keys = Object.keys(data);
              let objRows = {};
              keys.forEach(key => {
                objRows[key.toLowerCase()] = data[key];
              });
              newRows.push(objRows);
            }
          }
          if (newRows.length > 0) {
            this.tableData = newRows;
          } else {
            this.tableData = rows;
          }
          //如果有分页
          if (utils["a" /* default */].getValueByPath(response, this.customDialog.pageKey) && this.customDialog.needPage) {
            this.pageResult = {
              page: utils["a" /* default */].getValueByPath(response, this.customDialog.pageKey),
              pageSize: utils["a" /* default */].getValueByPath(response, this.customDialog.pageSizeKey),
              total: utils["a" /* default */].getValueByPath(response, this.customDialog.totalKey)
            };
            this.nopagination = false; //显示分页组件
          } else {
            this.nopagination = true; //隐藏分页组件
          }
        }
        //如果数据来源是数据源
        if (this.customDialog.dsType == 'dataSource') {
          if (response && response.rows) {
            this.tableData = response.rows;
            //如果有分页
            if (response.page) {
              this.pageResult = {
                page: response.page,
                pageSize: response.pageSize,
                total: response.total
              };
              if (this.customDialog.needPage) {
                this.nopagination = false; //显示分页组件
              } else {
                this.nopagination = true; //隐藏分页组件
              }
            } else {
              this.nopagination = true; //隐藏分页组件
            }
          } else {
            this.tableData = [];
            this.nopagination = true; //隐藏分页组件
          }
        }
      }).finally(() => cb && cb());
    },
    getLastKeyByPath(obj, path, value) {
      if (!obj || !path || path.constructor != String) {
        return;
      }
      if (!/^\w?.*[\w|\]]$/.test(path)) {
        return;
      }
      let pathAry = path.split('.');
      if (pathAry.length == 1) {
        obj[path] = value;
      } else {
        let length = pathAry.length;
        obj[pathAry[length - 1]] = value;
      }
    },
    //点击列表某一条数据时触发
    orgRowClick(row, column, event) {
      //是否单选  1：单选；-1：多选
      if (this.customDialog.selectNum === 1) {
        //选中单选按钮
        this.textRadio = event.currentTarget.children[0].children[0].children[0].__vue__.$refs.radio.value;
        this.selectionRadio = [row];
        this.$emit('orgRowClick', row);
      } else {
        //点击列表数据选中复选框
        this.$refs.htTable.$refs.htTable.toggleRowSelection(row);
      }
    },
    afterOpen() {
      //打开对话框之后加载树
      this.loadCombinationTree();
    },
    loadCombinationTree() {
      if (this.customDialog.style != 2) {
        return;
      }
      let combinationRule = JSON.parse(this.customDialog.combinationRule);
      this.combinationRule = combinationRule;
      let treeAlias = combinationRule.leftTree;
      //获取对话框数据
      this.$requestConfig.request({
        url: '${form}/form/customDialog/v1/getByAlias?alias=' + treeAlias,
        method: 'get'
      }).then(resp => {
        console.log(resp.data, 'res.data');
        let treeDialog = resp.data;
        this.leftTreeTitle = treeDialog.name;
        let url = treeDialog.url;
        //如果自定义对话框列表查询数据不是数据源则请求方法为restful配置的请求方式
        let requestType = treeDialog.requestType ? treeDialog.requestType : 'POST';
        if (treeDialog.dsType == 'selectedApi') {
          url = '${portal}/portal/portalInterfaceManager/v1/doQuery?alias=' + treeDialog.apiAlias;
          requestType = 'GET';
        } else if (treeDialog.dsType == 'dataSource') {
          url = '${form}/form/customDialog/v1/getTreeData?alias=' + treeAlias + '&mapParam=';
          requestType = 'GET';
        }
        let paramsObj = {};
        if (treeDialog.dsType != 'dataSource') {
          let templatePa = treeDialog.dataParam;
          if (treeDialog.conditionfield) {
            let conditions = JSON.parse(treeDialog.conditionfield);
            for (let i = 0; i < conditions.length; i++) {
              let con = conditions[i];
              if (requestType == 'POST') {
                if (templatePa) {
                  templatePa = templatePa.replace(new RegExp('\\{' + con.field + '\\}', 'g'), con.defaultValue);
                } else {
                  paramsObj[con.field] = con.defaultValue;
                }
              } else {
                let ljChar = url.indexOf('?') == -1 ? '?' : '&';
                url = url + ljChar + con.field + '=' + con.defaultValue;
              }
            }
            if (templatePa) {
              paramsObj = JSON.parse(templatePa);
            }
          }
        }
        let requestParams = {};
        requestParams.requestType = requestType;
        requestParams.url = url;
        requestParams.paramsObj = paramsObj;
        let query = requestParams.requestType == 'POST' ? this.$requestConfig.request({
          url: requestParams.url,
          method: 'post',
          data: requestParams.paramsObj
        }) : this.$requestConfig.request({
          url: requestParams.url,
          method: 'get'
        });
        query.then(resp => {
          resp = resp.data;
          if (treeDialog.displayfield && treeDialog.resultfield) {
            let displayField = JSON.parse(treeDialog.displayfield);
            let resultfield = JSON.parse(treeDialog.resultfield);
            this.defaultProps.label = displayField.displayName;
            this.treeList = resp;
            this.combiTreeDisplayField = displayField;
            this.combinationTreeData = this.toTreeData(resp, displayField.id, displayField.pid, displayField.displayName, displayField.pvalue ? displayField.pvalue : '0', resultfield);
          }
        });
      });
    },
    combiTreeClick(paramObj, node, nodeComponent) {
      //组合对话框点击左树
      //清空旧的
      this.combineQueryLength = this.combinationTreeQuerys.length;
      this.combinationTreeQuerys.splice(0);
      let combinationRule = JSON.parse(this.customDialog.combinationRule);
      if (!combinationRule.rules || combinationRule.rules.length === 0) {
        return;
      }
      let rules = combinationRule.rules;
      for (let i = 0; i < rules.length; i++) {
        let value = paramObj[rules[i].treeField];
        let property = rules[i].listField;
        this.combinationTreeQuerys.push({
          property: property,
          value: value,
          group: 'treeGroup',
          operation: this.getOperation(rules[i].condition),
          relation: 'AND'
        });
      }
      //this.search();

      this.loadData(this.queryParam);
    },
    //获取运算符号
    getOperation(old) {
      if (!old) {
        return '';
      } else if (old == 'EQ') {
        return 'EQUAL';
      } else if (old == 'EIC') {
        return 'EQUAL_IGNORE_CASE';
      } else if (old == 'LT') {
        return 'LESS';
      } else if (old == 'GT') {
        return 'GREAT';
      } else if (old == 'LE') {
        return 'LESS_EQUAL';
      } else if (old == 'GE') {
        return 'GREAT_EQUAL';
      } else if (old == 'NE') {
        return 'NOT_EQUAL';
      } else if (old == 'LK') {
        return 'LIKE';
      } else if (old == 'LFK') {
        return 'LEFT_LIKE';
      } else if (old == 'RHK') {
        return 'RIGHT_LIKE';
      } else if (old == 'ISNULL') {
        return 'IS_NULL';
      } else if (old == 'NOTNULL') {
        return 'NOTNULL';
      } else if (old == 'IN') {
        return 'IN';
      } else if (old == 'BETWEEN') {
        return 'BETWEEN';
      } else {
        return 'LIKE';
      }
    },
    toggleTree() {
      if (this.treeShow) {
        this.treeShow = false;
        this.transtionWidth = '0%';
        this.toggleBtn = 'el-icon-arrow-right';
      } else {
        this.treeShow = true;
        this.transtionWidth = '25%';
        this.toggleBtn = 'el-icon-arrow-left';
      }
    },
    loadTree(node, resolve) {
      if (node) {
        let this_ = this;
        let displayField = this_.customDialog.style == 2 ? this_.combiTreeDisplayField : this_.displayField;
        resolve(this.treeList.filter(value => value[displayField.pid] === node.data[displayField.id]));
        if (this.showData && this.showData.length > 0) {
          setTimeout(() => {
            this.showData.forEach(v => {
              if (v.Pid == node.key) {
                this_.$refs.tree.setChecked(v, true);
              } else {
                this_.checkNode(v, this_);
              }
            });
          }, 400);
        }
      }
    },
    toTreeData(data, id, pid, name, pvalue, returnStr) {
      // 建立个树形结构,需要定义个最顶层的父节点，pvalue是0
      //  let ztree=translateDataToTree(data,pid,id,name);
      //  function translateDataToTree(data,pid,id,name) {
      //    //把树数据有子节点的数据全部过滤掉（只留父节点的数据）
      let parents = data.filter(value => value[id] == value[pid] || value[pid] == null || value[pid] == null || value[pid] == 0);
      if (!parents) {
        parents = data.filter(value => value[pid] !== 'undefined' && value[pid] != null && value[id] != value[pid]);
      }
      return parents;
    },
    // 处理POST请求时的参数
    _handlePostData: (query, queryParams, _pageBeanCtx) => {
      if (!query.dataParam || query.dataParam.constructor != String) {
        return queryParams;
      }
      // 构建上下文数据对象
      let ctx = {
        ..._pageBeanCtx
      };
      queryParams && queryParams.forEach(element => {
        ctx[element.key] = element.value;
      });
      const exp = utils["a" /* default */].parseExp(query.dataParam, ctx);
      try {
        return JSON.parse(exp);
      } catch (e) {
        undefined.$message.error(`POST参数不是有效的JSON格式${query.dataParam}`);
      }
    }
  }
});
// CONCATENATED MODULE: ./packages/BatchSaveDialog/src/BatchSaveDialogShowDetail.vue?vue&type=script&lang=js
 /* harmony default export */ var src_BatchSaveDialogShowDetailvue_type_script_lang_js = (BatchSaveDialogShowDetailvue_type_script_lang_js); 
// EXTERNAL MODULE: ./packages/BatchSaveDialog/src/BatchSaveDialogShowDetail.vue?vue&type=style&index=0&id=0a421ae5&prod&lang=scss&scoped=true
var BatchSaveDialogShowDetailvue_type_style_index_0_id_0a421ae5_prod_lang_scss_scoped_true = __webpack_require__("c816");

// CONCATENATED MODULE: ./packages/BatchSaveDialog/src/BatchSaveDialogShowDetail.vue






/* normalize component */

var BatchSaveDialogShowDetail_component = normalizeComponent(
  src_BatchSaveDialogShowDetailvue_type_script_lang_js,
  BatchSaveDialogShowDetailvue_type_template_id_0a421ae5_scoped_true_render,
  BatchSaveDialogShowDetailvue_type_template_id_0a421ae5_scoped_true_staticRenderFns,
  false,
  null,
  "0a421ae5",
  null
  
)

/* harmony default export */ var BatchSaveDialogShowDetail = (BatchSaveDialogShowDetail_component.exports);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./packages/BatchSaveDialog/src/BatchSaveDialog.vue?vue&type=script&lang=js
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//



const {
  Base64: BatchSaveDialogvue_type_script_lang_js_Base64
} = __webpack_require__("f43e");
/* harmony default export */ var BatchSaveDialogvue_type_script_lang_js = ({
  name: 'HtBatchSaveDialog',
  components: {
    BatchSaveDialogShowDetail: BatchSaveDialogShowDetail
  },
  props: {
    custdialog: {
      type: String,
      default: ''
    }
  },
  data() {
    return {
      customDialogPostParam: [],
      //为REST接口且请求类型是POST，条件字段是固定值的参数
      customDialogGetUrl: "",
      //为REST接口且请求类型是GET，条件字段是固定值的请求地址
      selectionRadio: [],
      //ht-table列表单选选择的数据
      textRadio: "",
      //ht-table列表数据的单选按钮
      selectable: true,
      //表示ht-table列表第一列是否显示复选框
      isShowSearch: false,
      //是否显示高级搜索
      nopagination: false,
      //是否隐藏分页组件，false：显示，true：隐藏
      dialogVisible: false,
      //是否显示对话框
      tableData: [],
      //ht-table列表数据
      pageResult: {
        page: 1,
        pageSize: 20,
        total: 0
      },
      //自定义对话框的配置
      customDialog: {},
      //自定义对话框的别名
      alias: "",
      settingData: {},
      viewRow: {},
      title: "批量新增"
    };
  },
  methods: {
    //显示对话框
    showDialog(param) {
      if (!this.alias) {
        external_element_ui_["Message"].error("请先配置对话框");
        return;
      }
      this.viewRow = param;
      this.customDialogPostParam = []; //清空为REST接口且请求类型是POST，条件字段是固定值的参数
      this.customDialogGetUrl = ""; //清空为REST接口且请求类型是GET，条件字段是固定值的请求地址
      this.selectionRadio = []; //清空ht-table列表单选选择的数据
      this.textRadio = ""; //清空ht-table列表数据单选按钮的选中状态
      this.isShowSearch = false; //不显示高级搜索

      let url = '${form}/form/customDialog/v1/getByAlias?alias=' + this.alias;
      this.$requestConfig.request({
        url: url,
        method: 'get'
      }).then(customDialog => {
        //格式化对话框的显示字段、返回字段、条件字段、排序字段
        customDialog.displayfield = JSON.parse(customDialog.displayfield);
        for (let i = 0; i < customDialog.displayfield.length; i++) {
          customDialog.displayfield[i].field = customDialog.displayfield[i].field.toLowerCase();
        }
        customDialog.resultfield = JSON.parse(customDialog.resultfield);
        customDialog.sortfield = JSON.parse(customDialog.sortfield);
        customDialog.conditionfield = JSON.parse(customDialog.conditionfield);
        this.customDialog = customDialog;
        setTimeout(() => {
          this.dialogVisible = true;
        });
      });
    },
    //点击列表某一条数据时触发
    orgRowClick(row) {
      this.selectionRadio = [row];
    },
    //确定对话框
    handleSave() {
      let elTable = this.$refs.customDialogShowDetail.$refs.htTable;
      if (elTable && elTable.$refs.htTable) {
        elTable = elTable.$refs.htTable;
      }
      //多选
      if (elTable && elTable.selection && elTable.selection.length == 0 && this.customDialog.selectNum === -1) {
        external_element_ui_["Message"].error("请至少选择一条数据");
        return;
      }
      //单选
      if (this.selectionRadio == 0 && this.customDialog.selectNum === 1) {
        external_element_ui_["Message"].error("请至少选择一条数据");
        return;
      }
      if (this.customDialog.selectNum === 1) {
        this.viewRow['data'] = this.selectionRadio;
      } else {
        this.viewRow['data'] = elTable.selection;
      }
      this.$requestConfig.saveBatchSave(this.viewRow).then(res => {
        if (res.state) {
          this.$message({
            type: 'success',
            message: res.message
          });
          this.$emit('onConfirm');
        }
        this.dialogVisible = false;
      });
    },
    //关闭对话框
    handleClose() {
      this.dialogVisible = false;
    }
  },
  watch: {
    custdialog: {
      handler(val) {
        if (val) {
          this.settingData = JSON.parse(BatchSaveDialogvue_type_script_lang_js_Base64.decode(val));
        }
        if (this.settingData.custDialog.alias) {
          this.alias = this.settingData.custDialog.alias;
        }
      },
      immediate: true,
      deep: true
    }
  }
});
// CONCATENATED MODULE: ./packages/BatchSaveDialog/src/BatchSaveDialog.vue?vue&type=script&lang=js
 /* harmony default export */ var src_BatchSaveDialogvue_type_script_lang_js = (BatchSaveDialogvue_type_script_lang_js); 
// EXTERNAL MODULE: ./packages/BatchSaveDialog/src/BatchSaveDialog.vue?vue&type=style&index=0&id=3fda3444&prod&lang=scss&scoped=true
var BatchSaveDialogvue_type_style_index_0_id_3fda3444_prod_lang_scss_scoped_true = __webpack_require__("93cc");

// CONCATENATED MODULE: ./packages/BatchSaveDialog/src/BatchSaveDialog.vue






/* normalize component */

var BatchSaveDialog_component = normalizeComponent(
  src_BatchSaveDialogvue_type_script_lang_js,
  BatchSaveDialogvue_type_template_id_3fda3444_scoped_true_render,
  BatchSaveDialogvue_type_template_id_3fda3444_scoped_true_staticRenderFns,
  false,
  null,
  "3fda3444",
  null
  
)

/* harmony default export */ var BatchSaveDialog = (BatchSaveDialog_component.exports);
// CONCATENATED MODULE: ./packages/BatchSaveDialog/index.js

BatchSaveDialog.install = function (Vue) {
  Vue.component(BatchSaveDialog.name, BatchSaveDialog);
};
/* harmony default export */ var packages_BatchSaveDialog = (BatchSaveDialog);
// CONCATENATED MODULE: ./src/index.js

















































/** eip-control */






















































const HotentUi = {
  HtUrlParameter: UrlParameter,
  HtCustomComponent: CustomComponent,
  HtIframe: Iframe,
  HtHistoricalApproval: HistoricalApproval,
  version: package_0["a" /* version */],
  HtInput: Input,
  HtCheckbox: Checkbox,
  HtRadio: Radio,
  HtDate: packages_Date,
  HtTimeSelect: TimeSelect,
  HtTimePicker: TimePicker,
  HtTable: packages_Table,
  HtTableColumn: TableColumn,
  HtTableSearchPanel: TableSearchPanel,
  HtTableSearchField: TableSearchField,
  HtSelect: Select,
  HtFile: File,
  HtDemension: Demension,
  HtTree: Tree,
  HtAddQueryStrategy: AddQueryStrategy,
  HtSidebarDialog: SidebarDialog,
  Selector: Selector,
  HtRoleSelector: RoleSelector,
  HtUserSelector: UserSelector,
  HtOrgSelector: OrgSelector,
  HtJobSelector: JobSelector,
  HtPostSelector: PostSelector,
  HtDimensionSelector: DimensionSelector,
  HtFormItem: FormItem,
  HtSaveButton: SaveButton,
  HtUserDialog: UserDialog,
  HtDialog: Dialog,
  HtCustomDialog: CustomDialog,
  HtTreeDialog: TreeDialog,
  HtTreeListDialog: TreeListDialog,
  HtOrgPostDialog: OrgPostDialog,
  HtDuration: Duration,
  HtFieldTail: FieldTail,
  HtFileUpload: FileUpload,
  HtIcon: Icon,
  HtEditor: Editor,
  HtAvatarImage: Avatar,
  HtH1: HtH1,
  HtH2: HtH2,
  HtH3: HtH3,
  HtH4: HtH4,
  HtH5: HtH5,
  HtH6: HtH6,
  HtCollapse: Collapse,
  HtCollapseItem: CollapseItem,
  HtStep: packages_Step,
  HtSteps: packages_Steps,
  HtStepLayout: packages_StepLayout,
  HtDivider: Divider,
  HtTabs: packages_Tabs,
  HtAutocomplete: Autocomplete,
  HtCascader: Cascader,
  HtDatePicker: DatePicker,
  HtDictionary: Dictionary,
  HtReadonlyInput: ReadonlyInput,
  HtOnlineForm: OnlineForm,
  HtUserSelectorInput: UserSelectorInput,
  HtOrgSelectorInput: packages_OrgSelectorInput,
  HtRoleSelectorInput: RoleSelectorInput,
  HtPostSelectorInput: packages_PostSelectorInput,
  HtJobSelectorInput: JobSelectorInput,
  HtDimensionSelectorInput: DimensionSelectorInput,
  HtSwitch: Switch,
  HtTag: Tag,
  HtSelectTree: packages_SelectTree,
  HtButton: Button,
  HtImage: Image,
  HtChart: packages_Chart,
  HtMap: packages_Map,
  HtQrcode: packages_Qrcode,
  HtDataView: packages_DataView,
  HtTemplatePreview: TemplatePreview,
  HtTemplatePreviewFile: TemplatePreviewFile,
  HtTemplatePreviewImage: TemplatePreviewImage,
  HtRelevantFlow: RelevantFlow,
  HtMilepost: Milepost,
  HtText: Text,
  HtRate: Rate,
  HtSlider: Slider,
  HtTemplateForm: TemplateForm,
  HtTemplateBatchUpdateDialog: TemplateBatchUpdate,
  HtGlobalValidate: GlobalValidate,
  HtGlobalQuery: GlobalQuery,
  HtSubDialog: SubDialog,
  HtSubtableBackfill: SubtableBackfill,
  HtSubPagination: src_SubPagination,
  HtSubExportDialog: SubExportDialog,
  HtSubImportDialog: SubImportDialog,
  HtQuerySqlPreview: packages_QuerySqlPreview,
  HtTemplateFormDialog: TemplateFormDialog,
  HtTemplateIframeDialog: TemplateIframeDialog,
  HtPicture: picture,
  FlowChart: FlowChart,
  ProcessRecord: ProcessRecord,
  HtExplain: Explain,
  TemplateImportResult: TemplateImportResult,
  TemplateTaskCirculate: TemplateTaskCirculate,
  HtPostDialog: PostDialog,
  HtJobDialog: JobDialog,
  HtRoleDialog: RoleDialog,
  HtHyperlink: Hyperlink,
  HtBatchSaveDialog: packages_BatchSaveDialog
};
HotentUi.install = (Vue, opts = {}) => {
  if (!opts.smallScreenDialog) {
    opts.smallScreenDialog = false;
  }
  if (!opts.paginationBackground) {
    opts.paginationBackground = false;
  }
  if (!opts.readonlyInput) {
    opts.readonlyInput = false;
  }
  if (!opts.hideTip) {
    opts.hideTip = false;
  }
  if (!opts.requestConfig) {
    opts.requestConfig = {};
  }
  if (!opts.allPaginationJustify) {
    opts.allPaginationJustify = '';
  }
  Vue.prototype.$smallScreenDialog = opts.smallScreenDialog;
  Vue.prototype.$paginationBackground = opts.paginationBackground;
  Vue.prototype.$readonlyInput = opts.readonlyInput;
  Vue.prototype.$hideTip = opts.hideTip;
  Vue.prototype.$requestConfig = opts.requestConfig;
  Vue.prototype.$allPaginationJustify = opts.allPaginationJustify;
  Vue.prototype.$HOTENT = {
    size: opts.size || 'small'
  };
  // 图片压缩配置
  Vue.prototype.$imageCompressConfig = opts.imageCompressConfig;
  locale["a" /* default */].use(opts.locale);
  locale["a" /* default */].i18n(opts.i18n);
  Vue.use(validate["a" /* default */]);
  Vue.use(commonScripts);
  Vue.use(src_plugins_loading);
  Object.keys(HotentUi).forEach(name => {
    const component = HotentUi[name];
    component && component.name && Vue.component(component.name, component);
  });
  Vue.component('ht-vnode', {
    functional: true,
    render: (h, ctx) => {
      // 复制父组件的属性到子组件中
      let assembly = {
        ...ctx.props.vnode.componentOptions.propsData,
        ...ctx.props
      };
      delete assembly['vnode'];
      ctx.props.vnode.componentOptions.propsData = assembly;
      ctx.props.vnode.componentOptions.listeners = ctx.listeners;
      return ctx.props.vnode;
    }
  });
};
if (typeof window !== 'undefined' && window.Vue) {
  HotentUi.install(window.Vue);
}
/* harmony default export */ var src = (HotentUi);
// CONCATENATED MODULE: ./node_modules/@vue/cli-service/lib/commands/build/entry-lib.js


/* harmony default export */ var entry_lib = __webpack_exports__["default"] = (src);



/***/ }),

/***/ "fe07":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";

// EXPORTS
__webpack_require__.d(__webpack_exports__, "c", function() { return /* binding */ t; });
__webpack_require__.d(__webpack_exports__, "b", function() { return /* binding */ i18n; });

// UNUSED EXPORTS: use

// CONCATENATED MODULE: ./src/locale/lang/zh-CN.js
/* harmony default export */ var zh_CN = ({
  ht: {
    common: {
      add: '添加',
      delete: '删除',
      copy: '复制',
      seq: '序号',
      operation: '操作',
      search: '查询',
      reset: '重置',
      save: '保存',
      cancle: '取消',
      up: '上移',
      down: '下移',
      remove: '删除',
      clear: '清空',
      index: '序号',
      selected: '已选择',
      enter: '请输入',
      toSearch: '来搜索',
      errTip: '错误提示',
      warmTips: '温馨提示',
      close: '关闭',
      confirm: '确认',
      select: '请选择',
      equal: '等于',
      lessThan: '小于',
      greaterThan: '大于',
      lessThanOrEqual: '小于等于',
      notEqual: '不等于',
      like: '相似',
      left: '左',
      right: '右',
      isNull: '为空',
      notNull: '非空',
      between: '在...之间',
      in: '在...中',
      keyword: '关键字',
      content: '内容',
      day: '天',
      hour: '时',
      minute: '分',
      second: '秒',
      status: '状态',
      noMore: '没有更多了',
      searchFor: '搜索',
      return: '返回',
      tips: '提示'
    },
    tree: {
      filterText: '输入关键字进行过滤',
      collapse: '收起',
      expand: '展开',
      refresh: '刷新'
    },
    selectLang: {
      switchLang: '切换语言'
    },
    file: {
      nopreview: '没有预览权限',
      forbiddenPreview: '未上传成功的附件禁止预览',
      download: '下载',
      preview: '预览',
      sort: '排序',
      confirmDelete: '确定要删除吗?',
      fileName: '附件名称',
      fileType: '附件类型',
      fileSize: '附件大小',
      uploader: '上传人',
      accept: '支持{acceptType}格式',
      limitFileSize: '文件大小不超过{size}',
      limitCount: '文件个数不超过{limit}个',
      all: '所有格式',
      validateMsg: '请选择规定范围的文件进行上传!',
      fileDownloadError: '附件下载失败',
      confirmClear: '确定要清空吗？',
      fileAcceptType: '附件格式支持',
      fileSizeLimit: '附件大小限制：单个文件不超过',
      fileCountLimit: '附件个数限制：最多{limit}个',
      fileSizeErrorMsg: '附件的大小为{computerSize}，超过了允许的最大尺寸',
      fileLimitErrorMsg: '最多允许上传{limit}个附件',
      fileUploadErrorMsg: '附件{fileName}上传失败'
    },
    date: {
      startDate: '开始日期',
      startTime: '开始时间',
      endDate: '结束日期',
      endTime: '结束时间',
      to: '至',
      lastWeek: '最近一周',
      lastMonth: '最近一个月',
      lastThreeMonths: '最近三个月'
    },
    picture: {
      uploadButtonText: '上传',
      imgName: '图片名称',
      imgUrl: '图片地址',
      imgNamePlaceHolder: '请输入图片名称',
      imgUrlPlaceHolder: '请输入图片地址',
      uploadWebImg: '上传网络图片',
      viewOriginalImage: '查看原图',
      limitCountTip: '最多允许上传{limit}张图片',
      limitTypeTip: '请上传后缀名为jpg、png、gif、ico、jpeg类型的图片',
      onlyUploadOne: '只能上传一张图片',
      deleteTip: '确认要{clear}图片?'
    },
    addQueryStrategy: {
      title: '新建查询策略',
      strategyName: '策略名称',
      searchQuery: '查询条件',
      addSearchQuery: '添加查询条件',
      isDefault: '是否默认',
      equalIgnoreCase: '等于忽略大小写',
      errorMsg: '表单验证失败，请检查'
    },
    chart: {
      viewChart: '查看图表',
      viewData: '查看数据'
    },
    customDialog: {
      title: '动态传入参数查询',
      errorMsg: '对话框别名{alias}不存在！',
      getIdError: '获取岗位id、用户id、组织id异常',
      postRequestParamError: 'POST参数不是有效的JSON格式',
      relationSearchNotBindField: '关联查询取值参数未绑定表单字段',
      dynamicIncomingParameterQuery: '动态传入参数查询',
      searching: '查询中...',
      customDialogWarnMsg: '自定义对话框未获取到数据返回的listKey，数据加载可能产生异常。'
    },
    selector: {
      dimensionTitle: '选择维度',
      nameCode: '名称、编码',
      dialog: '对话框',
      dimensionList: '维度列表',
      jobTitle: '选择职务',
      jobList: '职务列表',
      roleTitle: '选择角色',
      orgTitle: '选择组织',
      orgDefaultPlaceholder: '名称、编码、路径',
      orgList: '组织列表',
      org: '组织',
      tactics: '策略',
      not: '无',
      MyDepartment: '我的主部门',
      MyDepartmentAndSub: '我的主部门及下属部门',
      myAllDepartment: '我的所有部门',
      myAllDepartmentAndSub: '我的所有部门及下属部门',
      notGetDepartmentData: '未获取到当前用户的部门信息，无法按照该策略加载数据。',
      postTitle: '选择岗位',
      postList: '岗位列表',
      name: '名称',
      code: '编码',
      orgName: '所属组织',
      rolePlaceholder: '角色名称、编码',
      roleList: '角色列表',
      notGetData: '未获取到数据列表，无法选择数据。',
      userAndAccount: '用户名称、账号',
      userTitle: '选择用户',
      roleName: '角色名称',
      all: '全部',
      userList: '用户列表',
      topContacts: '常用联系人',
      role: '角色'
    },
    editor: {
      errorMsg: '要使用富文本组件，必须引入wangeditor，并安装插件hotent-ui/packages/plugins/wangeditor'
    },
    explain: {
      label: '说明'
    },
    flowChart: {
      title: '流程图',
      taskApprovalDetail: '任务审批详情',
      taskName: '任务名称',
      executor: '执行人',
      candidate: '候选人',
      tooltipContent: '有资格审批的用户及用户组',
      approvalTime: '审批用时',
      opinion: '意见',
      nodeSettingDetails: '节点设置详情',
      notTask: '未产生过任务',
      tentativeCandidate: '暂定候选人',
      tentativeCandidateTip: '暂定的有审批资格的用户及用户组，实际候选人要在产生任务以后才能确定',
      notApproval: '待审批',
      commit: '提交',
      recommit: '重新提交',
      agree: '同意',
      suspend: '挂起',
      oppose: '反对',
      reject: '驳回',
      rejectToStart: '驳回到发起人',
      withdraw: '撤回',
      withdrawToPromoter: '撤回到发起人',
      countersignaturePassed: '会签通过',
      countersignatureNotPassed: '会签不通过',
      manualTermination: '人工终止',
      finish: '完成'
    },
    global: {
      errorMsg: '关联查询出错',
      validateErrorMsg: '全局校验【{name}】脚本错误',
      subTableRequired: '子表必填一条记录',
      sunTableRequired: '孙表必填一条记录'
    },
    approvalHistory: {
      approvalNode: '审批节点',
      pendingApprovers: '待审批人',
      name: '名称',
      handler: '处理人',
      handlingSituation: '处理情况',
      notRead: '待阅',
      read: '已阅',
      handleOpinion: '处理意见',
      file: '附件',
      operateTime: '操作时间',
      stayTime: '停留时长',
      lessOneMinute: '小于1分钟',
      approvalRecord: '审批记录'
    },
    iframe: {
      notUrl: '当前URL表单地址未填写。',
      errorMsg: '当前URL表单加载不正确。'
    },
    image: {
      downloadErrorMsg: '文件下载失败，请重新上传'
    },
    input: {
      serialNumberErrorMsg: '流水号生成规则字段不能绑定流水号显示字段'
    },
    map: {
      title: '地图选点',
      clearMsg: '清除地址数据',
      longitude: '经度',
      latitude: '纬度',
      nationwide: '全国',
      coordinate: '坐标',
      notMapComponent: '当前未引入地图组件，无法加载地图。'
    },
    onlineForm: {
      loadFormError: '表单加载失败,可能是表单配置发生了变化,请联系管理员...'
    },
    preview: {
      tip: '系统出错了',
      back: '返回上一级页面',
      defaultLoadingTip: '正在加载...',
      filePreview: '附件预览',
      loadError: '加载要预览的附件时出错',
      notExistMsg: '要预览的附件不存在',
      notSupported: '当前附件格式不支持预览',
      notSupportedOnlinePreview: '不支持压缩文件的在线预览',
      notSupportedPlayVideo: '不支持视频的在线播放',
      notSupportedPreview: '不支持预览',
      previewError: '预览失败',
      querySqlTip: '视图不存在...'
    },
    qrCode: {
      tip: '请绑定手机表单'
    },
    rate: {
      tip: 'HtRate组件的值必须是数字或值为数字的字符串。'
    },
    relevantFlow: {
      flowSubject: '流程主题',
      sponsor: '发起人',
      originatingTime: '发起时间',
      addFlowTitle: '添加相关流程',
      flowTitle: '流程标题',
      placeholder: '请输入流程标题',
      createTime: '创建时间',
      creator: '创建人',
      procDefName: '流程名称'
    },
    savaButton: {
      errorMsg: '有{errorLength}个字段未通过校验，请正确填写表单内容。'
    },
    select: {
      errorMsg: '多选不支持数字类型'
    },
    slider: {
      tip: '此控件不支持pc端预览，请前往移动端查看',
      errorMsg: 'HtSlider组件的值必须是数字或值为数字的字符串。'
    },
    step: {
      pre: '上一步',
      next: '下一步'
    },
    subTable: {
      errorMsg: '请选择数据回填',
      subTableError: '一对一子表只能选择一条数据',
      sunTableBackfillError: '未获取到子表的当前行索引，无法进行孙表回填',
      exceededMaximumRows: '子表数据已超过最大行数',
      sunTableExceededMaximumRows: '孙表数据已超过最大行数',
      loadingText: '正在初始化填报模板...',
      getCustomDialogError: '获取自定义对话框失败！',
      getCurrentUserError: '获取当前用户填制单位失败！',
      getDefaultDataError: '获取初始化数据失败！',
      subTableExport: '子表导出',
      currentPageData: '当前页数据',
      allData: '所有数据',
      subTableData: '子表数据',
      xlsxWarnMsg: '要使用子表导入/导出功能需要安装XLSX插件',
      exportError: '数据导出失败',
      subTableImport: '子表导入',
      template: '下载模板',
      importDialogTitle: '导入子表数据',
      importFile: '导入文件',
      importModel: '导入模式',
      hasRead: '已经读取到',
      strip: '条',
      data: '数据',
      checkDetail: '点击查看详情',
      notArrayError: 'EipSubPagination组件的rows属性只能传入数组',
      subTableTemplate: '子表模板',
      append: '追加导入',
      override: '覆盖导入',
      merge: '合并导入',
      downloadTemplateError: '模板下载失败',
      selectImportData: '请选择要导入的文件',
      cannotImport: '未获取到表单数据，无法完成导入',
      importSuccess: '导入成功！',
      importError: '数据导入失败',
      notValidExcelFile: '所选文件不是有效的Excel文件',
      cannotHaveMergedCells: 'Excel中不能有合并的单元格，请检查第{rowNum}行数据。',
      dataWrongFormat: '读取的数据格式错误。',
      upWarning: '已经是列表中第一位',
      downWarning: '已经是列表中最后一位',
      subTablePathError: '子表路径有误',
      sunTablePathError: '孙表路径有误',
      clearAllTip: '确认执行该操作?',
      cancelOperate: '已取消操作',
      deleteSunTableTip: '孙表必填，至少保留一条记录',
      deleteSubTableTip: '子表必填，至少保留一条记录。'
    },
    table: {
      customColumn: '自定义列',
      customColumnDesc: '勾选需要显示的列，设置列的宽度。',
      required: '必选',
      width: '宽度',
      restoreDefault: '恢复默认',
      baseSearch: '基础搜索',
      advanceSearch: '高级搜索',
      exportData: '导出数据',
      refresh: '刷新数据',
      cardView: '卡片视图',
      tableView: '表格视图',
      searchPlaceholder: '请输入搜索内容',
      validateErrorMsg: '有{itemsLength}个字段未通过校验，请正确填写表单内容。'
    },
    templateBatchUpdateDialog: {
      string: '字符串',
      errorMsg: '还有内容未填写。'
    },
    templateForm: {
      formContent: '表单内容'
    },
    templateImportResult: {
      title: '导入结果',
      mainKey: '主键',
      foreignKey: '外键',
      yes: '是',
      no: '否',
      validOrNot: '是否有效',
      errorInfo: '错误信息',
      duplicateOrNot: '是否重复',
      import: '导入',
      importFail: '导入失败',
      loadingText: '正在保存数据'
    },
    templatePreview: {
      noDataText: '报表不存在...',
      errorMsg: '获取表单列表模板html失败',
      fileCount: '共{fileListCount}个附件',
      imageCount: '共{ imageListCount}张',
      selectSummary: '选择汇总',
      allSummary: '全部汇总',
      currentPageSummary: '当前页汇总',
      templateTypeError: '上传模板只能是PDF格式!',
      selectUploadFile: '请选择要上传的附件',
      uploadSuccess: '上传成功',
      selectExportField: '请选择要导出的字段！',
      isFirst: '已经是列表中第一位',
      isLast: '已经是列表中最后一位',
      total: '合计',
      notExist: '此任务已被处理或不存在！',
      notSupported: '暂不支持！',
      selectLeastOneData: '请至少选中一条数据!',
      qrCode: '二维码',
      copy: '内容已复制到剪切板！',
      copyError: '抱歉，复制失败！',
      sortWarning: '当前排序方法handleSortChange已经弃用，请重新保存该表单列表。',
      deleteWaring: '请选择要删除的数据!',
      deleteTip: '此操作将删除该文件, 是否继续?',
      cancelDelete: '已取消删除',
      deleteDataTip: '此操作将删除该数据, 是否继续?',
      notUrl: 'js中没有提供viewReportURLHandler方法来构建页面访问地址',
      notGetMenu: '未获取到{alias}对应的菜单页面，请确认是否已发布为前端资源。',
      pageJumpFail: '页面跳转失败',
      isChangeDataTip: '将会修改该数据，是否继续?',
      savaSuccess: '保存成功',
      savaFail: '保存失败',
      hasCancelOperate: '已取消该操作',
      selectLeastOneDataToOperate: '请至少选择一条数据进行操作!',
      notUpdate: '未设置更新内容',
      updateDataTip: '此操作将批量更新数据, 是否继续?',
      updateDataAllTip: '您没有选择任何数据，是否确认更新全部数据?',
      cancelUpdate: '已取消更新',
      selectOneDateTip: '请选择一条数据进行操作!',
      selectOneData: '您选择了多条数据，请选择其中一条进行操作!',
      copyTip: '此操作将复制一份数据, 是否继续?',
      copyLoadingText: '表单复制中',
      cancelCopy: '已取消复制',
      copyWaning: '请选择数据复制!',
      copyAllDataTip: '此操作将复制所选数据, 是否继续?',
      applicationSideNotConfigured: '应用端未配置',
      notConfigured: '中未配置',
      hasRevoke: '已撤回， 不能再撤回',
      revokeReason: '请输入撤回原因',
      deleteDraftSuccess: '删除草稿成功',
      deleteDraftTip: '删除后无法恢复，是否确定该流程草稿？',
      confirmDeleteTip: '确认删除此流程?',
      importSuccess: '导入成功',
      importAccount: '导入账号',
      importUser: '导入人'
    },
    templateTaskCirculate: {
      title: '流程传阅',
      circulators: '传阅人员',
      circulateExplain: '传阅说明',
      placeholder: '请输入意见内容......',
      approvalOpinion: '审批意见',
      addCommonWord: '添加常用语',
      commonWord: '常用语',
      uploadFile: '附件上传',
      validateErrorMsg: '表单校验不通过，请完善表单信息',
      confirmMsg: '确认添加 【{opinion}】 为常用语?'
    },
    linkage: {
      objectIsEmpty: '传入的对象为空或者不是VueComponent类型',
      typeError: '传入的对象{exp}为空，或者既不是Object类型也不是Array类型.',
      getFormError: '没有获取到控件所在的表单',
      appendValidationRulesError: '联动时要追加的验证规则{value}既不是String类型也不是Object类型',
      decreaseValidationRulesError: '联动时要减少的验证规则{value}既不是String类型也不是Object类型'
    },
    onlineHottable: {
      loadingText: '正在获取初始化信息...'
    },
    regionValidator: {
      errorMsg: '未找到选择器{querySelector}所对应的元素。'
    },
    validate: {
      jsError: 'js脚本执行错误'
    }
  }
});
// EXTERNAL MODULE: external "vue"
var external_vue_ = __webpack_require__("8bbf");
var external_vue_default = /*#__PURE__*/__webpack_require__.n(external_vue_);

// EXTERNAL MODULE: external "deepmerge"
var external_deepmerge_ = __webpack_require__("dab3");
var external_deepmerge_default = /*#__PURE__*/__webpack_require__.n(external_deepmerge_);

// CONCATENATED MODULE: ./src/locale/format.js
const format_hasOwnProperty = Object.prototype.hasOwnProperty;
const RE_NARGS = /(%|)\{([0-9a-zA-Z_]+)\}/g;
/**
 *  String format template
 *  - Inspired:
 *    https://github.com/Matt-Esch/string-template/index.js
 */
/* harmony default export */ var format = (function () {
  /**
   * template
   *
   * @param {String} string
   * @param {Array} ...args
   * @return {String}
   */

  function template(string, ...args) {
    if (args.length === 1 && typeof args[0] === 'object') {
      args = args[0];
    }
    if (!args || !args.hasOwnProperty) {
      args = {};
    }
    return string.replace(RE_NARGS, (match, prefix, i, index) => {
      let result;
      if (string[index - 1] === '{' && string[index + match.length] === '}') {
        return i;
      } else {
        result = format_hasOwnProperty.call(args, i) ? args[i] : null;
        if (result === null || result === undefined) {
          return '';
        }
        return result;
      }
    });
  }
  return template;
});
// CONCATENATED MODULE: ./src/locale/index.js




const locale_format = format(external_vue_default.a);
let lang = zh_CN;
let merged = false;
let i18nHandler = function () {
  const vuei18n = Object.getPrototypeOf(this || external_vue_default.a).$t;
  if (typeof vuei18n === 'function' && !!external_vue_default.a.locale) {
    if (!merged) {
      merged = true;
      external_vue_default.a.locale(external_vue_default.a.config.lang, external_deepmerge_default()(lang, external_vue_default.a.locale(external_vue_default.a.config.lang) || {}, {
        clone: true
      }));
    }
    return vuei18n.apply(this, arguments);
  }
};
const t = function (path, options) {
  let value = i18nHandler.apply(this, arguments);
  if (value !== null && value !== undefined) return value;
  const array = path.split('.');
  let current = lang;
  for (let i = 0, j = array.length; i < j; i++) {
    const property = array[i];
    value = current[property];
    if (i === j - 1) return locale_format(value, options);
    if (!value) return '';
    current = value;
  }
  return '';
};
const use = function (l) {
  lang = l || lang;
};
const i18n = function (fn) {
  i18nHandler = fn || i18nHandler;
};
/* harmony default export */ var locale = __webpack_exports__["a"] = ({
  use,
  t,
  i18n
});

/***/ }),

/***/ "ff71":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin

/***/ }),

/***/ "ff82":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin

/***/ }),

/***/ "ffa9":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin

/***/ }),

/***/ "ffdb":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_09089b10_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("2d16");
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_09089b10_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_id_09089b10_prod_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */


/***/ })

/******/ });